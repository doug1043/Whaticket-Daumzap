function a22_0x5297(){const _0x2f37e2=['FlowDuplicate','../services/FlowBuilderService/FlowsGetDataService','FlowDataUpdate','uploadFile','9054CCCzEA','files','json','FlowUploadAudio','No\x20File','updateFlow','(((.+)+)+)+$','constructor','118110yaVAJt','filename','../services/FlowBuilderService/UpdateFlowBuilderService','FlowUploadAll','flowbuilder','exist','2235191bvvFtu','search','FlowUploadImg','274932YMHoJW','../services/FlowBuilderService/FlowUpdateDataService','2880EmZEgD','../services/FlowBuilderService/ListFlowBuilderService','2893hdmkZY','../services/FlowBuilderService/DeleteFlowBuilderService','createFlow','5eYQjoz','FlowDataGetOne','body','flowOne','myFlows','../services/FlowBuilderService/GetFlowBuilderService','push','61663VNOMII','__importDefault','path','length','status','toString','21220ZkUFOV','1738888TimgGz','../services/FlowBuilderService/UploadAudioFlowBuilderService','__esModule','user','../services/StorageService/StorageService','params','mimetype','deleteFlow','default','../services/FlowBuilderService/DuplicateFlowBuilderService','22pPMcTB'];a22_0x5297=function(){return _0x2f37e2;};return a22_0x5297();}const a22_0x431e11=a22_0x49c8;(function(_0x47b5ec,_0x348848){const _0x320386=a22_0x49c8,_0x3b6e3d=_0x47b5ec();while(!![]){try{const _0x29d982=parseInt(_0x320386(0x1d9))/0x1+parseInt(_0x320386(0x1ea))/0x2*(parseInt(_0x320386(0x1f7))/0x3)+-parseInt(_0x320386(0x1e0))/0x4+parseInt(_0x320386(0x1d2))/0x5*(parseInt(_0x320386(0x200))/0x6)+parseInt(_0x320386(0x1fd))/0x7+-parseInt(_0x320386(0x1cd))/0x8*(-parseInt(_0x320386(0x1ef))/0x9)+parseInt(_0x320386(0x1df))/0xa*(-parseInt(_0x320386(0x1cf))/0xb);if(_0x29d982===_0x348848)break;else _0x3b6e3d['push'](_0x3b6e3d['shift']());}catch(_0x17f796){_0x3b6e3d['push'](_0x3b6e3d['shift']());}}}(a22_0x5297,0x37f64));const a22_0x242c4c=(function(){let _0x3f749f=!![];return function(_0x2ba01a,_0x5df27d){const _0x1cd994=_0x3f749f?function(){if(_0x5df27d){const _0x46b7b8=_0x5df27d['apply'](_0x2ba01a,arguments);return _0x5df27d=null,_0x46b7b8;}}:function(){};return _0x3f749f=![],_0x1cd994;};}()),a22_0x145148=a22_0x242c4c(this,function(){const _0x2c5252=a22_0x49c8;return a22_0x145148['toString']()[_0x2c5252(0x1fe)](_0x2c5252(0x1f5))[_0x2c5252(0x1de)]()[_0x2c5252(0x1f6)](a22_0x145148)['search'](_0x2c5252(0x1f5));});a22_0x145148();'use strict';var __importDefault=this&&this[a22_0x431e11(0x1da)]||function(_0x4f763d){const _0x96dc26=a22_0x431e11;return _0x4f763d&&_0x4f763d[_0x96dc26(0x1e2)]?_0x4f763d:{'default':_0x4f763d};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['FlowUploadAll']=exports[a22_0x431e11(0x1eb)]=exports[a22_0x431e11(0x1f2)]=exports[a22_0x431e11(0x1ff)]=exports['FlowDataGetOne']=exports[a22_0x431e11(0x1ed)]=exports[a22_0x431e11(0x1d5)]=exports['myFlows']=exports[a22_0x431e11(0x1e7)]=exports[a22_0x431e11(0x1f4)]=exports[a22_0x431e11(0x1d1)]=void 0x0;const ListFlowBuilderService_1=__importDefault(require(a22_0x431e11(0x1ce))),CreateFlowBuilderService_1=__importDefault(require('../services/FlowBuilderService/CreateFlowBuilderService')),UpdateFlowBuilderService_1=__importDefault(require(a22_0x431e11(0x1f9))),DeleteFlowBuilderService_1=__importDefault(require(a22_0x431e11(0x1d0))),GetFlowBuilderService_1=__importDefault(require(a22_0x431e11(0x1d7))),FlowUpdateDataService_1=__importDefault(require(a22_0x431e11(0x201))),FlowsGetDataService_1=__importDefault(require(a22_0x431e11(0x1ec))),UploadImgFlowBuilderService_1=__importDefault(require('../services/FlowBuilderService/UploadImgFlowBuilderService')),UploadAudioFlowBuilderService_1=__importDefault(require(a22_0x431e11(0x1e1))),DuplicateFlowBuilderService_1=__importDefault(require(a22_0x431e11(0x1e9))),UploadAllFlowBuilderService_1=__importDefault(require('../services/FlowBuilderService/UploadAllFlowBuilderService')),StorageService_1=__importDefault(require(a22_0x431e11(0x1e4))),createFlow=async(_0x3e048a,_0x7aafc6)=>{const _0x235fd8=a22_0x431e11,{name:_0x5983f0}=_0x3e048a[_0x235fd8(0x1d4)],_0x51a326=parseInt(_0x3e048a[_0x235fd8(0x1e3)]['id']),{companyId:_0x3318e2}=_0x3e048a[_0x235fd8(0x1e3)],_0x1a2cda=await(0x0,CreateFlowBuilderService_1[_0x235fd8(0x1e8)])({'userId':_0x51a326,'name':_0x5983f0,'companyId':_0x3318e2});if(_0x1a2cda===_0x235fd8(0x1fc))return _0x7aafc6[_0x235fd8(0x1dd)](0x192)[_0x235fd8(0x1f1)]('exist');return _0x7aafc6[_0x235fd8(0x1dd)](0xc8)['json'](_0x1a2cda);};exports['createFlow']=createFlow;const updateFlow=async(_0x109bb6,_0x3a109f)=>{const _0x546adb=a22_0x431e11,{companyId:_0x110d08}=_0x109bb6['user'],{flowId:_0x2c24f7,name:_0x262dda}=_0x109bb6[_0x546adb(0x1d4)],_0x5cdf40=await(0x0,UpdateFlowBuilderService_1[_0x546adb(0x1e8)])({'companyId':_0x110d08,'name':_0x262dda,'flowId':_0x2c24f7});if(_0x5cdf40===_0x546adb(0x1fc))return _0x3a109f['status'](0x192)['json']('exist');return _0x3a109f['status'](0xc8)[_0x546adb(0x1f1)](_0x5cdf40);};exports[a22_0x431e11(0x1f4)]=updateFlow;const deleteFlow=async(_0x5bdee1,_0x4b7de2)=>{const _0x47a692=a22_0x431e11,{idFlow:_0x3826bc}=_0x5bdee1[_0x47a692(0x1e5)],_0x21794d=parseInt(_0x3826bc),_0x566d2e=await(0x0,DeleteFlowBuilderService_1['default'])(_0x21794d);return _0x4b7de2['status'](0xc8)[_0x47a692(0x1f1)](_0x566d2e);};exports['deleteFlow']=deleteFlow;const myFlows=async(_0x101de0,_0x516a74)=>{const _0xbd36ee=a22_0x431e11,{companyId:_0x2b0034}=_0x101de0[_0xbd36ee(0x1e3)],_0x390b70=await(0x0,ListFlowBuilderService_1[_0xbd36ee(0x1e8)])({'companyId':_0x2b0034});return _0x516a74[_0xbd36ee(0x1dd)](0xc8)['json'](_0x390b70);};exports[a22_0x431e11(0x1d6)]=myFlows;const flowOne=async(_0x385c10,_0x4fafd3)=>{const _0x1edf81=a22_0x431e11,{idFlow:_0x327b78}=_0x385c10[_0x1edf81(0x1e5)],{companyId:_0x4a8cfe}=_0x385c10['user'],_0x2e10b7=parseInt(_0x327b78),_0x1ec26d=await(0x0,GetFlowBuilderService_1[_0x1edf81(0x1e8)])({'companyId':_0x4a8cfe,'idFlow':_0x2e10b7});return _0x4fafd3[_0x1edf81(0x1dd)](0xc8)['json'](_0x1ec26d);};exports[a22_0x431e11(0x1d5)]=flowOne;const FlowDataUpdate=async(_0x3c79ee,_0x39220e)=>{const _0x50b8bf=a22_0x431e11,_0x2615af=parseInt(_0x3c79ee['user']['id']),_0x4ad06b=_0x3c79ee[_0x50b8bf(0x1d4)],{companyId:_0x2c21a6}=_0x3c79ee[_0x50b8bf(0x1e3)],_0x31e2e1=Object['keys'](_0x4ad06b);console['log'](_0x31e2e1);const _0x549cb1=await(0x0,FlowUpdateDataService_1[_0x50b8bf(0x1e8)])({'companyId':_0x2c21a6,'bodyData':_0x4ad06b});return _0x39220e['status'](0xc8)[_0x50b8bf(0x1f1)](_0x549cb1);};exports[a22_0x431e11(0x1ed)]=FlowDataUpdate;const FlowDataGetOne=async(_0x6b762a,_0x3a398a)=>{const _0x568982=a22_0x431e11,{idFlow:_0x270e3c}=_0x6b762a[_0x568982(0x1e5)],{companyId:_0x4c2b61}=_0x6b762a[_0x568982(0x1e3)],_0x3c0f9e=parseInt(_0x270e3c),_0x87109a=await(0x0,FlowsGetDataService_1['default'])({'companyId':_0x4c2b61,'idFlow':_0x3c0f9e});return _0x3a398a[_0x568982(0x1dd)](0xc8)[_0x568982(0x1f1)](_0x87109a);};exports[a22_0x431e11(0x1d3)]=FlowDataGetOne;const FlowUploadImg=async(_0x4bf034,_0xf57cf1)=>{const _0xeb2652=a22_0x431e11,_0x5cf771=_0x4bf034[_0xeb2652(0x1f0)],{companyId:_0x5c4398}=_0x4bf034[_0xeb2652(0x1e3)],_0x522130=parseInt(_0x4bf034[_0xeb2652(0x1e3)]['id']),{flowId:_0x5b1854}=_0x4bf034[_0xeb2652(0x1d4)];if(_0x5cf771[_0xeb2652(0x1dc)]===0x0)return _0xf57cf1['status'](0x190)['json'](_0xeb2652(0x1f3));const _0x3d6eeb=_0x5cf771[0x0],{url:_0xa174d1}=await StorageService_1['default'][_0xeb2652(0x1ee)](_0x5c4398,_0xeb2652(0x1fb),_0x5b1854?_0x5b1854+'/'+_0x3d6eeb[_0xeb2652(0x1f8)]:_0x3d6eeb[_0xeb2652(0x1f8)],_0x3d6eeb[_0xeb2652(0x1db)],_0x3d6eeb[_0xeb2652(0x1e6)]),_0x426467=await(0x0,UploadImgFlowBuilderService_1[_0xeb2652(0x1e8)])({'userId':_0x522130,'name':_0xa174d1,'companyId':_0x5c4398});return _0xf57cf1[_0xeb2652(0x1dd)](0xc8)[_0xeb2652(0x1f1)](_0x426467);};exports[a22_0x431e11(0x1ff)]=FlowUploadImg;const FlowUploadAudio=async(_0x3c2403,_0x3da483)=>{const _0x5a59b3=a22_0x431e11,_0x51a6b6=_0x3c2403[_0x5a59b3(0x1f0)],{companyId:_0xbfe653}=_0x3c2403[_0x5a59b3(0x1e3)],_0xd7993a=parseInt(_0x3c2403['user']['id']),{flowId:_0x2027b5}=_0x3c2403[_0x5a59b3(0x1d4)];if(_0x51a6b6[_0x5a59b3(0x1dc)]===0x0)return _0x3da483[_0x5a59b3(0x1dd)](0x190)[_0x5a59b3(0x1f1)](_0x5a59b3(0x1f3));const _0x360395=_0x51a6b6[0x0],{url:_0x50bf8e}=await StorageService_1[_0x5a59b3(0x1e8)][_0x5a59b3(0x1ee)](_0xbfe653,_0x5a59b3(0x1fb),_0x2027b5?_0x2027b5+'/'+_0x360395['filename']:_0x360395['filename'],_0x360395[_0x5a59b3(0x1db)],_0x360395[_0x5a59b3(0x1e6)]),_0x1391c7=await(0x0,UploadAudioFlowBuilderService_1['default'])({'userId':_0xd7993a,'name':_0x50bf8e,'companyId':_0xbfe653});return _0x3da483[_0x5a59b3(0x1dd)](0xc8)[_0x5a59b3(0x1f1)](_0x1391c7);};exports['FlowUploadAudio']=FlowUploadAudio;const FlowDuplicate=async(_0x35bcc8,_0x348688)=>{const _0x24f27a=a22_0x431e11,{flowId:_0x5c2131}=_0x35bcc8[_0x24f27a(0x1d4)],_0x956e3d=await(0x0,DuplicateFlowBuilderService_1[_0x24f27a(0x1e8)])({'id':_0x5c2131});return _0x348688['status'](0xc8)[_0x24f27a(0x1f1)](_0x956e3d);};exports[a22_0x431e11(0x1eb)]=FlowDuplicate;const FlowUploadAll=async(_0x5570f8,_0x1621ed)=>{const _0x22fb58=a22_0x431e11,_0x564653=_0x5570f8[_0x22fb58(0x1f0)],{companyId:_0x31bf79}=_0x5570f8[_0x22fb58(0x1e3)],_0x408e2f=parseInt(_0x5570f8[_0x22fb58(0x1e3)]['id']),{flowId:_0x3add99}=_0x5570f8[_0x22fb58(0x1d4)];if(_0x564653['length']===0x0)return _0x1621ed[_0x22fb58(0x1dd)](0x190)['json']('No\x20File');const _0x511fa2=[];for(const _0x2ed590 of _0x564653){const {url:_0x2c195a}=await StorageService_1[_0x22fb58(0x1e8)][_0x22fb58(0x1ee)](_0x31bf79,'flowbuilder',_0x3add99?_0x3add99+'/'+_0x2ed590['filename']:_0x2ed590[_0x22fb58(0x1f8)],_0x2ed590[_0x22fb58(0x1db)],_0x2ed590[_0x22fb58(0x1e6)]);_0x511fa2[_0x22fb58(0x1d8)](_0x2c195a);}const _0x1843d9=await(0x0,UploadAllFlowBuilderService_1[_0x22fb58(0x1e8)])({'userId':_0x408e2f,'medias':_0x564653,'relativePaths':_0x511fa2,'companyId':_0x31bf79});return _0x1621ed[_0x22fb58(0x1dd)](0xc8)[_0x22fb58(0x1f1)](_0x1843d9);};function a22_0x49c8(_0x333d84,_0x529d30){const _0x2e7558=a22_0x5297();return a22_0x49c8=function(_0x145148,_0x242c4c){_0x145148=_0x145148-0x1cd;let _0x5297ee=_0x2e7558[_0x145148];return _0x5297ee;},a22_0x49c8(_0x333d84,_0x529d30);}exports[a22_0x431e11(0x1fa)]=FlowUploadAll;