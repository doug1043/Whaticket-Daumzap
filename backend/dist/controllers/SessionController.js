function a35_0x1396(_0x83c779,_0x10b017){const _0x20cf49=a35_0x4e4b();return a35_0x1396=function(_0x49c236,_0x1243ee){_0x49c236=_0x49c236-0xbb;let _0x4e4b12=_0x20cf49[_0x49c236];return _0x4e4b12;},a35_0x1396(_0x83c779,_0x10b017);}const a35_0xd8c42b=a35_0x1396;(function(_0x55bc96,_0x500f76){const _0xdba33=a35_0x1396,_0x1f3f66=_0x55bc96();while(!![]){try{const _0x20bea2=-parseInt(_0xdba33(0xd6))/0x1+parseInt(_0xdba33(0xc3))/0x2*(parseInt(_0xdba33(0xc1))/0x3)+parseInt(_0xdba33(0xd4))/0x4+parseInt(_0xdba33(0xcc))/0x5+parseInt(_0xdba33(0xd8))/0x6+-parseInt(_0xdba33(0xc2))/0x7+parseInt(_0xdba33(0xdb))/0x8;if(_0x20bea2===_0x500f76)break;else _0x1f3f66['push'](_0x1f3f66['shift']());}catch(_0x3c1f06){_0x1f3f66['push'](_0x1f3f66['shift']());}}}(a35_0x4e4b,0xd91ba));const a35_0x1243ee=(function(){let _0x153cd3=!![];return function(_0x25a7f7,_0x992bc5){const _0x401d0f=_0x153cd3?function(){const _0x3366a8=a35_0x1396;if(_0x992bc5){const _0x184068=_0x992bc5[_0x3366a8(0xcd)](_0x25a7f7,arguments);return _0x992bc5=null,_0x184068;}}:function(){};return _0x153cd3=![],_0x401d0f;};}()),a35_0x49c236=a35_0x1243ee(this,function(){const _0xaf1452=a35_0x1396;return a35_0x49c236[_0xaf1452(0xd0)]()[_0xaf1452(0xe0)](_0xaf1452(0xc7))[_0xaf1452(0xd0)]()[_0xaf1452(0xdd)](a35_0x49c236)[_0xaf1452(0xe0)](_0xaf1452(0xc7));});a35_0x49c236();'use strict';var __importDefault=this&&this[a35_0xd8c42b(0xda)]||function(_0x5687c1){const _0x5ea603=a35_0xd8c42b;return _0x5687c1&&_0x5687c1[_0x5ea603(0xdc)]?_0x5687c1:{'default':_0x5687c1};};Object[a35_0xd8c42b(0xce)](exports,a35_0xd8c42b(0xdc),{'value':!![]}),exports['remove']=exports['me']=exports[a35_0xd8c42b(0xbc)]=exports['store']=void 0x0;const AppError_1=__importDefault(require('../errors/AppError')),socket_1=require(a35_0xd8c42b(0xc0)),AuthUserService_1=__importDefault(require('../services/UserServices/AuthUserService')),SendRefreshToken_1=require(a35_0xd8c42b(0xca)),RefreshTokenService_1=require('../services/AuthServices/RefreshTokenService'),FindUserFromToken_1=__importDefault(require(a35_0xd8c42b(0xc9))),User_1=__importDefault(require(a35_0xd8c42b(0xbf))),store=async(_0x26d877,_0x581439)=>{const _0x3f306c=a35_0xd8c42b,{email:_0x5d42e6,password:_0xcc85de}=_0x26d877[_0x3f306c(0xbb)],{token:_0x14b514,serializedUser:_0x15e60e,refreshToken:_0x288866}=await(0x0,AuthUserService_1[_0x3f306c(0xd7)])({'email':_0x5d42e6,'password':_0xcc85de});(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x581439,_0x288866);const _0x52b5dd=(0x0,socket_1[_0x3f306c(0xdf)])();return _0x52b5dd['to']('company-'+_0x15e60e[_0x3f306c(0xbe)]+_0x3f306c(0xd9))['emit'](_0x3f306c(0xc5)+_0x15e60e['companyId']+_0x3f306c(0xcb),{'action':'update','user':{'id':_0x15e60e['id'],'email':_0x15e60e[_0x3f306c(0xcf)],'companyId':_0x15e60e['companyId']}}),_0x581439[_0x3f306c(0xde)](0xc8)[_0x3f306c(0xc8)]({'token':_0x14b514,'user':_0x15e60e});};exports[a35_0xd8c42b(0xc4)]=store;const update=async(_0x55988a,_0x3a861a)=>{const _0x68f513=a35_0xd8c42b,_0x3931c3=_0x55988a[_0x68f513(0xd2)]['jrt'];if(!_0x3931c3)throw new AppError_1[(_0x68f513(0xd7))]('ERR_SESSION_EXPIRED',0x191);const {user:_0x558645,newToken:_0x528802,refreshToken:_0x126458}=await(0x0,RefreshTokenService_1[_0x68f513(0xc6)])(_0x3a861a,_0x3931c3);return(0x0,SendRefreshToken_1[_0x68f513(0xbd)])(_0x3a861a,_0x126458),_0x3a861a[_0x68f513(0xc8)]({'token':_0x528802,'user':_0x558645});};exports[a35_0xd8c42b(0xbc)]=update;const me=async(_0xeedf54,_0x238a3a)=>{const _0x4aad1f=a35_0xd8c42b,_0x2b94f2=_0xeedf54[_0x4aad1f(0xd2)][_0x4aad1f(0xd1)],_0x2151c9=await(0x0,FindUserFromToken_1[_0x4aad1f(0xd7)])(_0x2b94f2),{id:_0x17bccf,profile:_0x1525e0,super:_0x40092e}=_0x2151c9;if(!_0x2b94f2)throw new AppError_1[(_0x4aad1f(0xd7))](_0x4aad1f(0xd3),0x191);return _0x238a3a[_0x4aad1f(0xc8)]({'id':_0x17bccf,'profile':_0x1525e0,'super':_0x40092e});};exports['me']=me;const remove=async(_0x1ba5a6,_0x564d9b)=>{const _0x1c91ab=a35_0xd8c42b,{id:_0x28a514}=_0x1ba5a6[_0x1c91ab(0xd5)],_0x1d9b5a=await User_1[_0x1c91ab(0xd7)]['findByPk'](_0x28a514);return await _0x1d9b5a[_0x1c91ab(0xbc)]({'online':![]}),_0x564d9b['clearCookie']('jrt'),_0x564d9b['send']();};exports['remove']=remove;function a35_0x4e4b(){const _0x41c4c2=['__importDefault','13041608VqrZlI','__esModule','constructor','status','getIO','search','body','update','SendRefreshToken','companyId','../models/User','../libs/socket','30LeSlBI','7164724XqTtnV','27396iGafOO','store','company-','RefreshTokenService','(((.+)+)+)+$','json','../services/AuthServices/FindUserFromToken','../helpers/SendRefreshToken','-auth','1482325uEiFgu','apply','defineProperty','email','toString','jrt','cookies','ERR_SESSION_EXPIRED','5807644kNNAxs','user','1657567hDWSbw','default','328896wWQImg','-mainchannel'];a35_0x4e4b=function(){return _0x41c4c2;};return a35_0x4e4b();}