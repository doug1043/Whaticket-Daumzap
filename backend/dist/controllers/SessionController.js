const a35_0x3ad38d=a35_0x3052;(function(_0x365025,_0x28504e){const _0x3f86bc=a35_0x3052,_0xe852c8=_0x365025();while(!![]){try{const _0x25fb1f=parseInt(_0x3f86bc(0xae))/0x1*(-parseInt(_0x3f86bc(0xa2))/0x2)+-parseInt(_0x3f86bc(0xb9))/0x3+parseInt(_0x3f86bc(0xb5))/0x4+-parseInt(_0x3f86bc(0xc2))/0x5+parseInt(_0x3f86bc(0xbf))/0x6+parseInt(_0x3f86bc(0xba))/0x7*(parseInt(_0x3f86bc(0xbc))/0x8)+-parseInt(_0x3f86bc(0xc4))/0x9*(-parseInt(_0x3f86bc(0xc0))/0xa);if(_0x25fb1f===_0x28504e)break;else _0xe852c8['push'](_0xe852c8['shift']());}catch(_0x18f31a){_0xe852c8['push'](_0xe852c8['shift']());}}}(a35_0x5ed3,0xcdbad));const a35_0x5b0f5b=(function(){let _0x48fa1c=!![];return function(_0x4401d3,_0x10e3ac){const _0x38a7e5=_0x48fa1c?function(){const _0x30ddd3=a35_0x3052;if(_0x10e3ac){const _0x3ba1c7=_0x10e3ac[_0x30ddd3(0xb3)](_0x4401d3,arguments);return _0x10e3ac=null,_0x3ba1c7;}}:function(){};return _0x48fa1c=![],_0x38a7e5;};}()),a35_0x5cbd54=a35_0x5b0f5b(this,function(){const _0x5b01f2=a35_0x3052;return a35_0x5cbd54['toString']()[_0x5b01f2(0xad)](_0x5b01f2(0xb2))[_0x5b01f2(0xc1)]()[_0x5b01f2(0xaf)](a35_0x5cbd54)[_0x5b01f2(0xad)]('(((.+)+)+)+$');});a35_0x5cbd54();'use strict';function a35_0x3052(_0x60810f,_0x550300){const _0xc85985=a35_0x5ed3();return a35_0x3052=function(_0x5cbd54,_0x5b0f5b){_0x5cbd54=_0x5cbd54-0xa0;let _0x5ed353=_0xc85985[_0x5cbd54];return _0x5ed353;},a35_0x3052(_0x60810f,_0x550300);}var __importDefault=this&&this[a35_0x3ad38d(0xac)]||function(_0x7f9a4a){const _0x4354f8=a35_0x3ad38d;return _0x7f9a4a&&_0x7f9a4a[_0x4354f8(0xa3)]?_0x7f9a4a:{'default':_0x7f9a4a};};Object[a35_0x3ad38d(0xb1)](exports,a35_0x3ad38d(0xa3),{'value':!![]}),exports[a35_0x3ad38d(0xa7)]=exports['me']=exports[a35_0x3ad38d(0xb4)]=exports['store']=void 0x0;const AppError_1=__importDefault(require(a35_0x3ad38d(0xb7))),socket_1=require('../libs/socket'),AuthUserService_1=__importDefault(require('../services/UserServices/AuthUserService')),SendRefreshToken_1=require('../helpers/SendRefreshToken'),RefreshTokenService_1=require(a35_0x3ad38d(0xa6)),FindUserFromToken_1=__importDefault(require(a35_0x3ad38d(0xa1))),User_1=__importDefault(require('../models/User')),store=async(_0x1424b0,_0x55a7d0)=>{const _0x3f772=a35_0x3ad38d,{email:_0xdb03c7,password:_0x44eadc}=_0x1424b0['body'],{token:_0x35d45b,serializedUser:_0x462ea6,refreshToken:_0x163ce3}=await(0x0,AuthUserService_1[_0x3f772(0xa0)])({'email':_0xdb03c7,'password':_0x44eadc});(0x0,SendRefreshToken_1[_0x3f772(0xab)])(_0x55a7d0,_0x163ce3);const _0x3fd848=(0x0,socket_1[_0x3f772(0xa8)])();return _0x3fd848['to'](_0x3f772(0xbb)+_0x462ea6['companyId']+_0x3f772(0xb8))['emit'](_0x3f772(0xbb)+_0x462ea6[_0x3f772(0xb0)]+_0x3f772(0xb6),{'action':_0x3f772(0xb4),'user':{'id':_0x462ea6['id'],'email':_0x462ea6[_0x3f772(0xa9)],'companyId':_0x462ea6['companyId']}}),_0x55a7d0[_0x3f772(0xc5)](0xc8)[_0x3f772(0xc3)]({'token':_0x35d45b,'user':_0x462ea6});};exports['store']=store;const update=async(_0x92d99b,_0xb21a35)=>{const _0x14468b=a35_0x3ad38d,_0x12ff3b=_0x92d99b['cookies'][_0x14468b(0xbe)];if(!_0x12ff3b)throw new AppError_1[(_0x14468b(0xa0))](_0x14468b(0xa5),0x191);const {user:_0x50ba11,newToken:_0x17ec38,refreshToken:_0x681a95}=await(0x0,RefreshTokenService_1[_0x14468b(0xc7)])(_0xb21a35,_0x12ff3b);return(0x0,SendRefreshToken_1[_0x14468b(0xab)])(_0xb21a35,_0x681a95),_0xb21a35[_0x14468b(0xc3)]({'token':_0x17ec38,'user':_0x50ba11});};exports['update']=update;const me=async(_0x2e70e8,_0x544c95)=>{const _0x3745cd=a35_0x3ad38d,_0x22ae00=_0x2e70e8[_0x3745cd(0xaa)][_0x3745cd(0xbe)],_0x1f2704=await(0x0,FindUserFromToken_1[_0x3745cd(0xa0)])(_0x22ae00),{id:_0x25482f,profile:_0x3127d9,super:_0x4bd2d9}=_0x1f2704;if(!_0x22ae00)throw new AppError_1[(_0x3745cd(0xa0))](_0x3745cd(0xa5),0x191);return _0x544c95['json']({'id':_0x25482f,'profile':_0x3127d9,'super':_0x4bd2d9});};function a35_0x5ed3(){const _0x4cfff6=['constructor','companyId','defineProperty','(((.+)+)+)+$','apply','update','2746208CdbtcV','-auth','../errors/AppError','-mainchannel','2143224PSYniA','29645tYcSfI','company-','2424bUZjev','user','jrt','5693700JhaRUW','3690wqaHWE','toString','3640975CnHiHB','json','981rknEHp','status','send','RefreshTokenService','default','../services/AuthServices/FindUserFromToken','24FodPOh','__esModule','findByPk','ERR_SESSION_EXPIRED','../services/AuthServices/RefreshTokenService','remove','getIO','email','cookies','SendRefreshToken','__importDefault','search','56138dEZQhs'];a35_0x5ed3=function(){return _0x4cfff6;};return a35_0x5ed3();}exports['me']=me;const remove=async(_0x285e96,_0x17c9ec)=>{const _0x38d1b6=a35_0x3ad38d,{id:_0x36835e}=_0x285e96[_0x38d1b6(0xbd)],_0x3e2cfc=await User_1['default'][_0x38d1b6(0xa4)](_0x36835e);return await _0x3e2cfc[_0x38d1b6(0xb4)]({'online':![]}),_0x17c9ec['clearCookie']('jrt'),_0x17c9ec[_0x38d1b6(0xc6)]();};exports[a35_0x3ad38d(0xa7)]=remove;