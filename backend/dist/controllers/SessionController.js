const a35_0x5d21d4=a35_0x311e;(function(_0x41803d,_0x8f4850){const _0x279648=a35_0x311e,_0x1c283d=_0x41803d();while(!![]){try{const _0xf6820b=parseInt(_0x279648(0x1dd))/0x1+-parseInt(_0x279648(0x1ce))/0x2*(-parseInt(_0x279648(0x1e0))/0x3)+-parseInt(_0x279648(0x1d2))/0x4+-parseInt(_0x279648(0x1cb))/0x5+-parseInt(_0x279648(0x1ed))/0x6+-parseInt(_0x279648(0x1df))/0x7+parseInt(_0x279648(0x1e5))/0x8;if(_0xf6820b===_0x8f4850)break;else _0x1c283d['push'](_0x1c283d['shift']());}catch(_0x38d46d){_0x1c283d['push'](_0x1c283d['shift']());}}}(a35_0x1913,0xbbb20));const a35_0x54b7ef=(function(){let _0x42787c=!![];return function(_0x2bd7ab,_0x3fe183){const _0x5d1e0e=_0x42787c?function(){const _0x58c8be=a35_0x311e;if(_0x3fe183){const _0x4d04cd=_0x3fe183[_0x58c8be(0x1d1)](_0x2bd7ab,arguments);return _0x3fe183=null,_0x4d04cd;}}:function(){};return _0x42787c=![],_0x5d1e0e;};}()),a35_0x17769f=a35_0x54b7ef(this,function(){const _0x2a5e13=a35_0x311e;return a35_0x17769f[_0x2a5e13(0x1d8)]()['search'](_0x2a5e13(0x1cd))[_0x2a5e13(0x1d8)]()[_0x2a5e13(0x1ea)](a35_0x17769f)[_0x2a5e13(0x1f1)]('(((.+)+)+)+$');});a35_0x17769f();'use strict';var __importDefault=this&&this[a35_0x5d21d4(0x1ee)]||function(_0x237472){const _0x1dcaa5=a35_0x5d21d4;return _0x237472&&_0x237472[_0x1dcaa5(0x1d0)]?_0x237472:{'default':_0x237472};};Object[a35_0x5d21d4(0x1ec)](exports,a35_0x5d21d4(0x1d0),{'value':!![]}),exports['remove']=exports['me']=exports[a35_0x5d21d4(0x1d6)]=exports['store']=void 0x0;const AppError_1=__importDefault(require('../errors/AppError')),socket_1=require(a35_0x5d21d4(0x1cf)),AuthUserService_1=__importDefault(require('../services/UserServices/AuthUserService')),SendRefreshToken_1=require(a35_0x5d21d4(0x1d3)),RefreshTokenService_1=require(a35_0x5d21d4(0x1e6)),FindUserFromToken_1=__importDefault(require('../services/AuthServices/FindUserFromToken')),User_1=__importDefault(require(a35_0x5d21d4(0x1de))),store=async(_0x12e7c6,_0x4067a8)=>{const _0xd98507=a35_0x5d21d4,{email:_0x33271b,password:_0x1b8c80}=_0x12e7c6[_0xd98507(0x1e1)],{token:_0x362cee,serializedUser:_0xf3d3db,refreshToken:_0x4d9783}=await(0x0,AuthUserService_1[_0xd98507(0x1e8)])({'email':_0x33271b,'password':_0x1b8c80});(0x0,SendRefreshToken_1[_0xd98507(0x1db)])(_0x4067a8,_0x4d9783);const _0x40a63d=(0x0,socket_1[_0xd98507(0x1e9)])();return _0x40a63d['to'](_0xd98507(0x1cc)+_0xf3d3db[_0xd98507(0x1e7)]+_0xd98507(0x1d5))[_0xd98507(0x1ef)](_0xd98507(0x1cc)+_0xf3d3db[_0xd98507(0x1e7)]+_0xd98507(0x1e4),{'action':_0xd98507(0x1d6),'user':{'id':_0xf3d3db['id'],'email':_0xf3d3db['email'],'companyId':_0xf3d3db[_0xd98507(0x1e7)]}}),_0x4067a8[_0xd98507(0x1dc)](0xc8)[_0xd98507(0x1d7)]({'token':_0x362cee,'user':_0xf3d3db});};function a35_0x311e(_0x348ea3,_0x43b262){const _0x34c015=a35_0x1913();return a35_0x311e=function(_0x17769f,_0x54b7ef){_0x17769f=_0x17769f-0x1cb;let _0x191382=_0x34c015[_0x17769f];return _0x191382;},a35_0x311e(_0x348ea3,_0x43b262);}exports[a35_0x5d21d4(0x1eb)]=store;const update=async(_0x7dff95,_0x4811ad)=>{const _0x406ed5=a35_0x5d21d4,_0x41467b=_0x7dff95[_0x406ed5(0x1f2)][_0x406ed5(0x1da)];if(!_0x41467b)throw new AppError_1['default']('ERR_SESSION_EXPIRED',0x191);const {user:_0x4ee917,newToken:_0x389238,refreshToken:_0x5a6c59}=await(0x0,RefreshTokenService_1[_0x406ed5(0x1d9)])(_0x4811ad,_0x41467b);return(0x0,SendRefreshToken_1[_0x406ed5(0x1db)])(_0x4811ad,_0x5a6c59),_0x4811ad[_0x406ed5(0x1d7)]({'token':_0x389238,'user':_0x4ee917});};exports[a35_0x5d21d4(0x1d6)]=update;const me=async(_0xe045f8,_0x11bb41)=>{const _0x26e97b=a35_0x5d21d4,_0x4ff763=_0xe045f8[_0x26e97b(0x1f2)][_0x26e97b(0x1da)],_0x15190f=await(0x0,FindUserFromToken_1[_0x26e97b(0x1e8)])(_0x4ff763),{id:_0x5dd669,profile:_0x4a6c47,super:_0x1b5773}=_0x15190f;if(!_0x4ff763)throw new AppError_1['default'](_0x26e97b(0x1f0),0x191);return _0x11bb41[_0x26e97b(0x1d7)]({'id':_0x5dd669,'profile':_0x4a6c47,'super':_0x1b5773});};function a35_0x1913(){const _0x43354b=['defineProperty','8544216sqQeKI','__importDefault','emit','ERR_SESSION_EXPIRED','search','cookies','3543120SvfXcf','company-','(((.+)+)+)+$','38McZOSK','../libs/socket','__esModule','apply','5368920kEqiYE','../helpers/SendRefreshToken','user','-mainchannel','update','json','toString','RefreshTokenService','jrt','SendRefreshToken','status','1209735GJzrJB','../models/User','1830220CrVsKG','148377iaPDbg','body','clearCookie','findByPk','-auth','18845552SOXigu','../services/AuthServices/RefreshTokenService','companyId','default','getIO','constructor','store'];a35_0x1913=function(){return _0x43354b;};return a35_0x1913();}exports['me']=me;const remove=async(_0x576071,_0x2ffe24)=>{const _0x253b84=a35_0x5d21d4,{id:_0x3ed718}=_0x576071[_0x253b84(0x1d4)],_0xf96451=await User_1['default'][_0x253b84(0x1e3)](_0x3ed718);return await _0xf96451[_0x253b84(0x1d6)]({'online':![]}),_0x2ffe24[_0x253b84(0x1e2)]('jrt'),_0x2ffe24['send']();};exports['remove']=remove;