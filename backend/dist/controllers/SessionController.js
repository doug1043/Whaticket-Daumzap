const a35_0x1a54d6=a35_0x4229;(function(_0x17ff43,_0x22fd86){const _0x4cb6e2=a35_0x4229,_0x3a04b8=_0x17ff43();while(!![]){try{const _0x5f4f0e=-parseInt(_0x4cb6e2(0xcb))/0x1*(-parseInt(_0x4cb6e2(0xb0))/0x2)+parseInt(_0x4cb6e2(0xbb))/0x3+parseInt(_0x4cb6e2(0xd6))/0x4*(parseInt(_0x4cb6e2(0xc7))/0x5)+-parseInt(_0x4cb6e2(0xaa))/0x6*(parseInt(_0x4cb6e2(0xae))/0x7)+-parseInt(_0x4cb6e2(0xb1))/0x8*(parseInt(_0x4cb6e2(0xac))/0x9)+-parseInt(_0x4cb6e2(0xb2))/0xa*(parseInt(_0x4cb6e2(0xd2))/0xb)+parseInt(_0x4cb6e2(0xbd))/0xc;if(_0x5f4f0e===_0x22fd86)break;else _0x3a04b8['push'](_0x3a04b8['shift']());}catch(_0x37fade){_0x3a04b8['push'](_0x3a04b8['shift']());}}}(a35_0x3207,0x907c7));function a35_0x4229(_0x1b176f,_0x16e8b6){const _0x2e64a5=a35_0x3207();return a35_0x4229=function(_0x3ed883,_0xa85fc0){_0x3ed883=_0x3ed883-0xaa;let _0x3207e5=_0x2e64a5[_0x3ed883];return _0x3207e5;},a35_0x4229(_0x1b176f,_0x16e8b6);}const a35_0xa85fc0=(function(){let _0x19ecf9=!![];return function(_0x58764b,_0x347693){const _0x405fff=_0x19ecf9?function(){const _0x2369b9=a35_0x4229;if(_0x347693){const _0x24dd04=_0x347693[_0x2369b9(0xad)](_0x58764b,arguments);return _0x347693=null,_0x24dd04;}}:function(){};return _0x19ecf9=![],_0x405fff;};}()),a35_0x3ed883=a35_0xa85fc0(this,function(){const _0x266562=a35_0x4229;return a35_0x3ed883[_0x266562(0xb6)]()[_0x266562(0xd3)](_0x266562(0xb7))['toString']()[_0x266562(0xce)](a35_0x3ed883)['search']('(((.+)+)+)+$');});a35_0x3ed883();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x51ab6e){const _0x2e384f=a35_0x4229;return _0x51ab6e&&_0x51ab6e[_0x2e384f(0xd5)]?_0x51ab6e:{'default':_0x51ab6e};};Object['defineProperty'](exports,a35_0x1a54d6(0xd5),{'value':!![]}),exports['remove']=exports['me']=exports[a35_0x1a54d6(0xc2)]=exports['store']=void 0x0;const AppError_1=__importDefault(require(a35_0x1a54d6(0xb4))),socket_1=require(a35_0x1a54d6(0xbc)),AuthUserService_1=__importDefault(require(a35_0x1a54d6(0xb3))),SendRefreshToken_1=require('../helpers/SendRefreshToken'),RefreshTokenService_1=require(a35_0x1a54d6(0xd7)),FindUserFromToken_1=__importDefault(require(a35_0x1a54d6(0xc0))),User_1=__importDefault(require(a35_0x1a54d6(0xc8))),store=async(_0x40c5db,_0x4382df)=>{const _0x16b8e5=a35_0x1a54d6,{email:_0x507b51,password:_0x3993c8}=_0x40c5db[_0x16b8e5(0xc3)],{token:_0x37eaf4,serializedUser:_0x50ef45,refreshToken:_0x3fc525}=await(0x0,AuthUserService_1[_0x16b8e5(0xb8)])({'email':_0x507b51,'password':_0x3993c8});(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x4382df,_0x3fc525);const _0x4cddff=(0x0,socket_1[_0x16b8e5(0xbf)])();return _0x4cddff['to'](_0x16b8e5(0xbe)+_0x50ef45['companyId']+_0x16b8e5(0xb9))[_0x16b8e5(0xcf)]('company-'+_0x50ef45[_0x16b8e5(0xab)]+_0x16b8e5(0xc5),{'action':'update','user':{'id':_0x50ef45['id'],'email':_0x50ef45[_0x16b8e5(0xcc)],'companyId':_0x50ef45[_0x16b8e5(0xab)]}}),_0x4382df[_0x16b8e5(0xd4)](0xc8)[_0x16b8e5(0xd1)]({'token':_0x37eaf4,'user':_0x50ef45});};exports[a35_0x1a54d6(0xba)]=store;const update=async(_0x4c0128,_0x5c3eb2)=>{const _0x15e87a=a35_0x1a54d6,_0x5b4c23=_0x4c0128['cookies'][_0x15e87a(0xca)];if(!_0x5b4c23)throw new AppError_1[(_0x15e87a(0xb8))](_0x15e87a(0xc6),0x191);const {user:_0x4011eb,newToken:_0x2260d4,refreshToken:_0x3f53ec}=await(0x0,RefreshTokenService_1[_0x15e87a(0xd0)])(_0x5c3eb2,_0x5b4c23);return(0x0,SendRefreshToken_1[_0x15e87a(0xc1)])(_0x5c3eb2,_0x3f53ec),_0x5c3eb2['json']({'token':_0x2260d4,'user':_0x4011eb});};exports['update']=update;const me=async(_0x3da37f,_0x36e8ad)=>{const _0x3ce301=a35_0x1a54d6,_0x430deb=_0x3da37f[_0x3ce301(0xcd)][_0x3ce301(0xca)],_0x2a330b=await(0x0,FindUserFromToken_1[_0x3ce301(0xb8)])(_0x430deb),{id:_0x2869ed,profile:_0x356975,super:_0x464476}=_0x2a330b;if(!_0x430deb)throw new AppError_1[(_0x3ce301(0xb8))](_0x3ce301(0xc6),0x191);return _0x36e8ad[_0x3ce301(0xd1)]({'id':_0x2869ed,'profile':_0x356975,'super':_0x464476});};exports['me']=me;const remove=async(_0x26848c,_0x2fa432)=>{const _0x288236=a35_0x1a54d6,{id:_0x3c5b32}=_0x26848c['user'],_0x3ecfa0=await User_1[_0x288236(0xb8)][_0x288236(0xb5)](_0x3c5b32);return await _0x3ecfa0[_0x288236(0xc2)]({'online':![]}),_0x2fa432[_0x288236(0xc4)](_0x288236(0xca)),_0x2fa432[_0x288236(0xaf)]();};exports[a35_0x1a54d6(0xc9)]=remove;function a35_0x3207(){const _0x185c4f=['11KqtoEe','search','status','__esModule','565100tzZsOf','../services/AuthServices/RefreshTokenService','14682rKOUZS','companyId','36EOmYlU','apply','1379XQQbgP','send','138496OqqUAL','1135256wNtqTW','7371290wfoxYD','../services/UserServices/AuthUserService','../errors/AppError','findByPk','toString','(((.+)+)+)+$','default','-mainchannel','store','228747KzyXOU','../libs/socket','20880732KwHeYH','company-','getIO','../services/AuthServices/FindUserFromToken','SendRefreshToken','update','body','clearCookie','-auth','ERR_SESSION_EXPIRED','15BvBJKi','../models/User','remove','jrt','2uHxsMw','email','cookies','constructor','emit','RefreshTokenService','json'];a35_0x3207=function(){return _0x185c4f;};return a35_0x3207();}