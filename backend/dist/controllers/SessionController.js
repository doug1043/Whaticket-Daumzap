const a35_0x447b10=a35_0x559b;(function(_0x46fd9f,_0x14292d){const _0x55cfb5=a35_0x559b,_0xaacccd=_0x46fd9f();while(!![]){try{const _0x504e52=-parseInt(_0x55cfb5(0x1a1))/0x1*(-parseInt(_0x55cfb5(0x197))/0x2)+-parseInt(_0x55cfb5(0x199))/0x3+parseInt(_0x55cfb5(0x1a0))/0x4+parseInt(_0x55cfb5(0x1b0))/0x5*(parseInt(_0x55cfb5(0x1b1))/0x6)+parseInt(_0x55cfb5(0x1a2))/0x7*(parseInt(_0x55cfb5(0x196))/0x8)+parseInt(_0x55cfb5(0x1a3))/0x9+-parseInt(_0x55cfb5(0x198))/0xa;if(_0x504e52===_0x14292d)break;else _0xaacccd['push'](_0xaacccd['shift']());}catch(_0x58b301){_0xaacccd['push'](_0xaacccd['shift']());}}}(a35_0x47c8,0x55b1c));const a35_0x29d811=(function(){let _0xcea39d=!![];return function(_0x259406,_0x35ecf0){const _0x1aeb6a=_0xcea39d?function(){const _0x4280fd=a35_0x559b;if(_0x35ecf0){const _0x532cc8=_0x35ecf0[_0x4280fd(0x19e)](_0x259406,arguments);return _0x35ecf0=null,_0x532cc8;}}:function(){};return _0xcea39d=![],_0x1aeb6a;};}()),a35_0x306948=a35_0x29d811(this,function(){const _0x480a28=a35_0x559b;return a35_0x306948[_0x480a28(0x1b8)]()['search'](_0x480a28(0x195))[_0x480a28(0x1b8)]()[_0x480a28(0x1a5)](a35_0x306948)[_0x480a28(0x192)](_0x480a28(0x195));});a35_0x306948();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4cf7e4){return _0x4cf7e4&&_0x4cf7e4['__esModule']?_0x4cf7e4:{'default':_0x4cf7e4};};Object[a35_0x447b10(0x1b9)](exports,a35_0x447b10(0x19a),{'value':!![]}),exports[a35_0x447b10(0x1a9)]=exports['me']=exports[a35_0x447b10(0x193)]=exports[a35_0x447b10(0x1a4)]=void 0x0;function a35_0x559b(_0x5576a4,_0x4a0951){const _0x3bca8d=a35_0x47c8();return a35_0x559b=function(_0x306948,_0x29d811){_0x306948=_0x306948-0x18f;let _0x47c86d=_0x3bca8d[_0x306948];return _0x47c86d;},a35_0x559b(_0x5576a4,_0x4a0951);}const AppError_1=__importDefault(require(a35_0x447b10(0x19b))),socket_1=require(a35_0x447b10(0x1b3)),AuthUserService_1=__importDefault(require('../services/UserServices/AuthUserService')),SendRefreshToken_1=require(a35_0x447b10(0x19c)),RefreshTokenService_1=require(a35_0x447b10(0x1aa)),FindUserFromToken_1=__importDefault(require(a35_0x447b10(0x191))),User_1=__importDefault(require(a35_0x447b10(0x1b6))),store=async(_0x5ca15c,_0x655d74)=>{const _0x1c8820=a35_0x447b10,{email:_0x2d99f5,password:_0x100dd5}=_0x5ca15c[_0x1c8820(0x1af)],{token:_0x32eac6,serializedUser:_0x120b2f,refreshToken:_0x4c996c}=await(0x0,AuthUserService_1[_0x1c8820(0x1ae)])({'email':_0x2d99f5,'password':_0x100dd5});(0x0,SendRefreshToken_1[_0x1c8820(0x1b7)])(_0x655d74,_0x4c996c);const _0x410edf=(0x0,socket_1[_0x1c8820(0x19d)])();return _0x410edf['to']('company-'+_0x120b2f[_0x1c8820(0x1ac)]+_0x1c8820(0x1b5))[_0x1c8820(0x1a8)]('company-'+_0x120b2f[_0x1c8820(0x1ac)]+_0x1c8820(0x190),{'action':_0x1c8820(0x193),'user':{'id':_0x120b2f['id'],'email':_0x120b2f[_0x1c8820(0x194)],'companyId':_0x120b2f[_0x1c8820(0x1ac)]}}),_0x655d74[_0x1c8820(0x1ab)](0xc8)[_0x1c8820(0x1a6)]({'token':_0x32eac6,'user':_0x120b2f});};exports[a35_0x447b10(0x1a4)]=store;const update=async(_0x367afe,_0x42099e)=>{const _0x10b864=a35_0x447b10,_0x342dea=_0x367afe[_0x10b864(0x1a7)]['jrt'];if(!_0x342dea)throw new AppError_1[(_0x10b864(0x1ae))](_0x10b864(0x1b4),0x191);const {user:_0x2eab13,newToken:_0x149cc1,refreshToken:_0x54904c}=await(0x0,RefreshTokenService_1[_0x10b864(0x19f)])(_0x42099e,_0x342dea);return(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x42099e,_0x54904c),_0x42099e[_0x10b864(0x1a6)]({'token':_0x149cc1,'user':_0x2eab13});};exports[a35_0x447b10(0x193)]=update;const me=async(_0x349166,_0x25f40c)=>{const _0x29490d=a35_0x447b10,_0x22eb6b=_0x349166['cookies']['jrt'],_0x27f753=await(0x0,FindUserFromToken_1['default'])(_0x22eb6b),{id:_0x12ddb6,profile:_0x5539f0,super:_0x488a6d}=_0x27f753;if(!_0x22eb6b)throw new AppError_1[(_0x29490d(0x1ae))](_0x29490d(0x1b4),0x191);return _0x25f40c['json']({'id':_0x12ddb6,'profile':_0x5539f0,'super':_0x488a6d});};exports['me']=me;const remove=async(_0x44adb8,_0x34f727)=>{const _0x343090=a35_0x447b10,{id:_0x25c6b1}=_0x44adb8[_0x343090(0x1ad)],_0x15db3f=await User_1[_0x343090(0x1ae)][_0x343090(0x1b2)](_0x25c6b1);return await _0x15db3f[_0x343090(0x193)]({'online':![]}),_0x34f727[_0x343090(0x18f)]('jrt'),_0x34f727['send']();};exports[a35_0x447b10(0x1a9)]=remove;function a35_0x47c8(){const _0x1c4915=['body','6430XTmsKU','240uVAiYy','findByPk','../libs/socket','ERR_SESSION_EXPIRED','-mainchannel','../models/User','SendRefreshToken','toString','defineProperty','clearCookie','-auth','../services/AuthServices/FindUserFromToken','search','update','email','(((.+)+)+)+$','4217344YuhqcF','408692HFVADt','8725660zocgOP','523578rqMbRk','__esModule','../errors/AppError','../helpers/SendRefreshToken','getIO','apply','RefreshTokenService','1111468xURlSC','2AvMXHF','7jnOAhT','1196361pzGYlk','store','constructor','json','cookies','emit','remove','../services/AuthServices/RefreshTokenService','status','companyId','user','default'];a35_0x47c8=function(){return _0x1c4915;};return a35_0x47c8();}