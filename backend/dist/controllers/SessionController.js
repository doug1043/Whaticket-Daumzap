const a35_0x3b0909=a35_0x4a18;(function(_0xec7a3c,_0x28f1eb){const _0x42bbf0=a35_0x4a18,_0xa79479=_0xec7a3c();while(!![]){try{const _0x479c62=-parseInt(_0x42bbf0(0x1b3))/0x1+-parseInt(_0x42bbf0(0x1b7))/0x2+-parseInt(_0x42bbf0(0x1ba))/0x3+-parseInt(_0x42bbf0(0x1c2))/0x4*(parseInt(_0x42bbf0(0x1c0))/0x5)+parseInt(_0x42bbf0(0x1c4))/0x6+parseInt(_0x42bbf0(0x1aa))/0x7+parseInt(_0x42bbf0(0x1c5))/0x8;if(_0x479c62===_0x28f1eb)break;else _0xa79479['push'](_0xa79479['shift']());}catch(_0x208341){_0xa79479['push'](_0xa79479['shift']());}}}(a35_0x2e11,0x789ae));const a35_0x3ffe41=(function(){let _0x4352e6=!![];return function(_0x1c1cde,_0x3376b0){const _0x198c2b=_0x4352e6?function(){const _0x51d7fe=a35_0x4a18;if(_0x3376b0){const _0x9a8272=_0x3376b0[_0x51d7fe(0x1af)](_0x1c1cde,arguments);return _0x3376b0=null,_0x9a8272;}}:function(){};return _0x4352e6=![],_0x198c2b;};}()),a35_0x83e8cd=a35_0x3ffe41(this,function(){const _0xe481f3=a35_0x4a18;return a35_0x83e8cd[_0xe481f3(0x1b9)]()[_0xe481f3(0x1be)](_0xe481f3(0x1b5))[_0xe481f3(0x1b9)]()['constructor'](a35_0x83e8cd)[_0xe481f3(0x1be)](_0xe481f3(0x1b5));});a35_0x83e8cd();function a35_0x4a18(_0x30ae01,_0xc11e35){const _0x48ae50=a35_0x2e11();return a35_0x4a18=function(_0x83e8cd,_0x3ffe41){_0x83e8cd=_0x83e8cd-0x1a2;let _0x2e11a1=_0x48ae50[_0x83e8cd];return _0x2e11a1;},a35_0x4a18(_0x30ae01,_0xc11e35);}'use strict';var __importDefault=this&&this[a35_0x3b0909(0x1b2)]||function(_0x360473){const _0x44bb02=a35_0x3b0909;return _0x360473&&_0x360473[_0x44bb02(0x1bb)]?_0x360473:{'default':_0x360473};};Object['defineProperty'](exports,a35_0x3b0909(0x1bb),{'value':!![]}),exports[a35_0x3b0909(0x1c3)]=exports['me']=exports[a35_0x3b0909(0x1a6)]=exports[a35_0x3b0909(0x1a8)]=void 0x0;const AppError_1=__importDefault(require('../errors/AppError')),socket_1=require('../libs/socket'),AuthUserService_1=__importDefault(require(a35_0x3b0909(0x1b8))),SendRefreshToken_1=require(a35_0x3b0909(0x1b4)),RefreshTokenService_1=require('../services/AuthServices/RefreshTokenService'),FindUserFromToken_1=__importDefault(require('../services/AuthServices/FindUserFromToken')),User_1=__importDefault(require(a35_0x3b0909(0x1ad))),store=async(_0x3c64f3,_0x1dcd3a)=>{const _0x3ddb93=a35_0x3b0909,{email:_0x2ac647,password:_0x154c87}=_0x3c64f3['body'],{token:_0x53767d,serializedUser:_0x53e391,refreshToken:_0x2548ad}=await(0x0,AuthUserService_1[_0x3ddb93(0x1ac)])({'email':_0x2ac647,'password':_0x154c87});(0x0,SendRefreshToken_1[_0x3ddb93(0x1b0)])(_0x1dcd3a,_0x2548ad);const _0x53bc81=(0x0,socket_1[_0x3ddb93(0x1a4)])();return _0x53bc81['to']('company-'+_0x53e391['companyId']+_0x3ddb93(0x1c6))[_0x3ddb93(0x1a7)](_0x3ddb93(0x1b6)+_0x53e391[_0x3ddb93(0x1a3)]+_0x3ddb93(0x1a2),{'action':_0x3ddb93(0x1a6),'user':{'id':_0x53e391['id'],'email':_0x53e391[_0x3ddb93(0x1b1)],'companyId':_0x53e391[_0x3ddb93(0x1a3)]}}),_0x1dcd3a[_0x3ddb93(0x1bd)](0xc8)['json']({'token':_0x53767d,'user':_0x53e391});};exports[a35_0x3b0909(0x1a8)]=store;const update=async(_0x105a64,_0x5dc330)=>{const _0x39d427=a35_0x3b0909,_0x21305b=_0x105a64['cookies'][_0x39d427(0x1bc)];if(!_0x21305b)throw new AppError_1[(_0x39d427(0x1ac))](_0x39d427(0x1a5),0x191);const {user:_0x479f9f,newToken:_0x1d0ce9,refreshToken:_0x2ed0aa}=await(0x0,RefreshTokenService_1['RefreshTokenService'])(_0x5dc330,_0x21305b);return(0x0,SendRefreshToken_1[_0x39d427(0x1b0)])(_0x5dc330,_0x2ed0aa),_0x5dc330[_0x39d427(0x1c7)]({'token':_0x1d0ce9,'user':_0x479f9f});};exports[a35_0x3b0909(0x1a6)]=update;const me=async(_0x42866b,_0x410cf5)=>{const _0x1c7533=a35_0x3b0909,_0x2fa4e8=_0x42866b[_0x1c7533(0x1bf)][_0x1c7533(0x1bc)],_0x4e4025=await(0x0,FindUserFromToken_1[_0x1c7533(0x1ac)])(_0x2fa4e8),{id:_0x26121b,profile:_0x3379e5,super:_0x4e183e}=_0x4e4025;if(!_0x2fa4e8)throw new AppError_1['default'](_0x1c7533(0x1a5),0x191);return _0x410cf5[_0x1c7533(0x1c7)]({'id':_0x26121b,'profile':_0x3379e5,'super':_0x4e183e});};exports['me']=me;const remove=async(_0x507bac,_0x4317e4)=>{const _0x52c28e=a35_0x3b0909,{id:_0x46a8d1}=_0x507bac[_0x52c28e(0x1ae)],_0x29e33f=await User_1[_0x52c28e(0x1ac)][_0x52c28e(0x1ab)](_0x46a8d1);return await _0x29e33f['update']({'online':![]}),_0x4317e4[_0x52c28e(0x1c1)]('jrt'),_0x4317e4[_0x52c28e(0x1a9)]();};function a35_0x2e11(){const _0x28477b=['-auth','companyId','getIO','ERR_SESSION_EXPIRED','update','emit','store','send','693091MnuuIO','findByPk','default','../models/User','user','apply','SendRefreshToken','email','__importDefault','940001wNrvAa','../helpers/SendRefreshToken','(((.+)+)+)+$','company-','709772UtMZdc','../services/UserServices/AuthUserService','toString','2768058tXiSKS','__esModule','jrt','status','search','cookies','395HfwsgV','clearCookie','3076ldopEQ','remove','2608116gNkpMd','17908984cTFynT','-mainchannel','json'];a35_0x2e11=function(){return _0x28477b;};return a35_0x2e11();}exports['remove']=remove;