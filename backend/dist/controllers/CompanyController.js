'use strict';const a12_0x3a0dc5=a12_0xc654;(function(_0xda4076,_0x1943dd){const _0x49857f=a12_0xc654,_0x40ae85=_0xda4076();while(!![]){try{const _0x376f23=parseInt(_0x49857f(0x1e2))/0x1*(-parseInt(_0x49857f(0x1e9))/0x2)+-parseInt(_0x49857f(0x1eb))/0x3+parseInt(_0x49857f(0x201))/0x4+parseInt(_0x49857f(0x1dd))/0x5*(-parseInt(_0x49857f(0x21f))/0x6)+parseInt(_0x49857f(0x214))/0x7*(parseInt(_0x49857f(0x225))/0x8)+-parseInt(_0x49857f(0x21b))/0x9+parseInt(_0x49857f(0x21a))/0xa*(parseInt(_0x49857f(0x213))/0xb);if(_0x376f23===_0x1943dd)break;else _0x40ae85['push'](_0x40ae85['shift']());}catch(_0x4bfea1){_0x40ae85['push'](_0x40ae85['shift']());}}}(a12_0x3c24,0xbe67c));var __createBinding=this&&this[a12_0x3a0dc5(0x20b)]||(Object['create']?function(_0x1515f7,_0x8687b8,_0x15230d,_0x3dc451){const _0x270be7=a12_0x3a0dc5;if(_0x3dc451===undefined)_0x3dc451=_0x15230d;var _0x3e5201=Object['getOwnPropertyDescriptor'](_0x8687b8,_0x15230d);(!_0x3e5201||(_0x270be7(0x215)in _0x3e5201?!_0x8687b8[_0x270be7(0x224)]:_0x3e5201['writable']||_0x3e5201[_0x270be7(0x1f9)]))&&(_0x3e5201={'enumerable':!![],'get':function(){return _0x8687b8[_0x15230d];}}),Object[_0x270be7(0x20f)](_0x1515f7,_0x3dc451,_0x3e5201);}:function(_0x2f4875,_0x3120cc,_0x5e30f1,_0x192d5f){if(_0x192d5f===undefined)_0x192d5f=_0x5e30f1;_0x2f4875[_0x192d5f]=_0x3120cc[_0x5e30f1];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x14b6fd,_0x518d83){const _0x2e4bbd=a12_0x3a0dc5;Object[_0x2e4bbd(0x20f)](_0x14b6fd,_0x2e4bbd(0x1d0),{'enumerable':!![],'value':_0x518d83});}:function(_0x3d2014,_0x4acc50){const _0x573d58=a12_0x3a0dc5;_0x3d2014[_0x573d58(0x1d0)]=_0x4acc50;}),__importStar=this&&this['__importStar']||(function(){const _0xaffb59=(function(){let _0x1b6b78=!![];return function(_0x517ca6,_0x38692c){const _0x678c90=_0x1b6b78?function(){const _0x216fe1=a12_0xc654;if(_0x38692c){const _0x5819fe=_0x38692c[_0x216fe1(0x212)](_0x517ca6,arguments);return _0x38692c=null,_0x5819fe;}}:function(){};return _0x1b6b78=![],_0x678c90;};}()),_0x379385=_0xaffb59(this,function(){const _0x2929ed=a12_0xc654;return _0x379385[_0x2929ed(0x1d4)]()['search'](_0x2929ed(0x209))[_0x2929ed(0x1d4)]()[_0x2929ed(0x1f8)](_0x379385)[_0x2929ed(0x1d1)]('(((.+)+)+)+$');});_0x379385();var _0x55cfa4=function(_0x56e8b2){return _0x55cfa4=Object['getOwnPropertyNames']||function(_0x1b969b){const _0x3095f5=a12_0xc654;var _0x2f459f=[];for(var _0x220908 in _0x1b969b)if(Object['prototype'][_0x3095f5(0x1ed)]['call'](_0x1b969b,_0x220908))_0x2f459f[_0x2f459f[_0x3095f5(0x219)]]=_0x220908;return _0x2f459f;},_0x55cfa4(_0x56e8b2);};return function(_0x11411a){const _0x344d0e=a12_0xc654;if(_0x11411a&&_0x11411a[_0x344d0e(0x224)])return _0x11411a;var _0x210830={};if(_0x11411a!=null){for(var _0x3a33a0=_0x55cfa4(_0x11411a),_0x26d14e=0x0;_0x26d14e<_0x3a33a0[_0x344d0e(0x219)];_0x26d14e++)if(_0x3a33a0[_0x26d14e]!==_0x344d0e(0x1d0))__createBinding(_0x210830,_0x11411a,_0x3a33a0[_0x26d14e]);}return __setModuleDefault(_0x210830,_0x11411a),_0x210830;};}()),__importDefault=this&&this['__importDefault']||function(_0x119b08){const _0x2568ad=a12_0x3a0dc5;return _0x119b08&&_0x119b08[_0x2568ad(0x224)]?_0x119b08:{'default':_0x119b08};};Object[a12_0x3a0dc5(0x20f)](exports,a12_0x3a0dc5(0x224),{'value':!![]}),exports[a12_0x3a0dc5(0x1f7)]=exports[a12_0x3a0dc5(0x21d)]=exports[a12_0x3a0dc5(0x1f6)]=exports[a12_0x3a0dc5(0x1d8)]=exports[a12_0x3a0dc5(0x221)]=exports['list']=exports[a12_0x3a0dc5(0x1ee)]=exports[a12_0x3a0dc5(0x1e1)]=exports['store']=exports[a12_0x3a0dc5(0x1d2)]=void 0x0;const Yup=__importStar(require(a12_0x3a0dc5(0x1fe))),AppError_1=__importDefault(require(a12_0x3a0dc5(0x1ff))),auth_1=__importDefault(require(a12_0x3a0dc5(0x1e3))),jsonwebtoken_1=require(a12_0x3a0dc5(0x211)),ListCompaniesService_1=__importDefault(require(a12_0x3a0dc5(0x1e4))),CreateCompanyService_1=__importDefault(require(a12_0x3a0dc5(0x21c))),UpdateCompanyService_1=__importDefault(require(a12_0x3a0dc5(0x1df))),ShowCompanyService_1=__importDefault(require(a12_0x3a0dc5(0x203))),UpdateSchedulesService_1=__importDefault(require(a12_0x3a0dc5(0x218))),DeleteCompanyService_1=__importDefault(require('../services/CompanyService/DeleteCompanyService')),FindAllCompaniesService_1=__importDefault(require('../services/CompanyService/FindAllCompaniesService')),ShowPlanCompanyService_1=__importDefault(require(a12_0x3a0dc5(0x1f3))),ListCompaniesPlanService_1=__importDefault(require(a12_0x3a0dc5(0x204))),User_1=__importDefault(require(a12_0x3a0dc5(0x206))),axios_1=__importDefault(require(a12_0x3a0dc5(0x20c))),CheckSettings_1=__importDefault(require(a12_0x3a0dc5(0x1f4))),moment_1=__importDefault(require(a12_0x3a0dc5(0x1f1))),index=async(_0x3931f9,_0x2d3319)=>{const _0x4793b2=a12_0x3a0dc5,{searchParam:_0x48ea43,pageNumber:_0x5badcf}=_0x3931f9[_0x4793b2(0x20a)],{companies:_0x47e041,count:_0x4eddf9,hasMore:_0x268d3c}=await(0x0,ListCompaniesService_1[_0x4793b2(0x1d0)])({'searchParam':_0x48ea43,'pageNumber':_0x5badcf});return _0x2d3319[_0x4793b2(0x216)]({'companies':_0x47e041,'count':_0x4eddf9,'hasMore':_0x268d3c});};exports[a12_0x3a0dc5(0x1d2)]=index;const store=async(_0x2c8f2a,_0x114fa0)=>{const _0x239041=a12_0x3a0dc5,_0x56f3b2=_0x2c8f2a[_0x239041(0x1fc)],_0x5d32a8=Yup[_0x239041(0x20e)]()['shape']({'name':Yup[_0x239041(0x1d9)]()[_0x239041(0x1d6)]()});try{await _0x5d32a8[_0x239041(0x1ec)](_0x56f3b2);}catch(_0x12dbf5){throw new AppError_1[(_0x239041(0x1d0))](_0x12dbf5[_0x239041(0x1fd)]);}const _0x592afd=await(0x0,CreateCompanyService_1[_0x239041(0x1d0)])(_0x56f3b2);return _0x114fa0['status'](0xc8)[_0x239041(0x216)](_0x592afd);};exports[a12_0x3a0dc5(0x217)]=store;const signup=async(_0x22aa76,_0x549df2)=>{const _0x38f7c1=a12_0x3a0dc5;if(await(0x0,CheckSettings_1[_0x38f7c1(0x1d0)])(_0x38f7c1(0x1de))!==_0x38f7c1(0x1d7))return _0x549df2[_0x38f7c1(0x1e0)](0x191)['json']('🙎🏻‍♂️\x20Signup\x20disabled');if(process[_0x38f7c1(0x1dc)][_0x38f7c1(0x1fb)]){if(!_0x22aa76[_0x38f7c1(0x1fc)][_0x38f7c1(0x220)])return _0x549df2[_0x38f7c1(0x1e0)](0x191)[_0x38f7c1(0x216)](_0x38f7c1(0x207));const _0x4856e0=await axios_1['default'][_0x38f7c1(0x21e)](_0x38f7c1(0x1d5)+process[_0x38f7c1(0x1dc)][_0x38f7c1(0x1fb)]+_0x38f7c1(0x223)+_0x22aa76['body']['captchaToken']);if(!_0x4856e0['data'][_0x38f7c1(0x1e8)])return _0x549df2[_0x38f7c1(0x1e0)](0x191)['json'](_0x38f7c1(0x200));}return _0x22aa76['body']['dueDate']=(0x0,moment_1[_0x38f7c1(0x1d0)])()[_0x38f7c1(0x1f2)](0x3,_0x38f7c1(0x1fa))[_0x38f7c1(0x1d3)](),(0x0,exports[_0x38f7c1(0x217)])(_0x22aa76,_0x549df2);};function a12_0xc654(_0x4945e7,_0x1222c0){const _0x450bfb=a12_0x3c24();return a12_0xc654=function(_0xe47283,_0x278a44){_0xe47283=_0xe47283-0x1d0;let _0x3c2469=_0x450bfb[_0xe47283];return _0x3c2469;},a12_0xc654(_0x4945e7,_0x1222c0);}exports[a12_0x3a0dc5(0x1e1)]=signup;const show=async(_0x312a25,_0x3cb458)=>{const _0x3009f7=a12_0x3a0dc5,{id:_0x47c573}=_0x312a25[_0x3009f7(0x1e5)],_0x4ccb5b=await User_1[_0x3009f7(0x1d0)]['findByPk'](_0x312a25[_0x3009f7(0x205)]['id']);if(!_0x4ccb5b['super']&&Number[_0x3009f7(0x1da)](_0x47c573,0xa)!==_0x4ccb5b[_0x3009f7(0x1e7)])throw new AppError_1[(_0x3009f7(0x1d0))](_0x3009f7(0x222),0x193);const _0x20c194=await(0x0,ShowCompanyService_1['default'])(_0x47c573);return _0x3cb458[_0x3009f7(0x1e0)](0xc8)[_0x3009f7(0x216)](_0x20c194);};exports[a12_0x3a0dc5(0x1ee)]=show;const list=async(_0x2fb3a4,_0x35b121)=>{const _0x316730=a12_0x3a0dc5,_0x4d81e8=await(0x0,FindAllCompaniesService_1['default'])();return _0x35b121[_0x316730(0x1e0)](0xc8)[_0x316730(0x216)](_0x4d81e8);};exports[a12_0x3a0dc5(0x208)]=list;function a12_0x3c24(){const _0x57e12c=['shape','221934MOXoyI','validate','hasOwnProperty','show','secret','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','moment','add','../services/CompanyService/ShowPlanCompanyService','../helpers/CheckSettings','authorization','remove','indexPlan','constructor','configurable','day','RECAPTCHA_SECRET_KEY','body','message','yup','../errors/AppError','🤖\x20be\x20gone','3288988jyGOhr','verify','../services/CompanyService/ShowCompanyService','../services/CompanyService/ListCompaniesPlanService','user','../models/User','empty\x20captcha','list','(((.+)+)+)+$','query','__createBinding','axios','split','object','defineProperty','headers','jsonwebtoken','apply','407XpqQPi','14YaPaDB','get','json','store','../services/CompanyService/UpdateSchedulesService','length','714130oLAycl','11239227REELuc','../services/CompanyService/CreateCompanyService','listPlan','post','95934eZLRBk','captchaToken','update','ERR_FORBIDDEN','&response=','__esModule','33848TjnrNW','default','search','index','format','toString','https://www.google.com/recaptcha/api/siteverify?secret=','required','enabled','updateSchedules','string','parseInt','findByPk','env','235pRadMB','allowSignup','../services/CompanyService/UpdateCompanyService','status','signup','618826vBduqv','../config/auth','../services/CompanyService/ListCompaniesService','params','super','companyId','success','2AUzqQq'];a12_0x3c24=function(){return _0x57e12c;};return a12_0x3c24();}const update=async(_0x5cc2f0,_0x404dd4)=>{const _0x23fc22=a12_0x3a0dc5,_0x561fe6=_0x5cc2f0[_0x23fc22(0x1fc)],_0x164a7b=Yup[_0x23fc22(0x20e)]()[_0x23fc22(0x1ea)]({'name':Yup['string']()});try{await _0x164a7b[_0x23fc22(0x1ec)](_0x561fe6);}catch(_0x1d9fbf){throw new AppError_1['default'](_0x1d9fbf[_0x23fc22(0x1fd)]);}const {id:_0x462b8c}=_0x5cc2f0[_0x23fc22(0x1e5)],_0x4a06fd=await(0x0,UpdateCompanyService_1['default'])({'id':_0x462b8c,..._0x561fe6});return _0x404dd4[_0x23fc22(0x1e0)](0xc8)[_0x23fc22(0x216)](_0x4a06fd);};exports[a12_0x3a0dc5(0x221)]=update;const updateSchedules=async(_0x17b634,_0x364d45)=>{const _0x1e3914=a12_0x3a0dc5,{schedules:_0x4ec548}=_0x17b634['body'],{id:_0x364933}=_0x17b634['params'],_0x209ce3=await User_1[_0x1e3914(0x1d0)]['findByPk'](_0x17b634[_0x1e3914(0x205)]['id']);if(!_0x209ce3['super']&&Number['parseInt'](_0x364933,0xa)!==_0x209ce3[_0x1e3914(0x1e7)])throw new AppError_1[(_0x1e3914(0x1d0))]('ERR_FORBIDDEN',0x193);const _0xe58505=await(0x0,UpdateSchedulesService_1[_0x1e3914(0x1d0)])({'id':_0x364933,'schedules':_0x4ec548});return _0x364d45[_0x1e3914(0x1e0)](0xc8)[_0x1e3914(0x216)](_0xe58505);};exports[a12_0x3a0dc5(0x1d8)]=updateSchedules;const remove=async(_0x43092e,_0x1364e3)=>{const _0x32d6b7=a12_0x3a0dc5,{id:_0x487cbb}=_0x43092e[_0x32d6b7(0x1e5)];if(Number(_0x487cbb)===0x1)throw new AppError_1[(_0x32d6b7(0x1d0))](_0x32d6b7(0x222),0x193);const _0x42b1ad=await(0x0,DeleteCompanyService_1['default'])(_0x487cbb);return _0x1364e3[_0x32d6b7(0x1e0)](0xc8)[_0x32d6b7(0x216)](_0x42b1ad);};exports[a12_0x3a0dc5(0x1f6)]=remove;const listPlan=async(_0x4fdf6b,_0x32dd9c)=>{const _0x576d73=a12_0x3a0dc5,{id:_0x2d2bef}=_0x4fdf6b['params'],_0x49d758=_0x4fdf6b[_0x576d73(0x210)][_0x576d73(0x1f5)],[,_0x443d83]=_0x49d758[_0x576d73(0x20d)]('\x20'),_0x5c757f=(0x0,jsonwebtoken_1[_0x576d73(0x202)])(_0x443d83,auth_1['default'][_0x576d73(0x1ef)]),{id:_0x51889b,profile:_0x7cfb3f,companyId:_0x1652d7}=_0x5c757f,_0x330aea=await User_1['default']['findByPk'](_0x51889b);if(_0x330aea['super']===!![]||_0x1652d7[_0x576d73(0x1d4)]()===_0x2d2bef){const _0x580d11=await(0x0,ShowPlanCompanyService_1['default'])(_0x2d2bef);return _0x32dd9c[_0x576d73(0x1e0)](0xc8)['json'](_0x580d11);}else return _0x32dd9c[_0x576d73(0x1e0)](0x190)['json']({'error':_0x576d73(0x1f0)});};exports[a12_0x3a0dc5(0x21d)]=listPlan;const indexPlan=async(_0x5e02b6,_0x249225)=>{const _0x44a1fc=a12_0x3a0dc5,{searchParam:_0xfcfb66,pageNumber:_0x10237f}=_0x5e02b6[_0x44a1fc(0x20a)],_0x382366=_0x5e02b6[_0x44a1fc(0x210)]['authorization'],[,_0x3294ed]=_0x382366[_0x44a1fc(0x20d)]('\x20'),_0x1a0b6e=(0x0,jsonwebtoken_1['verify'])(_0x3294ed,auth_1[_0x44a1fc(0x1d0)][_0x44a1fc(0x1ef)]),{id:_0x63acb3,profile:_0x16e01d,companyId:_0x3d311f}=_0x1a0b6e,_0x2a7e22=await User_1['default'][_0x44a1fc(0x1db)](_0x63acb3);if(_0x2a7e22[_0x44a1fc(0x1e6)]===!![]){const _0x13fc3a=await(0x0,ListCompaniesPlanService_1[_0x44a1fc(0x1d0)])();return _0x249225[_0x44a1fc(0x216)]({'companies':_0x13fc3a});}else return _0x249225[_0x44a1fc(0x1e0)](0x190)[_0x44a1fc(0x216)]({'error':_0x44a1fc(0x1f0)});};exports[a12_0x3a0dc5(0x1f7)]=indexPlan;