'use strict';const a15_0x2c897f=a15_0x2861;(function(_0x2174ae,_0x21024e){const _0x1247b3=a15_0x2861,_0x35fd22=_0x2174ae();while(!![]){try{const _0x463649=parseInt(_0x1247b3(0xdf))/0x1+parseInt(_0x1247b3(0xf9))/0x2+-parseInt(_0x1247b3(0xd9))/0x3+-parseInt(_0x1247b3(0xe0))/0x4+parseInt(_0x1247b3(0xd6))/0x5+-parseInt(_0x1247b3(0xff))/0x6+parseInt(_0x1247b3(0xbc))/0x7*(-parseInt(_0x1247b3(0xf0))/0x8);if(_0x463649===_0x21024e)break;else _0x35fd22['push'](_0x35fd22['shift']());}catch(_0xfb4849){_0x35fd22['push'](_0x35fd22['shift']());}}}(a15_0x42ca,0xe0ef7));var __createBinding=this&&this[a15_0x2c897f(0xbf)]||(Object[a15_0x2c897f(0x10a)]?function(_0x1493ea,_0x3b6123,_0x388ad9,_0x320ca2){const _0x26c78d=a15_0x2c897f;if(_0x320ca2===undefined)_0x320ca2=_0x388ad9;var _0x4534ae=Object[_0x26c78d(0xe6)](_0x3b6123,_0x388ad9);(!_0x4534ae||(_0x26c78d(0xbe)in _0x4534ae?!_0x3b6123[_0x26c78d(0xc3)]:_0x4534ae['writable']||_0x4534ae[_0x26c78d(0xfd)]))&&(_0x4534ae={'enumerable':!![],'get':function(){return _0x3b6123[_0x388ad9];}}),Object['defineProperty'](_0x1493ea,_0x320ca2,_0x4534ae);}:function(_0x23db1b,_0x335395,_0x5c249c,_0x3a19f5){if(_0x3a19f5===undefined)_0x3a19f5=_0x5c249c;_0x23db1b[_0x3a19f5]=_0x335395[_0x5c249c];}),__setModuleDefault=this&&this[a15_0x2c897f(0xc9)]||(Object[a15_0x2c897f(0x10a)]?function(_0x2e37e2,_0x4a3621){const _0x3b0fcc=a15_0x2c897f;Object[_0x3b0fcc(0x10c)](_0x2e37e2,_0x3b0fcc(0xcb),{'enumerable':!![],'value':_0x4a3621});}:function(_0x585b9a,_0x35ea34){const _0x3f091a=a15_0x2c897f;_0x585b9a[_0x3f091a(0xcb)]=_0x35ea34;}),__importStar=this&&this[a15_0x2c897f(0xe2)]||(function(){const _0x27b09e=(function(){let _0x23852a=!![];return function(_0x5bb012,_0x1368e5){const _0xcdcd1=_0x23852a?function(){const _0x469fe2=a15_0x2861;if(_0x1368e5){const _0x259386=_0x1368e5[_0x469fe2(0xe7)](_0x5bb012,arguments);return _0x1368e5=null,_0x259386;}}:function(){};return _0x23852a=![],_0xcdcd1;};}()),_0xc33923=_0x27b09e(this,function(){const _0x5e6049=a15_0x2861;return _0xc33923[_0x5e6049(0xf4)]()[_0x5e6049(0x107)]('(((.+)+)+)+$')[_0x5e6049(0xf4)]()['constructor'](_0xc33923)[_0x5e6049(0x107)](_0x5e6049(0xd5));});_0xc33923();var _0x1b368a=function(_0x178527){const _0x141cfa=a15_0x2861;return _0x1b368a=Object[_0x141cfa(0xf8)]||function(_0x468cf2){const _0x485062=_0x141cfa;var _0x1c5eeb=[];for(var _0x2c7228 in _0x468cf2)if(Object[_0x485062(0xf6)]['hasOwnProperty'][_0x485062(0xe3)](_0x468cf2,_0x2c7228))_0x1c5eeb[_0x1c5eeb[_0x485062(0x102)]]=_0x2c7228;return _0x1c5eeb;},_0x1b368a(_0x178527);};return function(_0x2923be){const _0x23670f=a15_0x2861;if(_0x2923be&&_0x2923be['__esModule'])return _0x2923be;var _0x1cbaeb={};if(_0x2923be!=null){for(var _0x330424=_0x1b368a(_0x2923be),_0x389d67=0x0;_0x389d67<_0x330424['length'];_0x389d67++)if(_0x330424[_0x389d67]!==_0x23670f(0xcb))__createBinding(_0x1cbaeb,_0x2923be,_0x330424[_0x389d67]);}return __setModuleDefault(_0x1cbaeb,_0x2923be),_0x1cbaeb;};}()),__importDefault=this&&this[a15_0x2c897f(0xd1)]||function(_0x361029){const _0x45a1fa=a15_0x2c897f;return _0x361029&&_0x361029[_0x45a1fa(0xc3)]?_0x361029:{'default':_0x361029};};Object['defineProperty'](exports,a15_0x2c897f(0xc3),{'value':!![]}),exports[a15_0x2c897f(0xd7)]=exports['listPlan']=exports[a15_0x2c897f(0xbb)]=exports[a15_0x2c897f(0x10b)]=exports[a15_0x2c897f(0xd2)]=exports[a15_0x2c897f(0xe8)]=exports['show']=exports[a15_0x2c897f(0xfc)]=exports[a15_0x2c897f(0xc1)]=exports[a15_0x2c897f(0xc4)]=void 0x0;const Yup=__importStar(require(a15_0x2c897f(0x10d))),AppError_1=__importDefault(require('../errors/AppError')),auth_1=__importDefault(require('../config/auth')),jsonwebtoken_1=require('jsonwebtoken'),ListCompaniesService_1=__importDefault(require('../services/CompanyService/ListCompaniesService')),CreateCompanyService_1=__importDefault(require(a15_0x2c897f(0xee))),UpdateCompanyService_1=__importDefault(require(a15_0x2c897f(0xe5))),ShowCompanyService_1=__importDefault(require(a15_0x2c897f(0xf3))),UpdateSchedulesService_1=__importDefault(require(a15_0x2c897f(0xe1))),DeleteCompanyService_1=__importDefault(require('../services/CompanyService/DeleteCompanyService')),FindAllCompaniesService_1=__importDefault(require(a15_0x2c897f(0xe4))),ShowPlanCompanyService_1=__importDefault(require(a15_0x2c897f(0xdc))),ListCompaniesPlanService_1=__importDefault(require('../services/CompanyService/ListCompaniesPlanService')),User_1=__importDefault(require(a15_0x2c897f(0xcf))),axios_1=__importDefault(require(a15_0x2c897f(0xea))),CheckSettings_1=__importDefault(require(a15_0x2c897f(0xf1))),moment_1=__importDefault(require(a15_0x2c897f(0xc8))),index=async(_0x44791c,_0x203940)=>{const _0x121acb=a15_0x2c897f,{searchParam:_0x22e225,pageNumber:_0xf8337a}=_0x44791c[_0x121acb(0xec)],{companies:_0x399035,count:_0x359cc,hasMore:_0x456fd0}=await(0x0,ListCompaniesService_1['default'])({'searchParam':_0x22e225,'pageNumber':_0xf8337a});return _0x203940['json']({'companies':_0x399035,'count':_0x359cc,'hasMore':_0x456fd0});};exports[a15_0x2c897f(0xc4)]=index;const store=async(_0x54bd68,_0x4563ea)=>{const _0x3bb6e1=a15_0x2c897f,_0x5a1e32=_0x54bd68['body'],_0x3601ff=Yup[_0x3bb6e1(0x100)]()[_0x3bb6e1(0xfe)]({'name':Yup['string']()['required']()});try{await _0x3601ff[_0x3bb6e1(0x105)](_0x5a1e32);}catch(_0x2bf3ed){throw new AppError_1[(_0x3bb6e1(0xcb))](_0x2bf3ed['message']);}const _0x71bb95=await(0x0,CreateCompanyService_1[_0x3bb6e1(0xcb)])(_0x5a1e32);return _0x4563ea[_0x3bb6e1(0xf5)](0xc8)[_0x3bb6e1(0xeb)](_0x71bb95);};exports[a15_0x2c897f(0xc1)]=store;const signup=async(_0x3ad53f,_0x16c88f)=>{const _0xaeff5c=a15_0x2c897f;if(await(0x0,CheckSettings_1[_0xaeff5c(0xcb)])(_0xaeff5c(0xcd))!==_0xaeff5c(0xd0))return _0x16c88f['status'](0x191)['json'](_0xaeff5c(0xd3));if(process[_0xaeff5c(0x108)][_0xaeff5c(0xef)]){if(!_0x3ad53f[_0xaeff5c(0xc6)][_0xaeff5c(0xc5)])return _0x16c88f[_0xaeff5c(0xf5)](0x191)[_0xaeff5c(0xeb)](_0xaeff5c(0xed));const _0x92267d=await axios_1['default']['post'](_0xaeff5c(0xc0)+process['env'][_0xaeff5c(0xef)]+_0xaeff5c(0x109)+_0x3ad53f[_0xaeff5c(0xc6)]['captchaToken']);if(!_0x92267d[_0xaeff5c(0xbd)][_0xaeff5c(0xde)])return _0x16c88f[_0xaeff5c(0xf5)](0x191)['json'](_0xaeff5c(0xfa));}return _0x3ad53f[_0xaeff5c(0xc6)][_0xaeff5c(0xf2)]=(0x0,moment_1[_0xaeff5c(0xcb)])()['add'](0x3,_0xaeff5c(0xdd))[_0xaeff5c(0x101)](),(0x0,exports[_0xaeff5c(0xc1)])(_0x3ad53f,_0x16c88f);};exports[a15_0x2c897f(0xfc)]=signup;const show=async(_0x278fcc,_0x3676ab)=>{const _0x16722f=a15_0x2c897f,{id:_0x40fdd8}=_0x278fcc['params'],_0x27ff1d=await User_1[_0x16722f(0xcb)][_0x16722f(0xd4)](_0x278fcc[_0x16722f(0x103)]['id']);if(!_0x27ff1d[_0x16722f(0xc7)]&&Number[_0x16722f(0xce)](_0x40fdd8,0xa)!==_0x27ff1d[_0x16722f(0xf7)])throw new AppError_1[(_0x16722f(0xcb))](_0x16722f(0xda),0x193);const _0x2adaca=await(0x0,ShowCompanyService_1[_0x16722f(0xcb)])(_0x40fdd8);return _0x3676ab[_0x16722f(0xf5)](0xc8)[_0x16722f(0xeb)](_0x2adaca);};function a15_0x42ca(){const _0xf0ba2d=['prototype','companyId','getOwnPropertyNames','1385936TbvaeV','ðŸ¤–\x20be\x20gone','listPlan','signup','configurable','shape','3092862ODUajK','object','format','length','user','VocÃª\x20nÃ£o\x20possui\x20permissÃ£o\x20para\x20acessar\x20este\x20recurso!','validate','authorization','search','env','&response=','create','updateSchedules','defineProperty','yup','params','string','remove','763lXhdcS','data','get','__createBinding','https://www.google.com/recaptcha/api/siteverify?secret=','store','message','__esModule','index','captchaToken','body','super','moment','__setModuleDefault','show','default','secret','allowSignup','parseInt','../models/User','enabled','__importDefault','update','ðŸ™ŽðŸ»â€â™‚ï¸\x20Signup\x20disabled','findByPk','(((.+)+)+)+$','7085325dbKuIM','indexPlan','headers','2601417TfFXKS','ERR_FORBIDDEN','split','../services/CompanyService/ShowPlanCompanyService','day','success','1775613GYauDI','4862256SZaUTk','../services/CompanyService/UpdateSchedulesService','__importStar','call','../services/CompanyService/FindAllCompaniesService','../services/CompanyService/UpdateCompanyService','getOwnPropertyDescriptor','apply','list','verify','axios','json','query','empty\x20captcha','../services/CompanyService/CreateCompanyService','RECAPTCHA_SECRET_KEY','26872jMBkPp','../helpers/CheckSettings','dueDate','../services/CompanyService/ShowCompanyService','toString','status'];a15_0x42ca=function(){return _0xf0ba2d;};return a15_0x42ca();}exports[a15_0x2c897f(0xca)]=show;const list=async(_0x247243,_0xef2e34)=>{const _0x1edada=a15_0x2c897f,_0x166a43=await(0x0,FindAllCompaniesService_1[_0x1edada(0xcb)])();return _0xef2e34[_0x1edada(0xf5)](0xc8)[_0x1edada(0xeb)](_0x166a43);};function a15_0x2861(_0x3ba703,_0x4e5c1f){const _0x356118=a15_0x42ca();return a15_0x2861=function(_0x4a1466,_0x364aa0){_0x4a1466=_0x4a1466-0xba;let _0x42caa9=_0x356118[_0x4a1466];return _0x42caa9;},a15_0x2861(_0x3ba703,_0x4e5c1f);}exports['list']=list;const update=async(_0x472e98,_0x2bf883)=>{const _0x2a7c89=a15_0x2c897f,_0x36403a=_0x472e98[_0x2a7c89(0xc6)],_0x2c7926=Yup['object']()[_0x2a7c89(0xfe)]({'name':Yup[_0x2a7c89(0xba)]()});try{await _0x2c7926[_0x2a7c89(0x105)](_0x36403a);}catch(_0xaa6cb9){throw new AppError_1[(_0x2a7c89(0xcb))](_0xaa6cb9[_0x2a7c89(0xc2)]);}const {id:_0x29be89}=_0x472e98[_0x2a7c89(0x10e)],_0x1cca79=await(0x0,UpdateCompanyService_1['default'])({'id':_0x29be89,..._0x36403a});return _0x2bf883['status'](0xc8)[_0x2a7c89(0xeb)](_0x1cca79);};exports[a15_0x2c897f(0xd2)]=update;const updateSchedules=async(_0x2853ba,_0x368851)=>{const _0x5ba756=a15_0x2c897f,{schedules:_0x36fdd7}=_0x2853ba[_0x5ba756(0xc6)],{id:_0x3114f0}=_0x2853ba[_0x5ba756(0x10e)],_0x4241ef=await User_1[_0x5ba756(0xcb)][_0x5ba756(0xd4)](_0x2853ba['user']['id']);if(!_0x4241ef[_0x5ba756(0xc7)]&&Number[_0x5ba756(0xce)](_0x3114f0,0xa)!==_0x4241ef[_0x5ba756(0xf7)])throw new AppError_1['default'](_0x5ba756(0xda),0x193);const _0x2fdf4d=await(0x0,UpdateSchedulesService_1['default'])({'id':_0x3114f0,'schedules':_0x36fdd7});return _0x368851['status'](0xc8)['json'](_0x2fdf4d);};exports[a15_0x2c897f(0x10b)]=updateSchedules;const remove=async(_0x2f47a3,_0x529606)=>{const _0x4ddff5=a15_0x2c897f,{id:_0x30e543}=_0x2f47a3['params'];if(Number(_0x30e543)===0x1)throw new AppError_1[(_0x4ddff5(0xcb))](_0x4ddff5(0xda),0x193);const _0x1e95ff=await(0x0,DeleteCompanyService_1[_0x4ddff5(0xcb)])(_0x30e543);return _0x529606['status'](0xc8)[_0x4ddff5(0xeb)](_0x1e95ff);};exports[a15_0x2c897f(0xbb)]=remove;const listPlan=async(_0x138177,_0x3aa19f)=>{const _0x542116=a15_0x2c897f,{id:_0x5741ef}=_0x138177[_0x542116(0x10e)],_0x450c09=_0x138177['headers']['authorization'],[,_0x42616a]=_0x450c09[_0x542116(0xdb)]('\x20'),_0x26050b=(0x0,jsonwebtoken_1[_0x542116(0xe9)])(_0x42616a,auth_1[_0x542116(0xcb)][_0x542116(0xcc)]),{id:_0x13ec37,profile:_0x2d8956,companyId:_0x1dce64}=_0x26050b,_0x9b1c51=await User_1[_0x542116(0xcb)]['findByPk'](_0x13ec37);if(_0x9b1c51[_0x542116(0xc7)]===!![]||_0x1dce64[_0x542116(0xf4)]()===_0x5741ef){const _0x51c82b=await(0x0,ShowPlanCompanyService_1[_0x542116(0xcb)])(_0x5741ef);return _0x3aa19f[_0x542116(0xf5)](0xc8)[_0x542116(0xeb)](_0x51c82b);}else return _0x3aa19f['status'](0x190)[_0x542116(0xeb)]({'error':_0x542116(0x104)});};exports[a15_0x2c897f(0xfb)]=listPlan;const indexPlan=async(_0x4141e3,_0xcc52b0)=>{const _0x345663=a15_0x2c897f,{searchParam:_0x593a27,pageNumber:_0x11f795}=_0x4141e3['query'],_0x1f147c=_0x4141e3[_0x345663(0xd8)][_0x345663(0x106)],[,_0x188575]=_0x1f147c['split']('\x20'),_0x3c1359=(0x0,jsonwebtoken_1['verify'])(_0x188575,auth_1[_0x345663(0xcb)]['secret']),{id:_0x2b7789,profile:_0x7bc25f,companyId:_0x26115f}=_0x3c1359,_0x55d952=await User_1[_0x345663(0xcb)][_0x345663(0xd4)](_0x2b7789);if(_0x55d952[_0x345663(0xc7)]===!![]){const _0xbc1c99=await(0x0,ListCompaniesPlanService_1[_0x345663(0xcb)])();return _0xcc52b0[_0x345663(0xeb)]({'companies':_0xbc1c99});}else return _0xcc52b0['status'](0x190)[_0x345663(0xeb)]({'error':_0x345663(0x104)});};exports[a15_0x2c897f(0xd7)]=indexPlan;