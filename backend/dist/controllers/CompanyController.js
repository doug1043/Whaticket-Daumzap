'use strict';const a15_0x2afe47=a15_0x48f2;(function(_0x15b3e7,_0x42ac36){const _0x1fcfe6=a15_0x48f2,_0x2ba15d=_0x15b3e7();while(!![]){try{const _0xfa0ffa=parseInt(_0x1fcfe6(0xf0))/0x1*(-parseInt(_0x1fcfe6(0xc4))/0x2)+-parseInt(_0x1fcfe6(0xaa))/0x3*(parseInt(_0x1fcfe6(0xc9))/0x4)+parseInt(_0x1fcfe6(0xe3))/0x5+-parseInt(_0x1fcfe6(0xdc))/0x6+parseInt(_0x1fcfe6(0xd5))/0x7*(-parseInt(_0x1fcfe6(0xa2))/0x8)+parseInt(_0x1fcfe6(0xf4))/0x9*(parseInt(_0x1fcfe6(0xf6))/0xa)+-parseInt(_0x1fcfe6(0xcb))/0xb*(-parseInt(_0x1fcfe6(0xec))/0xc);if(_0xfa0ffa===_0x42ac36)break;else _0x2ba15d['push'](_0x2ba15d['shift']());}catch(_0x5e2e76){_0x2ba15d['push'](_0x2ba15d['shift']());}}}(a15_0x3576,0xbd0c2));var __createBinding=this&&this[a15_0x2afe47(0xe5)]||(Object[a15_0x2afe47(0xbb)]?function(_0x32340a,_0x217ee8,_0x25fc89,_0x375007){const _0x2d7aef=a15_0x2afe47;if(_0x375007===undefined)_0x375007=_0x25fc89;var _0x5dbd8d=Object[_0x2d7aef(0xa8)](_0x217ee8,_0x25fc89);(!_0x5dbd8d||(_0x2d7aef(0xd7)in _0x5dbd8d?!_0x217ee8[_0x2d7aef(0xe7)]:_0x5dbd8d['writable']||_0x5dbd8d[_0x2d7aef(0xa1)]))&&(_0x5dbd8d={'enumerable':!![],'get':function(){return _0x217ee8[_0x25fc89];}}),Object[_0x2d7aef(0xca)](_0x32340a,_0x375007,_0x5dbd8d);}:function(_0x2e72b4,_0x47fee8,_0x545031,_0x37a8fe){if(_0x37a8fe===undefined)_0x37a8fe=_0x545031;_0x2e72b4[_0x37a8fe]=_0x47fee8[_0x545031];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a15_0x2afe47(0xbb)]?function(_0x28cffe,_0x51239b){const _0x3e5b71=a15_0x2afe47;Object[_0x3e5b71(0xca)](_0x28cffe,'default',{'enumerable':!![],'value':_0x51239b});}:function(_0x544ec6,_0x26ab93){const _0x33ae29=a15_0x2afe47;_0x544ec6[_0x33ae29(0xab)]=_0x26ab93;}),__importStar=this&&this[a15_0x2afe47(0xc6)]||(function(){const _0xefd514=(function(){let _0xdbc19c=!![];return function(_0x5eb036,_0xe1593){const _0x411e6d=_0xdbc19c?function(){const _0x949e97=a15_0x48f2;if(_0xe1593){const _0x2d3779=_0xe1593[_0x949e97(0xbd)](_0x5eb036,arguments);return _0xe1593=null,_0x2d3779;}}:function(){};return _0xdbc19c=![],_0x411e6d;};}()),_0x491a91=_0xefd514(this,function(){const _0x3787c0=a15_0x48f2;return _0x491a91[_0x3787c0(0x9e)]()[_0x3787c0(0xcd)](_0x3787c0(0xad))['toString']()[_0x3787c0(0xb0)](_0x491a91)[_0x3787c0(0xcd)](_0x3787c0(0xad));});_0x491a91();var _0x2f8064=function(_0x9f59f2){const _0x1d6775=a15_0x48f2;return _0x2f8064=Object[_0x1d6775(0xc5)]||function(_0x57f510){const _0x481888=_0x1d6775;var _0x5f1e3e=[];for(var _0x52a609 in _0x57f510)if(Object['prototype'][_0x481888(0xf8)][_0x481888(0xf5)](_0x57f510,_0x52a609))_0x5f1e3e[_0x5f1e3e[_0x481888(0xd0)]]=_0x52a609;return _0x5f1e3e;},_0x2f8064(_0x9f59f2);};return function(_0x2f6ae6){const _0x1a2049=a15_0x48f2;if(_0x2f6ae6&&_0x2f6ae6[_0x1a2049(0xe7)])return _0x2f6ae6;var _0x3be23d={};if(_0x2f6ae6!=null){for(var _0x33612e=_0x2f8064(_0x2f6ae6),_0x2b5712=0x0;_0x2b5712<_0x33612e[_0x1a2049(0xd0)];_0x2b5712++)if(_0x33612e[_0x2b5712]!==_0x1a2049(0xab))__createBinding(_0x3be23d,_0x2f6ae6,_0x33612e[_0x2b5712]);}return __setModuleDefault(_0x3be23d,_0x2f6ae6),_0x3be23d;};}()),__importDefault=this&&this[a15_0x2afe47(0xb5)]||function(_0xd63898){const _0x59ef38=a15_0x2afe47;return _0xd63898&&_0xd63898[_0x59ef38(0xe7)]?_0xd63898:{'default':_0xd63898};};Object[a15_0x2afe47(0xca)](exports,a15_0x2afe47(0xe7),{'value':!![]}),exports[a15_0x2afe47(0xd8)]=exports[a15_0x2afe47(0xef)]=exports[a15_0x2afe47(0xd3)]=exports[a15_0x2afe47(0xae)]=exports[a15_0x2afe47(0xb2)]=exports[a15_0x2afe47(0xe6)]=exports['show']=exports[a15_0x2afe47(0xf2)]=exports[a15_0x2afe47(0xb8)]=exports[a15_0x2afe47(0xb4)]=void 0x0;const Yup=__importStar(require(a15_0x2afe47(0xaf))),AppError_1=__importDefault(require('../errors/AppError')),auth_1=__importDefault(require(a15_0x2afe47(0xf1))),jsonwebtoken_1=require(a15_0x2afe47(0xeb)),ListCompaniesService_1=__importDefault(require(a15_0x2afe47(0xe2))),CreateCompanyService_1=__importDefault(require(a15_0x2afe47(0xb3))),UpdateCompanyService_1=__importDefault(require(a15_0x2afe47(0xea))),ShowCompanyService_1=__importDefault(require(a15_0x2afe47(0xe8))),UpdateSchedulesService_1=__importDefault(require(a15_0x2afe47(0xa6))),DeleteCompanyService_1=__importDefault(require(a15_0x2afe47(0xe0))),FindAllCompaniesService_1=__importDefault(require(a15_0x2afe47(0xd1))),ShowPlanCompanyService_1=__importDefault(require(a15_0x2afe47(0xc7))),ListCompaniesPlanService_1=__importDefault(require(a15_0x2afe47(0xcf))),User_1=__importDefault(require('../models/User')),axios_1=__importDefault(require(a15_0x2afe47(0xd6))),CheckSettings_1=__importDefault(require('../helpers/CheckSettings')),moment_1=__importDefault(require(a15_0x2afe47(0xe4))),index=async(_0x544308,_0x1e8293)=>{const _0xd67084=a15_0x2afe47,{searchParam:_0x1e721b,pageNumber:_0x2e091b}=_0x544308['query'],{companies:_0x11923b,count:_0x3601d2,hasMore:_0x54469e}=await(0x0,ListCompaniesService_1[_0xd67084(0xab)])({'searchParam':_0x1e721b,'pageNumber':_0x2e091b});return _0x1e8293[_0xd67084(0xa0)]({'companies':_0x11923b,'count':_0x3601d2,'hasMore':_0x54469e});};exports[a15_0x2afe47(0xb4)]=index;const store=async(_0x5a60d7,_0x940706)=>{const _0x4692bb=a15_0x2afe47,_0xf62cb3=_0x5a60d7[_0x4692bb(0xd2)],_0x290be9=Yup[_0x4692bb(0xdd)]()[_0x4692bb(0xda)]({'name':Yup[_0x4692bb(0xb7)]()[_0x4692bb(0xbe)]()});try{await _0x290be9[_0x4692bb(0xb9)](_0xf62cb3);}catch(_0x5e6bf0){throw new AppError_1['default'](_0x5e6bf0[_0x4692bb(0xbf)]);}const _0xbf1361=await(0x0,CreateCompanyService_1['default'])(_0xf62cb3);return _0x940706['status'](0xc8)[_0x4692bb(0xa0)](_0xbf1361);};exports[a15_0x2afe47(0xb8)]=store;const signup=async(_0x55587f,_0xcd7dff)=>{const _0x218fb2=a15_0x2afe47;if(await(0x0,CheckSettings_1[_0x218fb2(0xab)])(_0x218fb2(0xba))!=='enabled')return _0xcd7dff[_0x218fb2(0xb1)](0x191)[_0x218fb2(0xa0)]('ðŸ™ŽðŸ»â€â™‚ï¸\x20Signup\x20disabled');if(process[_0x218fb2(0xa9)]['RECAPTCHA_SECRET_KEY']){if(!_0x55587f[_0x218fb2(0xd2)][_0x218fb2(0xf7)])return _0xcd7dff[_0x218fb2(0xb1)](0x191)[_0x218fb2(0xa0)](_0x218fb2(0xc3));const _0x16f7bc=await axios_1[_0x218fb2(0xab)][_0x218fb2(0xd4)](_0x218fb2(0xa7)+process[_0x218fb2(0xa9)][_0x218fb2(0xce)]+_0x218fb2(0xe1)+_0x55587f[_0x218fb2(0xd2)][_0x218fb2(0xf7)]);if(!_0x16f7bc[_0x218fb2(0xe9)][_0x218fb2(0xac)])return _0xcd7dff[_0x218fb2(0xb1)](0x191)[_0x218fb2(0xa0)]('ðŸ¤–\x20be\x20gone');}return _0x55587f[_0x218fb2(0xd2)]['dueDate']=(0x0,moment_1[_0x218fb2(0xab)])()[_0x218fb2(0xed)](0x3,_0x218fb2(0xc0))[_0x218fb2(0xa3)](),(0x0,exports[_0x218fb2(0xb8)])(_0x55587f,_0xcd7dff);};exports[a15_0x2afe47(0xf2)]=signup;const show=async(_0x296aaa,_0x162fd9)=>{const _0x52736f=a15_0x2afe47,{id:_0x368169}=_0x296aaa[_0x52736f(0xd9)],_0x134798=await User_1[_0x52736f(0xab)][_0x52736f(0xc1)](_0x296aaa['user']['id']);if(!_0x134798[_0x52736f(0xf3)]&&Number['parseInt'](_0x368169,0xa)!==_0x134798[_0x52736f(0xdb)])throw new AppError_1['default']('ERR_FORBIDDEN',0x193);const _0x5a67de=await(0x0,ShowCompanyService_1[_0x52736f(0xab)])(_0x368169);return _0x162fd9[_0x52736f(0xb1)](0xc8)[_0x52736f(0xa0)](_0x5a67de);};exports[a15_0x2afe47(0xdf)]=show;const list=async(_0x24e8dc,_0x26f9fd)=>{const _0x2c0bd1=a15_0x2afe47,_0x3bd044=await(0x0,FindAllCompaniesService_1[_0x2c0bd1(0xab)])();return _0x26f9fd[_0x2c0bd1(0xb1)](0xc8)[_0x2c0bd1(0xa0)](_0x3bd044);};exports[a15_0x2afe47(0xe6)]=list;const update=async(_0x4cb05f,_0x5dc266)=>{const _0x373a95=a15_0x2afe47,_0x4840af=_0x4cb05f['body'],_0x16b87f=Yup['object']()['shape']({'name':Yup[_0x373a95(0xb7)]()});try{await _0x16b87f[_0x373a95(0xb9)](_0x4840af);}catch(_0x4c7af3){throw new AppError_1[(_0x373a95(0xab))](_0x4c7af3[_0x373a95(0xbf)]);}const {id:_0x3a72db}=_0x4cb05f[_0x373a95(0xd9)],_0x1e7b81=await(0x0,UpdateCompanyService_1[_0x373a95(0xab)])({'id':_0x3a72db,..._0x4840af});return _0x5dc266[_0x373a95(0xb1)](0xc8)[_0x373a95(0xa0)](_0x1e7b81);};exports[a15_0x2afe47(0xb2)]=update;function a15_0x3576(){const _0x3c01d1=['status','update','../services/CompanyService/CreateCompanyService','index','__importDefault','split','string','store','validate','allowSignup','create','headers','apply','required','message','day','findByPk','VocÃª\x20nÃ£o\x20possui\x20permissÃ£o\x20para\x20acessar\x20este\x20recurso!','empty\x20captcha','2fTvipK','getOwnPropertyNames','__importStar','../services/CompanyService/ShowPlanCompanyService','user','3395632keuPsf','defineProperty','11ZNxOxG','secret','search','RECAPTCHA_SECRET_KEY','../services/CompanyService/ListCompaniesPlanService','length','../services/CompanyService/FindAllCompaniesService','body','remove','post','9093MkcVKd','axios','get','indexPlan','params','shape','companyId','4312632jEPmdL','object','verify','show','../services/CompanyService/DeleteCompanyService','&response=','../services/CompanyService/ListCompaniesService','5598565mmrFxR','moment','__createBinding','list','__esModule','../services/CompanyService/ShowCompanyService','data','../services/CompanyService/UpdateCompanyService','jsonwebtoken','26229900ecRvxK','add','authorization','listPlan','763529LLSaEL','../config/auth','signup','super','36cEXhSn','call','3361300mHmMzg','captchaToken','hasOwnProperty','toString','parseInt','json','configurable','9512onDiEY','format','ERR_FORBIDDEN','query','../services/CompanyService/UpdateSchedulesService','https://www.google.com/recaptcha/api/siteverify?secret=','getOwnPropertyDescriptor','env','3dHZlxB','default','success','(((.+)+)+)+$','updateSchedules','yup','constructor'];a15_0x3576=function(){return _0x3c01d1;};return a15_0x3576();}const updateSchedules=async(_0x54f5a3,_0x4de8c1)=>{const _0x165b76=a15_0x2afe47,{schedules:_0x1b196d}=_0x54f5a3[_0x165b76(0xd2)],{id:_0x34ce78}=_0x54f5a3[_0x165b76(0xd9)],_0xe35e92=await User_1[_0x165b76(0xab)][_0x165b76(0xc1)](_0x54f5a3[_0x165b76(0xc8)]['id']);if(!_0xe35e92[_0x165b76(0xf3)]&&Number[_0x165b76(0x9f)](_0x34ce78,0xa)!==_0xe35e92[_0x165b76(0xdb)])throw new AppError_1[(_0x165b76(0xab))](_0x165b76(0xa4),0x193);const _0x25b290=await(0x0,UpdateSchedulesService_1[_0x165b76(0xab)])({'id':_0x34ce78,'schedules':_0x1b196d});return _0x4de8c1['status'](0xc8)[_0x165b76(0xa0)](_0x25b290);};exports[a15_0x2afe47(0xae)]=updateSchedules;const remove=async(_0x3b58cf,_0x410fd8)=>{const _0x2ffa51=a15_0x2afe47,{id:_0xe02837}=_0x3b58cf[_0x2ffa51(0xd9)];if(Number(_0xe02837)===0x1)throw new AppError_1[(_0x2ffa51(0xab))](_0x2ffa51(0xa4),0x193);const _0x23bded=await(0x0,DeleteCompanyService_1[_0x2ffa51(0xab)])(_0xe02837);return _0x410fd8[_0x2ffa51(0xb1)](0xc8)[_0x2ffa51(0xa0)](_0x23bded);};exports[a15_0x2afe47(0xd3)]=remove;const listPlan=async(_0x2089ad,_0x393cb7)=>{const _0x26445e=a15_0x2afe47,{id:_0x2e2358}=_0x2089ad[_0x26445e(0xd9)],_0x2cc378=_0x2089ad[_0x26445e(0xbc)][_0x26445e(0xee)],[,_0x1d5e78]=_0x2cc378[_0x26445e(0xb6)]('\x20'),_0x1b2f4b=(0x0,jsonwebtoken_1['verify'])(_0x1d5e78,auth_1[_0x26445e(0xab)][_0x26445e(0xcc)]),{id:_0x5cc27e,profile:_0x3d4947,companyId:_0x54d108}=_0x1b2f4b,_0x6ff9d2=await User_1[_0x26445e(0xab)]['findByPk'](_0x5cc27e);if(_0x6ff9d2[_0x26445e(0xf3)]===!![]||_0x54d108['toString']()===_0x2e2358){const _0x246626=await(0x0,ShowPlanCompanyService_1[_0x26445e(0xab)])(_0x2e2358);return _0x393cb7[_0x26445e(0xb1)](0xc8)[_0x26445e(0xa0)](_0x246626);}else return _0x393cb7[_0x26445e(0xb1)](0x190)[_0x26445e(0xa0)]({'error':_0x26445e(0xc2)});};function a15_0x48f2(_0x4c128b,_0x3f3045){const _0x236e66=a15_0x3576();return a15_0x48f2=function(_0x46c635,_0x2a5c6a){_0x46c635=_0x46c635-0x9e;let _0x35766e=_0x236e66[_0x46c635];return _0x35766e;},a15_0x48f2(_0x4c128b,_0x3f3045);}exports['listPlan']=listPlan;const indexPlan=async(_0x31019c,_0x3c0b93)=>{const _0x440925=a15_0x2afe47,{searchParam:_0x38079d,pageNumber:_0x317d74}=_0x31019c[_0x440925(0xa5)],_0x1eb786=_0x31019c['headers'][_0x440925(0xee)],[,_0x4d6baa]=_0x1eb786[_0x440925(0xb6)]('\x20'),_0x3f2828=(0x0,jsonwebtoken_1[_0x440925(0xde)])(_0x4d6baa,auth_1[_0x440925(0xab)]['secret']),{id:_0x2d4840,profile:_0x594ced,companyId:_0xfa52d6}=_0x3f2828,_0x5896a8=await User_1[_0x440925(0xab)][_0x440925(0xc1)](_0x2d4840);if(_0x5896a8['super']===!![]){const _0x1be2c5=await(0x0,ListCompaniesPlanService_1[_0x440925(0xab)])();return _0x3c0b93[_0x440925(0xa0)]({'companies':_0x1be2c5});}else return _0x3c0b93[_0x440925(0xb1)](0x190)['json']({'error':_0x440925(0xc2)});};exports[a15_0x2afe47(0xd8)]=indexPlan;