'use strict';const a12_0x4109f7=a12_0x26cd;function a12_0x1864(){const _0xcd92a=['writable','4686437ouaYSF','(((.+)+)+)+$','jsonwebtoken','required','split','9AdJgcu','get','8694550zAqHaA','data','default','verify','VocÃª\x20nÃ£o\x20possui\x20permissÃ£o\x20para\x20acessar\x20este\x20recurso!','message','string','toString','params','validate','constructor','update','../errors/AppError','../services/CompanyService/ShowPlanCompanyService','ðŸ¤–\x20be\x20gone','length','user','listPlan','post','query','status','super','yup','../helpers/CheckSettings','allowSignup','day','../services/CompanyService/ListCompaniesService','remove','RECAPTCHA_SECRET_KEY','authorization','create','captchaToken','311546pftCtM','&response=','env','4551894NgOZRs','indexPlan','9842728RpHdDX','show','apply','body','companyId','../services/CompanyService/ShowCompanyService','object','3XxbSNC','enabled','shape','store','headers','search','index','__importStar','../config/auth','signup','__createBinding','hasOwnProperty','findByPk','moment','4kUTOBB','getOwnPropertyNames','4030580DOpntu','__esModule','success','../services/CompanyService/UpdateCompanyService','json','axios','call','ERR_FORBIDDEN','defineProperty','../services/CompanyService/CreateCompanyService','../services/CompanyService/DeleteCompanyService','__importDefault','updateSchedules','../services/CompanyService/ListCompaniesPlanService','dueDate','secret','../services/CompanyService/FindAllCompaniesService','4219204TXxZYL','__setModuleDefault','https://www.google.com/recaptcha/api/siteverify?secret='];a12_0x1864=function(){return _0xcd92a;};return a12_0x1864();}(function(_0x2fb65c,_0x985a23){const _0x59baaf=a12_0x26cd,_0x298469=_0x2fb65c();while(!![]){try{const _0x4f2c28=-parseInt(_0x59baaf(0x158))/0x1*(-parseInt(_0x59baaf(0x172))/0x2)+-parseInt(_0x59baaf(0x164))/0x3*(parseInt(_0x59baaf(0x12d))/0x4)+parseInt(_0x59baaf(0x174))/0x5+-parseInt(_0x59baaf(0x15b))/0x6+parseInt(_0x59baaf(0x131))/0x7+parseInt(_0x59baaf(0x15d))/0x8+parseInt(_0x59baaf(0x136))/0x9*(-parseInt(_0x59baaf(0x138))/0xa);if(_0x4f2c28===_0x985a23)break;else _0x298469['push'](_0x298469['shift']());}catch(_0xf93659){_0x298469['push'](_0x298469['shift']());}}}(a12_0x1864,0x9dbf7));var __createBinding=this&&this[a12_0x4109f7(0x16e)]||(Object[a12_0x4109f7(0x156)]?function(_0x29eb7e,_0x59281e,_0x566b66,_0x77c81){const _0x28ed36=a12_0x4109f7;if(_0x77c81===undefined)_0x77c81=_0x566b66;var _0x35c979=Object['getOwnPropertyDescriptor'](_0x59281e,_0x566b66);(!_0x35c979||(_0x28ed36(0x137)in _0x35c979?!_0x59281e[_0x28ed36(0x175)]:_0x35c979[_0x28ed36(0x130)]||_0x35c979['configurable']))&&(_0x35c979={'enumerable':!![],'get':function(){return _0x59281e[_0x566b66];}}),Object['defineProperty'](_0x29eb7e,_0x77c81,_0x35c979);}:function(_0x2562ff,_0x2a3187,_0x461ddc,_0x5c4326){if(_0x5c4326===undefined)_0x5c4326=_0x461ddc;_0x2562ff[_0x5c4326]=_0x2a3187[_0x461ddc];}),__setModuleDefault=this&&this[a12_0x4109f7(0x12e)]||(Object[a12_0x4109f7(0x156)]?function(_0x3ab20f,_0x2147bd){const _0x36455c=a12_0x4109f7;Object[_0x36455c(0x124)](_0x3ab20f,_0x36455c(0x13a),{'enumerable':!![],'value':_0x2147bd});}:function(_0x5ea1a5,_0x527400){const _0x472ce2=a12_0x4109f7;_0x5ea1a5[_0x472ce2(0x13a)]=_0x527400;}),__importStar=this&&this[a12_0x4109f7(0x16b)]||(function(){const _0x26301b=(function(){let _0x47b117=!![];return function(_0x11196d,_0x5d6ab2){const _0x7fb25a=_0x47b117?function(){const _0x3e2a14=a12_0x26cd;if(_0x5d6ab2){const _0x30a441=_0x5d6ab2[_0x3e2a14(0x15f)](_0x11196d,arguments);return _0x5d6ab2=null,_0x30a441;}}:function(){};return _0x47b117=![],_0x7fb25a;};}()),_0x3f3401=_0x26301b(this,function(){const _0x2f00ad=a12_0x26cd;return _0x3f3401['toString']()[_0x2f00ad(0x169)](_0x2f00ad(0x132))[_0x2f00ad(0x13f)]()[_0x2f00ad(0x142)](_0x3f3401)[_0x2f00ad(0x169)](_0x2f00ad(0x132));});_0x3f3401();var _0x594bbb=function(_0x3cd123){const _0x5793c3=a12_0x26cd;return _0x594bbb=Object[_0x5793c3(0x173)]||function(_0x57d3a8){const _0x457248=_0x5793c3;var _0x3cdc56=[];for(var _0x26b667 in _0x57d3a8)if(Object['prototype'][_0x457248(0x16f)][_0x457248(0x122)](_0x57d3a8,_0x26b667))_0x3cdc56[_0x3cdc56[_0x457248(0x147)]]=_0x26b667;return _0x3cdc56;},_0x594bbb(_0x3cd123);};return function(_0x207383){const _0x1c14b1=a12_0x26cd;if(_0x207383&&_0x207383[_0x1c14b1(0x175)])return _0x207383;var _0x4ef9c1={};if(_0x207383!=null){for(var _0x3af0e9=_0x594bbb(_0x207383),_0x131ddb=0x0;_0x131ddb<_0x3af0e9[_0x1c14b1(0x147)];_0x131ddb++)if(_0x3af0e9[_0x131ddb]!==_0x1c14b1(0x13a))__createBinding(_0x4ef9c1,_0x207383,_0x3af0e9[_0x131ddb]);}return __setModuleDefault(_0x4ef9c1,_0x207383),_0x4ef9c1;};}()),__importDefault=this&&this[a12_0x4109f7(0x127)]||function(_0x273d02){return _0x273d02&&_0x273d02['__esModule']?_0x273d02:{'default':_0x273d02};};Object[a12_0x4109f7(0x124)](exports,a12_0x4109f7(0x175),{'value':!![]}),exports[a12_0x4109f7(0x15c)]=exports[a12_0x4109f7(0x149)]=exports[a12_0x4109f7(0x153)]=exports[a12_0x4109f7(0x128)]=exports[a12_0x4109f7(0x143)]=exports['list']=exports[a12_0x4109f7(0x15e)]=exports[a12_0x4109f7(0x16d)]=exports[a12_0x4109f7(0x167)]=exports[a12_0x4109f7(0x16a)]=void 0x0;const Yup=__importStar(require(a12_0x4109f7(0x14e))),AppError_1=__importDefault(require(a12_0x4109f7(0x144))),auth_1=__importDefault(require(a12_0x4109f7(0x16c))),jsonwebtoken_1=require(a12_0x4109f7(0x133)),ListCompaniesService_1=__importDefault(require(a12_0x4109f7(0x152))),CreateCompanyService_1=__importDefault(require(a12_0x4109f7(0x125))),UpdateCompanyService_1=__importDefault(require(a12_0x4109f7(0x177))),ShowCompanyService_1=__importDefault(require(a12_0x4109f7(0x162))),UpdateSchedulesService_1=__importDefault(require('../services/CompanyService/UpdateSchedulesService')),DeleteCompanyService_1=__importDefault(require(a12_0x4109f7(0x126))),FindAllCompaniesService_1=__importDefault(require(a12_0x4109f7(0x12c))),ShowPlanCompanyService_1=__importDefault(require(a12_0x4109f7(0x145))),ListCompaniesPlanService_1=__importDefault(require(a12_0x4109f7(0x129))),User_1=__importDefault(require('../models/User')),axios_1=__importDefault(require(a12_0x4109f7(0x121))),CheckSettings_1=__importDefault(require(a12_0x4109f7(0x14f))),moment_1=__importDefault(require(a12_0x4109f7(0x171))),index=async(_0x4769e3,_0x438de6)=>{const _0x3be8fc=a12_0x4109f7,{searchParam:_0x29c340,pageNumber:_0x4da2f6}=_0x4769e3[_0x3be8fc(0x14b)],{companies:_0x432516,count:_0xa79b0f,hasMore:_0x459e13}=await(0x0,ListCompaniesService_1[_0x3be8fc(0x13a)])({'searchParam':_0x29c340,'pageNumber':_0x4da2f6});return _0x438de6[_0x3be8fc(0x120)]({'companies':_0x432516,'count':_0xa79b0f,'hasMore':_0x459e13});};exports[a12_0x4109f7(0x16a)]=index;const store=async(_0x23c70c,_0xf9ab0e)=>{const _0x3ba567=a12_0x4109f7,_0x35fb30=_0x23c70c[_0x3ba567(0x160)],_0x1bbf91=Yup[_0x3ba567(0x163)]()[_0x3ba567(0x166)]({'name':Yup[_0x3ba567(0x13e)]()[_0x3ba567(0x134)]()});try{await _0x1bbf91[_0x3ba567(0x141)](_0x35fb30);}catch(_0x45b918){throw new AppError_1[(_0x3ba567(0x13a))](_0x45b918[_0x3ba567(0x13d)]);}const _0x2b407=await(0x0,CreateCompanyService_1[_0x3ba567(0x13a)])(_0x35fb30);return _0xf9ab0e[_0x3ba567(0x14c)](0xc8)[_0x3ba567(0x120)](_0x2b407);};function a12_0x26cd(_0x59122d,_0x21396b){const _0x2ad707=a12_0x1864();return a12_0x26cd=function(_0x3c8908,_0x2623f3){_0x3c8908=_0x3c8908-0x120;let _0x1864e0=_0x2ad707[_0x3c8908];return _0x1864e0;},a12_0x26cd(_0x59122d,_0x21396b);}exports[a12_0x4109f7(0x167)]=store;const signup=async(_0x30e830,_0x57e7a5)=>{const _0x1c4206=a12_0x4109f7;if(await(0x0,CheckSettings_1[_0x1c4206(0x13a)])(_0x1c4206(0x150))!==_0x1c4206(0x165))return _0x57e7a5[_0x1c4206(0x14c)](0x191)['json']('ðŸ™ŽðŸ»â€â™‚ï¸\x20Signup\x20disabled');if(process[_0x1c4206(0x15a)]['RECAPTCHA_SECRET_KEY']){if(!_0x30e830[_0x1c4206(0x160)][_0x1c4206(0x157)])return _0x57e7a5[_0x1c4206(0x14c)](0x191)[_0x1c4206(0x120)]('empty\x20captcha');const _0x3d4433=await axios_1[_0x1c4206(0x13a)][_0x1c4206(0x14a)](_0x1c4206(0x12f)+process[_0x1c4206(0x15a)][_0x1c4206(0x154)]+_0x1c4206(0x159)+_0x30e830[_0x1c4206(0x160)]['captchaToken']);if(!_0x3d4433[_0x1c4206(0x139)][_0x1c4206(0x176)])return _0x57e7a5[_0x1c4206(0x14c)](0x191)[_0x1c4206(0x120)](_0x1c4206(0x146));}return _0x30e830[_0x1c4206(0x160)][_0x1c4206(0x12a)]=(0x0,moment_1[_0x1c4206(0x13a)])()['add'](0x3,_0x1c4206(0x151))['format'](),(0x0,exports[_0x1c4206(0x167)])(_0x30e830,_0x57e7a5);};exports[a12_0x4109f7(0x16d)]=signup;const show=async(_0x2cc7be,_0x3e4a91)=>{const _0x4e08ff=a12_0x4109f7,{id:_0x4dc734}=_0x2cc7be[_0x4e08ff(0x140)],_0x2cd925=await User_1[_0x4e08ff(0x13a)][_0x4e08ff(0x170)](_0x2cc7be[_0x4e08ff(0x148)]['id']);if(!_0x2cd925['super']&&Number['parseInt'](_0x4dc734,0xa)!==_0x2cd925[_0x4e08ff(0x161)])throw new AppError_1[(_0x4e08ff(0x13a))](_0x4e08ff(0x123),0x193);const _0x2f5b3f=await(0x0,ShowCompanyService_1[_0x4e08ff(0x13a)])(_0x4dc734);return _0x3e4a91[_0x4e08ff(0x14c)](0xc8)[_0x4e08ff(0x120)](_0x2f5b3f);};exports[a12_0x4109f7(0x15e)]=show;const list=async(_0x4dfef4,_0x140c05)=>{const _0x4841bd=a12_0x4109f7,_0x5b4e05=await(0x0,FindAllCompaniesService_1[_0x4841bd(0x13a)])();return _0x140c05['status'](0xc8)[_0x4841bd(0x120)](_0x5b4e05);};exports['list']=list;const update=async(_0x25c0f8,_0x13c584)=>{const _0x38a8b6=a12_0x4109f7,_0x178a6d=_0x25c0f8[_0x38a8b6(0x160)],_0x5158ec=Yup['object']()[_0x38a8b6(0x166)]({'name':Yup[_0x38a8b6(0x13e)]()});try{await _0x5158ec[_0x38a8b6(0x141)](_0x178a6d);}catch(_0x2752a2){throw new AppError_1[(_0x38a8b6(0x13a))](_0x2752a2[_0x38a8b6(0x13d)]);}const {id:_0x4775f9}=_0x25c0f8['params'],_0x815595=await(0x0,UpdateCompanyService_1[_0x38a8b6(0x13a)])({'id':_0x4775f9,..._0x178a6d});return _0x13c584[_0x38a8b6(0x14c)](0xc8)[_0x38a8b6(0x120)](_0x815595);};exports[a12_0x4109f7(0x143)]=update;const updateSchedules=async(_0x3b4462,_0x5a9304)=>{const _0x52b2e8=a12_0x4109f7,{schedules:_0x29b908}=_0x3b4462[_0x52b2e8(0x160)],{id:_0x5d2000}=_0x3b4462[_0x52b2e8(0x140)],_0xd04889=await User_1[_0x52b2e8(0x13a)][_0x52b2e8(0x170)](_0x3b4462['user']['id']);if(!_0xd04889[_0x52b2e8(0x14d)]&&Number['parseInt'](_0x5d2000,0xa)!==_0xd04889[_0x52b2e8(0x161)])throw new AppError_1[(_0x52b2e8(0x13a))](_0x52b2e8(0x123),0x193);const _0x2551a7=await(0x0,UpdateSchedulesService_1[_0x52b2e8(0x13a)])({'id':_0x5d2000,'schedules':_0x29b908});return _0x5a9304[_0x52b2e8(0x14c)](0xc8)[_0x52b2e8(0x120)](_0x2551a7);};exports[a12_0x4109f7(0x128)]=updateSchedules;const remove=async(_0x21bffe,_0x519922)=>{const _0x10b619=a12_0x4109f7,{id:_0x51d60c}=_0x21bffe['params'];if(Number(_0x51d60c)===0x1)throw new AppError_1[(_0x10b619(0x13a))]('ERR_FORBIDDEN',0x193);const _0x5e1a71=await(0x0,DeleteCompanyService_1['default'])(_0x51d60c);return _0x519922[_0x10b619(0x14c)](0xc8)[_0x10b619(0x120)](_0x5e1a71);};exports['remove']=remove;const listPlan=async(_0x4297bb,_0x3391e5)=>{const _0x2b6f16=a12_0x4109f7,{id:_0x2d5a68}=_0x4297bb[_0x2b6f16(0x140)],_0x460cfe=_0x4297bb[_0x2b6f16(0x168)]['authorization'],[,_0x2d4356]=_0x460cfe[_0x2b6f16(0x135)]('\x20'),_0xbfb6e6=(0x0,jsonwebtoken_1[_0x2b6f16(0x13b)])(_0x2d4356,auth_1['default']['secret']),{id:_0x4801d8,profile:_0x338847,companyId:_0x5d731e}=_0xbfb6e6,_0x371980=await User_1[_0x2b6f16(0x13a)]['findByPk'](_0x4801d8);if(_0x371980['super']===!![]||_0x5d731e['toString']()===_0x2d5a68){const _0x1e7c68=await(0x0,ShowPlanCompanyService_1['default'])(_0x2d5a68);return _0x3391e5[_0x2b6f16(0x14c)](0xc8)[_0x2b6f16(0x120)](_0x1e7c68);}else return _0x3391e5[_0x2b6f16(0x14c)](0x190)['json']({'error':'VocÃª\x20nÃ£o\x20possui\x20permissÃ£o\x20para\x20acessar\x20este\x20recurso!'});};exports[a12_0x4109f7(0x149)]=listPlan;const indexPlan=async(_0x5aa9b5,_0x216180)=>{const _0x20ccbc=a12_0x4109f7,{searchParam:_0x270634,pageNumber:_0x31c1be}=_0x5aa9b5[_0x20ccbc(0x14b)],_0x591156=_0x5aa9b5[_0x20ccbc(0x168)][_0x20ccbc(0x155)],[,_0x240dab]=_0x591156[_0x20ccbc(0x135)]('\x20'),_0x24e8ba=(0x0,jsonwebtoken_1[_0x20ccbc(0x13b)])(_0x240dab,auth_1[_0x20ccbc(0x13a)][_0x20ccbc(0x12b)]),{id:_0x22e65d,profile:_0x42050b,companyId:_0x1fc8d6}=_0x24e8ba,_0x32e403=await User_1['default'][_0x20ccbc(0x170)](_0x22e65d);if(_0x32e403[_0x20ccbc(0x14d)]===!![]){const _0x230ec9=await(0x0,ListCompaniesPlanService_1[_0x20ccbc(0x13a)])();return _0x216180['json']({'companies':_0x230ec9});}else return _0x216180[_0x20ccbc(0x14c)](0x190)[_0x20ccbc(0x120)]({'error':_0x20ccbc(0x13c)});};exports[a12_0x4109f7(0x15c)]=indexPlan;