const a19_0x2f747b=a19_0x32a6;(function(_0x45dd2f,_0xaf2ffc){const _0x3bbb8f=a19_0x32a6,_0x5211cd=_0x45dd2f();while(!![]){try{const _0x2d77c9=parseInt(_0x3bbb8f(0x1e5))/0x1*(-parseInt(_0x3bbb8f(0x1e4))/0x2)+-parseInt(_0x3bbb8f(0x1bd))/0x3*(parseInt(_0x3bbb8f(0x1db))/0x4)+parseInt(_0x3bbb8f(0x1c3))/0x5+parseInt(_0x3bbb8f(0x1c6))/0x6*(-parseInt(_0x3bbb8f(0x1b3))/0x7)+-parseInt(_0x3bbb8f(0x1ce))/0x8+-parseInt(_0x3bbb8f(0x1e6))/0x9+parseInt(_0x3bbb8f(0x1d9))/0xa;if(_0x2d77c9===_0xaf2ffc)break;else _0x5211cd['push'](_0x5211cd['shift']());}catch(_0x48a701){_0x5211cd['push'](_0x5211cd['shift']());}}}(a19_0x27a0,0xef40b));const a19_0x1380d2=(function(){let _0x1675ea=!![];return function(_0x566881,_0xada38c){const _0x4e9de5=_0x1675ea?function(){const _0x925ddb=a19_0x32a6;if(_0xada38c){const _0x376022=_0xada38c[_0x925ddb(0x1b8)](_0x566881,arguments);return _0xada38c=null,_0x376022;}}:function(){};return _0x1675ea=![],_0x4e9de5;};}()),a19_0xbd3300=a19_0x1380d2(this,function(){const _0x248b12=a19_0x32a6;return a19_0xbd3300['toString']()['search']('(((.+)+)+)+$')[_0x248b12(0x1ae)]()[_0x248b12(0x1be)](a19_0xbd3300)[_0x248b12(0x1e2)](_0x248b12(0x1d8));});function a19_0x32a6(_0x16b8af,_0x5cb16e){const _0x5b5d76=a19_0x27a0();return a19_0x32a6=function(_0xbd3300,_0x1380d2){_0xbd3300=_0xbd3300-0x1ac;let _0x27a0dc=_0x5b5d76[_0xbd3300];return _0x27a0dc;},a19_0x32a6(_0x16b8af,_0x5cb16e);}a19_0xbd3300();'use strict';function a19_0x27a0(){const _0x4da596=['list','index','../services/FileServices/SimpleListService','status','search','params','206CxEpxf','11260YjHulg','6524460ZiRPDy','../services/FileServices/CreateService','../libs/socket','__esModule','uploadMedias','toString','company-','../services/FileServices/DeleteAllService','filename','show','432362HcXdrE','send','__importDefault','profile','length','apply','-file','../models/FilesOptions','remove','files','1377297qWeJdP','constructor','defineProperty','query','Arquivos\x20atualizados','json','5033605tFVlcs','../services/FileServices/ShowService','../services/FileServices/UpdateService','24mHgjky','findOne','../services/FileServices/ListService','body','user','message','head','emit','2203160kknSGJ','company','delete','replace','getIO','File\x20List\x20deleted','-mainchannel','lodash','update','default','(((.+)+)+)+$','37577340nnegwP','create','12dZkquc','isArray','store'];a19_0x27a0=function(){return _0x4da596;};return a19_0x27a0();}var __importDefault=this&&this[a19_0x2f747b(0x1b5)]||function(_0x4d47e1){return _0x4d47e1&&_0x4d47e1['__esModule']?_0x4d47e1:{'default':_0x4d47e1};};Object[a19_0x2f747b(0x1bf)](exports,a19_0x2f747b(0x1ac),{'value':!![]}),exports['list']=exports['removeAll']=exports[a19_0x2f747b(0x1bb)]=exports['update']=exports[a19_0x2f747b(0x1ad)]=exports[a19_0x2f747b(0x1b2)]=exports[a19_0x2f747b(0x1dd)]=exports[a19_0x2f747b(0x1df)]=void 0x0;const socket_1=require(a19_0x2f747b(0x1e8)),AppError_1=__importDefault(require('../errors/AppError')),lodash_1=require(a19_0x2f747b(0x1d5)),CreateService_1=__importDefault(require(a19_0x2f747b(0x1e7))),ListService_1=__importDefault(require(a19_0x2f747b(0x1c8))),UpdateService_1=__importDefault(require(a19_0x2f747b(0x1c5))),ShowService_1=__importDefault(require(a19_0x2f747b(0x1c4))),DeleteService_1=__importDefault(require('../services/FileServices/DeleteService')),SimpleListService_1=__importDefault(require(a19_0x2f747b(0x1e0))),DeleteAllService_1=__importDefault(require(a19_0x2f747b(0x1b0))),FilesOptions_1=__importDefault(require(a19_0x2f747b(0x1ba))),index=async(_0x2f6fc5,_0x12c4c5)=>{const _0x267560=a19_0x2f747b,{pageNumber:_0x7fc0b1,searchParam:_0x4fdd4f}=_0x2f6fc5[_0x267560(0x1c0)],{companyId:_0x357866}=_0x2f6fc5[_0x267560(0x1ca)],{files:_0x495aa4,count:_0x2fa382,hasMore:_0xc4e0ca}=await(0x0,ListService_1['default'])({'searchParam':_0x4fdd4f,'pageNumber':_0x7fc0b1,'companyId':_0x357866});return _0x12c4c5[_0x267560(0x1c2)]({'files':_0x495aa4,'count':_0x2fa382,'hasMore':_0xc4e0ca});};exports[a19_0x2f747b(0x1df)]=index;const store=async(_0x469bc0,_0x36f102)=>{const _0x1418c1=a19_0x2f747b,{name:_0x1202a0,message:_0x44dbd7,options:_0x203384}=_0x469bc0[_0x1418c1(0x1c9)],{companyId:_0x43e6ab}=_0x469bc0[_0x1418c1(0x1ca)],_0x46bcd5=await(0x0,CreateService_1[_0x1418c1(0x1d7)])({'name':_0x1202a0,'message':_0x44dbd7,'options':_0x203384,'companyId':_0x43e6ab}),_0x5e6d82=(0x0,socket_1[_0x1418c1(0x1d2)])();return _0x5e6d82['to'](_0x1418c1(0x1af)+_0x43e6ab+_0x1418c1(0x1d4))[_0x1418c1(0x1cd)]('company'+_0x43e6ab+_0x1418c1(0x1b9),{'action':_0x1418c1(0x1da),'fileList':_0x46bcd5}),_0x36f102['status'](0xc8)[_0x1418c1(0x1c2)](_0x46bcd5);};exports['store']=store;const show=async(_0x4f6f8f,_0x24443e)=>{const _0x206efc=a19_0x2f747b,{fileId:_0x5225d2}=_0x4f6f8f['params'],{companyId:_0x4c2bbd}=_0x4f6f8f[_0x206efc(0x1ca)],_0x1057e5=await(0x0,ShowService_1[_0x206efc(0x1d7)])(_0x5225d2,_0x4c2bbd);return _0x24443e[_0x206efc(0x1e1)](0xc8)[_0x206efc(0x1c2)](_0x1057e5);};exports[a19_0x2f747b(0x1b2)]=show;const uploadMedias=async(_0x380144,_0x3cf43e)=>{const _0x2e62d8=a19_0x2f747b,{fileId:_0x2da477,id:_0x41dea3,mediaType:_0x2f8905}=_0x380144[_0x2e62d8(0x1c9)],_0x3c21fe=_0x380144[_0x2e62d8(0x1bc)],_0x698ae7=(0x0,lodash_1[_0x2e62d8(0x1cc)])(_0x3c21fe);try{let _0x3bdffe;if(_0x3c21fe[_0x2e62d8(0x1b7)]>0x0)for(const [_0x15c4eb,_0x4eb94e]of _0x3c21fe['entries']()){_0x3bdffe=await FilesOptions_1['default'][_0x2e62d8(0x1c7)]({'where':{'fileId':_0x2da477,'id':Array[_0x2e62d8(0x1dc)](_0x41dea3)?_0x41dea3[_0x15c4eb]:_0x41dea3}}),_0x3bdffe[_0x2e62d8(0x1d6)]({'path':_0x4eb94e[_0x2e62d8(0x1b1)][_0x2e62d8(0x1d1)]('/','-'),'mediaType':Array[_0x2e62d8(0x1dc)](_0x2f8905)?_0x2f8905[_0x15c4eb]:_0x2f8905});}return _0x3cf43e[_0x2e62d8(0x1b4)]({'mensagem':_0x2e62d8(0x1c1)});}catch(_0x5137fb){throw new AppError_1[(_0x2e62d8(0x1d7))](_0x5137fb[_0x2e62d8(0x1cb)]);}};exports[a19_0x2f747b(0x1ad)]=uploadMedias;const update=async(_0x3ede93,_0x227bb7)=>{const _0x38c91f=a19_0x2f747b;if(_0x3ede93['user'][_0x38c91f(0x1b6)]!=='admin')throw new AppError_1[(_0x38c91f(0x1d7))]('ERR_NO_PERMISSION',0x193);const {fileId:_0x2513e1}=_0x3ede93[_0x38c91f(0x1e3)],_0x2ee731=_0x3ede93[_0x38c91f(0x1c9)],{companyId:_0x17dc7c}=_0x3ede93['user'],_0x2420d6=await(0x0,UpdateService_1[_0x38c91f(0x1d7)])({'fileData':_0x2ee731,'id':_0x2513e1,'companyId':_0x17dc7c}),_0x372de8=(0x0,socket_1[_0x38c91f(0x1d2)])();return _0x372de8['to'](_0x38c91f(0x1af)+_0x17dc7c+_0x38c91f(0x1d4))[_0x38c91f(0x1cd)](_0x38c91f(0x1cf)+_0x17dc7c+_0x38c91f(0x1b9),{'action':_0x38c91f(0x1d6),'fileList':_0x2420d6}),_0x227bb7[_0x38c91f(0x1e1)](0xc8)[_0x38c91f(0x1c2)](_0x2420d6);};exports[a19_0x2f747b(0x1d6)]=update;const remove=async(_0x458d12,_0x6a0bbc)=>{const _0x1edd87=a19_0x2f747b,{fileId:_0x31d225}=_0x458d12[_0x1edd87(0x1e3)],{companyId:_0x3af3a8}=_0x458d12[_0x1edd87(0x1ca)];await(0x0,DeleteService_1[_0x1edd87(0x1d7)])(_0x31d225,_0x3af3a8);const _0xcfc056=(0x0,socket_1[_0x1edd87(0x1d2)])();return _0xcfc056['to'](_0x1edd87(0x1af)+_0x3af3a8+_0x1edd87(0x1d4))[_0x1edd87(0x1cd)](_0x1edd87(0x1cf)+_0x3af3a8+_0x1edd87(0x1b9),{'action':_0x1edd87(0x1d0),'fileId':_0x31d225}),_0x6a0bbc[_0x1edd87(0x1e1)](0xc8)[_0x1edd87(0x1c2)]({'message':_0x1edd87(0x1d3)});};exports[a19_0x2f747b(0x1bb)]=remove;const removeAll=async(_0x2b25c5,_0x972e78)=>{const _0x58703a=a19_0x2f747b,{companyId:_0x33650b}=_0x2b25c5[_0x58703a(0x1ca)];return await(0x0,DeleteAllService_1[_0x58703a(0x1d7)])(_0x33650b),_0x972e78['send']();};exports['removeAll']=removeAll;const list=async(_0x26ffbc,_0x32d4d5)=>{const _0x21e828=a19_0x2f747b,{searchParam:_0x4e3a9c}=_0x26ffbc['query'],{companyId:_0x3fd8a3}=_0x26ffbc[_0x21e828(0x1ca)],_0x408e5d=await(0x0,SimpleListService_1[_0x21e828(0x1d7)])({'searchParam':_0x4e3a9c,'companyId':_0x3fd8a3});return _0x32d4d5['json'](_0x408e5d);};exports[a19_0x2f747b(0x1de)]=list;