const a43_0x2eae38=a43_0x4d12;(function(_0x4eff3a,_0x5e1429){const _0x2927e9=a43_0x4d12,_0x33aa81=_0x4eff3a();while(!![]){try{const _0x208d41=parseInt(_0x2927e9(0x1f4))/0x1*(parseInt(_0x2927e9(0x1cf))/0x2)+-parseInt(_0x2927e9(0x1e0))/0x3*(parseInt(_0x2927e9(0x1cb))/0x4)+parseInt(_0x2927e9(0x1e1))/0x5*(-parseInt(_0x2927e9(0x1f0))/0x6)+parseInt(_0x2927e9(0x1e4))/0x7+-parseInt(_0x2927e9(0x1d7))/0x8*(-parseInt(_0x2927e9(0x1e7))/0x9)+parseInt(_0x2927e9(0x1f3))/0xa*(-parseInt(_0x2927e9(0x1df))/0xb)+-parseInt(_0x2927e9(0x1ef))/0xc*(parseInt(_0x2927e9(0x1d4))/0xd);if(_0x208d41===_0x5e1429)break;else _0x33aa81['push'](_0x33aa81['shift']());}catch(_0x1ecf65){_0x33aa81['push'](_0x33aa81['shift']());}}}(a43_0x210f,0x483f4));function a43_0x210f(){const _0x2cb5f1=['Script\x20executado\x20com\x20sucesso','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:\x20','Ubuntu','search','732288DPqvYQ','1920nIXWve','__esModule','exec','3620MMDnWt','338692acecDz','apply','error','docker','trim','390316zwVKAO','includes','defineProperty','toString','2FtbrFM','upgradeBackend','checkUpgrade','(((.+)+)+)+$','ubuntu','156KBtiAo','Avisos\x20durante\x20a\x20execução\x20do\x20script:\x20','message','45304zXYdmp','sh\x20upgrade_backend.sh','/etc/os-release','Saída\x20do\x20script:\x0a','https://api.github.com/repos/doug1043/Whaticket-Daumzap/releases/latest','get','Erro\x20ao\x20executar\x20o\x20script:\x20','json','484hQkbog','3WaoYeA','2680KGnDSq','constructor','utf-8','2738806fdaAep','readFileSync','./upgrade_backend.sh','927WBequT','log','status','default'];a43_0x210f=function(){return _0x2cb5f1;};return a43_0x210f();}const a43_0x2b6def=(function(){let _0x3f8172=!![];return function(_0x23ef7d,_0xa36677){const _0x5caca8=_0x3f8172?function(){const _0x6085=a43_0x4d12;if(_0xa36677){const _0x310127=_0xa36677[_0x6085(0x1f5)](_0x23ef7d,arguments);return _0xa36677=null,_0x310127;}}:function(){};return _0x3f8172=![],_0x5caca8;};}()),a43_0xb211fb=a43_0x2b6def(this,function(){const _0x43adce=a43_0x4d12;return a43_0xb211fb['toString']()[_0x43adce(0x1ee)](_0x43adce(0x1d2))[_0x43adce(0x1ce)]()[_0x43adce(0x1e2)](a43_0xb211fb)['search'](_0x43adce(0x1d2));});function a43_0x4d12(_0x45dfbd,_0x55d86b){const _0x4dc3b5=a43_0x210f();return a43_0x4d12=function(_0xb211fb,_0x2b6def){_0xb211fb=_0xb211fb-0x1c8;let _0x210f8b=_0x4dc3b5[_0xb211fb];return _0x210f8b;},a43_0x4d12(_0x45dfbd,_0x55d86b);}a43_0xb211fb();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x20c9ef){const _0x3e7c38=a43_0x4d12;return _0x20c9ef&&_0x20c9ef[_0x3e7c38(0x1f1)]?_0x20c9ef:{'default':_0x20c9ef};};Object[a43_0x2eae38(0x1cd)](exports,a43_0x2eae38(0x1f1),{'value':!![]}),exports['upgradeBackend']=exports['checkUpgrade']=void 0x0;const axios_1=__importDefault(require('axios')),child_process_1=require('child_process'),os_1=__importDefault(require('os')),fs_1=require('fs'),githubApiUrl=a43_0x2eae38(0x1db),detectEnvironment=()=>{const _0x59f642=a43_0x2eae38,_0x2f0936=os_1['default']['platform']();if(_0x2f0936==='linux'){const _0x381516=(0x0,fs_1[_0x59f642(0x1e5)])(_0x59f642(0x1d9),_0x59f642(0x1e3));if(_0x381516['includes']('Alpine'))return _0x59f642(0x1c9);else{if(_0x381516[_0x59f642(0x1cc)](_0x59f642(0x1ed)))return _0x59f642(0x1d3);}}return'unknown';},checkUpgrade=async(_0x28a479,_0x3da83e)=>{const _0x34a27b=a43_0x2eae38;try{console[_0x34a27b(0x1e8)]('Iniciando\x20verificação\x20de\x20atualizações\x20no\x20GitHub');const _0x48939c=await axios_1[_0x34a27b(0x1ea)][_0x34a27b(0x1dc)](githubApiUrl);if(_0x48939c[_0x34a27b(0x1e9)]===0xc8){const {tag_name:_0x494205,name:_0x5ac327,html_url:_0x3d9fd8,body:_0x429726}=_0x48939c['data'];_0x3da83e[_0x34a27b(0x1e9)](0xc8)[_0x34a27b(0x1de)]({'tag':_0x494205,'name':_0x5ac327,'url':_0x3d9fd8,'changelog':_0x429726});}else _0x3da83e[_0x34a27b(0x1e9)](_0x48939c[_0x34a27b(0x1e9)])['json']({'error':_0x34a27b(0x1ec)+_0x48939c['statusText']});}catch(_0x2c1c45){console[_0x34a27b(0x1c8)]('Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:',_0x2c1c45[_0x34a27b(0x1d6)]),_0x3da83e[_0x34a27b(0x1e9)](0x1f4)[_0x34a27b(0x1de)]({'error':'Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub'});}};exports[a43_0x2eae38(0x1d1)]=checkUpgrade;const upgradeBackend=async(_0x47edad,_0x5a02f7)=>{const _0x59db99=a43_0x2eae38;try{const _0x345b62=detectEnvironment();let _0x464007='';switch(_0x345b62){case _0x59db99(0x1c9):_0x464007=_0x59db99(0x1d8);break;case _0x59db99(0x1d3):_0x464007=_0x59db99(0x1e6);break;default:throw new Error('Ambiente\x20desconhecido.\x20Não\x20foi\x20possível\x20determinar\x20o\x20sistema\x20operacional.');}(0x0,child_process_1[_0x59db99(0x1f2)])(_0x464007,(_0x5dc9ca,_0x21e20f,_0x3fac95)=>{const _0x440a36=_0x59db99;if(_0x5dc9ca)return console['error'](_0x440a36(0x1dd)+_0x5dc9ca[_0x440a36(0x1d6)]),_0x5a02f7[_0x440a36(0x1e9)](0x1f4)[_0x440a36(0x1de)]({'message':'Erro\x20ao\x20executar\x20o\x20script','error':_0x5dc9ca[_0x440a36(0x1d6)]});return _0x3fac95&&console['warn'](_0x440a36(0x1d5)+_0x3fac95),console[_0x440a36(0x1e8)](_0x440a36(0x1da)+_0x21e20f),_0x5a02f7['status'](0xc8)[_0x440a36(0x1de)]({'message':_0x440a36(0x1eb),'output':_0x21e20f,'warnings':_0x3fac95?_0x3fac95[_0x440a36(0x1ca)]():undefined});});}catch(_0x14f945){return console['error']('Erro\x20ao\x20fazer\x20atualização:',_0x14f945[_0x59db99(0x1d6)]),_0x5a02f7[_0x59db99(0x1e9)](0x1f4)['json']({'error':'Erro\x20de\x20atualização','details':_0x14f945[_0x59db99(0x1d6)]});}};exports[a43_0x2eae38(0x1d0)]=upgradeBackend;