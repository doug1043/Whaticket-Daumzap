const a42_0x5bea92=a42_0x2505;(function(_0x15af49,_0x268722){const _0x2b2f93=a42_0x2505,_0x514aaf=_0x15af49();while(!![]){try{const _0x72cb3c=-parseInt(_0x2b2f93(0x1c4))/0x1*(-parseInt(_0x2b2f93(0x1ce))/0x2)+-parseInt(_0x2b2f93(0x1ef))/0x3+-parseInt(_0x2b2f93(0x1c2))/0x4+parseInt(_0x2b2f93(0x1d0))/0x5*(-parseInt(_0x2b2f93(0x1e7))/0x6)+parseInt(_0x2b2f93(0x1c8))/0x7*(-parseInt(_0x2b2f93(0x1d2))/0x8)+-parseInt(_0x2b2f93(0x1cf))/0x9+parseInt(_0x2b2f93(0x1d6))/0xa;if(_0x72cb3c===_0x268722)break;else _0x514aaf['push'](_0x514aaf['shift']());}catch(_0x5803b1){_0x514aaf['push'](_0x514aaf['shift']());}}}(a42_0x4e9f,0x6aa5b));const a42_0x20a9f6=(function(){let _0x3d357c=!![];return function(_0x5dc738,_0x44b0a9){const _0x5c7e8a=_0x3d357c?function(){const _0x48c77b=a42_0x2505;if(_0x44b0a9){const _0x35ff13=_0x44b0a9[_0x48c77b(0x1ed)](_0x5dc738,arguments);return _0x44b0a9=null,_0x35ff13;}}:function(){};return _0x3d357c=![],_0x5c7e8a;};}()),a42_0x1043b1=a42_0x20a9f6(this,function(){const _0x578cb8=a42_0x2505;return a42_0x1043b1[_0x578cb8(0x1d1)]()[_0x578cb8(0x1e2)](_0x578cb8(0x1d5))[_0x578cb8(0x1d1)]()[_0x578cb8(0x1cb)](a42_0x1043b1)[_0x578cb8(0x1e2)](_0x578cb8(0x1d5));});a42_0x1043b1();'use strict';var __importDefault=this&&this[a42_0x5bea92(0x1c7)]||function(_0x24de4b){const _0x3e3ba5=a42_0x5bea92;return _0x24de4b&&_0x24de4b[_0x3e3ba5(0x1c9)]?_0x24de4b:{'default':_0x24de4b};};Object[a42_0x5bea92(0x1cc)](exports,'__esModule',{'value':!![]}),exports[a42_0x5bea92(0x1e4)]=exports[a42_0x5bea92(0x1f2)]=void 0x0;const axios_1=__importDefault(require(a42_0x5bea92(0x1f3))),child_process_1=require(a42_0x5bea92(0x1c3)),os_1=__importDefault(require('os')),fs_1=require('fs'),githubApiUrl=a42_0x5bea92(0x1de),detectEnvironment=()=>{const _0x3b1f51=a42_0x5bea92,_0x1ace20=os_1['default']['platform']();if(_0x1ace20===_0x3b1f51(0x1c5)){const _0x3833bc=(0x0,fs_1['readFileSync'])(_0x3b1f51(0x1da),'utf-8');if(_0x3833bc['includes'](_0x3b1f51(0x1d3)))return'docker';else{if(_0x3833bc[_0x3b1f51(0x1e6)](_0x3b1f51(0x1d7)))return _0x3b1f51(0x1df);}}return _0x3b1f51(0x1db);},checkUpgrade=async(_0x247dcf,_0x1126dc)=>{const _0x317a23=a42_0x5bea92;try{console[_0x317a23(0x1f1)](_0x317a23(0x1e9));const _0x53f7c0=await axios_1[_0x317a23(0x1d8)][_0x317a23(0x1ec)](githubApiUrl);if(_0x53f7c0[_0x317a23(0x1d4)]===0xc8){const {tag_name:_0x7ca5b6,name:_0x59550c,html_url:_0xad60bc,body:_0x2ce12f}=_0x53f7c0[_0x317a23(0x1c1)];_0x1126dc[_0x317a23(0x1d4)](0xc8)['json']({'tag':_0x7ca5b6,'name':_0x59550c,'url':_0xad60bc,'changelog':_0x2ce12f});}else _0x1126dc[_0x317a23(0x1d4)](_0x53f7c0[_0x317a23(0x1d4)])[_0x317a23(0x1f0)]({'error':_0x317a23(0x1ee)+_0x53f7c0[_0x317a23(0x1e5)]});}catch(_0x16bd46){console[_0x317a23(0x1c0)](_0x317a23(0x1ca),_0x16bd46[_0x317a23(0x1e8)]),_0x1126dc[_0x317a23(0x1d4)](0x1f4)['json']({'error':'Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub'});}};exports['checkUpgrade']=checkUpgrade;function a42_0x4e9f(){const _0x304eeb=['19646qQPMRq','3576285WqVckM','15pwwwxj','toString','40AqvgAT','Alpine','status','(((.+)+)+)+$','27327590LUZCQY','Ubuntu','default','Avisos\x20durante\x20a\x20execução\x20do\x20script:\x20','/etc/os-release','unknown','Erro\x20ao\x20executar\x20o\x20script:\x20','Erro\x20de\x20atualização','https://api.github.com/repos/doug1043/Whaticket-Daumzap/releases/latest','ubuntu','warn','trim','search','sh\x20upgrade_backend.sh','upgradeBackend','statusText','includes','920274siaiKx','message','Iniciando\x20verificação\x20de\x20atualizações\x20no\x20GitHub','docker','Erro\x20ao\x20fazer\x20atualização:','get','apply','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:\x20','1178400igbmqM','json','log','checkUpgrade','axios','Ambiente\x20desconhecido.\x20Não\x20foi\x20possível\x20determinar\x20o\x20sistema\x20operacional.','error','data','2622496EOAgsP','child_process','23Imraxk','linux','exec','__importDefault','862309XjFJgE','__esModule','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:','constructor','defineProperty','Script\x20executado\x20com\x20sucesso'];a42_0x4e9f=function(){return _0x304eeb;};return a42_0x4e9f();}const upgradeBackend=async(_0x458e92,_0x27ca54)=>{const _0x5e3c67=a42_0x5bea92;try{const _0x17de95=detectEnvironment();let _0x4d14fa='';switch(_0x17de95){case _0x5e3c67(0x1ea):_0x4d14fa=_0x5e3c67(0x1e3);break;case _0x5e3c67(0x1df):_0x4d14fa='./upgrade_backend.sh';break;default:throw new Error(_0x5e3c67(0x1f4));}(0x0,child_process_1[_0x5e3c67(0x1c6)])(_0x4d14fa,(_0x2d3c20,_0x23c7a5,_0x4ffd1c)=>{const _0x4fdb36=_0x5e3c67;if(_0x2d3c20)return console[_0x4fdb36(0x1c0)](_0x4fdb36(0x1dc)+_0x2d3c20[_0x4fdb36(0x1e8)]),_0x27ca54[_0x4fdb36(0x1d4)](0x1f4)[_0x4fdb36(0x1f0)]({'message':'Erro\x20ao\x20executar\x20o\x20script','error':_0x2d3c20[_0x4fdb36(0x1e8)]});return _0x4ffd1c&&console[_0x4fdb36(0x1e0)](_0x4fdb36(0x1d9)+_0x4ffd1c),console[_0x4fdb36(0x1f1)]('Saída\x20do\x20script:\x0a'+_0x23c7a5),_0x27ca54[_0x4fdb36(0x1d4)](0xc8)[_0x4fdb36(0x1f0)]({'message':_0x4fdb36(0x1cd),'output':_0x23c7a5,'warnings':_0x4ffd1c?_0x4ffd1c[_0x4fdb36(0x1e1)]():undefined});});}catch(_0x553570){return console[_0x5e3c67(0x1c0)](_0x5e3c67(0x1eb),_0x553570[_0x5e3c67(0x1e8)]),_0x27ca54[_0x5e3c67(0x1d4)](0x1f4)[_0x5e3c67(0x1f0)]({'error':_0x5e3c67(0x1dd),'details':_0x553570['message']});}};function a42_0x2505(_0x50d9fd,_0x1f2a90){const _0x22aef1=a42_0x4e9f();return a42_0x2505=function(_0x1043b1,_0x20a9f6){_0x1043b1=_0x1043b1-0x1c0;let _0x4e9fe2=_0x22aef1[_0x1043b1];return _0x4e9fe2;},a42_0x2505(_0x50d9fd,_0x1f2a90);}exports['upgradeBackend']=upgradeBackend;