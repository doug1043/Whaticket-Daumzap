const a42_0x57b8c7=a42_0x2338;(function(_0x241d86,_0x5586d6){const _0x5080a5=a42_0x2338,_0x341459=_0x241d86();while(!![]){try{const _0x32e38a=-parseInt(_0x5080a5(0x210))/0x1*(parseInt(_0x5080a5(0x1f8))/0x2)+parseInt(_0x5080a5(0x20a))/0x3+parseInt(_0x5080a5(0x1fb))/0x4+-parseInt(_0x5080a5(0x1f0))/0x5*(parseInt(_0x5080a5(0x1eb))/0x6)+-parseInt(_0x5080a5(0x1f1))/0x7+parseInt(_0x5080a5(0x209))/0x8*(parseInt(_0x5080a5(0x21d))/0x9)+parseInt(_0x5080a5(0x20e))/0xa;if(_0x32e38a===_0x5586d6)break;else _0x341459['push'](_0x341459['shift']());}catch(_0x2a1ead){_0x341459['push'](_0x341459['shift']());}}}(a42_0x19bb,0x67d3d));const a42_0x2638b=(function(){let _0x5b84a9=!![];return function(_0x64c007,_0x55bfe3){const _0x1ae0f3=_0x5b84a9?function(){const _0x1bb4db=a42_0x2338;if(_0x55bfe3){const _0x5b39e9=_0x55bfe3[_0x1bb4db(0x204)](_0x64c007,arguments);return _0x55bfe3=null,_0x5b39e9;}}:function(){};return _0x5b84a9=![],_0x1ae0f3;};}()),a42_0x154e2e=a42_0x2638b(this,function(){const _0x1de652=a42_0x2338;return a42_0x154e2e[_0x1de652(0x21a)]()[_0x1de652(0x218)](_0x1de652(0x201))[_0x1de652(0x21a)]()[_0x1de652(0x1f3)](a42_0x154e2e)['search'](_0x1de652(0x201));});a42_0x154e2e();'use strict';function a42_0x2338(_0x376d63,_0x10115a){const _0xe648b0=a42_0x19bb();return a42_0x2338=function(_0x154e2e,_0x2638b){_0x154e2e=_0x154e2e-0x1eb;let _0x19bb86=_0xe648b0[_0x154e2e];return _0x19bb86;},a42_0x2338(_0x376d63,_0x10115a);}var __importDefault=this&&this[a42_0x57b8c7(0x1f7)]||function(_0x5bb101){return _0x5bb101&&_0x5bb101['__esModule']?_0x5bb101:{'default':_0x5bb101};};function a42_0x19bb(){const _0x98842d=['statusText','default','2207310uUAVcK','3657738JvMChx','utf-8','constructor','platform','sh\x20upgrade_backend.sh','ubuntu','__importDefault','337640vSPhBB','log','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub','1242532hzmTpT','message','json','axios','child_process','status','(((.+)+)+)+$','upgradeBackend','Erro\x20de\x20atualização','apply','error','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:','__esModule','linux','8SnYTiM','194622dFfubT','exec','Iniciando\x20verificação\x20de\x20atualizações\x20no\x20GitHub','unknown','13490910WFMrKf','Alpine','5UUVocc','warn','checkUpgrade','trim','Saída\x20do\x20script:\x0a','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:\x20','Erro\x20ao\x20fazer\x20atualização:','get','search','Script\x20executado\x20com\x20sucesso','toString','docker','defineProperty','4578975MWxUPz','./upgrade_backend.sh','Erro\x20ao\x20executar\x20o\x20script','6ZEvRws','Avisos\x20durante\x20a\x20execução\x20do\x20script:\x20','https://api.github.com/repos/doug1043/Whaticket-Daumzap/releases/latest'];a42_0x19bb=function(){return _0x98842d;};return a42_0x19bb();}Object[a42_0x57b8c7(0x21c)](exports,a42_0x57b8c7(0x207),{'value':!![]}),exports[a42_0x57b8c7(0x202)]=exports[a42_0x57b8c7(0x212)]=void 0x0;const axios_1=__importDefault(require(a42_0x57b8c7(0x1fe))),child_process_1=require(a42_0x57b8c7(0x1ff)),os_1=__importDefault(require('os')),fs_1=require('fs'),githubApiUrl=a42_0x57b8c7(0x1ed),detectEnvironment=()=>{const _0x44cbbd=a42_0x57b8c7,_0x1bc246=os_1[_0x44cbbd(0x1ef)][_0x44cbbd(0x1f4)]();if(_0x1bc246===_0x44cbbd(0x208)){const _0x4beeab=(0x0,fs_1['readFileSync'])('/etc/os-release',_0x44cbbd(0x1f2));if(_0x4beeab['includes'](_0x44cbbd(0x20f)))return _0x44cbbd(0x21b);else{if(_0x4beeab['includes']('Ubuntu'))return _0x44cbbd(0x1f6);}}return _0x44cbbd(0x20d);},checkUpgrade=async(_0x4304de,_0x47782d)=>{const _0x3a9e47=a42_0x57b8c7;try{console[_0x3a9e47(0x1f9)](_0x3a9e47(0x20c));const _0x334a98=await axios_1[_0x3a9e47(0x1ef)][_0x3a9e47(0x217)](githubApiUrl);if(_0x334a98['status']===0xc8){const {tag_name:_0x4a7c8d,name:_0x163018,html_url:_0x359edb,body:_0x31b58c}=_0x334a98['data'];_0x47782d[_0x3a9e47(0x200)](0xc8)[_0x3a9e47(0x1fd)]({'tag':_0x4a7c8d,'name':_0x163018,'url':_0x359edb,'changelog':_0x31b58c});}else _0x47782d['status'](_0x334a98['status'])[_0x3a9e47(0x1fd)]({'error':_0x3a9e47(0x215)+_0x334a98[_0x3a9e47(0x1ee)]});}catch(_0x8394cc){console[_0x3a9e47(0x205)](_0x3a9e47(0x206),_0x8394cc[_0x3a9e47(0x1fc)]),_0x47782d[_0x3a9e47(0x200)](0x1f4)[_0x3a9e47(0x1fd)]({'error':_0x3a9e47(0x1fa)});}};exports[a42_0x57b8c7(0x212)]=checkUpgrade;const upgradeBackend=async(_0x2ed356,_0xb4e198)=>{const _0x273875=a42_0x57b8c7;try{const _0x1a63c9=detectEnvironment();let _0x3663e1='';switch(_0x1a63c9){case _0x273875(0x21b):_0x3663e1=_0x273875(0x1f5);break;case'ubuntu':_0x3663e1=_0x273875(0x21e);break;default:throw new Error('Ambiente\x20desconhecido.\x20Não\x20foi\x20possível\x20determinar\x20o\x20sistema\x20operacional.');}(0x0,child_process_1[_0x273875(0x20b)])(_0x3663e1,(_0x1defc7,_0x92f91d,_0x5350ec)=>{const _0x43cd3b=_0x273875;if(_0x1defc7)return console[_0x43cd3b(0x205)]('Erro\x20ao\x20executar\x20o\x20script:\x20'+_0x1defc7[_0x43cd3b(0x1fc)]),_0xb4e198[_0x43cd3b(0x200)](0x1f4)['json']({'message':_0x43cd3b(0x21f),'error':_0x1defc7[_0x43cd3b(0x1fc)]});return _0x5350ec&&console[_0x43cd3b(0x211)](_0x43cd3b(0x1ec)+_0x5350ec),console[_0x43cd3b(0x1f9)](_0x43cd3b(0x214)+_0x92f91d),_0xb4e198[_0x43cd3b(0x200)](0xc8)[_0x43cd3b(0x1fd)]({'message':_0x43cd3b(0x219),'output':_0x92f91d,'warnings':_0x5350ec?_0x5350ec[_0x43cd3b(0x213)]():undefined});});}catch(_0x59d8bb){return console[_0x273875(0x205)](_0x273875(0x216),_0x59d8bb['message']),_0xb4e198[_0x273875(0x200)](0x1f4)[_0x273875(0x1fd)]({'error':_0x273875(0x203),'details':_0x59d8bb[_0x273875(0x1fc)]});}};exports['upgradeBackend']=upgradeBackend;