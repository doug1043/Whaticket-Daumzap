function a51_0x127e(_0x3ab272,_0x3d0ef3){const _0x12121b=a51_0x3598();return a51_0x127e=function(_0x14b741,_0x1ac42e){_0x14b741=_0x14b741-0x170;let _0x3598f0=_0x12121b[_0x14b741];return _0x3598f0;},a51_0x127e(_0x3ab272,_0x3d0ef3);}const a51_0x5193b8=a51_0x127e;(function(_0x28bd97,_0x17b117){const _0x18d7c6=a51_0x127e,_0x4866e1=_0x28bd97();while(!![]){try{const _0x25b0ac=-parseInt(_0x18d7c6(0x183))/0x1*(parseInt(_0x18d7c6(0x194))/0x2)+-parseInt(_0x18d7c6(0x17b))/0x3*(parseInt(_0x18d7c6(0x192))/0x4)+-parseInt(_0x18d7c6(0x18a))/0x5*(-parseInt(_0x18d7c6(0x17c))/0x6)+-parseInt(_0x18d7c6(0x18e))/0x7*(parseInt(_0x18d7c6(0x172))/0x8)+-parseInt(_0x18d7c6(0x176))/0x9+-parseInt(_0x18d7c6(0x191))/0xa*(parseInt(_0x18d7c6(0x184))/0xb)+parseInt(_0x18d7c6(0x180))/0xc;if(_0x25b0ac===_0x17b117)break;else _0x4866e1['push'](_0x4866e1['shift']());}catch(_0x2104c2){_0x4866e1['push'](_0x4866e1['shift']());}}}(a51_0x3598,0x40f1d));const a51_0x1ac42e=(function(){let _0x4f626a=!![];return function(_0x4fd8fe,_0x45ebe5){const _0x388a4a=_0x4f626a?function(){if(_0x45ebe5){const _0x4a91e8=_0x45ebe5['apply'](_0x4fd8fe,arguments);return _0x45ebe5=null,_0x4a91e8;}}:function(){};return _0x4f626a=![],_0x388a4a;};}()),a51_0x14b741=a51_0x1ac42e(this,function(){const _0x5801a9=a51_0x127e;return a51_0x14b741[_0x5801a9(0x171)]()[_0x5801a9(0x19e)]('(((.+)+)+)+$')[_0x5801a9(0x171)]()[_0x5801a9(0x18b)](a51_0x14b741)[_0x5801a9(0x19e)](_0x5801a9(0x17f));});a51_0x14b741();'use strict';function a51_0x3598(){const _0x2fed8a=['log','json','(((.+)+)+)+$','20601840voipHi','exec','get','171bJZCod','338844Qtgdtp','Ambiente\x20desconhecido.\x20Não\x20foi\x20possível\x20determinar\x20o\x20sistema\x20operacional.','message','statusText','__importDefault','error','596710tivpHf','constructor','warn','defineProperty','1120294iLRXrk','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub','160SQrjXa','64YPQgJC','Erro\x20ao\x20consultar\x20o\x20release\x20no\x20GitHub:\x20','5372pKftyf','__esModule','Erro\x20ao\x20executar\x20o\x20script','platform','Erro\x20ao\x20fazer\x20atualização:','trim','checkUpgrade','linux','utf-8','child_process','search','/etc/os-release','includes','ubuntu','toString','16hOmeJb','default','https://api.github.com/repos/doug1043/Whaticket-Daumzap/releases/latest','Avisos\x20durante\x20a\x20execução\x20do\x20script:\x20','3007881oZulzl','data','readFileSync','status','upgradeBackend','60321NxwMoz','24yveMWm'];a51_0x3598=function(){return _0x2fed8a;};return a51_0x3598();}var __importDefault=this&&this[a51_0x5193b8(0x188)]||function(_0x5e8703){const _0x38e184=a51_0x5193b8;return _0x5e8703&&_0x5e8703[_0x38e184(0x195)]?_0x5e8703:{'default':_0x5e8703};};Object[a51_0x5193b8(0x18d)](exports,'__esModule',{'value':!![]}),exports[a51_0x5193b8(0x17a)]=exports[a51_0x5193b8(0x19a)]=void 0x0;const axios_1=__importDefault(require('axios')),child_process_1=require(a51_0x5193b8(0x19d)),os_1=__importDefault(require('os')),fs_1=require('fs'),githubApiUrl=a51_0x5193b8(0x174),detectEnvironment=()=>{const _0x3a8400=a51_0x5193b8,_0x3bd91b=os_1[_0x3a8400(0x173)][_0x3a8400(0x197)]();if(_0x3bd91b===_0x3a8400(0x19b)){const _0x17cd68=(0x0,fs_1[_0x3a8400(0x178)])(_0x3a8400(0x19f),_0x3a8400(0x19c));if(_0x17cd68[_0x3a8400(0x1a0)]('Alpine'))return'docker';else{if(_0x17cd68[_0x3a8400(0x1a0)]('Ubuntu'))return _0x3a8400(0x170);}}return'unknown';},checkUpgrade=async(_0x549d56,_0x351156)=>{const _0x31e67d=a51_0x5193b8;try{console[_0x31e67d(0x17d)]('Iniciando\x20verificação\x20de\x20atualizações\x20no\x20GitHub');const _0x94fbd0=await axios_1[_0x31e67d(0x173)][_0x31e67d(0x182)](githubApiUrl);if(_0x94fbd0[_0x31e67d(0x179)]===0xc8){const {tag_name:_0x243eb9,name:_0x5cb15a,html_url:_0x1511b3,body:_0x28b7bd}=_0x94fbd0[_0x31e67d(0x177)];_0x351156[_0x31e67d(0x179)](0xc8)[_0x31e67d(0x17e)]({'tag':_0x243eb9,'name':_0x5cb15a,'url':_0x1511b3,'changelog':_0x28b7bd});}else _0x351156[_0x31e67d(0x179)](_0x94fbd0[_0x31e67d(0x179)])[_0x31e67d(0x17e)]({'error':_0x31e67d(0x193)+_0x94fbd0[_0x31e67d(0x187)]});}catch(_0x4db200){console[_0x31e67d(0x189)](_0x31e67d(0x18f),_0x4db200['message']),_0x351156[_0x31e67d(0x179)](0x1f4)[_0x31e67d(0x17e)]({'error':_0x31e67d(0x190)});}};exports[a51_0x5193b8(0x19a)]=checkUpgrade;const upgradeBackend=async(_0x92064a,_0x2e0ad8)=>{const _0xc1f639=a51_0x5193b8;try{const _0x4f0eaf=detectEnvironment();let _0x302c26='';switch(_0x4f0eaf){case'docker':_0x302c26='sh\x20upgrade_backend.sh';break;case _0xc1f639(0x170):_0x302c26='./upgrade_backend.sh';break;default:throw new Error(_0xc1f639(0x185));}(0x0,child_process_1[_0xc1f639(0x181)])(_0x302c26,(_0x4128cb,_0x2daaa4,_0x3c4619)=>{const _0x4fcd0e=_0xc1f639;if(_0x4128cb)return console['error']('Erro\x20ao\x20executar\x20o\x20script:\x20'+_0x4128cb['message']),_0x2e0ad8[_0x4fcd0e(0x179)](0x1f4)[_0x4fcd0e(0x17e)]({'message':_0x4fcd0e(0x196),'error':_0x4128cb[_0x4fcd0e(0x186)]});return _0x3c4619&&console[_0x4fcd0e(0x18c)](_0x4fcd0e(0x175)+_0x3c4619),console['log']('Saída\x20do\x20script:\x0a'+_0x2daaa4),_0x2e0ad8[_0x4fcd0e(0x179)](0xc8)[_0x4fcd0e(0x17e)]({'message':'Script\x20executado\x20com\x20sucesso','output':_0x2daaa4,'warnings':_0x3c4619?_0x3c4619[_0x4fcd0e(0x199)]():undefined});});}catch(_0xed90f){return console[_0xc1f639(0x189)](_0xc1f639(0x198),_0xed90f[_0xc1f639(0x186)]),_0x2e0ad8[_0xc1f639(0x179)](0x1f4)[_0xc1f639(0x17e)]({'error':'Erro\x20de\x20atualização','details':_0xed90f[_0xc1f639(0x186)]});}};exports[a51_0x5193b8(0x17a)]=upgradeBackend;