const a36_0x2108fd=a36_0x2ca6;(function(_0x4996e5,_0x58e19e){const _0x56e544=a36_0x2ca6,_0x58ca25=_0x4996e5();while(!![]){try{const _0x2cae75=-parseInt(_0x56e544(0x8f))/0x1+parseInt(_0x56e544(0xaf))/0x2*(parseInt(_0x56e544(0xa2))/0x3)+parseInt(_0x56e544(0xbc))/0x4+-parseInt(_0x56e544(0xb3))/0x5+-parseInt(_0x56e544(0xa9))/0x6*(-parseInt(_0x56e544(0x99))/0x7)+parseInt(_0x56e544(0xc0))/0x8*(-parseInt(_0x56e544(0xc3))/0x9)+parseInt(_0x56e544(0x9f))/0xa*(-parseInt(_0x56e544(0xa8))/0xb);if(_0x2cae75===_0x58e19e)break;else _0x58ca25['push'](_0x58ca25['shift']());}catch(_0x653c21){_0x58ca25['push'](_0x58ca25['shift']());}}}(a36_0x1c48,0x6a91a));const a36_0x2bc691=(function(){let _0x5b2db1=!![];return function(_0x50e177,_0x5248e3){const _0x3bfacc=_0x5b2db1?function(){const _0x3a1ca5=a36_0x2ca6;if(_0x5248e3){const _0x458540=_0x5248e3[_0x3a1ca5(0xbe)](_0x50e177,arguments);return _0x5248e3=null,_0x458540;}}:function(){};return _0x5b2db1=![],_0x3bfacc;};}()),a36_0x24f58b=a36_0x2bc691(this,function(){const _0x390be3=a36_0x2ca6;return a36_0x24f58b[_0x390be3(0xb4)]()[_0x390be3(0x8e)](_0x390be3(0x94))[_0x390be3(0xb4)]()['constructor'](a36_0x24f58b)[_0x390be3(0x8e)](_0x390be3(0x94));});function a36_0x1c48(){const _0x142f79=['user','apply','body','8eUbHSS','-settings','__createBinding','2123703AIACeX','value','../services/SettingServices/ListSettingsService','__importDefault','companyId','json','search','43352cQcfoX','profile','file','Favicon','image/','(((.+)+)+)+$','Light','mimetype','writable','update','154196YVUzwr','publicShow','__importStar','status','isSuper','-mainchannel','4886510DhaYrT','filename','indexOf','121218yQHgdH','hasOwnProperty','GetAllPublicSettingsService','__esModule','admin','prototype','11jjbxLu','12cZBGpb','defineProperty','appLogo','Dark','configurable','ERR_NO_PERMISSION','40DZDDfc','getSettingRegister','storePrivateFile','startsWith','2185900SZbLbO','toString','default','create','../services/SettingServices/UpdateSettingService','../services/SettingServices/GetPublicSettingService','index','get','storeLogo','3157920UBXVKH'];a36_0x1c48=function(){return _0x142f79;};return a36_0x1c48();}a36_0x24f58b();'use strict';var __createBinding=this&&this[a36_0x2108fd(0xc2)]||(Object[a36_0x2108fd(0xb6)]?function(_0x4c919d,_0x5dc7cc,_0x2d97b0,_0x2b8fbc){const _0x5723eb=a36_0x2108fd;if(_0x2b8fbc===undefined)_0x2b8fbc=_0x2d97b0;var _0x4c4c50=Object['getOwnPropertyDescriptor'](_0x5dc7cc,_0x2d97b0);(!_0x4c4c50||(_0x5723eb(0xba)in _0x4c4c50?!_0x5dc7cc[_0x5723eb(0xa5)]:_0x4c4c50[_0x5723eb(0x97)]||_0x4c4c50[_0x5723eb(0xad)]))&&(_0x4c4c50={'enumerable':!![],'get':function(){return _0x5dc7cc[_0x2d97b0];}}),Object[_0x5723eb(0xaa)](_0x4c919d,_0x2b8fbc,_0x4c4c50);}:function(_0x9ce2b,_0x206267,_0x52c9d4,_0x42d436){if(_0x42d436===undefined)_0x42d436=_0x52c9d4;_0x9ce2b[_0x42d436]=_0x206267[_0x52c9d4];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a36_0x2108fd(0xb6)]?function(_0x5e50f7,_0x359eaf){const _0x114e48=a36_0x2108fd;Object[_0x114e48(0xaa)](_0x5e50f7,_0x114e48(0xb5),{'enumerable':!![],'value':_0x359eaf});}:function(_0x18982f,_0x24f428){const _0x9b83e7=a36_0x2108fd;_0x18982f[_0x9b83e7(0xb5)]=_0x24f428;}),__importStar=this&&this[a36_0x2108fd(0x9b)]||function(_0x4edda8){const _0xa5b4d1=a36_0x2108fd;if(_0x4edda8&&_0x4edda8[_0xa5b4d1(0xa5)])return _0x4edda8;var _0x34df42={};if(_0x4edda8!=null){for(var _0x130d99 in _0x4edda8)if(_0x130d99!==_0xa5b4d1(0xb5)&&Object[_0xa5b4d1(0xa7)][_0xa5b4d1(0xa3)]['call'](_0x4edda8,_0x130d99))__createBinding(_0x34df42,_0x4edda8,_0x130d99);}return __setModuleDefault(_0x34df42,_0x4edda8),_0x34df42;},__importDefault=this&&this[a36_0x2108fd(0x8b)]||function(_0x88e55e){return _0x88e55e&&_0x88e55e['__esModule']?_0x88e55e:{'default':_0x88e55e};};Object[a36_0x2108fd(0xaa)](exports,a36_0x2108fd(0xa5),{'value':!![]}),exports[a36_0x2108fd(0xb1)]=exports[a36_0x2108fd(0x9a)]=exports[a36_0x2108fd(0x98)]=exports[a36_0x2108fd(0xb0)]=exports[a36_0x2108fd(0xbb)]=exports['publicIndex']=exports['index']=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require('../errors/AppError')),UpdateSettingService_1=__importDefault(require(a36_0x2108fd(0xb7))),ListSettingsService_1=__importDefault(require(a36_0x2108fd(0x8a))),GetPublicSettingService_1=__importStar(require(a36_0x2108fd(0xb8))),index=async(_0x3b23d5,_0x2928ae)=>{const _0x4f3a90=a36_0x2108fd,_0x7d7d9d=await(0x0,ListSettingsService_1['default'])(_0x3b23d5[_0x4f3a90(0xbd)]);return _0x2928ae[_0x4f3a90(0x9c)](0xc8)['json'](_0x7d7d9d);};exports[a36_0x2108fd(0xb9)]=index;const publicIndex=async(_0x3354fe,_0x505b54)=>{const _0x6529a7=a36_0x2108fd,_0x5b4aed=await(0x0,GetPublicSettingService_1[_0x6529a7(0xa4)])(_0x3354fe[_0x6529a7(0xbd)]?.[_0x6529a7(0x8c)]);return _0x505b54[_0x6529a7(0x9c)](0xc8)['json'](_0x5b4aed);};exports['publicIndex']=publicIndex;const storeLogo=async(_0x1ee14a,_0x509cc2)=>{const _0x344b96=a36_0x2108fd,_0x24c7bd=_0x1ee14a[_0x344b96(0x91)],{mode:_0x5b93af}=_0x1ee14a[_0x344b96(0xbf)],{companyId:_0x365121}=_0x1ee14a[_0x344b96(0xbd)],_0x3feaba=[_0x344b96(0x95),_0x344b96(0xac),_0x344b96(0x92)];if(_0x1ee14a[_0x344b96(0xbd)][_0x344b96(0x90)]!==_0x344b96(0xa6))throw new AppError_1[(_0x344b96(0xb5))](_0x344b96(0xae),0x193);if(_0x3feaba[_0x344b96(0xa1)](_0x5b93af)===-0x1)return _0x509cc2['status'](0x196);if(_0x24c7bd&&_0x24c7bd[_0x344b96(0x96)][_0x344b96(0xb2)](_0x344b96(0x93))){const _0x1196ae=await(0x0,UpdateSettingService_1['default'])({'key':_0x344b96(0xab)+_0x5b93af,'value':_0x24c7bd[_0x344b96(0xa0)],'companyId':_0x365121});return _0x509cc2['status'](0xc8)[_0x344b96(0x8d)](_0x1196ae[_0x344b96(0x89)]);}return _0x509cc2[_0x344b96(0x9c)](0x196);};exports['storeLogo']=storeLogo;const getSettingRegister=async(_0x49071a,_0x38fff1)=>{const _0x595698=a36_0x2108fd,{companyId:_0x15a412}=_0x49071a[_0x595698(0xbd)];if(_0x49071a[_0x595698(0xbd)]['profile']!==_0x595698(0xa6))throw new AppError_1[(_0x595698(0xb5))](_0x595698(0xae),0x193);const _0x73e00e=await(0x0,ListSettingsService_1[_0x595698(0xb5)])(_0x49071a[_0x595698(0xbd)]);return _0x38fff1[_0x595698(0x9c)](0xc8)['json'](_0x73e00e);};exports[a36_0x2108fd(0xb0)]=getSettingRegister;const update=async(_0x26e100,_0x37a88d)=>{const _0x1ead7a=a36_0x2108fd;if(_0x26e100[_0x1ead7a(0xbd)]['profile']!==_0x1ead7a(0xa6))throw new AppError_1[(_0x1ead7a(0xb5))]('ERR_NO_PERMISSION',0x193);const {settingKey:_0x4ab99c}=_0x26e100['params'],{value:_0x2891c0}=_0x26e100['body'],{companyId:_0x170e69}=_0x26e100[_0x1ead7a(0xbd)];if(_0x4ab99c['startsWith']('_')&&!_0x26e100[_0x1ead7a(0xbd)][_0x1ead7a(0x9d)])throw new AppError_1[(_0x1ead7a(0xb5))](_0x1ead7a(0xae),0x193);const _0x1438bd=await(0x0,UpdateSettingService_1[_0x1ead7a(0xb5)])({'key':_0x4ab99c,'value':_0x2891c0,'companyId':_0x170e69}),_0x5a6214=(0x0,socket_1['getIO'])();return _0x5a6214['to']('company-'+_0x170e69+_0x1ead7a(0x9e))['emit']('company-'+_0x170e69+_0x1ead7a(0xc1),{'action':_0x1ead7a(0x98),'setting':_0x1438bd}),_0x37a88d[_0x1ead7a(0x9c)](0xc8)[_0x1ead7a(0x8d)](_0x1438bd);};exports[a36_0x2108fd(0x98)]=update;const publicShow=async(_0x141bdb,_0x57e0d5)=>{const _0x597c68=a36_0x2108fd,{settingKey:_0xc51b8d}=_0x141bdb['params'],_0x254591=await(0x0,GetPublicSettingService_1[_0x597c68(0xb5)])({'key':_0xc51b8d,'companyId':_0x141bdb[_0x597c68(0xbd)]?.[_0x597c68(0x8c)]});return _0x57e0d5[_0x597c68(0x9c)](0xc8)[_0x597c68(0x8d)](_0x254591);};exports[a36_0x2108fd(0x9a)]=publicShow;function a36_0x2ca6(_0x44b721,_0x1519ac){const _0xb775be=a36_0x1c48();return a36_0x2ca6=function(_0x24f58b,_0x2bc691){_0x24f58b=_0x24f58b-0x89;let _0x1c4872=_0xb775be[_0x24f58b];return _0x1c4872;},a36_0x2ca6(_0x44b721,_0x1519ac);}const storePrivateFile=async(_0x8fcbe6,_0x2fb6db)=>{const _0x681ef=a36_0x2108fd,_0x46da73=_0x8fcbe6[_0x681ef(0x91)],{settingKey:_0x56f56b}=_0x8fcbe6[_0x681ef(0xbf)],{companyId:_0x13fb75}=_0x8fcbe6[_0x681ef(0xbd)],_0x3db414=await(0x0,UpdateSettingService_1[_0x681ef(0xb5)])({'key':'_'+_0x56f56b,'value':_0x46da73['filename'],'companyId':_0x13fb75});return _0x2fb6db[_0x681ef(0x9c)](0xc8)['json'](_0x3db414[_0x681ef(0x89)]);};exports[a36_0x2108fd(0xb1)]=storePrivateFile;