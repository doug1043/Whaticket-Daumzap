'use strict';const a34_0x321947=a34_0xf4ca;(function(_0x5b5b41,_0x245c34){const _0x489e7d=a34_0xf4ca,_0x37df0c=_0x5b5b41();while(!![]){try{const _0x236840=parseInt(_0x489e7d(0x1af))/0x1+parseInt(_0x489e7d(0x19b))/0x2*(-parseInt(_0x489e7d(0x1ae))/0x3)+parseInt(_0x489e7d(0x1bc))/0x4*(-parseInt(_0x489e7d(0x1b0))/0x5)+-parseInt(_0x489e7d(0x1ba))/0x6+parseInt(_0x489e7d(0x1a0))/0x7*(-parseInt(_0x489e7d(0x1b9))/0x8)+parseInt(_0x489e7d(0x19f))/0x9+parseInt(_0x489e7d(0x185))/0xa*(parseInt(_0x489e7d(0x1a2))/0xb);if(_0x236840===_0x245c34)break;else _0x37df0c['push'](_0x37df0c['shift']());}catch(_0x1160af){_0x37df0c['push'](_0x37df0c['shift']());}}}(a34_0x4d65,0x65526));var __createBinding=this&&this[a34_0x321947(0x198)]||(Object[a34_0x321947(0x194)]?function(_0x3d3ce1,_0x562df0,_0x5ae58b,_0x3182e1){const _0x463bed=a34_0x321947;if(_0x3182e1===undefined)_0x3182e1=_0x5ae58b;var _0x40d2df=Object[_0x463bed(0x196)](_0x562df0,_0x5ae58b);(!_0x40d2df||(_0x463bed(0x18f)in _0x40d2df?!_0x562df0[_0x463bed(0x191)]:_0x40d2df[_0x463bed(0x1ac)]||_0x40d2df[_0x463bed(0x1b7)]))&&(_0x40d2df={'enumerable':!![],'get':function(){return _0x562df0[_0x5ae58b];}}),Object['defineProperty'](_0x3d3ce1,_0x3182e1,_0x40d2df);}:function(_0x2aa33b,_0x276cb7,_0x54dcf2,_0x147b2b){if(_0x147b2b===undefined)_0x147b2b=_0x54dcf2;_0x2aa33b[_0x147b2b]=_0x276cb7[_0x54dcf2];}),__setModuleDefault=this&&this[a34_0x321947(0x1a8)]||(Object[a34_0x321947(0x194)]?function(_0x2383d4,_0x48a791){const _0x4e163d=a34_0x321947;Object[_0x4e163d(0x19c)](_0x2383d4,_0x4e163d(0x18c),{'enumerable':!![],'value':_0x48a791});}:function(_0x47ef40,_0x535cf0){const _0x7c9ab8=a34_0x321947;_0x47ef40[_0x7c9ab8(0x18c)]=_0x535cf0;}),__importStar=this&&this['__importStar']||(function(){const _0x425199=(function(){let _0x58ca7e=!![];return function(_0xda4aad,_0x1f543a){const _0x36961e=_0x58ca7e?function(){if(_0x1f543a){const _0x4458bd=_0x1f543a['apply'](_0xda4aad,arguments);return _0x1f543a=null,_0x4458bd;}}:function(){};return _0x58ca7e=![],_0x36961e;};}()),_0x4c4de8=_0x425199(this,function(){const _0x527110=a34_0xf4ca;return _0x4c4de8['toString']()[_0x527110(0x18d)](_0x527110(0x18b))[_0x527110(0x186)]()[_0x527110(0x1b2)](_0x4c4de8)[_0x527110(0x18d)](_0x527110(0x18b));});_0x4c4de8();var _0x10120c=function(_0x74672b){const _0x32d317=a34_0xf4ca;return _0x10120c=Object[_0x32d317(0x1a3)]||function(_0xb18431){const _0x4460ca=_0x32d317;var _0x16fb78=[];for(var _0x35b913 in _0xb18431)if(Object[_0x4460ca(0x187)][_0x4460ca(0x188)]['call'](_0xb18431,_0x35b913))_0x16fb78[_0x16fb78[_0x4460ca(0x19a)]]=_0x35b913;return _0x16fb78;},_0x10120c(_0x74672b);};return function(_0x264203){const _0x3c0001=a34_0xf4ca;if(_0x264203&&_0x264203['__esModule'])return _0x264203;var _0x13c034={};if(_0x264203!=null){for(var _0x10eb5f=_0x10120c(_0x264203),_0x20b806=0x0;_0x20b806<_0x10eb5f[_0x3c0001(0x19a)];_0x20b806++)if(_0x10eb5f[_0x20b806]!==_0x3c0001(0x18c))__createBinding(_0x13c034,_0x264203,_0x10eb5f[_0x20b806]);}return __setModuleDefault(_0x13c034,_0x264203),_0x13c034;};}()),__importDefault=this&&this['__importDefault']||function(_0x3718e8){const _0x4bfea2=a34_0x321947;return _0x3718e8&&_0x3718e8[_0x4bfea2(0x191)]?_0x3718e8:{'default':_0x3718e8};};Object[a34_0x321947(0x19c)](exports,'__esModule',{'value':!![]}),exports[a34_0x321947(0x197)]=exports[a34_0x321947(0x190)]=exports[a34_0x321947(0x195)]=exports[a34_0x321947(0x1b8)]=exports[a34_0x321947(0x19d)]=exports[a34_0x321947(0x193)]=exports['index']=void 0x0;function a34_0xf4ca(_0x1e3608,_0x1fceb1){const _0x3dea9a=a34_0x4d65();return a34_0xf4ca=function(_0x319b58,_0x488be0){_0x319b58=_0x319b58-0x184;let _0x4d65fc=_0x3dea9a[_0x319b58];return _0x4d65fc;},a34_0xf4ca(_0x1e3608,_0x1fceb1);}const socket_1=require(a34_0x321947(0x1ad)),AppError_1=__importDefault(require('../errors/AppError')),UpdateSettingService_1=__importDefault(require(a34_0x321947(0x1b3))),ListSettingsService_1=__importDefault(require('../services/SettingServices/ListSettingsService')),GetPublicSettingService_1=__importStar(require('../services/SettingServices/GetPublicSettingService')),GetSettingService_1=require(a34_0x321947(0x1a4)),index=async(_0x5ac207,_0x415df2)=>{const _0x4d84e8=a34_0x321947,_0x34ba18=await(0x0,ListSettingsService_1[_0x4d84e8(0x18c)])(_0x5ac207[_0x4d84e8(0x1a6)]);return _0x415df2[_0x4d84e8(0x1ab)](0xc8)['json'](_0x34ba18);};exports[a34_0x321947(0x1b5)]=index;const publicIndex=async(_0x4c332a,_0x480fd7)=>{const _0x56a76b=a34_0x321947,_0x508592=await(0x0,GetPublicSettingService_1['GetAllPublicSettingsService'])(_0x4c332a[_0x56a76b(0x1a6)]?.[_0x56a76b(0x1a7)]);return _0x480fd7[_0x56a76b(0x1ab)](0xc8)[_0x56a76b(0x184)](_0x508592);};exports[a34_0x321947(0x193)]=publicIndex;const update=async(_0x1cce60,_0x5175ea)=>{const _0x2d63a2=a34_0x321947,{settingKey:_0x11a2e0}=_0x1cce60[_0x2d63a2(0x19e)],{value:_0x4ffb79}=_0x1cce60[_0x2d63a2(0x1a5)],{companyId:_0x17423d}=_0x1cce60['user'];if(_0x11a2e0['startsWith']('_')&&!_0x1cce60[_0x2d63a2(0x1a6)]['isSuper'])throw new AppError_1[(_0x2d63a2(0x18c))](_0x2d63a2(0x1b4),0x193);const _0x372b98=await(0x0,UpdateSettingService_1[_0x2d63a2(0x18c)])({'key':_0x11a2e0,'value':_0x4ffb79,'companyId':_0x17423d}),_0x230258=(0x0,socket_1[_0x2d63a2(0x1a9)])();return _0x230258[_0x2d63a2(0x1aa)]('company-'+_0x17423d+_0x2d63a2(0x1bb),{'action':_0x2d63a2(0x19d),'setting':_0x372b98}),_0x5175ea[_0x2d63a2(0x1ab)](0xc8)['json'](_0x372b98);};exports[a34_0x321947(0x19d)]=update;const publicShow=async(_0xb213d8,_0x3148bd)=>{const _0x16a233=a34_0x321947,{settingKey:_0x29309e}=_0xb213d8['params'],_0x1e7cc5=await(0x0,GetPublicSettingService_1[_0x16a233(0x18c)])({'key':_0x29309e});return _0x3148bd[_0x16a233(0x1ab)](0xc8)[_0x16a233(0x184)](_0x1e7cc5);};function a34_0x4d65(){const _0x39a696=['json','10JfhAOF','toString','prototype','hasOwnProperty','Dark','image/','(((.+)+)+)+$','default','search','indexOf','get','storeLogo','__esModule','Favicon','publicIndex','create','show','getOwnPropertyDescriptor','storePrivateFile','__createBinding','filename','length','1756MaMDmI','defineProperty','update','params','3923928YPdUUM','616546gLyEzk','startsWith','13016949GXbrQy','getOwnPropertyNames','../services/SettingServices/GetSettingService','body','user','companyId','__setModuleDefault','getIO','emit','status','writable','../libs/socket','813xUSByr','480222PmRXKy','1372650lPapcZ','appLogo','constructor','../services/SettingServices/UpdateSettingService','ERR_NO_PERMISSION','index','GetSettingService','configurable','publicShow','48fdsBOy','2214558qQRArn','-settings','8xcCvyV'];a34_0x4d65=function(){return _0x39a696;};return a34_0x4d65();}exports[a34_0x321947(0x1b8)]=publicShow;const show=async(_0x5eb8e6,_0x57ce09)=>{const _0x260f72=a34_0x321947,{settingKey:_0x5c3628}=_0x5eb8e6['params'],_0x1f3b1e=await(0x0,GetSettingService_1[_0x260f72(0x1b6)])({'key':_0x5c3628,'user':_0x5eb8e6[_0x260f72(0x1a6)]});return _0x57ce09[_0x260f72(0x1ab)](0xc8)[_0x260f72(0x184)](_0x1f3b1e);};exports[a34_0x321947(0x195)]=show;const storeLogo=async(_0x45166f,_0x7d5b78)=>{const _0x174e34=a34_0x321947,_0x7e8170=_0x45166f['file'],{mode:_0x3a25c7}=_0x45166f[_0x174e34(0x1a5)],{companyId:_0x3d03f9}=_0x45166f[_0x174e34(0x1a6)],_0x386b1a=['Light',_0x174e34(0x189),_0x174e34(0x192)];if(_0x386b1a[_0x174e34(0x18e)](_0x3a25c7)===-0x1)return _0x7d5b78[_0x174e34(0x1ab)](0x196);if(_0x7e8170&&_0x7e8170['mimetype'][_0x174e34(0x1a1)](_0x174e34(0x18a))){const _0x2dc6aa=await(0x0,UpdateSettingService_1[_0x174e34(0x18c)])({'key':_0x174e34(0x1b1)+_0x3a25c7,'value':_0x7e8170[_0x174e34(0x199)],'companyId':_0x3d03f9});return _0x7d5b78[_0x174e34(0x1ab)](0xc8)['json'](_0x2dc6aa['value']);}return _0x7d5b78['status'](0x196);};exports[a34_0x321947(0x190)]=storeLogo;const storePrivateFile=async(_0x269f09,_0x449ad5)=>{const _0x32e65f=a34_0x321947,_0x42400b=_0x269f09['file'],{settingKey:_0x5d9df1}=_0x269f09[_0x32e65f(0x1a5)],{companyId:_0xf8c6db}=_0x269f09[_0x32e65f(0x1a6)],_0x30a366=await(0x0,UpdateSettingService_1[_0x32e65f(0x18c)])({'key':'_'+_0x5d9df1,'value':_0x42400b[_0x32e65f(0x199)],'companyId':_0xf8c6db});return _0x449ad5[_0x32e65f(0x1ab)](0xc8)[_0x32e65f(0x184)](_0x30a366['value']);};exports[a34_0x321947(0x197)]=storePrivateFile;