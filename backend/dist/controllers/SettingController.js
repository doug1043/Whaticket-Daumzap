const a36_0x2fbc60=a36_0x3724;function a36_0x4f9d(){const _0x4b7fc3=['appLogo','__importStar','storeLogo','getSettingRegister','body','params','json','file','publicShow','prototype','../services/SettingServices/GetPublicSettingService','constructor','ERR_NO_PERMISSION','7535691ZsGQko','create','company-','36937mNOWiW','profile','3512560dZGCdb','index','Light','Favicon','indexOf','getOwnPropertyDescriptor','defineProperty','status','(((.+)+)+)+$','publicIndex','2899896rZmfsJ','default','storePrivateFile','admin','2173724tOEqzd','5305WBeLSc','update','startsWith','-mainchannel','644gTuJAC','GetAllPublicSettingsService','../services/SettingServices/UpdateSettingService','get','484281BJprpi','../errors/AppError','isSuper','hasOwnProperty','value','search','4yTVRsh','toString','Dark','image/','companyId','../services/SettingServices/ListSettingsService','__esModule','configurable','filename','user'];a36_0x4f9d=function(){return _0x4b7fc3;};return a36_0x4f9d();}(function(_0x2da3c6,_0xd28d27){const _0x29f810=a36_0x3724,_0x4d2198=_0x2da3c6();while(!![]){try{const _0x440821=-parseInt(_0x29f810(0x209))/0x1*(-parseInt(_0x29f810(0x1ef))/0x2)+parseInt(_0x29f810(0x1e9))/0x3+-parseInt(_0x29f810(0x1e5))/0x4*(parseInt(_0x29f810(0x1e1))/0x5)+-parseInt(_0x29f810(0x1dc))/0x6+parseInt(_0x29f810(0x1e0))/0x7+-parseInt(_0x29f810(0x1d2))/0x8+parseInt(_0x29f810(0x206))/0x9;if(_0x440821===_0xd28d27)break;else _0x4d2198['push'](_0x4d2198['shift']());}catch(_0x12508e){_0x4d2198['push'](_0x4d2198['shift']());}}}(a36_0x4f9d,0x46c85));const a36_0x998b6b=(function(){let _0x24e7e4=!![];return function(_0x30d0b5,_0x100011){const _0x3bf1a9=_0x24e7e4?function(){if(_0x100011){const _0x4cec88=_0x100011['apply'](_0x30d0b5,arguments);return _0x100011=null,_0x4cec88;}}:function(){};return _0x24e7e4=![],_0x3bf1a9;};}()),a36_0x439364=a36_0x998b6b(this,function(){const _0x3f36b2=a36_0x3724;return a36_0x439364[_0x3f36b2(0x1f0)]()[_0x3f36b2(0x1ee)]('(((.+)+)+)+$')['toString']()[_0x3f36b2(0x204)](a36_0x439364)[_0x3f36b2(0x1ee)](_0x3f36b2(0x1da));});a36_0x439364();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a36_0x2fbc60(0x207)]?function(_0x3a7065,_0x9e1c29,_0xdd3b39,_0x9840a6){const _0x4ab842=a36_0x2fbc60;if(_0x9840a6===undefined)_0x9840a6=_0xdd3b39;var _0x1c4006=Object[_0x4ab842(0x1d7)](_0x9e1c29,_0xdd3b39);(!_0x1c4006||(_0x4ab842(0x1e8)in _0x1c4006?!_0x9e1c29[_0x4ab842(0x1f5)]:_0x1c4006['writable']||_0x1c4006[_0x4ab842(0x1f6)]))&&(_0x1c4006={'enumerable':!![],'get':function(){return _0x9e1c29[_0xdd3b39];}}),Object['defineProperty'](_0x3a7065,_0x9840a6,_0x1c4006);}:function(_0x578b48,_0x57d7bc,_0x242f68,_0x4e19bc){if(_0x4e19bc===undefined)_0x4e19bc=_0x242f68;_0x578b48[_0x4e19bc]=_0x57d7bc[_0x242f68];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a36_0x2fbc60(0x207)]?function(_0xd57bc8,_0x3c60d1){const _0x4fa967=a36_0x2fbc60;Object[_0x4fa967(0x1d8)](_0xd57bc8,_0x4fa967(0x1dd),{'enumerable':!![],'value':_0x3c60d1});}:function(_0x4fa400,_0x10da76){_0x4fa400['default']=_0x10da76;}),__importStar=this&&this[a36_0x2fbc60(0x1fa)]||function(_0x59584d){const _0x3c1524=a36_0x2fbc60;if(_0x59584d&&_0x59584d['__esModule'])return _0x59584d;var _0x35d8af={};if(_0x59584d!=null){for(var _0x2181f1 in _0x59584d)if(_0x2181f1!=='default'&&Object[_0x3c1524(0x202)][_0x3c1524(0x1ec)]['call'](_0x59584d,_0x2181f1))__createBinding(_0x35d8af,_0x59584d,_0x2181f1);}return __setModuleDefault(_0x35d8af,_0x59584d),_0x35d8af;},__importDefault=this&&this['__importDefault']||function(_0x49a070){return _0x49a070&&_0x49a070['__esModule']?_0x49a070:{'default':_0x49a070};};Object[a36_0x2fbc60(0x1d8)](exports,a36_0x2fbc60(0x1f5),{'value':!![]}),exports[a36_0x2fbc60(0x1de)]=exports[a36_0x2fbc60(0x201)]=exports[a36_0x2fbc60(0x1e2)]=exports[a36_0x2fbc60(0x1fc)]=exports[a36_0x2fbc60(0x1fb)]=exports['publicIndex']=exports[a36_0x2fbc60(0x1d3)]=void 0x0;function a36_0x3724(_0x122c27,_0x45fcc2){const _0x2555a3=a36_0x4f9d();return a36_0x3724=function(_0x439364,_0x998b6b){_0x439364=_0x439364-0x1d1;let _0x4f9d95=_0x2555a3[_0x439364];return _0x4f9d95;},a36_0x3724(_0x122c27,_0x45fcc2);}const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(a36_0x2fbc60(0x1ea))),UpdateSettingService_1=__importDefault(require(a36_0x2fbc60(0x1e7))),ListSettingsService_1=__importDefault(require(a36_0x2fbc60(0x1f4))),GetPublicSettingService_1=__importStar(require(a36_0x2fbc60(0x203))),index=async(_0x1b1741,_0x3d2605)=>{const _0x110631=a36_0x2fbc60,_0x47fdb5=await(0x0,ListSettingsService_1[_0x110631(0x1dd)])(_0x1b1741[_0x110631(0x1f8)]);return _0x3d2605[_0x110631(0x1d9)](0xc8)[_0x110631(0x1ff)](_0x47fdb5);};exports[a36_0x2fbc60(0x1d3)]=index;const publicIndex=async(_0x3a532e,_0x58133d)=>{const _0x1ade08=a36_0x2fbc60,_0x471b16=await(0x0,GetPublicSettingService_1[_0x1ade08(0x1e6)])(_0x3a532e['user']?.[_0x1ade08(0x1f3)]);return _0x58133d['status'](0xc8)[_0x1ade08(0x1ff)](_0x471b16);};exports[a36_0x2fbc60(0x1db)]=publicIndex;const storeLogo=async(_0x40cdc4,_0x4cae92)=>{const _0x58622f=a36_0x2fbc60,_0x29e9e3=_0x40cdc4[_0x58622f(0x200)],{mode:_0x5e4dcb}=_0x40cdc4[_0x58622f(0x1fd)],{companyId:_0x48318e}=_0x40cdc4[_0x58622f(0x1f8)],_0x171a44=[_0x58622f(0x1d4),_0x58622f(0x1f1),_0x58622f(0x1d5)];if(_0x40cdc4[_0x58622f(0x1f8)][_0x58622f(0x1d1)]!=='admin')throw new AppError_1['default'](_0x58622f(0x205),0x193);if(_0x171a44[_0x58622f(0x1d6)](_0x5e4dcb)===-0x1)return _0x4cae92['status'](0x196);if(_0x29e9e3&&_0x29e9e3['mimetype']['startsWith'](_0x58622f(0x1f2))){const _0x3d56c0=await(0x0,UpdateSettingService_1['default'])({'key':_0x58622f(0x1f9)+_0x5e4dcb,'value':_0x29e9e3[_0x58622f(0x1f7)],'companyId':_0x48318e});return _0x4cae92['status'](0xc8)[_0x58622f(0x1ff)](_0x3d56c0['value']);}return _0x4cae92[_0x58622f(0x1d9)](0x196);};exports['storeLogo']=storeLogo;const getSettingRegister=async(_0x83c7c5,_0x13ec57)=>{const _0x157ec2=a36_0x2fbc60,{companyId:_0x3a9ff2}=_0x83c7c5[_0x157ec2(0x1f8)];if(_0x83c7c5[_0x157ec2(0x1f8)][_0x157ec2(0x1d1)]!==_0x157ec2(0x1df))throw new AppError_1[(_0x157ec2(0x1dd))](_0x157ec2(0x205),0x193);const _0x1dd1e2=await(0x0,ListSettingsService_1[_0x157ec2(0x1dd)])(_0x83c7c5[_0x157ec2(0x1f8)]);return _0x13ec57[_0x157ec2(0x1d9)](0xc8)['json'](_0x1dd1e2);};exports[a36_0x2fbc60(0x1fc)]=getSettingRegister;const update=async(_0x15c930,_0x21f0c1)=>{const _0x2f1672=a36_0x2fbc60;if(_0x15c930[_0x2f1672(0x1f8)][_0x2f1672(0x1d1)]!==_0x2f1672(0x1df))throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);const {settingKey:_0x120adb}=_0x15c930[_0x2f1672(0x1fe)],{value:_0x48a271}=_0x15c930[_0x2f1672(0x1fd)],{companyId:_0x343865}=_0x15c930[_0x2f1672(0x1f8)];if(_0x120adb[_0x2f1672(0x1e3)]('_')&&!_0x15c930[_0x2f1672(0x1f8)][_0x2f1672(0x1eb)])throw new AppError_1[(_0x2f1672(0x1dd))]('ERR_NO_PERMISSION',0x193);const _0x491a6b=await(0x0,UpdateSettingService_1[_0x2f1672(0x1dd)])({'key':_0x120adb,'value':_0x48a271,'companyId':_0x343865}),_0x5b19d0=(0x0,socket_1['getIO'])();return _0x5b19d0['to'](_0x2f1672(0x208)+_0x343865+_0x2f1672(0x1e4))['emit'](_0x2f1672(0x208)+_0x343865+'-settings',{'action':_0x2f1672(0x1e2),'setting':_0x491a6b}),_0x21f0c1[_0x2f1672(0x1d9)](0xc8)[_0x2f1672(0x1ff)](_0x491a6b);};exports[a36_0x2fbc60(0x1e2)]=update;const publicShow=async(_0x1742e8,_0x2f8491)=>{const _0xced37e=a36_0x2fbc60,{settingKey:_0x5a7cf1}=_0x1742e8[_0xced37e(0x1fe)],_0xb358c1=await(0x0,GetPublicSettingService_1[_0xced37e(0x1dd)])({'key':_0x5a7cf1,'companyId':_0x1742e8['user']?.[_0xced37e(0x1f3)]});return _0x2f8491['status'](0xc8)[_0xced37e(0x1ff)](_0xb358c1);};exports[a36_0x2fbc60(0x201)]=publicShow;const storePrivateFile=async(_0x418d45,_0x5dc640)=>{const _0x541e89=a36_0x2fbc60,_0x73c517=_0x418d45[_0x541e89(0x200)],{settingKey:_0x523c58}=_0x418d45[_0x541e89(0x1fd)],{companyId:_0x6b9ff2}=_0x418d45[_0x541e89(0x1f8)],_0x32a6e1=await(0x0,UpdateSettingService_1['default'])({'key':'_'+_0x523c58,'value':_0x73c517[_0x541e89(0x1f7)],'companyId':_0x6b9ff2});return _0x5dc640['status'](0xc8)['json'](_0x32a6e1[_0x541e89(0x1ed)]);};exports[a36_0x2fbc60(0x1de)]=storePrivateFile;