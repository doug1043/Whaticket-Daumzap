'use strict';const a34_0xfafb2b=a34_0xa588;(function(_0x3c99b6,_0x17d616){const _0x4d7906=a34_0xa588,_0xf92575=_0x3c99b6();while(!![]){try{const _0x3a504c=-parseInt(_0x4d7906(0x1a0))/0x1+-parseInt(_0x4d7906(0x1ac))/0x2+-parseInt(_0x4d7906(0x19b))/0x3+-parseInt(_0x4d7906(0x183))/0x4+parseInt(_0x4d7906(0x1a5))/0x5+parseInt(_0x4d7906(0x19a))/0x6*(-parseInt(_0x4d7906(0x19e))/0x7)+-parseInt(_0x4d7906(0x1a3))/0x8*(-parseInt(_0x4d7906(0x17f))/0x9);if(_0x3a504c===_0x17d616)break;else _0xf92575['push'](_0xf92575['shift']());}catch(_0x1a5033){_0xf92575['push'](_0xf92575['shift']());}}}(a34_0x37b6,0x6b0a0));var __createBinding=this&&this[a34_0xfafb2b(0x1b2)]||(Object[a34_0xfafb2b(0x19f)]?function(_0xdc786d,_0x42864e,_0x197aa7,_0x19f9aa){const _0xfc74bc=a34_0xfafb2b;if(_0x19f9aa===undefined)_0x19f9aa=_0x197aa7;var _0x35301f=Object[_0xfc74bc(0x1af)](_0x42864e,_0x197aa7);(!_0x35301f||('get'in _0x35301f?!_0x42864e[_0xfc74bc(0x1ad)]:_0x35301f[_0xfc74bc(0x182)]||_0x35301f[_0xfc74bc(0x18b)]))&&(_0x35301f={'enumerable':!![],'get':function(){return _0x42864e[_0x197aa7];}}),Object[_0xfc74bc(0x17d)](_0xdc786d,_0x19f9aa,_0x35301f);}:function(_0x105b3c,_0x17c5e2,_0x5d5ad8,_0x3b968f){if(_0x3b968f===undefined)_0x3b968f=_0x5d5ad8;_0x105b3c[_0x3b968f]=_0x17c5e2[_0x5d5ad8];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a34_0xfafb2b(0x19f)]?function(_0x49d2c3,_0x2e1e78){const _0x54de48=a34_0xfafb2b;Object[_0x54de48(0x17d)](_0x49d2c3,_0x54de48(0x1a7),{'enumerable':!![],'value':_0x2e1e78});}:function(_0x1ec102,_0x4755fc){const _0x45d6ce=a34_0xfafb2b;_0x1ec102[_0x45d6ce(0x1a7)]=_0x4755fc;}),__importStar=this&&this[a34_0xfafb2b(0x1aa)]||(function(){const _0x12d207=(function(){let _0x321300=!![];return function(_0x27a264,_0x3168cd){const _0x120908=_0x321300?function(){const _0x224f7c=a34_0xa588;if(_0x3168cd){const _0x2ef929=_0x3168cd[_0x224f7c(0x197)](_0x27a264,arguments);return _0x3168cd=null,_0x2ef929;}}:function(){};return _0x321300=![],_0x120908;};}()),_0x1ef7ff=_0x12d207(this,function(){const _0x5825e4=a34_0xa588;return _0x1ef7ff[_0x5825e4(0x185)]()[_0x5825e4(0x18f)](_0x5825e4(0x1a1))[_0x5825e4(0x185)]()[_0x5825e4(0x181)](_0x1ef7ff)[_0x5825e4(0x18f)](_0x5825e4(0x1a1));});_0x1ef7ff();var _0xdada03=function(_0x29d17d){const _0xf028f1=a34_0xa588;return _0xdada03=Object[_0xf028f1(0x18a)]||function(_0x397511){const _0x284723=_0xf028f1;var _0x4bfea7=[];for(var _0x4c03b6 in _0x397511)if(Object['prototype'][_0x284723(0x193)][_0x284723(0x196)](_0x397511,_0x4c03b6))_0x4bfea7[_0x4bfea7[_0x284723(0x180)]]=_0x4c03b6;return _0x4bfea7;},_0xdada03(_0x29d17d);};return function(_0x489929){const _0x217c81=a34_0xa588;if(_0x489929&&_0x489929[_0x217c81(0x1ad)])return _0x489929;var _0x2a7104={};if(_0x489929!=null){for(var _0xfa709b=_0xdada03(_0x489929),_0x5489f1=0x0;_0x5489f1<_0xfa709b[_0x217c81(0x180)];_0x5489f1++)if(_0xfa709b[_0x5489f1]!=='default')__createBinding(_0x2a7104,_0x489929,_0xfa709b[_0x5489f1]);}return __setModuleDefault(_0x2a7104,_0x489929),_0x2a7104;};}()),__importDefault=this&&this['__importDefault']||function(_0x26816d){const _0x5e47d7=a34_0xfafb2b;return _0x26816d&&_0x26816d[_0x5e47d7(0x1ad)]?_0x26816d:{'default':_0x26816d};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a34_0xfafb2b(0x188)]=exports['storeLogo']=exports['show']=exports[a34_0xfafb2b(0x18d)]=exports['update']=exports[a34_0xfafb2b(0x199)]=exports['index']=void 0x0;const socket_1=require(a34_0xfafb2b(0x190)),AppError_1=__importDefault(require('../errors/AppError')),UpdateSettingService_1=__importDefault(require(a34_0xfafb2b(0x1a6))),ListSettingsService_1=__importDefault(require('../services/SettingServices/ListSettingsService')),GetPublicSettingService_1=__importStar(require(a34_0xfafb2b(0x19c))),GetSettingService_1=require('../services/SettingServices/GetSettingService'),index=async(_0x939e1,_0x2b3e70)=>{const _0x19705c=a34_0xfafb2b,_0x1271fa=await(0x0,ListSettingsService_1[_0x19705c(0x1a7)])(_0x939e1[_0x19705c(0x189)]);return _0x2b3e70[_0x19705c(0x195)](0xc8)['json'](_0x1271fa);};exports[a34_0xfafb2b(0x192)]=index;const publicIndex=async(_0xe1efdb,_0x542991)=>{const _0xeb3acb=a34_0xfafb2b,_0x42c00e=await(0x0,GetPublicSettingService_1[_0xeb3acb(0x1a8)])(_0xe1efdb[_0xeb3acb(0x189)]?.[_0xeb3acb(0x1a2)]);return _0x542991[_0xeb3acb(0x195)](0xc8)[_0xeb3acb(0x198)](_0x42c00e);};exports[a34_0xfafb2b(0x199)]=publicIndex;const update=async(_0x4bbee3,_0x19cbcc)=>{const _0x1909ff=a34_0xfafb2b,{settingKey:_0x50c869}=_0x4bbee3[_0x1909ff(0x17e)],{value:_0x1f620d}=_0x4bbee3[_0x1909ff(0x1b0)],{companyId:_0x266fc3}=_0x4bbee3[_0x1909ff(0x189)];if(_0x50c869['startsWith']('_')&&!_0x4bbee3[_0x1909ff(0x189)][_0x1909ff(0x187)])throw new AppError_1[(_0x1909ff(0x1a7))](_0x1909ff(0x18c),0x193);const _0x68a198=await(0x0,UpdateSettingService_1[_0x1909ff(0x1a7)])({'key':_0x50c869,'value':_0x1f620d,'companyId':_0x266fc3}),_0x57c30f=(0x0,socket_1[_0x1909ff(0x191)])();return _0x57c30f[_0x1909ff(0x1b1)]('company-'+_0x266fc3+_0x1909ff(0x1a9),{'action':_0x1909ff(0x19d),'setting':_0x68a198}),_0x19cbcc[_0x1909ff(0x195)](0xc8)[_0x1909ff(0x198)](_0x68a198);};function a34_0xa588(_0x4a5fda,_0x46aec4){const _0x2a3ee9=a34_0x37b6();return a34_0xa588=function(_0x429129,_0x113b57){_0x429129=_0x429129-0x17c;let _0x37b6b0=_0x2a3ee9[_0x429129];return _0x37b6b0;},a34_0xa588(_0x4a5fda,_0x46aec4);}exports['update']=update;const publicShow=async(_0x5d497,_0xbc7091)=>{const _0x1f90d2=a34_0xfafb2b,{settingKey:_0x130605}=_0x5d497[_0x1f90d2(0x17e)],_0x34afe4=await(0x0,GetPublicSettingService_1['default'])({'key':_0x130605});return _0xbc7091[_0x1f90d2(0x195)](0xc8)['json'](_0x34afe4);};exports[a34_0xfafb2b(0x18d)]=publicShow;const show=async(_0x295820,_0x371a6b)=>{const _0x371c6a=a34_0xfafb2b,{settingKey:_0x51b5ef}=_0x295820[_0x371c6a(0x17e)],_0x4efb47=await(0x0,GetSettingService_1[_0x371c6a(0x18e)])({'key':_0x51b5ef,'user':_0x295820[_0x371c6a(0x189)]});return _0x371a6b[_0x371c6a(0x195)](0xc8)['json'](_0x4efb47);};exports['show']=show;const storeLogo=async(_0x9e9355,_0x8f7271)=>{const _0x872869=a34_0xfafb2b,_0x30eb85=_0x9e9355['file'],{mode:_0x5f36b7}=_0x9e9355[_0x872869(0x1b0)],{companyId:_0x4633fa}=_0x9e9355[_0x872869(0x189)],_0x43264b=['Light','Dark',_0x872869(0x1a4)];if(_0x43264b[_0x872869(0x186)](_0x5f36b7)===-0x1)return _0x8f7271[_0x872869(0x195)](0x196);if(_0x30eb85&&_0x30eb85['mimetype'][_0x872869(0x17c)](_0x872869(0x184))){const _0x25d9bb=await(0x0,UpdateSettingService_1['default'])({'key':'appLogo'+_0x5f36b7,'value':_0x30eb85[_0x872869(0x194)],'companyId':_0x4633fa});return _0x8f7271[_0x872869(0x195)](0xc8)[_0x872869(0x198)](_0x25d9bb[_0x872869(0x1ae)]);}return _0x8f7271['status'](0x196);};exports[a34_0xfafb2b(0x1ab)]=storeLogo;const storePrivateFile=async(_0xc2d726,_0x1b267c)=>{const _0x3a49b3=a34_0xfafb2b,_0x4d1c9f=_0xc2d726['file'],{settingKey:_0x1671d2}=_0xc2d726[_0x3a49b3(0x1b0)],{companyId:_0x25b564}=_0xc2d726[_0x3a49b3(0x189)],_0x511613=await(0x0,UpdateSettingService_1[_0x3a49b3(0x1a7)])({'key':'_'+_0x1671d2,'value':_0x4d1c9f[_0x3a49b3(0x194)],'companyId':_0x25b564});return _0x1b267c[_0x3a49b3(0x195)](0xc8)[_0x3a49b3(0x198)](_0x511613[_0x3a49b3(0x1ae)]);};function a34_0x37b6(){const _0x42dcf3=['__importStar','storeLogo','87328GNfppI','__esModule','value','getOwnPropertyDescriptor','body','emit','__createBinding','startsWith','defineProperty','params','2321802Lbszbl','length','constructor','writable','928496VfcEqf','image/','toString','indexOf','isSuper','storePrivateFile','user','getOwnPropertyNames','configurable','ERR_NO_PERMISSION','publicShow','GetSettingService','search','../libs/socket','getIO','index','hasOwnProperty','filename','status','call','apply','json','publicIndex','3912102NGEZFn','737052DMSWFZ','../services/SettingServices/GetPublicSettingService','update','7VdNBBT','create','504101orXvTp','(((.+)+)+)+$','companyId','48oPLoRv','Favicon','2840770XLrgoQ','../services/SettingServices/UpdateSettingService','default','GetAllPublicSettingsService','-settings'];a34_0x37b6=function(){return _0x42dcf3;};return a34_0x37b6();}exports[a34_0xfafb2b(0x188)]=storePrivateFile;