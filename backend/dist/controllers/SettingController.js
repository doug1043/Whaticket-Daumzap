'use strict';const a34_0x50d678=a34_0x385d;(function(_0xeec056,_0x535241){const _0x38f066=a34_0x385d,_0x5c3af1=_0xeec056();while(!![]){try{const _0x4359c9=parseInt(_0x38f066(0xea))/0x1+parseInt(_0x38f066(0xe6))/0x2+-parseInt(_0x38f066(0xbd))/0x3*(parseInt(_0x38f066(0xb8))/0x4)+-parseInt(_0x38f066(0xcb))/0x5+parseInt(_0x38f066(0xc4))/0x6+parseInt(_0x38f066(0xbc))/0x7*(parseInt(_0x38f066(0xdd))/0x8)+-parseInt(_0x38f066(0xd2))/0x9;if(_0x4359c9===_0x535241)break;else _0x5c3af1['push'](_0x5c3af1['shift']());}catch(_0x117590){_0x5c3af1['push'](_0x5c3af1['shift']());}}}(a34_0x437d,0x3a3f1));var __createBinding=this&&this[a34_0x50d678(0xba)]||(Object[a34_0x50d678(0xcd)]?function(_0xe86b39,_0x3bfc6e,_0x2cfdf4,_0x441115){const _0x3b51c2=a34_0x50d678;if(_0x441115===undefined)_0x441115=_0x2cfdf4;var _0x2a0596=Object[_0x3b51c2(0xe0)](_0x3bfc6e,_0x2cfdf4);(!_0x2a0596||(_0x3b51c2(0xd0)in _0x2a0596?!_0x3bfc6e[_0x3b51c2(0xbe)]:_0x2a0596['writable']||_0x2a0596[_0x3b51c2(0xd9)]))&&(_0x2a0596={'enumerable':!![],'get':function(){return _0x3bfc6e[_0x2cfdf4];}}),Object[_0x3b51c2(0xc2)](_0xe86b39,_0x441115,_0x2a0596);}:function(_0x156ed8,_0x2e1b58,_0x44bb22,_0x384a0b){if(_0x384a0b===undefined)_0x384a0b=_0x44bb22;_0x156ed8[_0x384a0b]=_0x2e1b58[_0x44bb22];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a34_0x50d678(0xcd)]?function(_0x15e967,_0x3901d0){const _0x100bdf=a34_0x50d678;Object[_0x100bdf(0xc2)](_0x15e967,_0x100bdf(0xd1),{'enumerable':!![],'value':_0x3901d0});}:function(_0x2ebaf3,_0x3287e2){const _0x410dd5=a34_0x50d678;_0x2ebaf3[_0x410dd5(0xd1)]=_0x3287e2;}),__importStar=this&&this['__importStar']||(function(){const _0xaa0f1a=(function(){let _0x401368=!![];return function(_0x5b262c,_0x23c77d){const _0x5eeb0a=_0x401368?function(){const _0x14fdb1=a34_0x385d;if(_0x23c77d){const _0x55250b=_0x23c77d[_0x14fdb1(0xc9)](_0x5b262c,arguments);return _0x23c77d=null,_0x55250b;}}:function(){};return _0x401368=![],_0x5eeb0a;};}()),_0x572ef6=_0xaa0f1a(this,function(){const _0x2ccdb1=a34_0x385d;return _0x572ef6[_0x2ccdb1(0xc0)]()['search'](_0x2ccdb1(0xdc))[_0x2ccdb1(0xc0)]()[_0x2ccdb1(0xeb)](_0x572ef6)[_0x2ccdb1(0xce)](_0x2ccdb1(0xdc));});_0x572ef6();var _0x4f73df=function(_0x4549e8){const _0x477be5=a34_0x385d;return _0x4f73df=Object[_0x477be5(0xca)]||function(_0x5eb3f8){const _0x7ac282=_0x477be5;var _0x410e44=[];for(var _0x5da7f2 in _0x5eb3f8)if(Object[_0x7ac282(0xd8)]['hasOwnProperty'][_0x7ac282(0xbb)](_0x5eb3f8,_0x5da7f2))_0x410e44[_0x410e44[_0x7ac282(0xe7)]]=_0x5da7f2;return _0x410e44;},_0x4f73df(_0x4549e8);};return function(_0x2f8145){const _0x321147=a34_0x385d;if(_0x2f8145&&_0x2f8145[_0x321147(0xbe)])return _0x2f8145;var _0x287add={};if(_0x2f8145!=null){for(var _0x51c41a=_0x4f73df(_0x2f8145),_0x1bf364=0x0;_0x1bf364<_0x51c41a[_0x321147(0xe7)];_0x1bf364++)if(_0x51c41a[_0x1bf364]!==_0x321147(0xd1))__createBinding(_0x287add,_0x2f8145,_0x51c41a[_0x1bf364]);}return __setModuleDefault(_0x287add,_0x2f8145),_0x287add;};}()),__importDefault=this&&this['__importDefault']||function(_0x570b88){return _0x570b88&&_0x570b88['__esModule']?_0x570b88:{'default':_0x570b88};};Object['defineProperty'](exports,a34_0x50d678(0xbe),{'value':!![]}),exports[a34_0x50d678(0xb7)]=exports[a34_0x50d678(0xc6)]=exports[a34_0x50d678(0xc5)]=exports[a34_0x50d678(0xd6)]=exports[a34_0x50d678(0xe5)]=exports[a34_0x50d678(0xe3)]=exports[a34_0x50d678(0xcc)]=void 0x0;function a34_0x385d(_0x2cb550,_0x59cc7b){const _0x4de175=a34_0x437d();return a34_0x385d=function(_0x2eb4fb,_0x41cd64){_0x2eb4fb=_0x2eb4fb-0xb6;let _0x437d0b=_0x4de175[_0x2eb4fb];return _0x437d0b;},a34_0x385d(_0x2cb550,_0x59cc7b);}const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(a34_0x50d678(0xb6))),UpdateSettingService_1=__importDefault(require(a34_0x50d678(0xe1))),ListSettingsService_1=__importDefault(require(a34_0x50d678(0xc7))),GetPublicSettingService_1=__importStar(require('../services/SettingServices/GetPublicSettingService')),GetSettingService_1=require(a34_0x50d678(0xd4)),index=async(_0xb3b17b,_0x79a64c)=>{const _0x28a9dc=a34_0x50d678,_0x4fa40c=await(0x0,ListSettingsService_1[_0x28a9dc(0xd1)])(_0xb3b17b[_0x28a9dc(0xe8)]);return _0x79a64c[_0x28a9dc(0xe4)](0xc8)[_0x28a9dc(0xc8)](_0x4fa40c);};function a34_0x437d(){const _0x265266=['body','466435lANOJQ','constructor','../errors/AppError','storePrivateFile','1576oDszuI','indexOf','__createBinding','call','7JiTwVe','555ZRMerV','__esModule','filename','toString','GetSettingService','defineProperty','company-','2720118prTfma','show','storeLogo','../services/SettingServices/ListSettingsService','json','apply','getOwnPropertyNames','253690eamSss','index','create','search','startsWith','get','default','9745407CpslKq','params','../services/SettingServices/GetSettingService','value','publicShow','getIO','prototype','configurable','Dark','isSuper','(((.+)+)+)+$','2433040FqwZQf','file','companyId','getOwnPropertyDescriptor','../services/SettingServices/UpdateSettingService','Light','publicIndex','status','update','442220XhllRI','length','user'];a34_0x437d=function(){return _0x265266;};return a34_0x437d();}exports[a34_0x50d678(0xcc)]=index;const publicIndex=async(_0x161501,_0x20928b)=>{const _0x2149e3=a34_0x50d678,_0x3b587d=await(0x0,GetPublicSettingService_1['GetAllPublicSettingsService'])(_0x161501[_0x2149e3(0xe8)]?.[_0x2149e3(0xdf)]);return _0x20928b[_0x2149e3(0xe4)](0xc8)[_0x2149e3(0xc8)](_0x3b587d);};exports[a34_0x50d678(0xe3)]=publicIndex;const update=async(_0x46dc09,_0x20c08e)=>{const _0x163d7b=a34_0x50d678,{settingKey:_0x3d25ed}=_0x46dc09[_0x163d7b(0xd3)],{value:_0xa92dee}=_0x46dc09['body'],{companyId:_0xc6a1d1}=_0x46dc09[_0x163d7b(0xe8)];if(_0x3d25ed[_0x163d7b(0xcf)]('_')&&!_0x46dc09[_0x163d7b(0xe8)][_0x163d7b(0xdb)])throw new AppError_1[(_0x163d7b(0xd1))]('ERR_NO_PERMISSION',0x193);const _0x3df39b=await(0x0,UpdateSettingService_1[_0x163d7b(0xd1)])({'key':_0x3d25ed,'value':_0xa92dee,'companyId':_0xc6a1d1}),_0x5b1fed=(0x0,socket_1[_0x163d7b(0xd7)])();return _0x5b1fed['emit'](_0x163d7b(0xc3)+_0xc6a1d1+'-settings',{'action':_0x163d7b(0xe5),'setting':_0x3df39b}),_0x20c08e['status'](0xc8)[_0x163d7b(0xc8)](_0x3df39b);};exports[a34_0x50d678(0xe5)]=update;const publicShow=async(_0x1b4226,_0xdd87e0)=>{const _0x354896=a34_0x50d678,{settingKey:_0x480852}=_0x1b4226[_0x354896(0xd3)],_0x207600=await(0x0,GetPublicSettingService_1['default'])({'key':_0x480852});return _0xdd87e0[_0x354896(0xe4)](0xc8)[_0x354896(0xc8)](_0x207600);};exports[a34_0x50d678(0xd6)]=publicShow;const show=async(_0x15d9a0,_0xa45ca)=>{const _0x2e30bb=a34_0x50d678,{settingKey:_0x1e3de3}=_0x15d9a0[_0x2e30bb(0xd3)],_0x2bc506=await(0x0,GetSettingService_1[_0x2e30bb(0xc1)])({'key':_0x1e3de3,'user':_0x15d9a0[_0x2e30bb(0xe8)]});return _0xa45ca[_0x2e30bb(0xe4)](0xc8)['json'](_0x2bc506);};exports[a34_0x50d678(0xc5)]=show;const storeLogo=async(_0x22623f,_0x112b6d)=>{const _0x56ba64=a34_0x50d678,_0x2fb770=_0x22623f[_0x56ba64(0xde)],{mode:_0x18d039}=_0x22623f[_0x56ba64(0xe9)],{companyId:_0x1a127c}=_0x22623f[_0x56ba64(0xe8)],_0x41a155=[_0x56ba64(0xe2),_0x56ba64(0xda),'Favicon'];if(_0x41a155[_0x56ba64(0xb9)](_0x18d039)===-0x1)return _0x112b6d[_0x56ba64(0xe4)](0x196);if(_0x2fb770&&_0x2fb770['mimetype'][_0x56ba64(0xcf)]('image/')){const _0x183e83=await(0x0,UpdateSettingService_1[_0x56ba64(0xd1)])({'key':'appLogo'+_0x18d039,'value':_0x2fb770[_0x56ba64(0xbf)],'companyId':_0x1a127c});return _0x112b6d['status'](0xc8)[_0x56ba64(0xc8)](_0x183e83[_0x56ba64(0xd5)]);}return _0x112b6d[_0x56ba64(0xe4)](0x196);};exports[a34_0x50d678(0xc6)]=storeLogo;const storePrivateFile=async(_0x416bef,_0x2db6ab)=>{const _0x2e000a=a34_0x50d678,_0x721440=_0x416bef[_0x2e000a(0xde)],{settingKey:_0x54f5ea}=_0x416bef['body'],{companyId:_0x9c7438}=_0x416bef[_0x2e000a(0xe8)],_0x2214f7=await(0x0,UpdateSettingService_1[_0x2e000a(0xd1)])({'key':'_'+_0x54f5ea,'value':_0x721440['filename'],'companyId':_0x9c7438});return _0x2db6ab['status'](0xc8)[_0x2e000a(0xc8)](_0x2214f7[_0x2e000a(0xd5)]);};exports[a34_0x50d678(0xb7)]=storePrivateFile;