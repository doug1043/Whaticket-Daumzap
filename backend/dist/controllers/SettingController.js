const a36_0x5e4c01=a36_0x4a3a;(function(_0x385937,_0x4f0812){const _0x58f8e3=a36_0x4a3a,_0x56a9f1=_0x385937();while(!![]){try{const _0x493fce=-parseInt(_0x58f8e3(0x1e0))/0x1+-parseInt(_0x58f8e3(0x1d8))/0x2+parseInt(_0x58f8e3(0x1f9))/0x3*(-parseInt(_0x58f8e3(0x201))/0x4)+parseInt(_0x58f8e3(0x1de))/0x5+-parseInt(_0x58f8e3(0x1f0))/0x6*(parseInt(_0x58f8e3(0x204))/0x7)+-parseInt(_0x58f8e3(0x1cc))/0x8*(parseInt(_0x58f8e3(0x1df))/0x9)+parseInt(_0x58f8e3(0x1e9))/0xa;if(_0x493fce===_0x4f0812)break;else _0x56a9f1['push'](_0x56a9f1['shift']());}catch(_0xdac0d4){_0x56a9f1['push'](_0x56a9f1['shift']());}}}(a36_0x1a0f,0x89f7d));const a36_0x872dfc=(function(){let _0x42e30d=!![];return function(_0x1fc5d6,_0x330b7e){const _0x1f3a60=_0x42e30d?function(){if(_0x330b7e){const _0x5ba287=_0x330b7e['apply'](_0x1fc5d6,arguments);return _0x330b7e=null,_0x5ba287;}}:function(){};return _0x42e30d=![],_0x1f3a60;};}()),a36_0x402836=a36_0x872dfc(this,function(){const _0xd22bd=a36_0x4a3a;return a36_0x402836[_0xd22bd(0x1db)]()[_0xd22bd(0x1fb)](_0xd22bd(0x1e2))[_0xd22bd(0x1db)]()[_0xd22bd(0x1da)](a36_0x402836)['search'](_0xd22bd(0x1e2));});a36_0x402836();'use strict';var __createBinding=this&&this[a36_0x5e4c01(0x1d0)]||(Object[a36_0x5e4c01(0x1ec)]?function(_0x5982dc,_0x3ad53b,_0x11b17f,_0x19c91d){const _0x2435a9=a36_0x5e4c01;if(_0x19c91d===undefined)_0x19c91d=_0x11b17f;var _0x19570a=Object[_0x2435a9(0x1d1)](_0x3ad53b,_0x11b17f);(!_0x19570a||('get'in _0x19570a?!_0x3ad53b[_0x2435a9(0x1fa)]:_0x19570a[_0x2435a9(0x1d3)]||_0x19570a[_0x2435a9(0x1e7)]))&&(_0x19570a={'enumerable':!![],'get':function(){return _0x3ad53b[_0x11b17f];}}),Object[_0x2435a9(0x1d4)](_0x5982dc,_0x19c91d,_0x19570a);}:function(_0x2695e4,_0x25d339,_0x4ec1a6,_0x3f493b){if(_0x3f493b===undefined)_0x3f493b=_0x4ec1a6;_0x2695e4[_0x3f493b]=_0x25d339[_0x4ec1a6];}),__setModuleDefault=this&&this[a36_0x5e4c01(0x1fc)]||(Object[a36_0x5e4c01(0x1ec)]?function(_0x4c5cea,_0x11807a){const _0x51f772=a36_0x5e4c01;Object['defineProperty'](_0x4c5cea,_0x51f772(0x1d7),{'enumerable':!![],'value':_0x11807a});}:function(_0x29bd40,_0x307d94){const _0x39bd4c=a36_0x5e4c01;_0x29bd40[_0x39bd4c(0x1d7)]=_0x307d94;}),__importStar=this&&this[a36_0x5e4c01(0x1d5)]||function(_0x3b4df4){const _0x79b41a=a36_0x5e4c01;if(_0x3b4df4&&_0x3b4df4[_0x79b41a(0x1fa)])return _0x3b4df4;var _0x529e0e={};if(_0x3b4df4!=null){for(var _0x5404ce in _0x3b4df4)if(_0x5404ce!=='default'&&Object[_0x79b41a(0x1ef)][_0x79b41a(0x1d9)][_0x79b41a(0x1f7)](_0x3b4df4,_0x5404ce))__createBinding(_0x529e0e,_0x3b4df4,_0x5404ce);}return __setModuleDefault(_0x529e0e,_0x3b4df4),_0x529e0e;},__importDefault=this&&this['__importDefault']||function(_0x419c58){return _0x419c58&&_0x419c58['__esModule']?_0x419c58:{'default':_0x419c58};};Object[a36_0x5e4c01(0x1d4)](exports,'__esModule',{'value':!![]}),exports[a36_0x5e4c01(0x1fe)]=exports[a36_0x5e4c01(0x1e8)]=exports[a36_0x5e4c01(0x1d2)]=exports[a36_0x5e4c01(0x1ee)]=exports['storeLogo']=exports[a36_0x5e4c01(0x203)]=exports['index']=void 0x0;const socket_1=require(a36_0x5e4c01(0x1cd)),AppError_1=__importDefault(require(a36_0x5e4c01(0x1d6))),UpdateSettingService_1=__importDefault(require('../services/SettingServices/UpdateSettingService')),ListSettingsService_1=__importDefault(require(a36_0x5e4c01(0x1e6))),GetPublicSettingService_1=__importStar(require(a36_0x5e4c01(0x1e3))),index=async(_0x521805,_0x4df1c1)=>{const _0x33b76f=a36_0x5e4c01,_0x2ee708=await(0x0,ListSettingsService_1[_0x33b76f(0x1d7)])(_0x521805[_0x33b76f(0x1ce)]);return _0x4df1c1['status'](0xc8)[_0x33b76f(0x1f3)](_0x2ee708);};function a36_0x4a3a(_0x239f1e,_0x3ac886){const _0x4ac6a0=a36_0x1a0f();return a36_0x4a3a=function(_0x402836,_0x872dfc){_0x402836=_0x402836-0x1ca;let _0x1a0f06=_0x4ac6a0[_0x402836];return _0x1a0f06;},a36_0x4a3a(_0x239f1e,_0x3ac886);}exports[a36_0x5e4c01(0x1f8)]=index;const publicIndex=async(_0x478ff8,_0x134b27)=>{const _0x54c73e=a36_0x5e4c01,_0x5ae2b6=await(0x0,GetPublicSettingService_1['GetAllPublicSettingsService'])(_0x478ff8['user']?.['companyId']);return _0x134b27['status'](0xc8)[_0x54c73e(0x1f3)](_0x5ae2b6);};exports[a36_0x5e4c01(0x203)]=publicIndex;const storeLogo=async(_0x5b4eca,_0x4cc4a0)=>{const _0x1b0a37=a36_0x5e4c01,_0x23f04f=_0x5b4eca[_0x1b0a37(0x1f2)],{mode:_0x5003b4}=_0x5b4eca[_0x1b0a37(0x1dc)],{companyId:_0x5827ec}=_0x5b4eca['user'],_0x47975f=['Light',_0x1b0a37(0x1ff),_0x1b0a37(0x200)];if(_0x5b4eca[_0x1b0a37(0x1ce)][_0x1b0a37(0x1cf)]!==_0x1b0a37(0x1e5))throw new AppError_1[(_0x1b0a37(0x1d7))]('ERR_NO_PERMISSION',0x193);if(_0x47975f['indexOf'](_0x5003b4)===-0x1)return _0x4cc4a0[_0x1b0a37(0x1ea)](0x196);if(_0x23f04f&&_0x23f04f[_0x1b0a37(0x1f5)][_0x1b0a37(0x1eb)](_0x1b0a37(0x1ed))){const _0x374d31=await(0x0,UpdateSettingService_1[_0x1b0a37(0x1d7)])({'key':'appLogo'+_0x5003b4,'value':_0x23f04f[_0x1b0a37(0x1f4)],'companyId':_0x5827ec});return _0x4cc4a0[_0x1b0a37(0x1ea)](0xc8)[_0x1b0a37(0x1f3)](_0x374d31['value']);}return _0x4cc4a0[_0x1b0a37(0x1ea)](0x196);};exports['storeLogo']=storeLogo;const getSettingRegister=async(_0x227d1d,_0x339856)=>{const _0xe86ac9=a36_0x5e4c01,{companyId:_0x31c717}=_0x227d1d['user'];if(_0x227d1d['user'][_0xe86ac9(0x1cf)]!=='admin')throw new AppError_1[(_0xe86ac9(0x1d7))](_0xe86ac9(0x1cb),0x193);const _0x171148=await(0x0,ListSettingsService_1[_0xe86ac9(0x1d7)])(_0x227d1d[_0xe86ac9(0x1ce)]);return _0x339856[_0xe86ac9(0x1ea)](0xc8)[_0xe86ac9(0x1f3)](_0x171148);};exports[a36_0x5e4c01(0x1ee)]=getSettingRegister;const update=async(_0x576f19,_0x25db8e)=>{const _0x48e012=a36_0x5e4c01;if(_0x576f19[_0x48e012(0x1ce)][_0x48e012(0x1cf)]!==_0x48e012(0x1e5))throw new AppError_1[(_0x48e012(0x1d7))](_0x48e012(0x1cb),0x193);const {settingKey:_0x4800bd}=_0x576f19[_0x48e012(0x202)],{value:_0x36f606}=_0x576f19[_0x48e012(0x1dc)],{companyId:_0x562259}=_0x576f19[_0x48e012(0x1ce)];if(_0x4800bd[_0x48e012(0x1eb)]('_')&&!_0x576f19[_0x48e012(0x1ce)][_0x48e012(0x1fd)])throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);const _0x110c51=await(0x0,UpdateSettingService_1['default'])({'key':_0x4800bd,'value':_0x36f606,'companyId':_0x562259}),_0x2a0cab=(0x0,socket_1[_0x48e012(0x1e4)])();return _0x2a0cab['to'](_0x48e012(0x1f6)+_0x562259+_0x48e012(0x1f1))[_0x48e012(0x1ca)](_0x48e012(0x1f6)+_0x562259+'-settings',{'action':_0x48e012(0x1d2),'setting':_0x110c51}),_0x25db8e[_0x48e012(0x1ea)](0xc8)[_0x48e012(0x1f3)](_0x110c51);};exports['update']=update;const publicShow=async(_0x1e9dc2,_0x456ef1)=>{const _0x96899b=a36_0x5e4c01,{settingKey:_0x2fc4b6}=_0x1e9dc2[_0x96899b(0x202)],_0x1b9965=await(0x0,GetPublicSettingService_1[_0x96899b(0x1d7)])({'key':_0x2fc4b6,'companyId':_0x1e9dc2[_0x96899b(0x1ce)]?.[_0x96899b(0x1dd)]});return _0x456ef1['status'](0xc8)['json'](_0x1b9965);};exports[a36_0x5e4c01(0x1e8)]=publicShow;function a36_0x1a0f(){const _0x2bdd0c=['user','profile','__createBinding','getOwnPropertyDescriptor','update','writable','defineProperty','__importStar','../errors/AppError','default','193082cVqJro','hasOwnProperty','constructor','toString','body','companyId','4263520hGlKyu','5104521dOqbVQ','366504JGQomV','value','(((.+)+)+)+$','../services/SettingServices/GetPublicSettingService','getIO','admin','../services/SettingServices/ListSettingsService','configurable','publicShow','24540540RyfGQW','status','startsWith','create','image/','getSettingRegister','prototype','12WMqlPl','-mainchannel','file','json','filename','mimetype','company-','call','index','259353ccdKiR','__esModule','search','__setModuleDefault','isSuper','storePrivateFile','Dark','Favicon','36FYlaLv','params','publicIndex','3266788rVascn','emit','ERR_NO_PERMISSION','8ofobmB','../libs/socket'];a36_0x1a0f=function(){return _0x2bdd0c;};return a36_0x1a0f();}const storePrivateFile=async(_0x540c75,_0x420fe7)=>{const _0x140086=a36_0x5e4c01,_0x34fc61=_0x540c75['file'],{settingKey:_0x3e0a94}=_0x540c75[_0x140086(0x1dc)],{companyId:_0x22c656}=_0x540c75[_0x140086(0x1ce)],_0xbc08f2=await(0x0,UpdateSettingService_1[_0x140086(0x1d7)])({'key':'_'+_0x3e0a94,'value':_0x34fc61['filename'],'companyId':_0x22c656});return _0x420fe7['status'](0xc8)[_0x140086(0x1f3)](_0xbc08f2[_0x140086(0x1e1)]);};exports[a36_0x5e4c01(0x1fe)]=storePrivateFile;