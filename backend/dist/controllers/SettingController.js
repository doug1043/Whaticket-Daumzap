'use strict';const a34_0x2c9b7e=a34_0x1846;(function(_0x1069a6,_0x4d70fa){const _0x18c0c6=a34_0x1846,_0x10dff0=_0x1069a6();while(!![]){try{const _0x577ed4=parseInt(_0x18c0c6(0x95))/0x1+-parseInt(_0x18c0c6(0x97))/0x2*(parseInt(_0x18c0c6(0xb5))/0x3)+parseInt(_0x18c0c6(0xab))/0x4+parseInt(_0x18c0c6(0xbd))/0x5*(-parseInt(_0x18c0c6(0xb3))/0x6)+-parseInt(_0x18c0c6(0x8f))/0x7*(-parseInt(_0x18c0c6(0xa8))/0x8)+parseInt(_0x18c0c6(0xb7))/0x9+-parseInt(_0x18c0c6(0xbc))/0xa;if(_0x577ed4===_0x4d70fa)break;else _0x10dff0['push'](_0x10dff0['shift']());}catch(_0x4be46c){_0x10dff0['push'](_0x10dff0['shift']());}}}(a34_0x336a,0x6ce62));var __createBinding=this&&this[a34_0x2c9b7e(0xa2)]||(Object[a34_0x2c9b7e(0xa9)]?function(_0x16199d,_0x2ab06e,_0x40fcc5,_0x50b627){const _0x3f9b06=a34_0x2c9b7e;if(_0x50b627===undefined)_0x50b627=_0x40fcc5;var _0x1a6281=Object[_0x3f9b06(0xa0)](_0x2ab06e,_0x40fcc5);(!_0x1a6281||(_0x3f9b06(0x92)in _0x1a6281?!_0x2ab06e[_0x3f9b06(0xa4)]:_0x1a6281['writable']||_0x1a6281[_0x3f9b06(0xc3)]))&&(_0x1a6281={'enumerable':!![],'get':function(){return _0x2ab06e[_0x40fcc5];}}),Object[_0x3f9b06(0xa3)](_0x16199d,_0x50b627,_0x1a6281);}:function(_0x21f91e,_0x30d1ce,_0x1c80bb,_0x3374c5){if(_0x3374c5===undefined)_0x3374c5=_0x1c80bb;_0x21f91e[_0x3374c5]=_0x30d1ce[_0x1c80bb];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x3dc6c6,_0x306d00){const _0x226036=a34_0x2c9b7e;Object[_0x226036(0xa3)](_0x3dc6c6,_0x226036(0xc6),{'enumerable':!![],'value':_0x306d00});}:function(_0x1da5a5,_0x5bf0a4){_0x1da5a5['default']=_0x5bf0a4;}),__importStar=this&&this['__importStar']||(function(){const _0x5149b3=(function(){let _0x16efdd=!![];return function(_0x46092a,_0x1bfff9){const _0xe3bafc=_0x16efdd?function(){const _0x708486=a34_0x1846;if(_0x1bfff9){const _0x3669c4=_0x1bfff9[_0x708486(0xaa)](_0x46092a,arguments);return _0x1bfff9=null,_0x3669c4;}}:function(){};return _0x16efdd=![],_0xe3bafc;};}()),_0x5f4753=_0x5149b3(this,function(){const _0x269e9f=a34_0x1846;return _0x5f4753['toString']()[_0x269e9f(0xb2)](_0x269e9f(0xb0))[_0x269e9f(0x8c)]()['constructor'](_0x5f4753)[_0x269e9f(0xb2)]('(((.+)+)+)+$');});_0x5f4753();var _0x51eb57=function(_0x2fcea9){const _0x36da36=a34_0x1846;return _0x51eb57=Object[_0x36da36(0xa6)]||function(_0xa379ed){const _0x2eb465=_0x36da36;var _0x4d2617=[];for(var _0x2231e9 in _0xa379ed)if(Object[_0x2eb465(0xaf)][_0x2eb465(0xc7)]['call'](_0xa379ed,_0x2231e9))_0x4d2617[_0x4d2617[_0x2eb465(0xc2)]]=_0x2231e9;return _0x4d2617;},_0x51eb57(_0x2fcea9);};return function(_0x401733){const _0x441ba5=a34_0x1846;if(_0x401733&&_0x401733[_0x441ba5(0xa4)])return _0x401733;var _0x48fd0c={};if(_0x401733!=null){for(var _0x145116=_0x51eb57(_0x401733),_0x280c1d=0x0;_0x280c1d<_0x145116[_0x441ba5(0xc2)];_0x280c1d++)if(_0x145116[_0x280c1d]!=='default')__createBinding(_0x48fd0c,_0x401733,_0x145116[_0x280c1d]);}return __setModuleDefault(_0x48fd0c,_0x401733),_0x48fd0c;};}()),__importDefault=this&&this['__importDefault']||function(_0x1e3c08){return _0x1e3c08&&_0x1e3c08['__esModule']?_0x1e3c08:{'default':_0x1e3c08};};Object[a34_0x2c9b7e(0xa3)](exports,a34_0x2c9b7e(0xa4),{'value':!![]}),exports[a34_0x2c9b7e(0x99)]=exports[a34_0x2c9b7e(0xb6)]=exports[a34_0x2c9b7e(0x9e)]=exports['publicShow']=exports[a34_0x2c9b7e(0x9f)]=exports[a34_0x2c9b7e(0xb1)]=exports[a34_0x2c9b7e(0xbb)]=void 0x0;const socket_1=require(a34_0x2c9b7e(0x9d)),AppError_1=__importDefault(require(a34_0x2c9b7e(0xc0))),UpdateSettingService_1=__importDefault(require(a34_0x2c9b7e(0x9b))),ListSettingsService_1=__importDefault(require('../services/SettingServices/ListSettingsService')),GetPublicSettingService_1=__importStar(require(a34_0x2c9b7e(0x91))),GetSettingService_1=require(a34_0x2c9b7e(0x98)),index=async(_0x2fea81,_0xac1556)=>{const _0x52b386=a34_0x2c9b7e,_0x2a00a0=await(0x0,ListSettingsService_1[_0x52b386(0xc6)])(_0x2fea81['user']);return _0xac1556[_0x52b386(0xc5)](0xc8)['json'](_0x2a00a0);};exports[a34_0x2c9b7e(0xbb)]=index;const publicIndex=async(_0x403c48,_0x4b05d6)=>{const _0xac6e78=a34_0x2c9b7e,_0x22d455=await(0x0,GetPublicSettingService_1[_0xac6e78(0xa5)])(_0x403c48['user']?.['companyId']);return _0x4b05d6[_0xac6e78(0xc5)](0xc8)['json'](_0x22d455);};function a34_0x1846(_0x2864db,_0x41e755){const _0x1ada61=a34_0x336a();return a34_0x1846=function(_0x3094ab,_0x5eafd1){_0x3094ab=_0x3094ab-0x8c;let _0x336a86=_0x1ada61[_0x3094ab];return _0x336a86;},a34_0x1846(_0x2864db,_0x41e755);}exports['publicIndex']=publicIndex;const update=async(_0x271d02,_0x231537)=>{const _0x30a82f=a34_0x2c9b7e,{settingKey:_0x496feb}=_0x271d02['params'],{value:_0x4ce15a}=_0x271d02[_0x30a82f(0x96)],{companyId:_0x25253e}=_0x271d02[_0x30a82f(0xa7)];if(_0x496feb[_0x30a82f(0xc4)]('_')&&!_0x271d02['user'][_0x30a82f(0xb8)])throw new AppError_1[(_0x30a82f(0xc6))](_0x30a82f(0x94),0x193);const _0x209c16=await(0x0,UpdateSettingService_1[_0x30a82f(0xc6)])({'key':_0x496feb,'value':_0x4ce15a,'companyId':_0x25253e}),_0x5761cc=(0x0,socket_1[_0x30a82f(0xc1)])();return _0x5761cc[_0x30a82f(0x9c)](_0x30a82f(0xb4)+_0x25253e+'-settings',{'action':_0x30a82f(0x9f),'setting':_0x209c16}),_0x231537[_0x30a82f(0xc5)](0xc8)[_0x30a82f(0xad)](_0x209c16);};exports[a34_0x2c9b7e(0x9f)]=update;function a34_0x336a(){const _0x374866=['emit','../libs/socket','show','update','getOwnPropertyDescriptor','params','__createBinding','defineProperty','__esModule','GetAllPublicSettingsService','getOwnPropertyNames','user','8PJivnD','create','apply','1326400zkzYCt','image/','json','file','prototype','(((.+)+)+)+$','publicIndex','search','48bPRyie','company-','3sbGBHJ','storeLogo','5815395vGiTmz','isSuper','Light','Favicon','index','5496370MWzASR','4645fCUFzM','appLogo','mimetype','../errors/AppError','getIO','length','configurable','startsWith','status','default','hasOwnProperty','toString','value','indexOf','4193623HFZHsz','filename','../services/SettingServices/GetPublicSettingService','get','GetSettingService','ERR_NO_PERMISSION','258237RkSgPP','body','1663924ymruAS','../services/SettingServices/GetSettingService','storePrivateFile','publicShow','../services/SettingServices/UpdateSettingService'];a34_0x336a=function(){return _0x374866;};return a34_0x336a();}const publicShow=async(_0x3f02b4,_0x3c1083)=>{const _0x4df2ca=a34_0x2c9b7e,{settingKey:_0x2499ef}=_0x3f02b4[_0x4df2ca(0xa1)],_0x3985d9=await(0x0,GetPublicSettingService_1[_0x4df2ca(0xc6)])({'key':_0x2499ef});return _0x3c1083[_0x4df2ca(0xc5)](0xc8)[_0x4df2ca(0xad)](_0x3985d9);};exports[a34_0x2c9b7e(0x9a)]=publicShow;const show=async(_0x5315fb,_0x46bf8d)=>{const _0xf99aa6=a34_0x2c9b7e,{settingKey:_0x1e01f2}=_0x5315fb[_0xf99aa6(0xa1)],_0x1866d0=await(0x0,GetSettingService_1[_0xf99aa6(0x93)])({'key':_0x1e01f2,'user':_0x5315fb[_0xf99aa6(0xa7)]});return _0x46bf8d[_0xf99aa6(0xc5)](0xc8)[_0xf99aa6(0xad)](_0x1866d0);};exports['show']=show;const storeLogo=async(_0x58ca0c,_0x8594b7)=>{const _0x2a2338=a34_0x2c9b7e,_0x23eac3=_0x58ca0c[_0x2a2338(0xae)],{mode:_0x1d850c}=_0x58ca0c[_0x2a2338(0x96)],{companyId:_0x55f27b}=_0x58ca0c['user'],_0x300569=[_0x2a2338(0xb9),'Dark',_0x2a2338(0xba)];if(_0x300569[_0x2a2338(0x8e)](_0x1d850c)===-0x1)return _0x8594b7[_0x2a2338(0xc5)](0x196);if(_0x23eac3&&_0x23eac3[_0x2a2338(0xbf)]['startsWith'](_0x2a2338(0xac))){const _0x3547ac=await(0x0,UpdateSettingService_1[_0x2a2338(0xc6)])({'key':_0x2a2338(0xbe)+_0x1d850c,'value':_0x23eac3[_0x2a2338(0x90)],'companyId':_0x55f27b});return _0x8594b7[_0x2a2338(0xc5)](0xc8)[_0x2a2338(0xad)](_0x3547ac[_0x2a2338(0x8d)]);}return _0x8594b7[_0x2a2338(0xc5)](0x196);};exports['storeLogo']=storeLogo;const storePrivateFile=async(_0x4ecc95,_0x1b624d)=>{const _0x2000d2=a34_0x2c9b7e,_0x33b7cc=_0x4ecc95[_0x2000d2(0xae)],{settingKey:_0x1a0c55}=_0x4ecc95[_0x2000d2(0x96)],{companyId:_0x8b2f50}=_0x4ecc95['user'],_0x115d2c=await(0x0,UpdateSettingService_1[_0x2000d2(0xc6)])({'key':'_'+_0x1a0c55,'value':_0x33b7cc[_0x2000d2(0x90)],'companyId':_0x8b2f50});return _0x1b624d[_0x2000d2(0xc5)](0xc8)[_0x2000d2(0xad)](_0x115d2c['value']);};exports['storePrivateFile']=storePrivateFile;