'use strict';const a34_0x10dd40=a34_0x1e8d;(function(_0x4191a8,_0x8f1353){const _0x4aa51c=a34_0x1e8d,_0x2e401f=_0x4191a8();while(!![]){try{const _0x3a2330=parseInt(_0x4aa51c(0x113))/0x1*(-parseInt(_0x4aa51c(0xfb))/0x2)+-parseInt(_0x4aa51c(0x103))/0x3*(parseInt(_0x4aa51c(0x12b))/0x4)+-parseInt(_0x4aa51c(0x129))/0x5+parseInt(_0x4aa51c(0x124))/0x6+-parseInt(_0x4aa51c(0x111))/0x7+parseInt(_0x4aa51c(0x106))/0x8*(-parseInt(_0x4aa51c(0x10f))/0x9)+-parseInt(_0x4aa51c(0x118))/0xa*(-parseInt(_0x4aa51c(0x121))/0xb);if(_0x3a2330===_0x8f1353)break;else _0x2e401f['push'](_0x2e401f['shift']());}catch(_0x4e9517){_0x2e401f['push'](_0x2e401f['shift']());}}}(a34_0x29a4,0x8cdee));var __createBinding=this&&this[a34_0x10dd40(0xfe)]||(Object[a34_0x10dd40(0xf9)]?function(_0x1d5c82,_0x27c83e,_0x5e2901,_0xc9f2d5){const _0x31764b=a34_0x10dd40;if(_0xc9f2d5===undefined)_0xc9f2d5=_0x5e2901;var _0x14da6b=Object[_0x31764b(0x10b)](_0x27c83e,_0x5e2901);(!_0x14da6b||('get'in _0x14da6b?!_0x27c83e[_0x31764b(0x12c)]:_0x14da6b[_0x31764b(0x11b)]||_0x14da6b['configurable']))&&(_0x14da6b={'enumerable':!![],'get':function(){return _0x27c83e[_0x5e2901];}}),Object[_0x31764b(0x126)](_0x1d5c82,_0xc9f2d5,_0x14da6b);}:function(_0x67c4e,_0x5945d2,_0x5580e0,_0x192b28){if(_0x192b28===undefined)_0x192b28=_0x5580e0;_0x67c4e[_0x192b28]=_0x5945d2[_0x5580e0];}),__setModuleDefault=this&&this[a34_0x10dd40(0x127)]||(Object[a34_0x10dd40(0xf9)]?function(_0x45c3a9,_0x423264){const _0x5685d9=a34_0x10dd40;Object[_0x5685d9(0x126)](_0x45c3a9,_0x5685d9(0x120),{'enumerable':!![],'value':_0x423264});}:function(_0x47ae1b,_0x172cbc){_0x47ae1b['default']=_0x172cbc;}),__importStar=this&&this[a34_0x10dd40(0xf3)]||(function(){const _0x13cfea=(function(){let _0x1f5cb8=!![];return function(_0x37a85d,_0x414aa3){const _0x4ce46c=_0x1f5cb8?function(){const _0x921e9f=a34_0x1e8d;if(_0x414aa3){const _0x135f11=_0x414aa3[_0x921e9f(0x125)](_0x37a85d,arguments);return _0x414aa3=null,_0x135f11;}}:function(){};return _0x1f5cb8=![],_0x4ce46c;};}()),_0x523756=_0x13cfea(this,function(){const _0x56875c=a34_0x1e8d;return _0x523756[_0x56875c(0x10a)]()['search'](_0x56875c(0x11f))[_0x56875c(0x10a)]()['constructor'](_0x523756)[_0x56875c(0x117)](_0x56875c(0x11f));});_0x523756();var _0x3d6322=function(_0x2759cd){const _0x5a2336=a34_0x1e8d;return _0x3d6322=Object[_0x5a2336(0xf7)]||function(_0x4f3d8d){const _0x526fd1=_0x5a2336;var _0x4c449b=[];for(var _0x537493 in _0x4f3d8d)if(Object[_0x526fd1(0x108)][_0x526fd1(0x119)]['call'](_0x4f3d8d,_0x537493))_0x4c449b[_0x4c449b['length']]=_0x537493;return _0x4c449b;},_0x3d6322(_0x2759cd);};return function(_0x2b1fa5){const _0x520739=a34_0x1e8d;if(_0x2b1fa5&&_0x2b1fa5[_0x520739(0x12c)])return _0x2b1fa5;var _0x35bbc3={};if(_0x2b1fa5!=null){for(var _0x3fd6af=_0x3d6322(_0x2b1fa5),_0x5ae235=0x0;_0x5ae235<_0x3fd6af[_0x520739(0xf4)];_0x5ae235++)if(_0x3fd6af[_0x5ae235]!==_0x520739(0x120))__createBinding(_0x35bbc3,_0x2b1fa5,_0x3fd6af[_0x5ae235]);}return __setModuleDefault(_0x35bbc3,_0x2b1fa5),_0x35bbc3;};}()),__importDefault=this&&this[a34_0x10dd40(0xfd)]||function(_0xecc2e8){const _0x42974d=a34_0x10dd40;return _0xecc2e8&&_0xecc2e8[_0x42974d(0x12c)]?_0xecc2e8:{'default':_0xecc2e8};};Object[a34_0x10dd40(0x126)](exports,a34_0x10dd40(0x12c),{'value':!![]}),exports[a34_0x10dd40(0x104)]=exports[a34_0x10dd40(0xfc)]=exports['show']=exports['publicShow']=exports[a34_0x10dd40(0xf2)]=exports['publicIndex']=exports[a34_0x10dd40(0x114)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(a34_0x10dd40(0x10e))),UpdateSettingService_1=__importDefault(require(a34_0x10dd40(0x11c))),ListSettingsService_1=__importDefault(require('../services/SettingServices/ListSettingsService')),GetPublicSettingService_1=__importStar(require(a34_0x10dd40(0x12a))),GetSettingService_1=require(a34_0x10dd40(0xfa)),index=async(_0x2c9ccb,_0x268fea)=>{const _0x374577=a34_0x10dd40,_0x280879=await(0x0,ListSettingsService_1[_0x374577(0x120)])(_0x2c9ccb[_0x374577(0x110)]);return _0x268fea[_0x374577(0x100)](0xc8)[_0x374577(0x10d)](_0x280879);};exports[a34_0x10dd40(0x114)]=index;const publicIndex=async(_0x1b9278,_0x37f8d1)=>{const _0x3f9b5d=a34_0x10dd40,_0x463fd3=await(0x0,GetPublicSettingService_1[_0x3f9b5d(0x11e)])(_0x1b9278[_0x3f9b5d(0x110)]?.[_0x3f9b5d(0x11d)]);return _0x37f8d1['status'](0xc8)[_0x3f9b5d(0x10d)](_0x463fd3);};exports['publicIndex']=publicIndex;const update=async(_0x367668,_0x3e814d)=>{const _0x48ad2b=a34_0x10dd40,{settingKey:_0x1500a9}=_0x367668[_0x48ad2b(0x116)],{value:_0x97cca3}=_0x367668[_0x48ad2b(0xf6)],{companyId:_0x2bda48}=_0x367668[_0x48ad2b(0x110)];if(_0x1500a9[_0x48ad2b(0x122)]('_')&&!_0x367668[_0x48ad2b(0x110)][_0x48ad2b(0x10c)])throw new AppError_1[(_0x48ad2b(0x120))](_0x48ad2b(0x115),0x193);const _0xceb7a7=await(0x0,UpdateSettingService_1[_0x48ad2b(0x120)])({'key':_0x1500a9,'value':_0x97cca3,'companyId':_0x2bda48}),_0x28d3e1=(0x0,socket_1[_0x48ad2b(0x109)])();return _0x28d3e1[_0x48ad2b(0x107)](_0x48ad2b(0x11a)+_0x2bda48+_0x48ad2b(0xf8),{'action':'update','setting':_0xceb7a7}),_0x3e814d[_0x48ad2b(0x100)](0xc8)['json'](_0xceb7a7);};exports[a34_0x10dd40(0xf2)]=update;const publicShow=async(_0x6c746a,_0x451cdb)=>{const _0x371dca=a34_0x10dd40,{settingKey:_0x241f4f}=_0x6c746a[_0x371dca(0x116)],_0x365b71=await(0x0,GetPublicSettingService_1[_0x371dca(0x120)])({'key':_0x241f4f});return _0x451cdb[_0x371dca(0x100)](0xc8)[_0x371dca(0x10d)](_0x365b71);};exports['publicShow']=publicShow;function a34_0x29a4(){const _0x1145ae=['company-','writable','../services/SettingServices/UpdateSettingService','companyId','GetAllPublicSettingsService','(((.+)+)+)+$','default','121GiEsAs','startsWith','Dark','2723796UbMcTz','apply','defineProperty','__setModuleDefault','filename','5118495astJQU','../services/SettingServices/GetPublicSettingService','2113672BOYfeE','__esModule','update','__importStar','length','value','body','getOwnPropertyNames','-settings','create','../services/SettingServices/GetSettingService','77008nxdaAa','storeLogo','__importDefault','__createBinding','mimetype','status','file','Light','3VRDTvX','storePrivateFile','Favicon','82392OGDnzJ','emit','prototype','getIO','toString','getOwnPropertyDescriptor','isSuper','json','../errors/AppError','99zrjRzA','user','5518324GXSEEJ','appLogo','26HnUOCK','index','ERR_NO_PERMISSION','params','search','3252620FUSbpR','hasOwnProperty'];a34_0x29a4=function(){return _0x1145ae;};return a34_0x29a4();}const show=async(_0x449ddc,_0x41339d)=>{const _0x1000c6=a34_0x10dd40,{settingKey:_0x31df00}=_0x449ddc['params'],_0x2f0a54=await(0x0,GetSettingService_1['GetSettingService'])({'key':_0x31df00,'user':_0x449ddc[_0x1000c6(0x110)]});return _0x41339d[_0x1000c6(0x100)](0xc8)[_0x1000c6(0x10d)](_0x2f0a54);};exports['show']=show;const storeLogo=async(_0x50ed56,_0xf4626f)=>{const _0x4c6dc2=a34_0x10dd40,_0x182129=_0x50ed56['file'],{mode:_0x5bada5}=_0x50ed56['body'],{companyId:_0x28d5de}=_0x50ed56['user'],_0x276148=[_0x4c6dc2(0x102),_0x4c6dc2(0x123),_0x4c6dc2(0x105)];if(_0x276148['indexOf'](_0x5bada5)===-0x1)return _0xf4626f[_0x4c6dc2(0x100)](0x196);if(_0x182129&&_0x182129[_0x4c6dc2(0xff)]['startsWith']('image/')){const _0x10a400=await(0x0,UpdateSettingService_1[_0x4c6dc2(0x120)])({'key':_0x4c6dc2(0x112)+_0x5bada5,'value':_0x182129[_0x4c6dc2(0x128)],'companyId':_0x28d5de});return _0xf4626f['status'](0xc8)['json'](_0x10a400[_0x4c6dc2(0xf5)]);}return _0xf4626f['status'](0x196);};exports[a34_0x10dd40(0xfc)]=storeLogo;const storePrivateFile=async(_0x45b32b,_0x4983a8)=>{const _0x50901b=a34_0x10dd40,_0x5cfcd1=_0x45b32b[_0x50901b(0x101)],{settingKey:_0x34087f}=_0x45b32b['body'],{companyId:_0x4b2f2c}=_0x45b32b['user'],_0x436246=await(0x0,UpdateSettingService_1['default'])({'key':'_'+_0x34087f,'value':_0x5cfcd1['filename'],'companyId':_0x4b2f2c});return _0x4983a8['status'](0xc8)['json'](_0x436246['value']);};function a34_0x1e8d(_0x10f7bc,_0x12c288){const _0x8cf2aa=a34_0x29a4();return a34_0x1e8d=function(_0x17bc44,_0x478e90){_0x17bc44=_0x17bc44-0xf2;let _0x29a428=_0x8cf2aa[_0x17bc44];return _0x29a428;},a34_0x1e8d(_0x10f7bc,_0x12c288);}exports['storePrivateFile']=storePrivateFile;