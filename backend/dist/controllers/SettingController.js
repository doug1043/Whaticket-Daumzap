'use strict';const a41_0x19a0b5=a41_0x4e53;function a41_0x4510(){const _0x363a8f=['configurable','GetSettingService','GetAllPublicSettingsService','(((.+)+)+)+$','storePrivateFile','1232uDLNzA','file','../libs/socket','497060utTiyE','defineProperty','status','9CyEGgm','Light','writable','isSuper','empresa','storeLogo','update','2074492iwMdhZ','search','body','Dark','image/','uploadFile','../services/SettingServices/GetSettingService','__esModule','__createBinding','publicShow','mimetype','1252DlxVRs','create','../services/SettingServices/UpdateSettingService','718fOQHVD','default','show','995875IVbIRE','company-','toString','startsWith','value','params','appLogo','filename','json','index','../services/SettingServices/ListSettingsService','getIO','publicIndex','../services/SettingServices/GetPublicSettingService','length','prototype','__setModuleDefault','111192bNnuWl','getOwnPropertyNames','__importStar','../services/StorageService/StorageService','Favicon','-settings','user','path','1101wUKwhi','getOwnPropertyDescriptor','1611888LAGiga','../errors/AppError','constructor'];a41_0x4510=function(){return _0x363a8f;};return a41_0x4510();}(function(_0x29b832,_0x2b9957){const _0x3165b3=a41_0x4e53,_0x277e7e=_0x29b832();while(!![]){try{const _0x5d3158=-parseInt(_0x3165b3(0x1a1))/0x1*(-parseInt(_0x3165b3(0x19e))/0x2)+parseInt(_0x3165b3(0x1bd))/0x3*(-parseInt(_0x3165b3(0x1c7))/0x4)+-parseInt(_0x3165b3(0x1a4))/0x5+-parseInt(_0x3165b3(0x1bf))/0x6+parseInt(_0x3165b3(0x1d4))/0x7+-parseInt(_0x3165b3(0x1b5))/0x8*(-parseInt(_0x3165b3(0x1cd))/0x9)+parseInt(_0x3165b3(0x1ca))/0xa;if(_0x5d3158===_0x2b9957)break;else _0x277e7e['push'](_0x277e7e['shift']());}catch(_0x59116b){_0x277e7e['push'](_0x277e7e['shift']());}}}(a41_0x4510,0x37cda));var __createBinding=this&&this[a41_0x19a0b5(0x1dc)]||(Object[a41_0x19a0b5(0x19f)]?function(_0x522b52,_0x1e4833,_0xe808a6,_0x443c10){const _0x23ea1e=a41_0x19a0b5;if(_0x443c10===undefined)_0x443c10=_0xe808a6;var _0xced205=Object[_0x23ea1e(0x1be)](_0x1e4833,_0xe808a6);(!_0xced205||('get'in _0xced205?!_0x1e4833[_0x23ea1e(0x1db)]:_0xced205[_0x23ea1e(0x1cf)]||_0xced205[_0x23ea1e(0x1c2)]))&&(_0xced205={'enumerable':!![],'get':function(){return _0x1e4833[_0xe808a6];}}),Object['defineProperty'](_0x522b52,_0x443c10,_0xced205);}:function(_0x1f0952,_0x46e461,_0x2cc052,_0x2e73e1){if(_0x2e73e1===undefined)_0x2e73e1=_0x2cc052;_0x1f0952[_0x2e73e1]=_0x46e461[_0x2cc052];}),__setModuleDefault=this&&this[a41_0x19a0b5(0x1b4)]||(Object[a41_0x19a0b5(0x19f)]?function(_0x51bf16,_0xa5dd77){const _0x329c7c=a41_0x19a0b5;Object['defineProperty'](_0x51bf16,_0x329c7c(0x1a2),{'enumerable':!![],'value':_0xa5dd77});}:function(_0x34d949,_0x3a4665){_0x34d949['default']=_0x3a4665;}),__importStar=this&&this[a41_0x19a0b5(0x1b7)]||(function(){const _0x8040a9=(function(){let _0x35ab46=!![];return function(_0x20601c,_0x3114d1){const _0xb593d3=_0x35ab46?function(){if(_0x3114d1){const _0xae82fa=_0x3114d1['apply'](_0x20601c,arguments);return _0x3114d1=null,_0xae82fa;}}:function(){};return _0x35ab46=![],_0xb593d3;};}()),_0x40b95a=_0x8040a9(this,function(){const _0x1ae9e4=a41_0x4e53;return _0x40b95a[_0x1ae9e4(0x1a6)]()[_0x1ae9e4(0x1d5)](_0x1ae9e4(0x1c5))[_0x1ae9e4(0x1a6)]()[_0x1ae9e4(0x1c1)](_0x40b95a)['search'](_0x1ae9e4(0x1c5));});_0x40b95a();var _0x2b2eae=function(_0x4cf7d4){const _0x2fa7be=a41_0x4e53;return _0x2b2eae=Object[_0x2fa7be(0x1b6)]||function(_0x72a28d){const _0x595c53=_0x2fa7be;var _0x40c2ff=[];for(var _0xd56a70 in _0x72a28d)if(Object[_0x595c53(0x1b3)]['hasOwnProperty']['call'](_0x72a28d,_0xd56a70))_0x40c2ff[_0x40c2ff['length']]=_0xd56a70;return _0x40c2ff;},_0x2b2eae(_0x4cf7d4);};return function(_0xd83456){const _0x52b005=a41_0x4e53;if(_0xd83456&&_0xd83456[_0x52b005(0x1db)])return _0xd83456;var _0x88d39e={};if(_0xd83456!=null){for(var _0x245292=_0x2b2eae(_0xd83456),_0x104487=0x0;_0x104487<_0x245292[_0x52b005(0x1b2)];_0x104487++)if(_0x245292[_0x104487]!==_0x52b005(0x1a2))__createBinding(_0x88d39e,_0xd83456,_0x245292[_0x104487]);}return __setModuleDefault(_0x88d39e,_0xd83456),_0x88d39e;};}()),__importDefault=this&&this['__importDefault']||function(_0x6266e7){const _0x5b3cc9=a41_0x19a0b5;return _0x6266e7&&_0x6266e7[_0x5b3cc9(0x1db)]?_0x6266e7:{'default':_0x6266e7};};Object[a41_0x19a0b5(0x1cb)](exports,a41_0x19a0b5(0x1db),{'value':!![]}),exports[a41_0x19a0b5(0x1c6)]=exports[a41_0x19a0b5(0x1d2)]=exports[a41_0x19a0b5(0x1a3)]=exports[a41_0x19a0b5(0x1dd)]=exports[a41_0x19a0b5(0x1d3)]=exports[a41_0x19a0b5(0x1b0)]=exports['index']=void 0x0;const socket_1=require(a41_0x19a0b5(0x1c9)),AppError_1=__importDefault(require(a41_0x19a0b5(0x1c0))),UpdateSettingService_1=__importDefault(require(a41_0x19a0b5(0x1a0))),ListSettingsService_1=__importDefault(require(a41_0x19a0b5(0x1ae))),GetPublicSettingService_1=__importStar(require(a41_0x19a0b5(0x1b1))),GetSettingService_1=require(a41_0x19a0b5(0x1da)),StorageService_1=__importDefault(require(a41_0x19a0b5(0x1b8))),index=async(_0x41c9dd,_0x50a775)=>{const _0x346aae=a41_0x19a0b5,_0x30111b=await(0x0,ListSettingsService_1[_0x346aae(0x1a2)])(_0x41c9dd['user']);return _0x50a775['status'](0xc8)[_0x346aae(0x1ac)](_0x30111b);};exports[a41_0x19a0b5(0x1ad)]=index;const publicIndex=async(_0x21bb60,_0x429f82)=>{const _0x2d89d1=a41_0x19a0b5,_0x592650=await(0x0,GetPublicSettingService_1[_0x2d89d1(0x1c4)])(_0x21bb60[_0x2d89d1(0x1bb)]?.['companyId']);return _0x429f82[_0x2d89d1(0x1cc)](0xc8)[_0x2d89d1(0x1ac)](_0x592650);};exports['publicIndex']=publicIndex;const update=async(_0x496e5a,_0x8aedd1)=>{const _0x49f353=a41_0x19a0b5,{settingKey:_0x38876b}=_0x496e5a[_0x49f353(0x1a9)],{value:_0x47533b}=_0x496e5a['body'],{companyId:_0x44dd49}=_0x496e5a[_0x49f353(0x1bb)];if(_0x38876b[_0x49f353(0x1a7)]('_')&&!_0x496e5a[_0x49f353(0x1bb)][_0x49f353(0x1d0)])throw new AppError_1[(_0x49f353(0x1a2))]('ERR_NO_PERMISSION',0x193);const _0x5ea823=await(0x0,UpdateSettingService_1['default'])({'key':_0x38876b,'value':_0x47533b,'companyId':_0x44dd49}),_0x2a823e=(0x0,socket_1[_0x49f353(0x1af)])();return _0x2a823e['emit'](_0x49f353(0x1a5)+_0x44dd49+_0x49f353(0x1ba),{'action':_0x49f353(0x1d3),'setting':_0x5ea823}),_0x8aedd1[_0x49f353(0x1cc)](0xc8)['json'](_0x5ea823);};exports[a41_0x19a0b5(0x1d3)]=update;const publicShow=async(_0x31cad4,_0x55b668)=>{const _0x296a8a=a41_0x19a0b5,{settingKey:_0x479790}=_0x31cad4[_0x296a8a(0x1a9)],_0x44f44b=await(0x0,GetPublicSettingService_1['default'])({'key':_0x479790});return _0x55b668[_0x296a8a(0x1cc)](0xc8)['json'](_0x44f44b);};exports[a41_0x19a0b5(0x1dd)]=publicShow;const show=async(_0x463e73,_0x198517)=>{const _0x103360=a41_0x19a0b5,{settingKey:_0x618d81}=_0x463e73[_0x103360(0x1a9)],_0x376758=await(0x0,GetSettingService_1[_0x103360(0x1c3)])({'key':_0x618d81,'user':_0x463e73['user']});return _0x198517['status'](0xc8)[_0x103360(0x1ac)](_0x376758);};exports[a41_0x19a0b5(0x1a3)]=show;function a41_0x4e53(_0x35599e,_0x5cba64){const _0x1eaee2=a41_0x4510();return a41_0x4e53=function(_0x508362,_0x275851){_0x508362=_0x508362-0x19d;let _0x4510e5=_0x1eaee2[_0x508362];return _0x4510e5;},a41_0x4e53(_0x35599e,_0x5cba64);}const storeLogo=async(_0x59c258,_0x6848fc)=>{const _0x5ba1aa=a41_0x19a0b5,_0x45e094=_0x59c258[_0x5ba1aa(0x1c8)],{mode:_0x468385}=_0x59c258[_0x5ba1aa(0x1d6)],{companyId:_0x1d9818}=_0x59c258[_0x5ba1aa(0x1bb)],_0x17981e=[_0x5ba1aa(0x1ce),_0x5ba1aa(0x1d7),_0x5ba1aa(0x1b9)];if(_0x17981e['indexOf'](_0x468385)===-0x1)return _0x6848fc[_0x5ba1aa(0x1cc)](0x196);if(_0x45e094&&_0x45e094['mimetype'][_0x5ba1aa(0x1a7)](_0x5ba1aa(0x1d8))){const {url:_0x2f1044}=await StorageService_1[_0x5ba1aa(0x1a2)]['uploadFile'](_0x1d9818,_0x5ba1aa(0x1d1),_0x45e094[_0x5ba1aa(0x1ab)],_0x45e094[_0x5ba1aa(0x1bc)],_0x45e094[_0x5ba1aa(0x19d)]),_0x103c84=await(0x0,UpdateSettingService_1[_0x5ba1aa(0x1a2)])({'key':_0x5ba1aa(0x1aa)+_0x468385,'value':_0x2f1044,'companyId':_0x1d9818});return _0x6848fc[_0x5ba1aa(0x1cc)](0xc8)[_0x5ba1aa(0x1ac)](_0x103c84['value']);}return _0x6848fc[_0x5ba1aa(0x1cc)](0x196);};exports[a41_0x19a0b5(0x1d2)]=storeLogo;const storePrivateFile=async(_0x4eddd1,_0x43391c)=>{const _0x108a30=a41_0x19a0b5,_0x3cd863=_0x4eddd1[_0x108a30(0x1c8)],{settingKey:_0x90d658}=_0x4eddd1[_0x108a30(0x1d6)],{companyId:_0x34dfec}=_0x4eddd1[_0x108a30(0x1bb)],{url:_0x32fa31}=await StorageService_1[_0x108a30(0x1a2)][_0x108a30(0x1d9)](_0x34dfec,_0x108a30(0x1d1),_0x3cd863[_0x108a30(0x1ab)],_0x3cd863['path'],_0x3cd863[_0x108a30(0x19d)]),_0x19dbe6=await(0x0,UpdateSettingService_1['default'])({'key':'_'+_0x90d658,'value':_0x32fa31,'companyId':_0x34dfec});return _0x43391c['status'](0xc8)['json'](_0x19dbe6[_0x108a30(0x1a8)]);};exports['storePrivateFile']=storePrivateFile;