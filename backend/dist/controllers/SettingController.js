const a36_0x211beb=a36_0x351a;(function(_0x11e353,_0x34017f){const _0x3e67e0=a36_0x351a,_0x2d0870=_0x11e353();while(!![]){try{const _0x47daa6=parseInt(_0x3e67e0(0x159))/0x1*(parseInt(_0x3e67e0(0x149))/0x2)+parseInt(_0x3e67e0(0x17e))/0x3*(parseInt(_0x3e67e0(0x17c))/0x4)+parseInt(_0x3e67e0(0x16e))/0x5*(-parseInt(_0x3e67e0(0x16b))/0x6)+parseInt(_0x3e67e0(0x17d))/0x7*(-parseInt(_0x3e67e0(0x164))/0x8)+parseInt(_0x3e67e0(0x16d))/0x9+parseInt(_0x3e67e0(0x18a))/0xa+parseInt(_0x3e67e0(0x14b))/0xb;if(_0x47daa6===_0x34017f)break;else _0x2d0870['push'](_0x2d0870['shift']());}catch(_0x22ddcc){_0x2d0870['push'](_0x2d0870['shift']());}}}(a36_0x7f07,0xa789c));const a36_0x42b4ca=(function(){let _0x29c0cd=!![];return function(_0x54164e,_0x1a8f23){const _0x1f4bcc=_0x29c0cd?function(){const _0x520f51=a36_0x351a;if(_0x1a8f23){const _0x3aef88=_0x1a8f23[_0x520f51(0x162)](_0x54164e,arguments);return _0x1a8f23=null,_0x3aef88;}}:function(){};return _0x29c0cd=![],_0x1f4bcc;};}()),a36_0x5e357f=a36_0x42b4ca(this,function(){const _0x392792=a36_0x351a;return a36_0x5e357f['toString']()[_0x392792(0x151)](_0x392792(0x184))[_0x392792(0x152)]()[_0x392792(0x150)](a36_0x5e357f)['search'](_0x392792(0x184));});a36_0x5e357f();'use strict';var __createBinding=this&&this[a36_0x211beb(0x173)]||(Object[a36_0x211beb(0x15f)]?function(_0x1e46c8,_0x24a69d,_0x8e4fd5,_0x490478){const _0x558467=a36_0x211beb;if(_0x490478===undefined)_0x490478=_0x8e4fd5;var _0x1b2cd3=Object['getOwnPropertyDescriptor'](_0x24a69d,_0x8e4fd5);(!_0x1b2cd3||(_0x558467(0x16f)in _0x1b2cd3?!_0x24a69d['__esModule']:_0x1b2cd3['writable']||_0x1b2cd3[_0x558467(0x158)]))&&(_0x1b2cd3={'enumerable':!![],'get':function(){return _0x24a69d[_0x8e4fd5];}}),Object['defineProperty'](_0x1e46c8,_0x490478,_0x1b2cd3);}:function(_0x5049cb,_0x29d942,_0x3f34ea,_0xcdecd7){if(_0xcdecd7===undefined)_0xcdecd7=_0x3f34ea;_0x5049cb[_0xcdecd7]=_0x29d942[_0x3f34ea];}),__setModuleDefault=this&&this[a36_0x211beb(0x189)]||(Object[a36_0x211beb(0x15f)]?function(_0x337330,_0x108027){const _0x5a7d60=a36_0x211beb;Object[_0x5a7d60(0x176)](_0x337330,_0x5a7d60(0x15d),{'enumerable':!![],'value':_0x108027});}:function(_0x162f3c,_0x14e81b){const _0x438a38=a36_0x211beb;_0x162f3c[_0x438a38(0x15d)]=_0x14e81b;}),__importStar=this&&this[a36_0x211beb(0x187)]||function(_0x280910){const _0x24b8a3=a36_0x211beb;if(_0x280910&&_0x280910[_0x24b8a3(0x15b)])return _0x280910;var _0x2a1afa={};if(_0x280910!=null){for(var _0x55423e in _0x280910)if(_0x55423e!==_0x24b8a3(0x15d)&&Object[_0x24b8a3(0x157)][_0x24b8a3(0x168)][_0x24b8a3(0x180)](_0x280910,_0x55423e))__createBinding(_0x2a1afa,_0x280910,_0x55423e);}return __setModuleDefault(_0x2a1afa,_0x280910),_0x2a1afa;},__importDefault=this&&this[a36_0x211beb(0x15c)]||function(_0x1c7972){return _0x1c7972&&_0x1c7972['__esModule']?_0x1c7972:{'default':_0x1c7972};};Object['defineProperty'](exports,a36_0x211beb(0x15b),{'value':!![]}),exports[a36_0x211beb(0x14d)]=exports[a36_0x211beb(0x163)]=exports['update']=exports[a36_0x211beb(0x182)]=exports[a36_0x211beb(0x17b)]=exports[a36_0x211beb(0x169)]=exports[a36_0x211beb(0x14e)]=void 0x0;const socket_1=require(a36_0x211beb(0x16c)),AppError_1=__importDefault(require(a36_0x211beb(0x172))),UpdateSettingService_1=__importDefault(require(a36_0x211beb(0x177))),ListSettingsService_1=__importDefault(require(a36_0x211beb(0x14f))),GetPublicSettingService_1=__importStar(require(a36_0x211beb(0x178))),index=async(_0x34f7f7,_0x4b2dbe)=>{const _0x41c349=a36_0x211beb,_0x3abb5a=await(0x0,ListSettingsService_1['default'])(_0x34f7f7['user']);return _0x4b2dbe[_0x41c349(0x155)](0xc8)[_0x41c349(0x165)](_0x3abb5a);};exports[a36_0x211beb(0x14e)]=index;const publicIndex=async(_0x4bb2ac,_0x575366)=>{const _0x564026=a36_0x211beb,_0x5663cf=await(0x0,GetPublicSettingService_1[_0x564026(0x156)])(_0x4bb2ac[_0x564026(0x167)]?.['companyId']);return _0x575366[_0x564026(0x155)](0xc8)[_0x564026(0x165)](_0x5663cf);};exports['publicIndex']=publicIndex;const storeLogo=async(_0x4ccdb0,_0x851480)=>{const _0x290d6a=a36_0x211beb,_0x271c71=_0x4ccdb0[_0x290d6a(0x14a)],{mode:_0x1dd90d}=_0x4ccdb0[_0x290d6a(0x160)],{companyId:_0x552a20}=_0x4ccdb0[_0x290d6a(0x167)],_0x1c32d7=[_0x290d6a(0x154),_0x290d6a(0x16a),_0x290d6a(0x17f)];if(_0x4ccdb0['user'][_0x290d6a(0x175)]!==_0x290d6a(0x14c))throw new AppError_1[(_0x290d6a(0x15d))](_0x290d6a(0x18b),0x193);if(_0x1c32d7[_0x290d6a(0x15e)](_0x1dd90d)===-0x1)return _0x851480[_0x290d6a(0x155)](0x196);if(_0x271c71&&_0x271c71[_0x290d6a(0x153)]['startsWith'](_0x290d6a(0x161))){const _0x104bb6=await(0x0,UpdateSettingService_1[_0x290d6a(0x15d)])({'key':_0x290d6a(0x170)+_0x1dd90d,'value':_0x271c71[_0x290d6a(0x166)],'companyId':_0x552a20});return _0x851480['status'](0xc8)['json'](_0x104bb6[_0x290d6a(0x185)]);}return _0x851480['status'](0x196);};exports[a36_0x211beb(0x17b)]=storeLogo;function a36_0x351a(_0x1d17c8,_0xbe38a8){const _0x4b1fd9=a36_0x7f07();return a36_0x351a=function(_0x5e357f,_0x42b4ca){_0x5e357f=_0x5e357f-0x149;let _0x7f075=_0x4b1fd9[_0x5e357f];return _0x7f075;},a36_0x351a(_0x1d17c8,_0xbe38a8);}const getSettingRegister=async(_0x784a67,_0x2e5c3)=>{const _0x21a8f3=a36_0x211beb,{companyId:_0x468f0f}=_0x784a67[_0x21a8f3(0x167)];if(_0x784a67[_0x21a8f3(0x167)]['profile']!==_0x21a8f3(0x14c))throw new AppError_1[(_0x21a8f3(0x15d))](_0x21a8f3(0x18b),0x193);const _0x13f211=await(0x0,ListSettingsService_1['default'])(_0x784a67['user']);return _0x2e5c3[_0x21a8f3(0x155)](0xc8)[_0x21a8f3(0x165)](_0x13f211);};exports[a36_0x211beb(0x182)]=getSettingRegister;const update=async(_0x4a302d,_0x1775d4)=>{const _0x57c665=a36_0x211beb;if(_0x4a302d[_0x57c665(0x167)][_0x57c665(0x175)]!==_0x57c665(0x14c))throw new AppError_1[(_0x57c665(0x15d))](_0x57c665(0x18b),0x193);const {settingKey:_0x1fc693}=_0x4a302d['params'],{value:_0x4afd95}=_0x4a302d['body'],{companyId:_0x8c49de}=_0x4a302d[_0x57c665(0x167)];if(_0x1fc693[_0x57c665(0x181)]('_')&&!_0x4a302d['user']['isSuper'])throw new AppError_1[(_0x57c665(0x15d))](_0x57c665(0x18b),0x193);const _0x4ac389=await(0x0,UpdateSettingService_1[_0x57c665(0x15d)])({'key':_0x1fc693,'value':_0x4afd95,'companyId':_0x8c49de}),_0x1a85e9=(0x0,socket_1[_0x57c665(0x174)])();return _0x1a85e9['to'](_0x57c665(0x17a)+_0x8c49de+_0x57c665(0x186))[_0x57c665(0x179)]('company-'+_0x8c49de+_0x57c665(0x15a),{'action':_0x57c665(0x183),'setting':_0x4ac389}),_0x1775d4[_0x57c665(0x155)](0xc8)[_0x57c665(0x165)](_0x4ac389);};exports[a36_0x211beb(0x183)]=update;const publicShow=async(_0x117fcb,_0xd54813)=>{const _0x127af5=a36_0x211beb,{settingKey:_0x1bfbdd}=_0x117fcb[_0x127af5(0x188)],_0x7ae9f9=await(0x0,GetPublicSettingService_1[_0x127af5(0x15d)])({'key':_0x1bfbdd,'companyId':_0x117fcb[_0x127af5(0x167)]?.[_0x127af5(0x171)]});return _0xd54813[_0x127af5(0x155)](0xc8)[_0x127af5(0x165)](_0x7ae9f9);};function a36_0x7f07(){const _0x54d6b1=['7ZBfrnq','-settings','__esModule','__importDefault','default','indexOf','create','body','image/','apply','publicShow','3323288MmXxSi','json','filename','user','hasOwnProperty','publicIndex','Dark','270762qfnjpY','../libs/socket','2475837bkHdTU','100LflzGG','get','appLogo','companyId','../errors/AppError','__createBinding','getIO','profile','defineProperty','../services/SettingServices/UpdateSettingService','../services/SettingServices/GetPublicSettingService','emit','company-','storeLogo','35164fEWaAS','7LLyuSw','39xlSdmg','Favicon','call','startsWith','getSettingRegister','update','(((.+)+)+)+$','value','-mainchannel','__importStar','params','__setModuleDefault','6466430DRmxCM','ERR_NO_PERMISSION','107362CkdANH','file','6516411olZqKJ','admin','storePrivateFile','index','../services/SettingServices/ListSettingsService','constructor','search','toString','mimetype','Light','status','GetAllPublicSettingsService','prototype','configurable'];a36_0x7f07=function(){return _0x54d6b1;};return a36_0x7f07();}exports[a36_0x211beb(0x163)]=publicShow;const storePrivateFile=async(_0x2e74e2,_0x3a73ed)=>{const _0x137be5=a36_0x211beb,_0x7cf183=_0x2e74e2[_0x137be5(0x14a)],{settingKey:_0x28bf00}=_0x2e74e2[_0x137be5(0x160)],{companyId:_0x538262}=_0x2e74e2[_0x137be5(0x167)],_0x16f42d=await(0x0,UpdateSettingService_1['default'])({'key':'_'+_0x28bf00,'value':_0x7cf183['filename'],'companyId':_0x538262});return _0x3a73ed[_0x137be5(0x155)](0xc8)['json'](_0x16f42d[_0x137be5(0x185)]);};exports[a36_0x211beb(0x14d)]=storePrivateFile;