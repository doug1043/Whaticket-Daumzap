const a35_0x44d058=a35_0x5ecb;(function(_0x47ed0a,_0x141107){const _0x125428=a35_0x5ecb,_0x3eb2b1=_0x47ed0a();while(!![]){try{const _0xb5ffa6=parseInt(_0x125428(0xb4))/0x1*(-parseInt(_0x125428(0x9d))/0x2)+parseInt(_0x125428(0x97))/0x3*(-parseInt(_0x125428(0xab))/0x4)+parseInt(_0x125428(0x9c))/0x5+-parseInt(_0x125428(0xbc))/0x6+parseInt(_0x125428(0x8d))/0x7+-parseInt(_0x125428(0xbe))/0x8+parseInt(_0x125428(0x89))/0x9*(parseInt(_0x125428(0x90))/0xa);if(_0xb5ffa6===_0x141107)break;else _0x3eb2b1['push'](_0x3eb2b1['shift']());}catch(_0x2fd790){_0x3eb2b1['push'](_0x3eb2b1['shift']());}}}(a35_0x2b8c,0xa1737));const a35_0x4a41dc=(function(){let _0x33f535=!![];return function(_0xa4ef88,_0x5b5db0){const _0x49b6e8=_0x33f535?function(){const _0x2d6c41=a35_0x5ecb;if(_0x5b5db0){const _0x8973a0=_0x5b5db0[_0x2d6c41(0x95)](_0xa4ef88,arguments);return _0x5b5db0=null,_0x8973a0;}}:function(){};return _0x33f535=![],_0x49b6e8;};}()),a35_0x1a3bbe=a35_0x4a41dc(this,function(){const _0x10d8b7=a35_0x5ecb;return a35_0x1a3bbe[_0x10d8b7(0x9e)]()['search'](_0x10d8b7(0xa5))[_0x10d8b7(0x9e)]()['constructor'](a35_0x1a3bbe)['search'](_0x10d8b7(0xa5));});a35_0x1a3bbe();'use strict';var __createBinding=this&&this[a35_0x44d058(0x92)]||(Object[a35_0x44d058(0xb8)]?function(_0x25f60b,_0x51a3b1,_0x22409d,_0x4ef308){const _0x82a8be=a35_0x44d058;if(_0x4ef308===undefined)_0x4ef308=_0x22409d;var _0x2104b2=Object[_0x82a8be(0xc7)](_0x51a3b1,_0x22409d);(!_0x2104b2||(_0x82a8be(0xb6)in _0x2104b2?!_0x51a3b1[_0x82a8be(0xc0)]:_0x2104b2[_0x82a8be(0xb7)]||_0x2104b2[_0x82a8be(0x91)]))&&(_0x2104b2={'enumerable':!![],'get':function(){return _0x51a3b1[_0x22409d];}}),Object['defineProperty'](_0x25f60b,_0x4ef308,_0x2104b2);}:function(_0x186db8,_0x3db973,_0x23c569,_0x4cfb2d){if(_0x4cfb2d===undefined)_0x4cfb2d=_0x23c569;_0x186db8[_0x4cfb2d]=_0x3db973[_0x23c569];}),__setModuleDefault=this&&this[a35_0x44d058(0xc6)]||(Object['create']?function(_0x5dc1f7,_0x5a4602){const _0x401151=a35_0x44d058;Object[_0x401151(0x8f)](_0x5dc1f7,_0x401151(0xa8),{'enumerable':!![],'value':_0x5a4602});}:function(_0x2394ce,_0x6fcdba){const _0x59443e=a35_0x44d058;_0x2394ce[_0x59443e(0xa8)]=_0x6fcdba;}),__importStar=this&&this[a35_0x44d058(0xa6)]||function(_0x295808){const _0x2a8d2d=a35_0x44d058;if(_0x295808&&_0x295808[_0x2a8d2d(0xc0)])return _0x295808;var _0x415248={};if(_0x295808!=null){for(var _0x3931d2 in _0x295808)if(_0x3931d2!==_0x2a8d2d(0xa8)&&Object[_0x2a8d2d(0xbb)][_0x2a8d2d(0x99)]['call'](_0x295808,_0x3931d2))__createBinding(_0x415248,_0x295808,_0x3931d2);}return __setModuleDefault(_0x415248,_0x295808),_0x415248;},__importDefault=this&&this[a35_0x44d058(0x9f)]||function(_0x1a1845){const _0x2d2925=a35_0x44d058;return _0x1a1845&&_0x1a1845[_0x2d2925(0xc0)]?_0x1a1845:{'default':_0x1a1845};};Object[a35_0x44d058(0x8f)](exports,a35_0x44d058(0xc0),{'value':!![]}),exports[a35_0x44d058(0xaa)]=exports[a35_0x44d058(0xb1)]=exports[a35_0x44d058(0xc4)]=exports['getSettingRegister']=exports[a35_0x44d058(0xbf)]=exports['publicIndex']=exports[a35_0x44d058(0xa7)]=void 0x0;const socket_1=require(a35_0x44d058(0xb3)),AppError_1=__importDefault(require(a35_0x44d058(0xba))),UpdateSettingService_1=__importDefault(require(a35_0x44d058(0xb9))),ListSettingsService_1=__importDefault(require(a35_0x44d058(0xb2))),GetPublicSettingService_1=__importStar(require(a35_0x44d058(0xa1))),index=async(_0x4192c0,_0x3bdce1)=>{const _0x4a7bb3=a35_0x44d058,_0x3bd27b=await(0x0,ListSettingsService_1[_0x4a7bb3(0xa8)])(_0x4192c0[_0x4a7bb3(0x9b)]);return _0x3bdce1[_0x4a7bb3(0x8e)](0xc8)[_0x4a7bb3(0xa9)](_0x3bd27b);};function a35_0x5ecb(_0xd10a40,_0xb6c588){const _0x231329=a35_0x2b8c();return a35_0x5ecb=function(_0x1a3bbe,_0x4a41dc){_0x1a3bbe=_0x1a3bbe-0x89;let _0x2b8c42=_0x231329[_0x1a3bbe];return _0x2b8c42;},a35_0x5ecb(_0xd10a40,_0xb6c588);}exports[a35_0x44d058(0xa7)]=index;const publicIndex=async(_0xe78035,_0x1084ce)=>{const _0x333cfd=a35_0x44d058,_0x296a9c=await(0x0,GetPublicSettingService_1[_0x333cfd(0xa4)])(_0xe78035['user']?.['companyId']);return _0x1084ce[_0x333cfd(0x8e)](0xc8)[_0x333cfd(0xa9)](_0x296a9c);};exports[a35_0x44d058(0x8c)]=publicIndex;const storeLogo=async(_0x2609b2,_0x2f02db)=>{const _0x34e602=a35_0x44d058,_0x84165d=_0x2609b2[_0x34e602(0xad)],{mode:_0x1b33f4}=_0x2609b2['body'],{companyId:_0x2ac5b9}=_0x2609b2['user'],_0x2c2186=[_0x34e602(0xc8),_0x34e602(0xc5),_0x34e602(0x8b)];if(_0x2609b2[_0x34e602(0x9b)][_0x34e602(0xc1)]!==_0x34e602(0x94))throw new AppError_1[(_0x34e602(0xa8))]('ERR_NO_PERMISSION',0x193);if(_0x2c2186[_0x34e602(0xbd)](_0x1b33f4)===-0x1)return _0x2f02db[_0x34e602(0x8e)](0x196);if(_0x84165d&&_0x84165d[_0x34e602(0x93)][_0x34e602(0x9a)](_0x34e602(0xc2))){const _0x4c3d70=await(0x0,UpdateSettingService_1[_0x34e602(0xa8)])({'key':_0x34e602(0xae)+_0x1b33f4,'value':_0x84165d['filename'],'companyId':_0x2ac5b9});return _0x2f02db[_0x34e602(0x8e)](0xc8)[_0x34e602(0xa9)](_0x4c3d70['value']);}return _0x2f02db['status'](0x196);};exports['storeLogo']=storeLogo;function a35_0x2b8c(){const _0x4e7385=['Favicon','publicIndex','1811362VUthLv','status','defineProperty','25030HdXeFo','configurable','__createBinding','mimetype','admin','apply','value','195WqNBBS','isSuper','hasOwnProperty','startsWith','user','6345635KzkpYb','495062QMxMti','toString','__importDefault','-mainchannel','../services/SettingServices/GetPublicSettingService','getSettingRegister','emit','GetAllPublicSettingsService','(((.+)+)+)+$','__importStar','index','default','json','storePrivateFile','46964aSVBXB','body','file','appLogo','params','filename','publicShow','../services/SettingServices/ListSettingsService','../libs/socket','5TeUtyA','companyId','get','writable','create','../services/SettingServices/UpdateSettingService','../errors/AppError','prototype','5920728FRkoWN','indexOf','8582480LIoYLY','storeLogo','__esModule','profile','image/','ERR_NO_PERMISSION','update','Dark','__setModuleDefault','getOwnPropertyDescriptor','Light','11484dgvQUB','company-'];a35_0x2b8c=function(){return _0x4e7385;};return a35_0x2b8c();}const getSettingRegister=async(_0x59feac,_0x4a6d94)=>{const _0x3252c8=a35_0x44d058,{companyId:_0x1164ef}=_0x59feac[_0x3252c8(0x9b)];if(_0x59feac[_0x3252c8(0x9b)][_0x3252c8(0xc1)]!==_0x3252c8(0x94))throw new AppError_1[(_0x3252c8(0xa8))](_0x3252c8(0xc3),0x193);const _0x30d7e0=await(0x0,ListSettingsService_1['default'])(_0x59feac[_0x3252c8(0x9b)]);return _0x4a6d94['status'](0xc8)[_0x3252c8(0xa9)](_0x30d7e0);};exports[a35_0x44d058(0xa2)]=getSettingRegister;const update=async(_0x424f35,_0x310368)=>{const _0x9d4e36=a35_0x44d058;if(_0x424f35[_0x9d4e36(0x9b)]['profile']!==_0x9d4e36(0x94))throw new AppError_1[(_0x9d4e36(0xa8))](_0x9d4e36(0xc3),0x193);const {settingKey:_0xfa91ed}=_0x424f35[_0x9d4e36(0xaf)],{value:_0x38b114}=_0x424f35['body'],{companyId:_0x3e0dfa}=_0x424f35[_0x9d4e36(0x9b)];if(_0xfa91ed['startsWith']('_')&&!_0x424f35[_0x9d4e36(0x9b)][_0x9d4e36(0x98)])throw new AppError_1[(_0x9d4e36(0xa8))](_0x9d4e36(0xc3),0x193);const _0x113c7f=await(0x0,UpdateSettingService_1['default'])({'key':_0xfa91ed,'value':_0x38b114,'companyId':_0x3e0dfa}),_0x3d5590=(0x0,socket_1['getIO'])();return _0x3d5590['to'](_0x9d4e36(0x8a)+_0x3e0dfa+_0x9d4e36(0xa0))[_0x9d4e36(0xa3)](_0x9d4e36(0x8a)+_0x3e0dfa+'-settings',{'action':'update','setting':_0x113c7f}),_0x310368['status'](0xc8)[_0x9d4e36(0xa9)](_0x113c7f);};exports[a35_0x44d058(0xc4)]=update;const publicShow=async(_0x2009d8,_0x182fef)=>{const _0xbca1de=a35_0x44d058,{settingKey:_0x42dc16}=_0x2009d8['params'],_0x22da0a=await(0x0,GetPublicSettingService_1['default'])({'key':_0x42dc16,'companyId':_0x2009d8[_0xbca1de(0x9b)]?.[_0xbca1de(0xb5)]});return _0x182fef[_0xbca1de(0x8e)](0xc8)[_0xbca1de(0xa9)](_0x22da0a);};exports[a35_0x44d058(0xb1)]=publicShow;const storePrivateFile=async(_0x536211,_0x254bd8)=>{const _0x3e3383=a35_0x44d058,_0x1d9743=_0x536211['file'],{settingKey:_0xf24bfb}=_0x536211[_0x3e3383(0xac)],{companyId:_0x514c62}=_0x536211[_0x3e3383(0x9b)],_0x86feaf=await(0x0,UpdateSettingService_1[_0x3e3383(0xa8)])({'key':'_'+_0xf24bfb,'value':_0x1d9743[_0x3e3383(0xb0)],'companyId':_0x514c62});return _0x254bd8[_0x3e3383(0x8e)](0xc8)['json'](_0x86feaf[_0x3e3383(0x96)]);};exports[a35_0x44d058(0xaa)]=storePrivateFile;