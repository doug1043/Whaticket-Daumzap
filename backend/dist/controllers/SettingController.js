'use strict';const a34_0x35d553=a34_0x5267;(function(_0x25cde1,_0x1e853a){const _0x3f0c3d=a34_0x5267,_0x3816ec=_0x25cde1();while(!![]){try{const _0x4974ad=-parseInt(_0x3f0c3d(0x84))/0x1+-parseInt(_0x3f0c3d(0x86))/0x2+-parseInt(_0x3f0c3d(0xa8))/0x3+parseInt(_0x3f0c3d(0xb3))/0x4+parseInt(_0x3f0c3d(0xa3))/0x5*(parseInt(_0x3f0c3d(0xb0))/0x6)+parseInt(_0x3f0c3d(0xaf))/0x7*(-parseInt(_0x3f0c3d(0x8c))/0x8)+parseInt(_0x3f0c3d(0x88))/0x9*(parseInt(_0x3f0c3d(0x85))/0xa);if(_0x4974ad===_0x1e853a)break;else _0x3816ec['push'](_0x3816ec['shift']());}catch(_0x19856a){_0x3816ec['push'](_0x3816ec['shift']());}}}(a34_0x19bf,0xed092));var __createBinding=this&&this['__createBinding']||(Object[a34_0x35d553(0xa9)]?function(_0x42c703,_0x4565ac,_0x2d4992,_0x5ca3f7){const _0x3d1471=a34_0x35d553;if(_0x5ca3f7===undefined)_0x5ca3f7=_0x2d4992;var _0x76885c=Object[_0x3d1471(0x90)](_0x4565ac,_0x2d4992);(!_0x76885c||(_0x3d1471(0xa4)in _0x76885c?!_0x4565ac[_0x3d1471(0x8f)]:_0x76885c['writable']||_0x76885c[_0x3d1471(0x9a)]))&&(_0x76885c={'enumerable':!![],'get':function(){return _0x4565ac[_0x2d4992];}}),Object['defineProperty'](_0x42c703,_0x5ca3f7,_0x76885c);}:function(_0x46581f,_0x550b0c,_0x86d484,_0x404f67){if(_0x404f67===undefined)_0x404f67=_0x86d484;_0x46581f[_0x404f67]=_0x550b0c[_0x86d484];}),__setModuleDefault=this&&this[a34_0x35d553(0xa2)]||(Object['create']?function(_0x4d71cd,_0x98d95d){const _0x482811=a34_0x35d553;Object[_0x482811(0x99)](_0x4d71cd,_0x482811(0xad),{'enumerable':!![],'value':_0x98d95d});}:function(_0x4f6f3c,_0x3780f8){const _0x2a93af=a34_0x35d553;_0x4f6f3c[_0x2a93af(0xad)]=_0x3780f8;}),__importStar=this&&this[a34_0x35d553(0x81)]||(function(){const _0x4ceac0=(function(){let _0x1e70b9=!![];return function(_0xf662f6,_0x1134d0){const _0x38c6d7=_0x1e70b9?function(){if(_0x1134d0){const _0x457efe=_0x1134d0['apply'](_0xf662f6,arguments);return _0x1134d0=null,_0x457efe;}}:function(){};return _0x1e70b9=![],_0x38c6d7;};}()),_0x363951=_0x4ceac0(this,function(){const _0x2f7c9d=a34_0x5267;return _0x363951[_0x2f7c9d(0xa7)]()['search'](_0x2f7c9d(0xa0))[_0x2f7c9d(0xa7)]()[_0x2f7c9d(0xb1)](_0x363951)[_0x2f7c9d(0xa6)](_0x2f7c9d(0xa0));});_0x363951();var _0x1ba1cc=function(_0x4bca31){return _0x1ba1cc=Object['getOwnPropertyNames']||function(_0x3d804b){const _0x524d78=a34_0x5267;var _0x3d4f5a=[];for(var _0x340144 in _0x3d804b)if(Object['prototype'][_0x524d78(0x8e)][_0x524d78(0x7f)](_0x3d804b,_0x340144))_0x3d4f5a[_0x3d4f5a['length']]=_0x340144;return _0x3d4f5a;},_0x1ba1cc(_0x4bca31);};return function(_0x3b9429){const _0x505bcc=a34_0x5267;if(_0x3b9429&&_0x3b9429[_0x505bcc(0x8f)])return _0x3b9429;var _0x2a1380={};if(_0x3b9429!=null){for(var _0x45a12b=_0x1ba1cc(_0x3b9429),_0x57c93e=0x0;_0x57c93e<_0x45a12b[_0x505bcc(0x92)];_0x57c93e++)if(_0x45a12b[_0x57c93e]!==_0x505bcc(0xad))__createBinding(_0x2a1380,_0x3b9429,_0x45a12b[_0x57c93e]);}return __setModuleDefault(_0x2a1380,_0x3b9429),_0x2a1380;};}()),__importDefault=this&&this['__importDefault']||function(_0x529aa3){const _0x352e0b=a34_0x35d553;return _0x529aa3&&_0x529aa3[_0x352e0b(0x8f)]?_0x529aa3:{'default':_0x529aa3};};Object['defineProperty'](exports,a34_0x35d553(0x8f),{'value':!![]}),exports[a34_0x35d553(0x98)]=exports[a34_0x35d553(0x8d)]=exports[a34_0x35d553(0x87)]=exports[a34_0x35d553(0x95)]=exports['update']=exports[a34_0x35d553(0xae)]=exports[a34_0x35d553(0x9f)]=void 0x0;const socket_1=require(a34_0x35d553(0x94)),AppError_1=__importDefault(require(a34_0x35d553(0x89))),UpdateSettingService_1=__importDefault(require('../services/SettingServices/UpdateSettingService')),ListSettingsService_1=__importDefault(require('../services/SettingServices/ListSettingsService')),GetPublicSettingService_1=__importStar(require('../services/SettingServices/GetPublicSettingService')),GetSettingService_1=require('../services/SettingServices/GetSettingService'),index=async(_0xb96731,_0xaf67a3)=>{const _0x31cb0b=a34_0x35d553,_0x55d3d5=await(0x0,ListSettingsService_1[_0x31cb0b(0xad)])(_0xb96731['user']);return _0xaf67a3[_0x31cb0b(0x8a)](0xc8)[_0x31cb0b(0xa1)](_0x55d3d5);};exports[a34_0x35d553(0x9f)]=index;const publicIndex=async(_0x1ff8a4,_0x19006d)=>{const _0x43edee=a34_0x35d553,_0x5b4b4e=await(0x0,GetPublicSettingService_1['GetAllPublicSettingsService'])(_0x1ff8a4['user']?.[_0x43edee(0x83)]);return _0x19006d['status'](0xc8)[_0x43edee(0xa1)](_0x5b4b4e);};exports[a34_0x35d553(0xae)]=publicIndex;const update=async(_0x58005b,_0x524548)=>{const _0x454d1d=a34_0x35d553,{settingKey:_0x2e662b}=_0x58005b[_0x454d1d(0x97)],{value:_0x39c647}=_0x58005b[_0x454d1d(0x82)],{companyId:_0x244075}=_0x58005b['user'];if(_0x2e662b[_0x454d1d(0x9e)]('_')&&!_0x58005b['user'][_0x454d1d(0x80)])throw new AppError_1[(_0x454d1d(0xad))](_0x454d1d(0x8b),0x193);const _0x2b2710=await(0x0,UpdateSettingService_1[_0x454d1d(0xad)])({'key':_0x2e662b,'value':_0x39c647,'companyId':_0x244075}),_0x28a454=(0x0,socket_1[_0x454d1d(0xaa)])();return _0x28a454['emit']('company-'+_0x244075+_0x454d1d(0x96),{'action':_0x454d1d(0xac),'setting':_0x2b2710}),_0x524548[_0x454d1d(0x8a)](0xc8)[_0x454d1d(0xa1)](_0x2b2710);};exports[a34_0x35d553(0xac)]=update;const publicShow=async(_0x26f847,_0x2aece2)=>{const _0x204031=a34_0x35d553,{settingKey:_0x42db7b}=_0x26f847[_0x204031(0x97)],_0x43ec2b=await(0x0,GetPublicSettingService_1[_0x204031(0xad)])({'key':_0x42db7b});return _0x2aece2[_0x204031(0x8a)](0xc8)['json'](_0x43ec2b);};exports[a34_0x35d553(0x95)]=publicShow;const show=async(_0x16be5c,_0x422d15)=>{const _0x3291ec=a34_0x35d553,{settingKey:_0x581725}=_0x16be5c[_0x3291ec(0x97)],_0x55ce74=await(0x0,GetSettingService_1['GetSettingService'])({'key':_0x581725,'user':_0x16be5c['user']});return _0x422d15[_0x3291ec(0x8a)](0xc8)[_0x3291ec(0xa1)](_0x55ce74);};exports[a34_0x35d553(0x87)]=show;const storeLogo=async(_0x22778c,_0x56c22b)=>{const _0x3a66c0=a34_0x35d553,_0x4dec9c=_0x22778c[_0x3a66c0(0x9c)],{mode:_0x3c08f3}=_0x22778c[_0x3a66c0(0x82)],{companyId:_0x5e4d30}=_0x22778c[_0x3a66c0(0x93)],_0x41ba70=['Light',_0x3a66c0(0xab),'Favicon'];if(_0x41ba70[_0x3a66c0(0x91)](_0x3c08f3)===-0x1)return _0x56c22b[_0x3a66c0(0x8a)](0x196);if(_0x4dec9c&&_0x4dec9c['mimetype'][_0x3a66c0(0x9e)](_0x3a66c0(0xa5))){const _0x57797a=await(0x0,UpdateSettingService_1['default'])({'key':_0x3a66c0(0x9b)+_0x3c08f3,'value':_0x4dec9c['filename'],'companyId':_0x5e4d30});return _0x56c22b['status'](0xc8)[_0x3a66c0(0xa1)](_0x57797a[_0x3a66c0(0xb2)]);}return _0x56c22b[_0x3a66c0(0x8a)](0x196);};function a34_0x19bf(){const _0x4acf13=['index','(((.+)+)+)+$','json','__setModuleDefault','9895AgnJwJ','get','image/','search','toString','1039308VwvNsS','create','getIO','Dark','update','default','publicIndex','691859UKDJgb','5286PCHUkI','constructor','value','4701372hwfckD','call','isSuper','__importStar','body','companyId','1706283IUvMJl','10OoedlK','1502832wZuAhC','show','8595252QSyCvc','../errors/AppError','status','ERR_NO_PERMISSION','8EHlzok','storeLogo','hasOwnProperty','__esModule','getOwnPropertyDescriptor','indexOf','length','user','../libs/socket','publicShow','-settings','params','storePrivateFile','defineProperty','configurable','appLogo','file','filename','startsWith'];a34_0x19bf=function(){return _0x4acf13;};return a34_0x19bf();}exports[a34_0x35d553(0x8d)]=storeLogo;const storePrivateFile=async(_0x5867bd,_0x3c94bb)=>{const _0x48ca7c=a34_0x35d553,_0x33d2d9=_0x5867bd[_0x48ca7c(0x9c)],{settingKey:_0xd29726}=_0x5867bd[_0x48ca7c(0x82)],{companyId:_0x227ba}=_0x5867bd[_0x48ca7c(0x93)],_0x1b5a9a=await(0x0,UpdateSettingService_1[_0x48ca7c(0xad)])({'key':'_'+_0xd29726,'value':_0x33d2d9[_0x48ca7c(0x9d)],'companyId':_0x227ba});return _0x3c94bb[_0x48ca7c(0x8a)](0xc8)[_0x48ca7c(0xa1)](_0x1b5a9a['value']);};function a34_0x5267(_0x4aeffd,_0x7865e6){const _0x24b742=a34_0x19bf();return a34_0x5267=function(_0x28d18c,_0x55d0d7){_0x28d18c=_0x28d18c-0x7f;let _0x19bf28=_0x24b742[_0x28d18c];return _0x19bf28;},a34_0x5267(_0x4aeffd,_0x7865e6);}exports[a34_0x35d553(0x98)]=storePrivateFile;