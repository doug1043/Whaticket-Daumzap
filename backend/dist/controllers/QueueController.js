function a27_0xe0c9(_0x29cf49,_0x1e1630){const _0x33d0ee=a27_0x1dfd();return a27_0xe0c9=function(_0x4ef220,_0x3d531e){_0x4ef220=_0x4ef220-0x149;let _0x1dfd9e=_0x33d0ee[_0x4ef220];return _0x1dfd9e;},a27_0xe0c9(_0x29cf49,_0x1e1630);}const a27_0x11359c=a27_0xe0c9;(function(_0x700671,_0x426123){const _0x416d9c=a27_0xe0c9,_0x59cdea=_0x700671();while(!![]){try{const _0x18a8c5=parseInt(_0x416d9c(0x17e))/0x1*(-parseInt(_0x416d9c(0x16f))/0x2)+parseInt(_0x416d9c(0x159))/0x3*(-parseInt(_0x416d9c(0x167))/0x4)+-parseInt(_0x416d9c(0x161))/0x5+parseInt(_0x416d9c(0x169))/0x6+parseInt(_0x416d9c(0x174))/0x7*(parseInt(_0x416d9c(0x168))/0x8)+-parseInt(_0x416d9c(0x16d))/0x9+-parseInt(_0x416d9c(0x14f))/0xa*(-parseInt(_0x416d9c(0x151))/0xb);if(_0x18a8c5===_0x426123)break;else _0x59cdea['push'](_0x59cdea['shift']());}catch(_0x58446f){_0x59cdea['push'](_0x59cdea['shift']());}}}(a27_0x1dfd,0x7eae5));const a27_0x3d531e=(function(){let _0x282608=!![];return function(_0x9a3b31,_0x2cc1d8){const _0x2f4728=_0x282608?function(){const _0x49726c=a27_0xe0c9;if(_0x2cc1d8){const _0x39f258=_0x2cc1d8[_0x49726c(0x170)](_0x9a3b31,arguments);return _0x2cc1d8=null,_0x39f258;}}:function(){};return _0x282608=![],_0x2f4728;};}()),a27_0x4ef220=a27_0x3d531e(this,function(){const _0x58a014=a27_0xe0c9;return a27_0x4ef220['toString']()[_0x58a014(0x154)](_0x58a014(0x175))[_0x58a014(0x17a)]()['constructor'](a27_0x4ef220)[_0x58a014(0x154)](_0x58a014(0x175));});a27_0x4ef220();'use strict';var __importDefault=this&&this[a27_0x11359c(0x153)]||function(_0x2e7bb8){return _0x2e7bb8&&_0x2e7bb8['__esModule']?_0x2e7bb8:{'default':_0x2e7bb8};};Object[a27_0x11359c(0x171)](exports,a27_0x11359c(0x15f),{'value':!![]}),exports[a27_0x11359c(0x155)]=exports[a27_0x11359c(0x176)]=exports[a27_0x11359c(0x166)]=exports[a27_0x11359c(0x149)]=exports[a27_0x11359c(0x15c)]=exports[a27_0x11359c(0x16e)]=exports[a27_0x11359c(0x16b)]=void 0x0;const socket_1=require('../libs/socket'),CreateQueueService_1=__importDefault(require(a27_0x11359c(0x178))),DeleteQueueService_1=__importDefault(require(a27_0x11359c(0x160))),ListQueuesService_1=__importDefault(require(a27_0x11359c(0x157))),ShowQueueService_1=__importDefault(require('../services/QueueService/ShowQueueService')),UpdateQueueService_1=__importDefault(require(a27_0x11359c(0x158))),lodash_1=require(a27_0x11359c(0x15b)),Queue_1=__importDefault(require(a27_0x11359c(0x15e))),lodash_2=require(a27_0x11359c(0x15b)),fs_1=__importDefault(require('fs')),path_1=__importDefault(require('path')),AppError_1=__importDefault(require(a27_0x11359c(0x16c))),index=async(_0x15d728,_0x10eeea)=>{const _0x56f56c=a27_0x11359c,{companyId:_0xfa2742}=_0x15d728['user'],{companyId:_0x23e017}=_0x15d728[_0x56f56c(0x179)];let _0xcf9731=_0xfa2742;!(0x0,lodash_1[_0x56f56c(0x156)])(_0x23e017)&&(_0xcf9731=+_0x23e017);const _0x23b017=await(0x0,ListQueuesService_1[_0x56f56c(0x17f)])({'companyId':_0xcf9731});return _0x10eeea['status'](0xc8)['json'](_0x23b017);};exports[a27_0x11359c(0x16b)]=index;const store=async(_0x5829e1,_0x23f4d4)=>{const _0x3b8631=a27_0x11359c,{name:_0x19ba53,color:_0x4548ac,greetingMessage:_0x35e32d,outOfHoursMessage:_0x341fc7}=_0x5829e1[_0x3b8631(0x14a)],{companyId:_0x1ada23}=_0x5829e1[_0x3b8631(0x152)],_0x7766bb=await(0x0,CreateQueueService_1[_0x3b8631(0x17f)])({'name':_0x19ba53,'color':_0x4548ac,'greetingMessage':_0x35e32d,'companyId':_0x1ada23,'outOfHoursMessage':_0x341fc7}),_0x43fef0=(0x0,socket_1[_0x3b8631(0x17c)])();return _0x43fef0[_0x3b8631(0x15a)](_0x3b8631(0x17b)+_0x1ada23+_0x3b8631(0x15d),{'action':_0x3b8631(0x149),'queue':_0x7766bb}),_0x23f4d4[_0x3b8631(0x14d)](0xc8)[_0x3b8631(0x164)](_0x7766bb);};exports['store']=store;const show=async(_0x461957,_0xe04512)=>{const _0x3e82eb=a27_0x11359c,{queueId:_0x53ca54}=_0x461957[_0x3e82eb(0x14e)],{companyId:_0x7da770}=_0x461957[_0x3e82eb(0x152)],_0x357f2f=await(0x0,ShowQueueService_1[_0x3e82eb(0x17f)])(_0x53ca54,_0x7da770);return _0xe04512[_0x3e82eb(0x14d)](0xc8)[_0x3e82eb(0x164)](_0x357f2f);};function a27_0x1dfd(){const _0x38b0cb=['company-','getIO','filename','17gjTYWm','default','update','body','send','save','status','params','917790YnYeqg','mediaPath','176MTIvqA','user','__importDefault','search','deleteMedia','isNil','../services/QueueService/ListQueuesService','../services/QueueService/UpdateQueueService','697455OhcigC','emit','lodash','show','-queue','../models/Queue','__esModule','../services/QueueService/DeleteQueueService','1797925vOplSA','head','message','json','Arquivo\x20Salvo','remove','12aVGqgi','447696JgozqG','1422864qAosDY','delete','index','../errors/AppError','4845186CpbCjK','store','37510CgXDUW','apply','defineProperty','resolve','findByPk','91VSqiAt','(((.+)+)+)+$','mediaUpload','Arquivo\x20excluÃ­do','../services/QueueService/CreateQueueService','query','toString'];a27_0x1dfd=function(){return _0x38b0cb;};return a27_0x1dfd();}exports[a27_0x11359c(0x15c)]=show;const update=async(_0x54dd00,_0x54c1c0)=>{const _0x571406=a27_0x11359c,{queueId:_0x33f333}=_0x54dd00[_0x571406(0x14e)],{companyId:_0x5221bb}=_0x54dd00[_0x571406(0x152)],_0x57a813=await(0x0,UpdateQueueService_1[_0x571406(0x17f)])(_0x33f333,_0x54dd00[_0x571406(0x14a)],_0x5221bb),_0xbb2119=(0x0,socket_1[_0x571406(0x17c)])();return _0xbb2119[_0x571406(0x15a)](_0x571406(0x17b)+_0x5221bb+_0x571406(0x15d),{'action':_0x571406(0x149),'queue':_0x57a813}),_0x54c1c0[_0x571406(0x14d)](0xc9)[_0x571406(0x164)](_0x57a813);};exports['update']=update;const remove=async(_0x5a44a4,_0x5d24fd)=>{const _0x35ef00=a27_0x11359c,{queueId:_0x46d974}=_0x5a44a4[_0x35ef00(0x14e)],{companyId:_0x5af4f8}=_0x5a44a4['user'];await(0x0,DeleteQueueService_1[_0x35ef00(0x17f)])(_0x46d974,_0x5af4f8);const _0x118f83=(0x0,socket_1[_0x35ef00(0x17c)])();return _0x118f83[_0x35ef00(0x15a)](_0x35ef00(0x17b)+_0x5af4f8+'-queue',{'action':_0x35ef00(0x16a),'queueId':+_0x46d974}),_0x5d24fd[_0x35ef00(0x14d)](0xc8)[_0x35ef00(0x14b)]();};exports['remove']=remove;const mediaUpload=async(_0x3f578d,_0x98b6d6)=>{const _0x365063=a27_0x11359c,{queueId:_0x51ef2b}=_0x3f578d['params'],_0xd83874=_0x3f578d['files'],_0x147e55=(0x0,lodash_2[_0x365063(0x162)])(_0xd83874);try{const _0x3afa2f=await Queue_1[_0x365063(0x17f)][_0x365063(0x173)](_0x51ef2b);return _0x3afa2f[_0x365063(0x149)]({'mediaPath':_0x147e55[_0x365063(0x17d)],'mediaName':_0x147e55['originalname']}),_0x98b6d6[_0x365063(0x14b)]({'mensagem':_0x365063(0x165)});}catch(_0x39f8a0){throw new AppError_1[(_0x365063(0x17f))](_0x39f8a0['message']);}};exports[a27_0x11359c(0x176)]=mediaUpload;const deleteMedia=async(_0xe6d0b0,_0x59e529)=>{const _0x322a35=a27_0x11359c,{queueId:_0x1bf4bd}=_0xe6d0b0['params'];try{const _0x35032=await Queue_1[_0x322a35(0x17f)][_0x322a35(0x173)](_0x1bf4bd),_0x279c47=path_1[_0x322a35(0x17f)][_0x322a35(0x172)]('public',_0x35032[_0x322a35(0x150)]),_0x3c652c=fs_1[_0x322a35(0x17f)]['existsSync'](_0x279c47);return _0x3c652c&&fs_1['default']['unlinkSync'](_0x279c47),_0x35032[_0x322a35(0x150)]=null,_0x35032['mediaName']=null,await _0x35032[_0x322a35(0x14c)](),_0x59e529[_0x322a35(0x14b)]({'mensagem':_0x322a35(0x177)});}catch(_0x232003){throw new AppError_1[(_0x322a35(0x17f))](_0x232003[_0x322a35(0x163)]);}};exports[a27_0x11359c(0x155)]=deleteMedia;