function a27_0x45d3(_0x3a38c4,_0x4059d8){const _0x4a992b=a27_0x133f();return a27_0x45d3=function(_0xf6307e,_0x481107){_0xf6307e=_0xf6307e-0x1bd;let _0x133f0d=_0x4a992b[_0xf6307e];return _0x133f0d;},a27_0x45d3(_0x3a38c4,_0x4059d8);}const a27_0x44ae3b=a27_0x45d3;(function(_0x483ca6,_0x1ad884){const _0x4cbf53=a27_0x45d3,_0x418943=_0x483ca6();while(!![]){try{const _0x43c84c=-parseInt(_0x4cbf53(0x1e1))/0x1*(parseInt(_0x4cbf53(0x1f0))/0x2)+-parseInt(_0x4cbf53(0x1c3))/0x3*(-parseInt(_0x4cbf53(0x1ea))/0x4)+-parseInt(_0x4cbf53(0x1e3))/0x5+-parseInt(_0x4cbf53(0x1c0))/0x6+-parseInt(_0x4cbf53(0x1d9))/0x7+parseInt(_0x4cbf53(0x1c2))/0x8*(-parseInt(_0x4cbf53(0x1ef))/0x9)+parseInt(_0x4cbf53(0x1bf))/0xa;if(_0x43c84c===_0x1ad884)break;else _0x418943['push'](_0x418943['shift']());}catch(_0xfbd117){_0x418943['push'](_0x418943['shift']());}}}(a27_0x133f,0x99bf7));const a27_0x481107=(function(){let _0x51a162=!![];return function(_0x5c9d6f,_0x430524){const _0xe6921e=_0x51a162?function(){const _0x318777=a27_0x45d3;if(_0x430524){const _0x308f0c=_0x430524[_0x318777(0x1e4)](_0x5c9d6f,arguments);return _0x430524=null,_0x308f0c;}}:function(){};return _0x51a162=![],_0xe6921e;};}()),a27_0xf6307e=a27_0x481107(this,function(){const _0x59f4e2=a27_0x45d3;return a27_0xf6307e[_0x59f4e2(0x1cf)]()[_0x59f4e2(0x1c9)]('(((.+)+)+)+$')[_0x59f4e2(0x1cf)]()[_0x59f4e2(0x1dd)](a27_0xf6307e)[_0x59f4e2(0x1c9)](_0x59f4e2(0x1f4));});a27_0xf6307e();function a27_0x133f(){const _0x53facc=['32263030SvunVo','3785736uNCoBj','mediaName','21832qCwEQt','2379zMSCnM','../services/QueueService/ShowQueueService','lodash','delete','-queue','public','search','body','company-','query','Arquivo\x20Salvo','deleteMedia','toString','default','../services/QueueService/ListQueuesService','__esModule','message','remove','getIO','../services/QueueService/UpdateQueueService','update','__importDefault','5391253IQKWil','Arquivo\x20excluÃ­do','../models/Queue','show','constructor','index','../services/QueueService/DeleteQueueService','store','16BoJWuE','resolve','3148640lMESsB','apply','originalname','mediaPath','isNil','emit','../libs/socket','1076OnYDZk','params','defineProperty','send','save','126rxTFMj','92600FRGqyD','mediaUpload','status','user','(((.+)+)+)+$','json','existsSync','path'];a27_0x133f=function(){return _0x53facc;};return a27_0x133f();}'use strict';var __importDefault=this&&this[a27_0x44ae3b(0x1d8)]||function(_0x39c666){const _0x377a82=a27_0x44ae3b;return _0x39c666&&_0x39c666[_0x377a82(0x1d2)]?_0x39c666:{'default':_0x39c666};};Object[a27_0x44ae3b(0x1ec)](exports,a27_0x44ae3b(0x1d2),{'value':!![]}),exports['deleteMedia']=exports[a27_0x44ae3b(0x1f1)]=exports[a27_0x44ae3b(0x1d4)]=exports[a27_0x44ae3b(0x1d7)]=exports[a27_0x44ae3b(0x1dc)]=exports[a27_0x44ae3b(0x1e0)]=exports[a27_0x44ae3b(0x1de)]=void 0x0;const socket_1=require(a27_0x44ae3b(0x1e9)),CreateQueueService_1=__importDefault(require('../services/QueueService/CreateQueueService')),DeleteQueueService_1=__importDefault(require(a27_0x44ae3b(0x1df))),ListQueuesService_1=__importDefault(require(a27_0x44ae3b(0x1d1))),ShowQueueService_1=__importDefault(require(a27_0x44ae3b(0x1c4))),UpdateQueueService_1=__importDefault(require(a27_0x44ae3b(0x1d6))),lodash_1=require(a27_0x44ae3b(0x1c5)),Queue_1=__importDefault(require(a27_0x44ae3b(0x1db))),lodash_2=require('lodash'),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a27_0x44ae3b(0x1be))),AppError_1=__importDefault(require('../errors/AppError')),index=async(_0x4ed942,_0x2162f3)=>{const _0x2e9849=a27_0x44ae3b,{companyId:_0x317ee1}=_0x4ed942[_0x2e9849(0x1f3)],{companyId:_0x8ec8c3}=_0x4ed942[_0x2e9849(0x1cc)];let _0x5eee74=_0x317ee1;!(0x0,lodash_1[_0x2e9849(0x1e7)])(_0x8ec8c3)&&(_0x5eee74=+_0x8ec8c3);const _0x3712e1=await(0x0,ListQueuesService_1[_0x2e9849(0x1d0)])({'companyId':_0x5eee74});return _0x2162f3[_0x2e9849(0x1f2)](0xc8)[_0x2e9849(0x1f5)](_0x3712e1);};exports[a27_0x44ae3b(0x1de)]=index;const store=async(_0x2a4838,_0x1c008d)=>{const _0x312b4a=a27_0x44ae3b,{name:_0x2bf2d1,color:_0x16af7e,greetingMessage:_0x5e5ef4,outOfHoursMessage:_0x330bbd}=_0x2a4838[_0x312b4a(0x1ca)],{companyId:_0x765ad7}=_0x2a4838[_0x312b4a(0x1f3)],_0x3ec394=await(0x0,CreateQueueService_1[_0x312b4a(0x1d0)])({'name':_0x2bf2d1,'color':_0x16af7e,'greetingMessage':_0x5e5ef4,'companyId':_0x765ad7,'outOfHoursMessage':_0x330bbd}),_0x3cba7e=(0x0,socket_1[_0x312b4a(0x1d5)])();return _0x3cba7e['emit'](_0x312b4a(0x1cb)+_0x765ad7+_0x312b4a(0x1c7),{'action':_0x312b4a(0x1d7),'queue':_0x3ec394}),_0x1c008d[_0x312b4a(0x1f2)](0xc8)[_0x312b4a(0x1f5)](_0x3ec394);};exports['store']=store;const show=async(_0x16b4ac,_0x8a5df8)=>{const _0x15763b=a27_0x44ae3b,{queueId:_0x3a8582}=_0x16b4ac[_0x15763b(0x1eb)],{companyId:_0xb3cde0}=_0x16b4ac[_0x15763b(0x1f3)],_0x2deb30=await(0x0,ShowQueueService_1[_0x15763b(0x1d0)])(_0x3a8582,_0xb3cde0);return _0x8a5df8['status'](0xc8)[_0x15763b(0x1f5)](_0x2deb30);};exports['show']=show;const update=async(_0x477bfa,_0x63152a)=>{const _0x5de742=a27_0x44ae3b,{queueId:_0x50cceb}=_0x477bfa[_0x5de742(0x1eb)],{companyId:_0xe47fdc}=_0x477bfa[_0x5de742(0x1f3)],_0x3fc881=await(0x0,UpdateQueueService_1[_0x5de742(0x1d0)])(_0x50cceb,_0x477bfa[_0x5de742(0x1ca)],_0xe47fdc),_0x134224=(0x0,socket_1[_0x5de742(0x1d5)])();return _0x134224[_0x5de742(0x1e8)]('company-'+_0xe47fdc+_0x5de742(0x1c7),{'action':'update','queue':_0x3fc881}),_0x63152a['status'](0xc9)[_0x5de742(0x1f5)](_0x3fc881);};exports[a27_0x44ae3b(0x1d7)]=update;const remove=async(_0x1d54db,_0xffd26c)=>{const _0x5eb4dc=a27_0x44ae3b,{queueId:_0x19607f}=_0x1d54db['params'],{companyId:_0xb3d18b}=_0x1d54db[_0x5eb4dc(0x1f3)];await(0x0,DeleteQueueService_1['default'])(_0x19607f,_0xb3d18b);const _0x21feff=(0x0,socket_1[_0x5eb4dc(0x1d5)])();return _0x21feff[_0x5eb4dc(0x1e8)](_0x5eb4dc(0x1cb)+_0xb3d18b+_0x5eb4dc(0x1c7),{'action':_0x5eb4dc(0x1c6),'queueId':+_0x19607f}),_0xffd26c[_0x5eb4dc(0x1f2)](0xc8)[_0x5eb4dc(0x1ed)]();};exports[a27_0x44ae3b(0x1d4)]=remove;const mediaUpload=async(_0x5f3fb6,_0x202ab3)=>{const _0x270099=a27_0x44ae3b,{queueId:_0x1db675}=_0x5f3fb6['params'],_0x4d9af2=_0x5f3fb6['files'],_0x367aed=(0x0,lodash_2['head'])(_0x4d9af2);try{const _0x207bf7=await Queue_1[_0x270099(0x1d0)]['findByPk'](_0x1db675);return _0x207bf7[_0x270099(0x1d7)]({'mediaPath':_0x367aed['filename'],'mediaName':_0x367aed[_0x270099(0x1e5)]}),_0x202ab3[_0x270099(0x1ed)]({'mensagem':_0x270099(0x1cd)});}catch(_0x548e22){throw new AppError_1[(_0x270099(0x1d0))](_0x548e22[_0x270099(0x1d3)]);}};exports[a27_0x44ae3b(0x1f1)]=mediaUpload;const deleteMedia=async(_0x336957,_0x3065d5)=>{const _0x3b9889=a27_0x44ae3b,{queueId:_0x557f93}=_0x336957[_0x3b9889(0x1eb)];try{const _0x2eabac=await Queue_1[_0x3b9889(0x1d0)]['findByPk'](_0x557f93),_0x4155fd=path_1[_0x3b9889(0x1d0)][_0x3b9889(0x1e2)](_0x3b9889(0x1c8),_0x2eabac[_0x3b9889(0x1e6)]),_0xe78084=fs_1[_0x3b9889(0x1d0)][_0x3b9889(0x1bd)](_0x4155fd);return _0xe78084&&fs_1['default']['unlinkSync'](_0x4155fd),_0x2eabac[_0x3b9889(0x1e6)]=null,_0x2eabac[_0x3b9889(0x1c1)]=null,await _0x2eabac[_0x3b9889(0x1ee)](),_0x3065d5[_0x3b9889(0x1ed)]({'mensagem':_0x3b9889(0x1da)});}catch(_0x492c3f){throw new AppError_1['default'](_0x492c3f[_0x3b9889(0x1d3)]);}};exports[a27_0x44ae3b(0x1ce)]=deleteMedia;