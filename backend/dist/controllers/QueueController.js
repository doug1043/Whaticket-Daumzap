function a27_0x3e24(_0x14c460,_0xc0c069){const _0x5c8d2e=a27_0x3f82();return a27_0x3e24=function(_0x5c4d67,_0x3efe1b){_0x5c4d67=_0x5c4d67-0x1e4;let _0x3f8234=_0x5c8d2e[_0x5c4d67];return _0x3f8234;},a27_0x3e24(_0x14c460,_0xc0c069);}const a27_0x404f87=a27_0x3e24;function a27_0x3f82(){const _0x3ae63f=['../services/QueueService/UpdateQueueService','37svFBnc','save','2908485prbGYo','status','originalname','emit','Arquivo\x20Salvo','../services/QueueService/ListQueuesService','-queue','unlinkSync','18kNPHFh','12370qAnZJF','head','defineProperty','send','constructor','deleteMedia','body','801012ahPLnw','(((.+)+)+)+$','isNil','toString','delete','../errors/AppError','company-','mediaPath','__esModule','public','params','remove','../services/QueueService/ShowQueueService','../models/Queue','message','filename','7755egUjHa','2069992QrCOpn','findByPk','35IrTzah','16246295QCqgMn','20VJNQio','default','24wWgrlk','Arquivo\x20excluÃ­do','7010sbtkEQ','show','update','../services/QueueService/CreateQueueService','json','mediaUpload','1627085EmtpJb','mediaName','index','store','resolve','user','getIO','query'];a27_0x3f82=function(){return _0x3ae63f;};return a27_0x3f82();}(function(_0x56db06,_0x20588a){const _0x842aee=a27_0x3e24,_0x145869=_0x56db06();while(!![]){try{const _0x243734=-parseInt(_0x842aee(0x1ec))/0x1*(parseInt(_0x842aee(0x217))/0x2)+parseInt(_0x842aee(0x1fe))/0x3*(-parseInt(_0x842aee(0x213))/0x4)+parseInt(_0x842aee(0x21d))/0x5*(-parseInt(_0x842aee(0x1f6))/0x6)+-parseInt(_0x842aee(0x211))/0x7*(-parseInt(_0x842aee(0x20f))/0x8)+parseInt(_0x842aee(0x1ee))/0x9+-parseInt(_0x842aee(0x1f7))/0xa*(parseInt(_0x842aee(0x20e))/0xb)+parseInt(_0x842aee(0x215))/0xc*(parseInt(_0x842aee(0x212))/0xd);if(_0x243734===_0x20588a)break;else _0x145869['push'](_0x145869['shift']());}catch(_0x26c0f8){_0x145869['push'](_0x145869['shift']());}}}(a27_0x3f82,0xc41e3));const a27_0x3efe1b=(function(){let _0x40a7b5=!![];return function(_0x8df994,_0x30a22c){const _0x4bd7ec=_0x40a7b5?function(){if(_0x30a22c){const _0x57a2bd=_0x30a22c['apply'](_0x8df994,arguments);return _0x30a22c=null,_0x57a2bd;}}:function(){};return _0x40a7b5=![],_0x4bd7ec;};}()),a27_0x5c4d67=a27_0x3efe1b(this,function(){const _0x50a56d=a27_0x3e24;return a27_0x5c4d67[_0x50a56d(0x201)]()['search'](_0x50a56d(0x1ff))['toString']()[_0x50a56d(0x1fb)](a27_0x5c4d67)['search'](_0x50a56d(0x1ff));});a27_0x5c4d67();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xbd1848){const _0x322122=a27_0x3e24;return _0xbd1848&&_0xbd1848[_0x322122(0x206)]?_0xbd1848:{'default':_0xbd1848};};Object[a27_0x404f87(0x1f9)](exports,'__esModule',{'value':!![]}),exports[a27_0x404f87(0x1fc)]=exports[a27_0x404f87(0x21c)]=exports['remove']=exports[a27_0x404f87(0x219)]=exports[a27_0x404f87(0x218)]=exports[a27_0x404f87(0x1e6)]=exports['index']=void 0x0;const socket_1=require('../libs/socket'),CreateQueueService_1=__importDefault(require(a27_0x404f87(0x21a))),DeleteQueueService_1=__importDefault(require('../services/QueueService/DeleteQueueService')),ListQueuesService_1=__importDefault(require(a27_0x404f87(0x1f3))),ShowQueueService_1=__importDefault(require(a27_0x404f87(0x20a))),UpdateQueueService_1=__importDefault(require(a27_0x404f87(0x1eb))),lodash_1=require('lodash'),Queue_1=__importDefault(require(a27_0x404f87(0x20b))),lodash_2=require('lodash'),fs_1=__importDefault(require('fs')),path_1=__importDefault(require('path')),AppError_1=__importDefault(require(a27_0x404f87(0x203))),index=async(_0x1cc611,_0x19d13f)=>{const _0x5166b7=a27_0x404f87,{companyId:_0x35f36b}=_0x1cc611['user'],{companyId:_0x406c30}=_0x1cc611[_0x5166b7(0x1ea)];let _0x47fc5b=_0x35f36b;!(0x0,lodash_1[_0x5166b7(0x200)])(_0x406c30)&&(_0x47fc5b=+_0x406c30);const _0x36af05=await(0x0,ListQueuesService_1[_0x5166b7(0x214)])({'companyId':_0x47fc5b});return _0x19d13f[_0x5166b7(0x1ef)](0xc8)[_0x5166b7(0x21b)](_0x36af05);};exports[a27_0x404f87(0x1e5)]=index;const store=async(_0x14ebf4,_0x12e5de)=>{const _0x914289=a27_0x404f87,{name:_0x8a5a59,color:_0x1f73b4,greetingMessage:_0x2a081b,outOfHoursMessage:_0x42f096}=_0x14ebf4[_0x914289(0x1fd)],{companyId:_0x56584c}=_0x14ebf4[_0x914289(0x1e8)],_0x78860a=await(0x0,CreateQueueService_1[_0x914289(0x214)])({'name':_0x8a5a59,'color':_0x1f73b4,'greetingMessage':_0x2a081b,'companyId':_0x56584c,'outOfHoursMessage':_0x42f096}),_0x4d73ad=(0x0,socket_1['getIO'])();return _0x4d73ad[_0x914289(0x1f1)](_0x914289(0x204)+_0x56584c+'-queue',{'action':'update','queue':_0x78860a}),_0x12e5de['status'](0xc8)[_0x914289(0x21b)](_0x78860a);};exports['store']=store;const show=async(_0x394a1c,_0x4599f9)=>{const _0x25bc6b=a27_0x404f87,{queueId:_0x156263}=_0x394a1c[_0x25bc6b(0x208)],{companyId:_0x15e597}=_0x394a1c['user'],_0x554ea7=await(0x0,ShowQueueService_1[_0x25bc6b(0x214)])(_0x156263,_0x15e597);return _0x4599f9['status'](0xc8)[_0x25bc6b(0x21b)](_0x554ea7);};exports[a27_0x404f87(0x218)]=show;const update=async(_0x122bb3,_0x4f2d13)=>{const _0x7db268=a27_0x404f87,{queueId:_0x45e764}=_0x122bb3[_0x7db268(0x208)],{companyId:_0x405f0a}=_0x122bb3[_0x7db268(0x1e8)],_0x1da8f8=await(0x0,UpdateQueueService_1['default'])(_0x45e764,_0x122bb3[_0x7db268(0x1fd)],_0x405f0a),_0x414e15=(0x0,socket_1['getIO'])();return _0x414e15[_0x7db268(0x1f1)]('company-'+_0x405f0a+_0x7db268(0x1f4),{'action':'update','queue':_0x1da8f8}),_0x4f2d13[_0x7db268(0x1ef)](0xc9)[_0x7db268(0x21b)](_0x1da8f8);};exports['update']=update;const remove=async(_0x55ba4e,_0x5aab07)=>{const _0x5b55d1=a27_0x404f87,{queueId:_0x23fb7d}=_0x55ba4e['params'],{companyId:_0x100f1c}=_0x55ba4e[_0x5b55d1(0x1e8)];await(0x0,DeleteQueueService_1[_0x5b55d1(0x214)])(_0x23fb7d,_0x100f1c);const _0x540fb9=(0x0,socket_1[_0x5b55d1(0x1e9)])();return _0x540fb9[_0x5b55d1(0x1f1)]('company-'+_0x100f1c+_0x5b55d1(0x1f4),{'action':_0x5b55d1(0x202),'queueId':+_0x23fb7d}),_0x5aab07[_0x5b55d1(0x1ef)](0xc8)[_0x5b55d1(0x1fa)]();};exports[a27_0x404f87(0x209)]=remove;const mediaUpload=async(_0x20a5a0,_0x35d50c)=>{const _0x48a77b=a27_0x404f87,{queueId:_0x373690}=_0x20a5a0[_0x48a77b(0x208)],_0x479231=_0x20a5a0['files'],_0x29e627=(0x0,lodash_2[_0x48a77b(0x1f8)])(_0x479231);try{const _0x36a943=await Queue_1[_0x48a77b(0x214)][_0x48a77b(0x210)](_0x373690);return _0x36a943[_0x48a77b(0x219)]({'mediaPath':_0x29e627[_0x48a77b(0x20d)],'mediaName':_0x29e627[_0x48a77b(0x1f0)]}),_0x35d50c[_0x48a77b(0x1fa)]({'mensagem':_0x48a77b(0x1f2)});}catch(_0x1468da){throw new AppError_1[(_0x48a77b(0x214))](_0x1468da[_0x48a77b(0x20c)]);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x1dff37,_0x5313e9)=>{const _0x54fad4=a27_0x404f87,{queueId:_0x380dc5}=_0x1dff37[_0x54fad4(0x208)];try{const _0x2957d7=await Queue_1[_0x54fad4(0x214)][_0x54fad4(0x210)](_0x380dc5),_0x2a7043=path_1[_0x54fad4(0x214)][_0x54fad4(0x1e7)](_0x54fad4(0x207),_0x2957d7[_0x54fad4(0x205)]),_0x30ff8c=fs_1[_0x54fad4(0x214)]['existsSync'](_0x2a7043);return _0x30ff8c&&fs_1[_0x54fad4(0x214)][_0x54fad4(0x1f5)](_0x2a7043),_0x2957d7[_0x54fad4(0x205)]=null,_0x2957d7[_0x54fad4(0x1e4)]=null,await _0x2957d7[_0x54fad4(0x1ed)](),_0x5313e9[_0x54fad4(0x1fa)]({'mensagem':_0x54fad4(0x216)});}catch(_0x4eafb4){throw new AppError_1[(_0x54fad4(0x214))](_0x4eafb4[_0x54fad4(0x20c)]);}};exports[a27_0x404f87(0x1fc)]=deleteMedia;