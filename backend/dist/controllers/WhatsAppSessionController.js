const a46_0x1d43af=a46_0x1b77;(function(_0x583011,_0x17da38){const _0x386e56=a46_0x1b77,_0xc186c1=_0x583011();while(!![]){try{const _0x47fb27=parseInt(_0x386e56(0x153))/0x1*(parseInt(_0x386e56(0x14d))/0x2)+-parseInt(_0x386e56(0x14c))/0x3+-parseInt(_0x386e56(0x14f))/0x4+-parseInt(_0x386e56(0x13f))/0x5+-parseInt(_0x386e56(0x146))/0x6+parseInt(_0x386e56(0x158))/0x7+parseInt(_0x386e56(0x15a))/0x8*(parseInt(_0x386e56(0x155))/0x9);if(_0x47fb27===_0x17da38)break;else _0xc186c1['push'](_0xc186c1['shift']());}catch(_0x17b400){_0xc186c1['push'](_0xc186c1['shift']());}}}(a46_0x1ce4,0xd65a1));const a46_0x13a7f7=(function(){let _0x20400f=!![];return function(_0x5e869d,_0x776fba){const _0x311ba0=_0x20400f?function(){const _0x970e0e=a46_0x1b77;if(_0x776fba){const _0x162f5e=_0x776fba[_0x970e0e(0x15b)](_0x5e869d,arguments);return _0x776fba=null,_0x162f5e;}}:function(){};return _0x20400f=![],_0x311ba0;};}()),a46_0x4c8832=a46_0x13a7f7(this,function(){const _0x481d1b=a46_0x1b77;return a46_0x4c8832[_0x481d1b(0x147)]()[_0x481d1b(0x15c)](_0x481d1b(0x143))['toString']()[_0x481d1b(0x142)](a46_0x4c8832)[_0x481d1b(0x15c)](_0x481d1b(0x143));});a46_0x4c8832();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x12eb39){const _0x35b04d=a46_0x1b77;return _0x12eb39&&_0x12eb39[_0x35b04d(0x14b)]?_0x12eb39:{'default':_0x12eb39};};Object[a46_0x1d43af(0x159)](exports,a46_0x1d43af(0x14b),{'value':!![]});function a46_0x1ce4(){const _0xa90a29=['apply','search','user','json','6619715pDVZaU','../libs/wbot','default','constructor','(((.+)+)+)+$','Starting\x20session.','close','9623064OaMPXo','toString','instagram','Session\x20not\x20found.','getWbot','__esModule','1871892puyuJY','2vsHdDo','../services/WbotServices/StartWhatsAppSession','181388EQtuDi','status','facebook','StartWhatsAppSession','744148NfovdS','channel','153kXuZBr','params','whatsapp','4757354zaYAYw','defineProperty','1435912jpwsfy'];a46_0x1ce4=function(){return _0xa90a29;};return a46_0x1ce4();}function a46_0x1b77(_0x49fa30,_0x5142a7){const _0xa46cac=a46_0x1ce4();return a46_0x1b77=function(_0x4c8832,_0x13a7f7){_0x4c8832=_0x4c8832-0x13d;let _0x1ce47b=_0xa46cac[_0x4c8832];return _0x1ce47b;},a46_0x1b77(_0x49fa30,_0x5142a7);}const wbot_1=require(a46_0x1d43af(0x140)),ShowWhatsAppService_1=__importDefault(require('../services/WhatsappService/ShowWhatsAppService')),StartWhatsAppSession_1=require(a46_0x1d43af(0x14e)),UpdateWhatsAppService_1=__importDefault(require('../services/WhatsappService/UpdateWhatsAppService')),store=async(_0x3f3aa0,_0x56a89f)=>{const _0x41a41e=a46_0x1d43af,{whatsappId:_0x359ffd}=_0x3f3aa0[_0x41a41e(0x156)],{companyId:_0x1ae556}=_0x3f3aa0[_0x41a41e(0x13d)],_0x20d4c2=await(0x0,ShowWhatsAppService_1[_0x41a41e(0x141)])(_0x359ffd,_0x1ae556);return await(0x0,StartWhatsAppSession_1[_0x41a41e(0x152)])(_0x20d4c2,_0x1ae556),_0x56a89f[_0x41a41e(0x150)](0xc8)[_0x41a41e(0x13e)]({'message':_0x41a41e(0x144)});},update=async(_0x42913e,_0x40034e)=>{const _0x371cd0=a46_0x1d43af,{whatsappId:_0xcab410}=_0x42913e[_0x371cd0(0x156)],{companyId:_0x3a12f9}=_0x42913e[_0x371cd0(0x13d)],{whatsapp:_0x270a0d}=await(0x0,UpdateWhatsAppService_1[_0x371cd0(0x141)])({'whatsappId':_0xcab410,'companyId':_0x3a12f9,'whatsappData':{'session':''}});return _0x270a0d[_0x371cd0(0x154)]===_0x371cd0(0x157)&&await(0x0,StartWhatsAppSession_1[_0x371cd0(0x152)])(_0x270a0d,_0x3a12f9),_0x40034e[_0x371cd0(0x150)](0xc8)[_0x371cd0(0x13e)]({'message':'Starting\x20session.'});},remove=async(_0xa7a03c,_0x3c7acd)=>{const _0x29c7d8=a46_0x1d43af,{whatsappId:_0x2499b1}=_0xa7a03c[_0x29c7d8(0x156)],{companyId:_0x2cfdea}=_0xa7a03c['user'],_0x5d6f06=await(0x0,ShowWhatsAppService_1[_0x29c7d8(0x141)])(_0x2499b1,_0x2cfdea);if(_0x5d6f06[_0x29c7d8(0x154)]===_0x29c7d8(0x157)){const _0x5848ad=(0x0,wbot_1['getWbot'])(_0x5d6f06['id']);_0x5848ad['logout'](),_0x5848ad['ws'][_0x29c7d8(0x145)]();}return(_0x5d6f06[_0x29c7d8(0x154)]===_0x29c7d8(0x151)||_0x5d6f06[_0x29c7d8(0x154)]===_0x29c7d8(0x148))&&_0x5d6f06['destroy'](),_0x3c7acd[_0x29c7d8(0x150)](0xc8)[_0x29c7d8(0x13e)]({'message':'Session\x20disconnected.'});},refresh=async(_0x1a3537,_0x1f0a32)=>{const _0x2a3cd9=a46_0x1d43af,{whatsappId:_0x597cf4}=_0x1a3537[_0x2a3cd9(0x156)],{companyId:_0x53cc4e}=_0x1a3537[_0x2a3cd9(0x13d)],_0x48c598=await(0x0,ShowWhatsAppService_1[_0x2a3cd9(0x141)])(_0x597cf4,_0x53cc4e);if(_0x48c598['channel']==='whatsapp'){const _0x227abb=(0x0,wbot_1[_0x2a3cd9(0x14a)])(_0x48c598['id']);if(!_0x227abb)return _0x1f0a32[_0x2a3cd9(0x150)](0x194)['json']({'message':_0x2a3cd9(0x149)});return await _0x227abb['ws']['close'](),_0x1f0a32['status'](0xc8)[_0x2a3cd9(0x13e)]({'message':'Session\x20refreshed.'});}return _0x1f0a32['status'](0x190)['json']({'message':'Session\x20not\x20supported.'});};exports[a46_0x1d43af(0x141)]={'store':store,'remove':remove,'update':update,'refresh':refresh};