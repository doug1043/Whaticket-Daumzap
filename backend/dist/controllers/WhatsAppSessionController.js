const a55_0x1d9899=a55_0x5c07;(function(_0x86568a,_0x106a92){const _0x2b5ba9=a55_0x5c07,_0x4c076a=_0x86568a();while(!![]){try{const _0x40fa9a=parseInt(_0x2b5ba9(0x1a0))/0x1+-parseInt(_0x2b5ba9(0x18d))/0x2*(-parseInt(_0x2b5ba9(0x192))/0x3)+-parseInt(_0x2b5ba9(0x19c))/0x4*(-parseInt(_0x2b5ba9(0x191))/0x5)+-parseInt(_0x2b5ba9(0x194))/0x6*(parseInt(_0x2b5ba9(0x18e))/0x7)+parseInt(_0x2b5ba9(0x199))/0x8+-parseInt(_0x2b5ba9(0x18c))/0x9*(-parseInt(_0x2b5ba9(0x181))/0xa)+-parseInt(_0x2b5ba9(0x18a))/0xb*(parseInt(_0x2b5ba9(0x19d))/0xc);if(_0x40fa9a===_0x106a92)break;else _0x4c076a['push'](_0x4c076a['shift']());}catch(_0x1b1632){_0x4c076a['push'](_0x4c076a['shift']());}}}(a55_0x587f,0xc9c60));function a55_0x587f(){const _0x300d55=['logout','close','json','(((.+)+)+)+$','Session\x20not\x20supported.','channel','getWbot','toString','62986ahMnfZ','../services/WbotServices/StartWhatsAppSession','3204639Snvfyb','1483574zmorxj','217WfVaER','Starting\x20session.','params','486045fcHVbf','3zgfqPs','StartWhatsAppSession','176424nnFvCP','default','user','facebook','__esModule','12420776BOfUHs','Session\x20disconnected.','whatsapp','64NWJIJh','10632iuPYsz','instagram','Session\x20refreshed.','1537212klOeaj','status','search','40AxFrOq'];a55_0x587f=function(){return _0x300d55;};return a55_0x587f();}const a55_0xbdb1aa=(function(){let _0xffc2=!![];return function(_0x48f783,_0x4880cb){const _0x1db07c=_0xffc2?function(){if(_0x4880cb){const _0x3ddf81=_0x4880cb['apply'](_0x48f783,arguments);return _0x4880cb=null,_0x3ddf81;}}:function(){};return _0xffc2=![],_0x1db07c;};}()),a55_0x2a937e=a55_0xbdb1aa(this,function(){const _0x465d20=a55_0x5c07;return a55_0x2a937e[_0x465d20(0x189)]()['search'](_0x465d20(0x185))[_0x465d20(0x189)]()['constructor'](a55_0x2a937e)[_0x465d20(0x1a2)](_0x465d20(0x185));});function a55_0x5c07(_0x14757c,_0x3b3299){const _0x5efce4=a55_0x587f();return a55_0x5c07=function(_0x2a937e,_0xbdb1aa){_0x2a937e=_0x2a937e-0x181;let _0x587ffd=_0x5efce4[_0x2a937e];return _0x587ffd;},a55_0x5c07(_0x14757c,_0x3b3299);}a55_0x2a937e();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x56ba41){return _0x56ba41&&_0x56ba41['__esModule']?_0x56ba41:{'default':_0x56ba41};};Object['defineProperty'](exports,a55_0x1d9899(0x198),{'value':!![]});const wbot_1=require('../libs/wbot'),ShowWhatsAppService_1=__importDefault(require('../services/WhatsappService/ShowWhatsAppService')),StartWhatsAppSession_1=require(a55_0x1d9899(0x18b)),UpdateWhatsAppService_1=__importDefault(require('../services/WhatsappService/UpdateWhatsAppService')),store=async(_0x555ecb,_0xb2504f)=>{const _0x3d4309=a55_0x1d9899,{whatsappId:_0x44c324}=_0x555ecb[_0x3d4309(0x190)],{companyId:_0x3d2c24}=_0x555ecb[_0x3d4309(0x196)],_0x22efe9=await(0x0,ShowWhatsAppService_1[_0x3d4309(0x195)])(_0x44c324,_0x3d2c24);return await(0x0,StartWhatsAppSession_1[_0x3d4309(0x193)])(_0x22efe9,_0x3d2c24),_0xb2504f[_0x3d4309(0x1a1)](0xc8)[_0x3d4309(0x184)]({'message':_0x3d4309(0x18f)});},update=async(_0x441a41,_0x2cbb76)=>{const _0x5669e1=a55_0x1d9899,{whatsappId:_0x2a3918}=_0x441a41[_0x5669e1(0x190)],{companyId:_0xa912ec}=_0x441a41[_0x5669e1(0x196)],{whatsapp:_0x143323}=await(0x0,UpdateWhatsAppService_1[_0x5669e1(0x195)])({'whatsappId':_0x2a3918,'companyId':_0xa912ec,'whatsappData':{'session':''}});return _0x143323[_0x5669e1(0x187)]==='whatsapp'&&await(0x0,StartWhatsAppSession_1[_0x5669e1(0x193)])(_0x143323,_0xa912ec),_0x2cbb76['status'](0xc8)[_0x5669e1(0x184)]({'message':'Starting\x20session.'});},remove=async(_0x209f83,_0x5bf20d)=>{const _0x25bc45=a55_0x1d9899,{whatsappId:_0x376c38}=_0x209f83[_0x25bc45(0x190)],{companyId:_0xf335c2}=_0x209f83['user'],_0xf50758=await(0x0,ShowWhatsAppService_1[_0x25bc45(0x195)])(_0x376c38,_0xf335c2);if(_0xf50758['channel']===_0x25bc45(0x19b)){const _0x141510=(0x0,wbot_1[_0x25bc45(0x188)])(_0xf50758['id']);_0x141510[_0x25bc45(0x182)](),_0x141510['ws'][_0x25bc45(0x183)]();}return(_0xf50758[_0x25bc45(0x187)]===_0x25bc45(0x197)||_0xf50758[_0x25bc45(0x187)]===_0x25bc45(0x19e))&&_0xf50758['destroy'](),_0x5bf20d['status'](0xc8)['json']({'message':_0x25bc45(0x19a)});},refresh=async(_0x4e9251,_0x2acff6)=>{const _0x23b4ef=a55_0x1d9899,{whatsappId:_0x5a5cda}=_0x4e9251['params'],{companyId:_0x57e3d3}=_0x4e9251[_0x23b4ef(0x196)],_0x59f8a5=await(0x0,ShowWhatsAppService_1['default'])(_0x5a5cda,_0x57e3d3);if(_0x59f8a5[_0x23b4ef(0x187)]===_0x23b4ef(0x19b)){const _0x552f7b=(0x0,wbot_1[_0x23b4ef(0x188)])(_0x59f8a5['id']);if(!_0x552f7b)return _0x2acff6[_0x23b4ef(0x1a1)](0x194)[_0x23b4ef(0x184)]({'message':'Session\x20not\x20found.'});return await _0x552f7b['ws'][_0x23b4ef(0x183)](),_0x2acff6[_0x23b4ef(0x1a1)](0xc8)[_0x23b4ef(0x184)]({'message':_0x23b4ef(0x19f)});}return _0x2acff6['status'](0x190)[_0x23b4ef(0x184)]({'message':_0x23b4ef(0x186)});};exports['default']={'store':store,'remove':remove,'update':update,'refresh':refresh};