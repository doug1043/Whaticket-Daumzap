const a46_0x3f5a49=a46_0x5969;(function(_0x5cbf58,_0x2664e3){const _0x68b9fc=a46_0x5969,_0x4eb90d=_0x5cbf58();while(!![]){try{const _0x2d234f=-parseInt(_0x68b9fc(0x171))/0x1+parseInt(_0x68b9fc(0x178))/0x2+parseInt(_0x68b9fc(0x17b))/0x3+-parseInt(_0x68b9fc(0x165))/0x4*(-parseInt(_0x68b9fc(0x162))/0x5)+parseInt(_0x68b9fc(0x16f))/0x6+parseInt(_0x68b9fc(0x15e))/0x7*(parseInt(_0x68b9fc(0x173))/0x8)+-parseInt(_0x68b9fc(0x176))/0x9;if(_0x2d234f===_0x2664e3)break;else _0x4eb90d['push'](_0x4eb90d['shift']());}catch(_0x238566){_0x4eb90d['push'](_0x4eb90d['shift']());}}}(a46_0x40a3,0xef9b5));const a46_0x25ffc2=(function(){let _0xc4b5de=!![];return function(_0x3e8651,_0x206159){const _0x4c9156=_0xc4b5de?function(){const _0x3ee7b7=a46_0x5969;if(_0x206159){const _0x4e6754=_0x206159[_0x3ee7b7(0x16c)](_0x3e8651,arguments);return _0x206159=null,_0x4e6754;}}:function(){};return _0xc4b5de=![],_0x4c9156;};}()),a46_0x570e18=a46_0x25ffc2(this,function(){const _0x5d753e=a46_0x5969;return a46_0x570e18[_0x5d753e(0x179)]()[_0x5d753e(0x163)](_0x5d753e(0x172))[_0x5d753e(0x179)]()[_0x5d753e(0x175)](a46_0x570e18)[_0x5d753e(0x163)](_0x5d753e(0x172));});a46_0x570e18();function a46_0x40a3(){const _0x4fcc92=['Session\x20refreshed.','default','defineProperty','StartWhatsAppSession','__esModule','instagram','apply','../services/WbotServices/StartWhatsAppSession','channel','6599916udhEHh','whatsapp','1663176pEtwoF','(((.+)+)+)+$','9616oTWBuQ','getWbot','constructor','10449027flZAmJ','user','1171348IqMZKu','toString','status','2254890oqImNq','Starting\x20session.','Session\x20not\x20found.','../services/WhatsappService/UpdateWhatsAppService','Session\x20not\x20supported.','__importDefault','logout','742zYTauN','params','facebook','close','370iVwiji','search','json','67076FaJykU'];a46_0x40a3=function(){return _0x4fcc92;};return a46_0x40a3();}function a46_0x5969(_0x2c3f25,_0x5b4a6d){const _0x3afeb9=a46_0x40a3();return a46_0x5969=function(_0x570e18,_0x25ffc2){_0x570e18=_0x570e18-0x15e;let _0x40a3ef=_0x3afeb9[_0x570e18];return _0x40a3ef;},a46_0x5969(_0x2c3f25,_0x5b4a6d);}'use strict';var __importDefault=this&&this[a46_0x3f5a49(0x180)]||function(_0x29e1ce){const _0x58f60c=a46_0x3f5a49;return _0x29e1ce&&_0x29e1ce[_0x58f60c(0x16a)]?_0x29e1ce:{'default':_0x29e1ce};};Object[a46_0x3f5a49(0x168)](exports,a46_0x3f5a49(0x16a),{'value':!![]});const wbot_1=require('../libs/wbot'),ShowWhatsAppService_1=__importDefault(require('../services/WhatsappService/ShowWhatsAppService')),StartWhatsAppSession_1=require(a46_0x3f5a49(0x16d)),UpdateWhatsAppService_1=__importDefault(require(a46_0x3f5a49(0x17e))),store=async(_0x1ecef2,_0x25c153)=>{const _0x161387=a46_0x3f5a49,{whatsappId:_0x1fe5ce}=_0x1ecef2[_0x161387(0x15f)],{companyId:_0x186cd8}=_0x1ecef2[_0x161387(0x177)],_0x168ae7=await(0x0,ShowWhatsAppService_1[_0x161387(0x167)])(_0x1fe5ce,_0x186cd8);return await(0x0,StartWhatsAppSession_1[_0x161387(0x169)])(_0x168ae7,_0x186cd8),_0x25c153[_0x161387(0x17a)](0xc8)[_0x161387(0x164)]({'message':_0x161387(0x17c)});},update=async(_0x1a795c,_0x116cc0)=>{const _0x1e8290=a46_0x3f5a49,{whatsappId:_0x4b641d}=_0x1a795c['params'],{companyId:_0x530af6}=_0x1a795c['user'],{whatsapp:_0x3d8c1b}=await(0x0,UpdateWhatsAppService_1[_0x1e8290(0x167)])({'whatsappId':_0x4b641d,'companyId':_0x530af6,'whatsappData':{'session':''}});return _0x3d8c1b[_0x1e8290(0x16e)]==='whatsapp'&&await(0x0,StartWhatsAppSession_1[_0x1e8290(0x169)])(_0x3d8c1b,_0x530af6),_0x116cc0[_0x1e8290(0x17a)](0xc8)[_0x1e8290(0x164)]({'message':'Starting\x20session.'});},remove=async(_0x24df10,_0x4b01b7)=>{const _0x257632=a46_0x3f5a49,{whatsappId:_0x171fb9}=_0x24df10['params'],{companyId:_0x4cded2}=_0x24df10['user'],_0x1fb270=await(0x0,ShowWhatsAppService_1['default'])(_0x171fb9,_0x4cded2);if(_0x1fb270[_0x257632(0x16e)]===_0x257632(0x170)){const _0x356086=(0x0,wbot_1['getWbot'])(_0x1fb270['id']);_0x356086[_0x257632(0x181)](),_0x356086['ws'][_0x257632(0x161)]();}return(_0x1fb270[_0x257632(0x16e)]===_0x257632(0x160)||_0x1fb270[_0x257632(0x16e)]===_0x257632(0x16b))&&_0x1fb270['destroy'](),_0x4b01b7[_0x257632(0x17a)](0xc8)['json']({'message':'Session\x20disconnected.'});},refresh=async(_0x2d8a85,_0x384066)=>{const _0x5670c2=a46_0x3f5a49,{whatsappId:_0x3f1cb9}=_0x2d8a85[_0x5670c2(0x15f)],{companyId:_0x440b3d}=_0x2d8a85[_0x5670c2(0x177)],_0x387425=await(0x0,ShowWhatsAppService_1['default'])(_0x3f1cb9,_0x440b3d);if(_0x387425[_0x5670c2(0x16e)]===_0x5670c2(0x170)){const _0x1f6024=(0x0,wbot_1[_0x5670c2(0x174)])(_0x387425['id']);if(!_0x1f6024)return _0x384066[_0x5670c2(0x17a)](0x194)[_0x5670c2(0x164)]({'message':_0x5670c2(0x17d)});return await _0x1f6024['ws'][_0x5670c2(0x161)](),_0x384066['status'](0xc8)[_0x5670c2(0x164)]({'message':_0x5670c2(0x166)});}return _0x384066['status'](0x190)['json']({'message':_0x5670c2(0x17f)});};exports[a46_0x3f5a49(0x167)]={'store':store,'remove':remove,'update':update,'refresh':refresh};