const a36_0x1088c5=a36_0x177f;(function(_0x2c29fd,_0x411464){const _0x5ae437=a36_0x177f,_0x1170f3=_0x2c29fd();while(!![]){try{const _0xe6acf5=-parseInt(_0x5ae437(0x166))/0x1*(parseInt(_0x5ae437(0x152))/0x2)+-parseInt(_0x5ae437(0x16b))/0x3*(parseInt(_0x5ae437(0x157))/0x4)+parseInt(_0x5ae437(0x159))/0x5+parseInt(_0x5ae437(0x153))/0x6+parseInt(_0x5ae437(0x160))/0x7*(parseInt(_0x5ae437(0x155))/0x8)+-parseInt(_0x5ae437(0x158))/0x9+parseInt(_0x5ae437(0x144))/0xa;if(_0xe6acf5===_0x411464)break;else _0x1170f3['push'](_0x1170f3['shift']());}catch(_0x35f9aa){_0x1170f3['push'](_0x1170f3['shift']());}}}(a36_0x1d53,0x927b1));const a36_0x360bbb=(function(){let _0x18e1a4=!![];return function(_0x54033d,_0x510890){const _0x393a7b=_0x18e1a4?function(){const _0x42aa95=a36_0x177f;if(_0x510890){const _0x2a45ac=_0x510890[_0x42aa95(0x148)](_0x54033d,arguments);return _0x510890=null,_0x2a45ac;}}:function(){};return _0x18e1a4=![],_0x393a7b;};}()),a36_0x2f4604=a36_0x360bbb(this,function(){const _0x115c96=a36_0x177f;return a36_0x2f4604[_0x115c96(0x146)]()[_0x115c96(0x14f)](_0x115c96(0x14b))[_0x115c96(0x146)]()['constructor'](a36_0x2f4604)[_0x115c96(0x14f)]('(((.+)+)+)+$');});a36_0x2f4604();'use strict';function a36_0x177f(_0x31cfce,_0x304679){const _0x353de3=a36_0x1d53();return a36_0x177f=function(_0x2f4604,_0x360bbb){_0x2f4604=_0x2f4604-0x13f;let _0x1d53c5=_0x353de3[_0x2f4604];return _0x1d53c5;},a36_0x177f(_0x31cfce,_0x304679);}var __importDefault=this&&this[a36_0x1088c5(0x162)]||function(_0x47adcc){const _0xa7326e=a36_0x1088c5;return _0x47adcc&&_0x47adcc[_0xa7326e(0x15e)]?_0x47adcc:{'default':_0x47adcc};};Object['defineProperty'](exports,a36_0x1088c5(0x15e),{'value':!![]}),exports['syncTags']=exports[a36_0x1088c5(0x143)]=exports['list']=exports[a36_0x1088c5(0x150)]=exports[a36_0x1088c5(0x147)]=exports[a36_0x1088c5(0x15d)]=exports['store']=exports[a36_0x1088c5(0x14c)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require('../errors/AppError')),CreateService_1=__importDefault(require(a36_0x1088c5(0x14a))),ListService_1=__importDefault(require('../services/TagServices/ListService')),KanbanListService_1=__importDefault(require(a36_0x1088c5(0x14e))),UpdateService_1=__importDefault(require(a36_0x1088c5(0x167))),ShowService_1=__importDefault(require(a36_0x1088c5(0x145))),DeleteService_1=__importDefault(require(a36_0x1088c5(0x154))),SimpleListService_1=__importDefault(require(a36_0x1088c5(0x13f))),SyncTagsService_1=__importDefault(require(a36_0x1088c5(0x169))),index=async(_0x48a57e,_0x35204e)=>{const _0x40ffeb=a36_0x1088c5,{pageNumber:_0x478497,searchParam:_0x35f4dd,kanban:_0x1d71fc}=_0x48a57e[_0x40ffeb(0x151)],{companyId:_0x21340e}=_0x48a57e[_0x40ffeb(0x163)];console[_0x40ffeb(0x142)](_0x35f4dd);const {tags:_0x3c14d7,count:_0x155571,hasMore:_0x12842c}=await(0x0,ListService_1[_0x40ffeb(0x140)])({'searchParam':_0x35f4dd,'pageNumber':_0x478497,'companyId':_0x21340e,'kanban':_0x1d71fc});return _0x35204e[_0x40ffeb(0x15c)]({'tags':_0x3c14d7,'count':_0x155571,'hasMore':_0x12842c});};exports[a36_0x1088c5(0x14c)]=index;const store=async(_0x15cac9,_0x54d11f)=>{const _0x497817=a36_0x1088c5,{name:_0x4584d3,color:_0x2cc1bc,kanban:_0x4890f8}=_0x15cac9['body'],{companyId:_0x3d4c8e}=_0x15cac9['user'],_0x32da24=await(0x0,CreateService_1[_0x497817(0x140)])({'name':_0x4584d3,'color':_0x2cc1bc,'kanban':_0x4890f8||null,'companyId':_0x3d4c8e}),_0x1c6db7=(0x0,socket_1[_0x497817(0x161)])();return _0x1c6db7[_0x497817(0x15f)](_0x497817(0x15a),{'action':'create','tag':_0x32da24}),_0x54d11f[_0x497817(0x149)](0xc8)[_0x497817(0x15c)](_0x32da24);};exports['store']=store;const show=async(_0x792ce5,_0x36da80)=>{const _0x53760d=a36_0x1088c5,{tagId:_0x5b1f23}=_0x792ce5[_0x53760d(0x164)],_0x212685=await(0x0,ShowService_1[_0x53760d(0x140)])(_0x5b1f23);return _0x36da80['status'](0xc8)[_0x53760d(0x15c)](_0x212685);};exports['show']=show;const update=async(_0x31a1c0,_0x24ed56)=>{const _0x49110d=a36_0x1088c5;if(_0x31a1c0[_0x49110d(0x163)][_0x49110d(0x14d)]!==_0x49110d(0x141)&&_0x31a1c0['user']['profile']!==_0x49110d(0x156))throw new AppError_1['default'](_0x49110d(0x168),0x193);const {tagId:_0x13f0f1}=_0x31a1c0['params'],_0x24c934=_0x31a1c0[_0x49110d(0x165)],_0x9a5fc2=await(0x0,UpdateService_1[_0x49110d(0x140)])({'tagData':_0x24c934,'id':_0x13f0f1}),_0x11da6b=(0x0,socket_1['getIO'])();return _0x11da6b[_0x49110d(0x15f)](_0x49110d(0x15a),{'action':_0x49110d(0x147),'tag':_0x9a5fc2}),_0x24ed56[_0x49110d(0x149)](0xc8)[_0x49110d(0x15c)](_0x9a5fc2);};exports['update']=update;const remove=async(_0xf4673f,_0x42e831)=>{const _0x55dcdb=a36_0x1088c5,{tagId:_0x263af6}=_0xf4673f[_0x55dcdb(0x164)];await(0x0,DeleteService_1[_0x55dcdb(0x140)])(_0x263af6);const _0x29fdfe=(0x0,socket_1[_0x55dcdb(0x161)])();return _0x29fdfe['emit'](_0x55dcdb(0x15a),{'action':'delete','tagId':_0x263af6}),_0x42e831[_0x55dcdb(0x149)](0xc8)[_0x55dcdb(0x15c)]({'message':_0x55dcdb(0x15b)});};exports[a36_0x1088c5(0x150)]=remove;function a36_0x1d53(){const _0x185735=['body','183ObdvpT','../services/TagServices/UpdateService','ERR_NO_PERMISSION','../services/TagServices/SyncTagsService','list','3tPZJMc','../services/TagServices/SimpleListService','default','admin','log','kanban','4537580AmEMOA','../services/TagServices/ShowService','toString','update','apply','status','../services/TagServices/CreateService','(((.+)+)+)+$','index','profile','../services/TagServices/KanbanListService','search','remove','query','6914uRnjuq','2749272LZqjfG','../services/TagServices/DeleteService','51512eIjodn','supervisor','1971912hnpdAn','1830366yJLSUZ','1382565knrnXX','tag','Tag\x20deleted','json','show','__esModule','emit','805TJOSbY','getIO','__importDefault','user','params'];a36_0x1d53=function(){return _0x185735;};return a36_0x1d53();}const list=async(_0x23846c,_0x379de5)=>{const _0x32d52c=a36_0x1088c5,{searchParam:_0x42dcc3}=_0x23846c[_0x32d52c(0x151)],{companyId:_0x545921}=_0x23846c[_0x32d52c(0x163)],_0x1b8b6a=await(0x0,SimpleListService_1[_0x32d52c(0x140)])({'searchParam':_0x42dcc3,'companyId':_0x545921});return _0x379de5[_0x32d52c(0x15c)](_0x1b8b6a);};exports[a36_0x1088c5(0x16a)]=list;const kanban=async(_0x568923,_0x171888)=>{const {companyId:_0x293447}=_0x568923['user'],_0x5bd076=await(0x0,KanbanListService_1['default'])({'companyId':_0x293447});return _0x171888['json']({'lista':_0x5bd076});};exports[a36_0x1088c5(0x143)]=kanban;const syncTags=async(_0x124818,_0x47223c)=>{const _0x17f924=a36_0x1088c5,_0xf4bea2=_0x124818['body'],{companyId:_0x28bb9d}=_0x124818[_0x17f924(0x163)],_0x367fc3=await(0x0,SyncTagsService_1['default'])({..._0xf4bea2,'companyId':_0x28bb9d});return _0x47223c['json'](_0x367fc3);};exports['syncTags']=syncTags;