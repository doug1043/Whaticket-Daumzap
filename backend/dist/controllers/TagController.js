const a37_0x373110=a37_0x11c0;(function(_0x4c7d2c,_0x41622a){const _0x2d68d3=a37_0x11c0,_0x241f02=_0x4c7d2c();while(!![]){try{const _0x7777ee=parseInt(_0x2d68d3(0xc1))/0x1*(-parseInt(_0x2d68d3(0xb5))/0x2)+-parseInt(_0x2d68d3(0xc9))/0x3*(-parseInt(_0x2d68d3(0xd0))/0x4)+-parseInt(_0x2d68d3(0xb8))/0x5*(parseInt(_0x2d68d3(0xc3))/0x6)+parseInt(_0x2d68d3(0xb3))/0x7*(-parseInt(_0x2d68d3(0xbb))/0x8)+parseInt(_0x2d68d3(0xcf))/0x9+parseInt(_0x2d68d3(0xce))/0xa+parseInt(_0x2d68d3(0xd7))/0xb;if(_0x7777ee===_0x41622a)break;else _0x241f02['push'](_0x241f02['shift']());}catch(_0x2fffca){_0x241f02['push'](_0x241f02['shift']());}}}(a37_0x4876,0xe78a6));const a37_0x75fdc1=(function(){let _0x465a39=!![];return function(_0x467a63,_0x205bf1){const _0x5e941e=_0x465a39?function(){const _0x5194da=a37_0x11c0;if(_0x205bf1){const _0x1c962b=_0x205bf1[_0x5194da(0xd3)](_0x467a63,arguments);return _0x205bf1=null,_0x1c962b;}}:function(){};return _0x465a39=![],_0x5e941e;};}()),a37_0xc1f17f=a37_0x75fdc1(this,function(){const _0x41e2e3=a37_0x11c0;return a37_0xc1f17f[_0x41e2e3(0xcc)]()[_0x41e2e3(0xc8)]('(((.+)+)+)+$')[_0x41e2e3(0xcc)]()[_0x41e2e3(0xba)](a37_0xc1f17f)[_0x41e2e3(0xc8)](_0x41e2e3(0xd8));});a37_0xc1f17f();'use strict';var __importDefault=this&&this[a37_0x373110(0xb4)]||function(_0x37621d){const _0x2d7029=a37_0x373110;return _0x37621d&&_0x37621d[_0x2d7029(0xdb)]?_0x37621d:{'default':_0x37621d};};Object['defineProperty'](exports,a37_0x373110(0xdb),{'value':!![]}),exports[a37_0x373110(0xd9)]=exports[a37_0x373110(0xc4)]=exports['removeAll']=exports[a37_0x373110(0xdc)]=exports['update']=exports[a37_0x373110(0xbd)]=exports[a37_0x373110(0xad)]=exports[a37_0x373110(0xcd)]=exports[a37_0x373110(0xd2)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require('../errors/AppError')),CreateService_1=__importDefault(require(a37_0x373110(0xc6))),ListService_1=__importDefault(require(a37_0x373110(0xb0))),UpdateService_1=__importDefault(require('../services/TagServices/UpdateService')),ShowService_1=__importDefault(require('../services/TagServices/ShowService')),DeleteService_1=__importDefault(require(a37_0x373110(0xc5))),DeleteAllTagService_1=__importDefault(require(a37_0x373110(0xca))),SimpleListService_1=__importDefault(require('../services/TagServices/SimpleListService')),SyncTagsService_1=__importDefault(require(a37_0x373110(0xbc))),KanbanListService_1=__importDefault(require(a37_0x373110(0xbf))),index=async(_0x1c4870,_0x871ac6)=>{const _0x116160=a37_0x373110,{pageNumber:_0x49c628,searchParam:_0x59249f}=_0x1c4870['query'],{companyId:_0x1a0257}=_0x1c4870[_0x116160(0xc0)],{tags:_0x7887f4,count:_0x256efa,hasMore:_0x1cb01c}=await(0x0,ListService_1['default'])({'searchParam':_0x59249f,'pageNumber':_0x49c628,'companyId':_0x1a0257});return _0x871ac6[_0x116160(0xd4)]({'tags':_0x7887f4,'count':_0x256efa,'hasMore':_0x1cb01c});};function a37_0x11c0(_0x2e727c,_0x21a353){const _0x163fcb=a37_0x4876();return a37_0x11c0=function(_0xc1f17f,_0x75fdc1){_0xc1f17f=_0xc1f17f-0xad;let _0x4876d5=_0x163fcb[_0xc1f17f];return _0x4876d5;},a37_0x11c0(_0x2e727c,_0x21a353);}exports['index']=index;const store=async(_0x5c97d2,_0x570c28)=>{const _0x311c4a=a37_0x373110,{name:_0x2e4c0f,color:_0x4b2f8c,kanban:_0x2b66f5}=_0x5c97d2[_0x311c4a(0xb1)],{companyId:_0x3629e7}=_0x5c97d2['user'],_0x4e384c=await(0x0,CreateService_1[_0x311c4a(0xd6)])({'name':_0x2e4c0f,'color':_0x4b2f8c,'kanban':_0x2b66f5||null,'companyId':_0x3629e7}),_0x4820c6=(0x0,socket_1[_0x311c4a(0xcb)])();return _0x4820c6['to'](_0x311c4a(0xb9)+_0x3629e7+_0x311c4a(0xbe))[_0x311c4a(0xda)](_0x311c4a(0xdd),{'action':_0x311c4a(0xc2),'tag':_0x4e384c}),_0x570c28[_0x311c4a(0xae)](0xc8)['json'](_0x4e384c);};exports[a37_0x373110(0xcd)]=store;const kanban=async(_0x5b7bfa,_0x41da47)=>{const _0x39314e=a37_0x373110,{companyId:_0x20c3d0}=_0x5b7bfa['user'],_0x4e53a9=await(0x0,KanbanListService_1[_0x39314e(0xd6)])({'companyId':_0x20c3d0});return _0x41da47[_0x39314e(0xd4)]({'lista':_0x4e53a9});};exports['kanban']=kanban;const show=async(_0x181b2d,_0x57f097)=>{const _0x1db230=a37_0x373110,{tagId:_0x1b7dbb}=_0x181b2d[_0x1db230(0xb6)],_0x35f1e5=await(0x0,ShowService_1[_0x1db230(0xd6)])(_0x1b7dbb);return _0x57f097[_0x1db230(0xae)](0xc8)['json'](_0x35f1e5);};exports[a37_0x373110(0xbd)]=show;const update=async(_0x367e58,_0x3b8bff)=>{const _0x314e1c=a37_0x373110;if(_0x367e58[_0x314e1c(0xc0)]['profile']!=='admin')throw new AppError_1[(_0x314e1c(0xd6))](_0x314e1c(0xaf),0x193);const {tagId:_0x3862dc}=_0x367e58[_0x314e1c(0xb6)],_0x5a42e7=_0x367e58[_0x314e1c(0xb1)],_0x58f9ad=await(0x0,UpdateService_1[_0x314e1c(0xd6)])({'tagData':_0x5a42e7,'id':_0x3862dc}),_0x26f04d=(0x0,socket_1[_0x314e1c(0xcb)])();return _0x26f04d[_0x314e1c(0xda)](_0x314e1c(0xdd),{'action':_0x314e1c(0xd1),'tag':_0x58f9ad}),_0x3b8bff[_0x314e1c(0xae)](0xc8)['json'](_0x58f9ad);};function a37_0x4876(){const _0x58831c=['index','apply','json','Error\x20deleting\x20all\x20tags','default','10807412CDUtyJ','(((.+)+)+)+$','syncTags','emit','__esModule','remove','tag','send','kanban','status','ERR_NO_PERMISSION','../services/TagServices/ListService','body','query','1542499FvxKvt','__importDefault','935876HutQvV','params','Tag\x20deleted','40zGAgEh','company-','constructor','40stZoEq','../services/TagServices/SyncTagsService','show','-mainchannel','../services/TagServices/KanbanListService','user','2cZRlUf','create','1174908KJZuBr','list','../services/TagServices/DeleteService','../services/TagServices/CreateService','All\x20tags\x20deleted\x20successfully','search','249TtcEPU','../services/TagServices/DeleteAllTagService','getIO','toString','store','1225120SfksWY','15156810nuolnE','84988NVBIXY','update'];a37_0x4876=function(){return _0x58831c;};return a37_0x4876();}exports[a37_0x373110(0xd1)]=update;const remove=async(_0x5add86,_0x510793)=>{const _0x2a6489=a37_0x373110,{tagId:_0x2faa0}=_0x5add86['params'];await(0x0,DeleteService_1[_0x2a6489(0xd6)])(_0x2faa0);const _0x51f358=(0x0,socket_1[_0x2a6489(0xcb)])();return _0x51f358['emit'](_0x2a6489(0xdd),{'action':'delete','tagId':_0x2faa0}),_0x510793[_0x2a6489(0xae)](0xc8)[_0x2a6489(0xd4)]({'message':_0x2a6489(0xb7)});};exports[a37_0x373110(0xdc)]=remove;const removeAll=async(_0x2e9fc2,_0x2552f3)=>{const _0x24f7b6=a37_0x373110,{companyId:_0x7559eb}=_0x2e9fc2[_0x24f7b6(0xc0)];try{return await(0x0,DeleteAllTagService_1[_0x24f7b6(0xd6)])(_0x7559eb),_0x2552f3[_0x24f7b6(0xae)](0xc8)[_0x24f7b6(0xde)]({'message':_0x24f7b6(0xc7)});}catch(_0x5d82f9){return console['error'](_0x5d82f9),_0x2552f3[_0x24f7b6(0xae)](0x1f4)[_0x24f7b6(0xde)]({'message':_0x24f7b6(0xd5)});}};exports['removeAll']=removeAll;const list=async(_0x2df8f5,_0x17ef0c)=>{const _0x276d67=a37_0x373110,{searchParam:_0x594982}=_0x2df8f5[_0x276d67(0xb2)],{companyId:_0x213613}=_0x2df8f5[_0x276d67(0xc0)],_0x1c1d14=await(0x0,SimpleListService_1[_0x276d67(0xd6)])({'searchParam':_0x594982,'companyId':_0x213613});return _0x17ef0c['json'](_0x1c1d14);};exports[a37_0x373110(0xc4)]=list;const syncTags=async(_0x16ffa7,_0x2e16e2)=>{const _0x2fa9c0=a37_0x373110,_0x24efa7=_0x16ffa7[_0x2fa9c0(0xb1)],{companyId:_0x4aa7a1}=_0x16ffa7[_0x2fa9c0(0xc0)],_0x29cb3d=await(0x0,SyncTagsService_1[_0x2fa9c0(0xd6)])({..._0x24efa7,'companyId':_0x4aa7a1});return _0x2e16e2[_0x2fa9c0(0xd4)](_0x29cb3d);};exports[a37_0x373110(0xd9)]=syncTags;