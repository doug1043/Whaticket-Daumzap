const a36_0x183590=a36_0x4da2;(function(_0x36f0aa,_0x40829d){const _0x36391c=a36_0x4da2,_0x11d111=_0x36f0aa();while(!![]){try{const _0x2c567e=parseInt(_0x36391c(0xa6))/0x1+parseInt(_0x36391c(0xba))/0x2+parseInt(_0x36391c(0xa4))/0x3+-parseInt(_0x36391c(0xa8))/0x4+-parseInt(_0x36391c(0xc8))/0x5+parseInt(_0x36391c(0x9d))/0x6*(parseInt(_0x36391c(0xb5))/0x7)+parseInt(_0x36391c(0xb3))/0x8*(-parseInt(_0x36391c(0xaa))/0x9);if(_0x2c567e===_0x40829d)break;else _0x11d111['push'](_0x11d111['shift']());}catch(_0x26891e){_0x11d111['push'](_0x11d111['shift']());}}}(a36_0xb7d0,0x657b0));const a36_0xb14abb=(function(){let _0x6eadf8=!![];return function(_0x5ded57,_0x130599){const _0x3ff68a=_0x6eadf8?function(){const _0x3f768f=a36_0x4da2;if(_0x130599){const _0x22e916=_0x130599[_0x3f768f(0xa1)](_0x5ded57,arguments);return _0x130599=null,_0x22e916;}}:function(){};return _0x6eadf8=![],_0x3ff68a;};}()),a36_0x59f921=a36_0xb14abb(this,function(){const _0xc6d854=a36_0x4da2;return a36_0x59f921[_0xc6d854(0xc3)]()[_0xc6d854(0xcb)]('(((.+)+)+)+$')['toString']()[_0xc6d854(0xc2)](a36_0x59f921)[_0xc6d854(0xcb)]('(((.+)+)+)+$');});a36_0x59f921();'use strict';var __importDefault=this&&this[a36_0x183590(0xc6)]||function(_0x5212e5){return _0x5212e5&&_0x5212e5['__esModule']?_0x5212e5:{'default':_0x5212e5};};Object[a36_0x183590(0xaf)](exports,a36_0x183590(0xa5),{'value':!![]}),exports['syncTags']=exports[a36_0x183590(0xab)]=exports[a36_0x183590(0xbb)]=exports[a36_0x183590(0xac)]=exports['update']=exports[a36_0x183590(0xb4)]=exports[a36_0x183590(0xc4)]=exports['index']=void 0x0;const socket_1=require(a36_0x183590(0xb1)),AppError_1=__importDefault(require(a36_0x183590(0xb7))),CreateService_1=__importDefault(require(a36_0x183590(0xad))),ListService_1=__importDefault(require(a36_0x183590(0xb6))),KanbanListService_1=__importDefault(require(a36_0x183590(0xae))),UpdateService_1=__importDefault(require(a36_0x183590(0xa7))),ShowService_1=__importDefault(require(a36_0x183590(0x9e))),DeleteService_1=__importDefault(require('../services/TagServices/DeleteService')),SimpleListService_1=__importDefault(require(a36_0x183590(0x9f))),SyncTagsService_1=__importDefault(require(a36_0x183590(0xa0))),index=async(_0x3fbae5,_0x37a619)=>{const _0x1e8615=a36_0x183590,{pageNumber:_0x1d1305,searchParam:_0x323b3c,kanban:_0x430563}=_0x3fbae5['query'],{companyId:_0x19c53e}=_0x3fbae5[_0x1e8615(0xa2)];console[_0x1e8615(0xb8)](_0x323b3c);const {tags:_0x17b214,count:_0x29d95d,hasMore:_0x29cb70}=await(0x0,ListService_1[_0x1e8615(0xca)])({'searchParam':_0x323b3c,'pageNumber':_0x1d1305,'companyId':_0x19c53e,'kanban':_0x430563});return _0x37a619[_0x1e8615(0xc5)]({'tags':_0x17b214,'count':_0x29d95d,'hasMore':_0x29cb70});};exports[a36_0x183590(0xa3)]=index;const store=async(_0x5a65f5,_0x519144)=>{const _0x3b7200=a36_0x183590,{name:_0xa51ad4,color:_0x43d5bc,kanban:_0xd86e8f}=_0x5a65f5[_0x3b7200(0xc7)],{companyId:_0x589d62}=_0x5a65f5[_0x3b7200(0xa2)],_0x25ab09=await(0x0,CreateService_1['default'])({'name':_0xa51ad4,'color':_0x43d5bc,'kanban':_0xd86e8f||null,'companyId':_0x589d62}),_0x5a42ac=(0x0,socket_1[_0x3b7200(0xbd)])();return _0x5a42ac[_0x3b7200(0xc9)](_0x3b7200(0xb2),{'action':_0x3b7200(0xb9),'tag':_0x25ab09}),_0x519144['status'](0xc8)[_0x3b7200(0xc5)](_0x25ab09);};exports[a36_0x183590(0xc4)]=store;const show=async(_0x547b62,_0x149dfb)=>{const _0x409091=a36_0x183590,{tagId:_0x5ef097}=_0x547b62[_0x409091(0xa9)],_0x53ca5b=await(0x0,ShowService_1[_0x409091(0xca)])(_0x5ef097);return _0x149dfb[_0x409091(0xb0)](0xc8)[_0x409091(0xc5)](_0x53ca5b);};exports[a36_0x183590(0xb4)]=show;const update=async(_0x529f9d,_0x50432c)=>{const _0x4f0c7b=a36_0x183590;if(_0x529f9d[_0x4f0c7b(0xa2)][_0x4f0c7b(0xc1)]!==_0x4f0c7b(0xbe)&&_0x529f9d[_0x4f0c7b(0xa2)][_0x4f0c7b(0xc1)]!=='supervisor')throw new AppError_1[(_0x4f0c7b(0xca))](_0x4f0c7b(0xbc),0x193);const {tagId:_0x3a9708}=_0x529f9d['params'],_0x3043a3=_0x529f9d['body'],_0x52c3a1=await(0x0,UpdateService_1[_0x4f0c7b(0xca)])({'tagData':_0x3043a3,'id':_0x3a9708}),_0x5de43c=(0x0,socket_1[_0x4f0c7b(0xbd)])();return _0x5de43c[_0x4f0c7b(0xc9)]('tag',{'action':'update','tag':_0x52c3a1}),_0x50432c[_0x4f0c7b(0xb0)](0xc8)['json'](_0x52c3a1);};function a36_0x4da2(_0x2651c8,_0x250dc8){const _0x5663f7=a36_0xb7d0();return a36_0x4da2=function(_0x59f921,_0xb14abb){_0x59f921=_0x59f921-0x9d;let _0xb7d0ce=_0x5663f7[_0x59f921];return _0xb7d0ce;},a36_0x4da2(_0x2651c8,_0x250dc8);}exports['update']=update;const remove=async(_0x7f59c5,_0x4924bb)=>{const _0x404a30=a36_0x183590,{tagId:_0x143e42}=_0x7f59c5[_0x404a30(0xa9)];await(0x0,DeleteService_1[_0x404a30(0xca)])(_0x143e42);const _0x298bcd=(0x0,socket_1[_0x404a30(0xbd)])();return _0x298bcd[_0x404a30(0xc9)](_0x404a30(0xb2),{'action':_0x404a30(0xcc),'tagId':_0x143e42}),_0x4924bb['status'](0xc8)[_0x404a30(0xc5)]({'message':_0x404a30(0xbf)});};exports[a36_0x183590(0xac)]=remove;const list=async(_0x48b5dd,_0x354269)=>{const _0x2cecfc=a36_0x183590,{searchParam:_0x37c67a}=_0x48b5dd[_0x2cecfc(0xc0)],{companyId:_0x2384e1}=_0x48b5dd[_0x2cecfc(0xa2)],_0x533fbc=await(0x0,SimpleListService_1[_0x2cecfc(0xca)])({'searchParam':_0x37c67a,'companyId':_0x2384e1});return _0x354269[_0x2cecfc(0xc5)](_0x533fbc);};exports[a36_0x183590(0xbb)]=list;function a36_0xb7d0(){const _0x4c5faa=['default','search','delete','1686HlBDod','../services/TagServices/ShowService','../services/TagServices/SimpleListService','../services/TagServices/SyncTagsService','apply','user','index','589707JjlrIE','__esModule','703169OiKEDL','../services/TagServices/UpdateService','1646108mwthqq','params','9YedEKE','kanban','remove','../services/TagServices/CreateService','../services/TagServices/KanbanListService','defineProperty','status','../libs/socket','tag','997144xfSlHl','show','12082bvAtzT','../services/TagServices/ListService','../errors/AppError','log','create','709748yULqQg','list','ERR_NO_PERMISSION','getIO','admin','Tag\x20deleted','query','profile','constructor','toString','store','json','__importDefault','body','3938920ZRauuH','emit'];a36_0xb7d0=function(){return _0x4c5faa;};return a36_0xb7d0();}const kanban=async(_0x4ce356,_0x3bcfe6)=>{const _0xc6493c=a36_0x183590,{companyId:_0x3b3869}=_0x4ce356[_0xc6493c(0xa2)],_0xe2ae03=await(0x0,KanbanListService_1[_0xc6493c(0xca)])({'companyId':_0x3b3869});return _0x3bcfe6[_0xc6493c(0xc5)]({'lista':_0xe2ae03});};exports[a36_0x183590(0xab)]=kanban;const syncTags=async(_0x4b8910,_0x33461d)=>{const _0x2e78c2=a36_0x183590,_0x38b94e=_0x4b8910['body'],{companyId:_0x5f62ec}=_0x4b8910[_0x2e78c2(0xa2)],_0x5e61f9=await(0x0,SyncTagsService_1['default'])({..._0x38b94e,'companyId':_0x5f62ec});return _0x33461d['json'](_0x5e61f9);};exports['syncTags']=syncTags;