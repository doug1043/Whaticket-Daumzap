const a38_0x1db34c=a38_0x4579;(function(_0x127359,_0x33421b){const _0x4f4811=a38_0x4579,_0x331508=_0x127359();while(!![]){try{const _0x57ff18=parseInt(_0x4f4811(0x190))/0x1*(-parseInt(_0x4f4811(0x19b))/0x2)+parseInt(_0x4f4811(0x1b0))/0x3+-parseInt(_0x4f4811(0x1a9))/0x4+-parseInt(_0x4f4811(0x1bf))/0x5*(parseInt(_0x4f4811(0x1bd))/0x6)+-parseInt(_0x4f4811(0x1b1))/0x7*(-parseInt(_0x4f4811(0x1a1))/0x8)+parseInt(_0x4f4811(0x1a5))/0x9*(parseInt(_0x4f4811(0x1a6))/0xa)+parseInt(_0x4f4811(0x1a2))/0xb;if(_0x57ff18===_0x33421b)break;else _0x331508['push'](_0x331508['shift']());}catch(_0x43739b){_0x331508['push'](_0x331508['shift']());}}}(a38_0xccd8,0x195d1));const a38_0x3bb128=(function(){let _0x4be210=!![];return function(_0x30d6da,_0x421130){const _0x207e48=_0x4be210?function(){const _0x4f00ff=a38_0x4579;if(_0x421130){const _0x45105e=_0x421130[_0x4f00ff(0x1b8)](_0x30d6da,arguments);return _0x421130=null,_0x45105e;}}:function(){};return _0x4be210=![],_0x207e48;};}()),a38_0x5de6ec=a38_0x3bb128(this,function(){const _0x4a712c=a38_0x4579;return a38_0x5de6ec[_0x4a712c(0x1c2)]()[_0x4a712c(0x1b5)](_0x4a712c(0x1b7))[_0x4a712c(0x1c2)]()[_0x4a712c(0x18e)](a38_0x5de6ec)[_0x4a712c(0x1b5)](_0x4a712c(0x1b7));});a38_0x5de6ec();'use strict';var __importDefault=this&&this[a38_0x1db34c(0x1a4)]||function(_0x2a74b5){const _0x55421c=a38_0x1db34c;return _0x2a74b5&&_0x2a74b5[_0x55421c(0x1a0)]?_0x2a74b5:{'default':_0x2a74b5};};Object[a38_0x1db34c(0x194)](exports,a38_0x1db34c(0x1a0),{'value':!![]}),exports['syncTags']=exports['list']=exports[a38_0x1db34c(0x193)]=exports[a38_0x1db34c(0x1bc)]=exports['update']=exports['show']=exports[a38_0x1db34c(0x197)]=exports['store']=exports[a38_0x1db34c(0x19f)]=void 0x0;const socket_1=require(a38_0x1db34c(0x1aa)),AppError_1=__importDefault(require(a38_0x1db34c(0x199))),CreateService_1=__importDefault(require('../services/TagServices/CreateService')),ListService_1=__importDefault(require(a38_0x1db34c(0x1b4))),UpdateService_1=__importDefault(require(a38_0x1db34c(0x1a8))),ShowService_1=__importDefault(require(a38_0x1db34c(0x1a3))),DeleteService_1=__importDefault(require(a38_0x1db34c(0x1ac))),DeleteAllTagService_1=__importDefault(require('../services/TagServices/DeleteAllTagService')),SimpleListService_1=__importDefault(require('../services/TagServices/SimpleListService')),SyncTagsService_1=__importDefault(require(a38_0x1db34c(0x1ae))),KanbanListService_1=__importDefault(require('../services/TagServices/KanbanListService')),index=async(_0x4ce4e9,_0x9f8827)=>{const _0x3f0bf4=a38_0x1db34c,{pageNumber:_0x1f4083,searchParam:_0x484e84}=_0x4ce4e9[_0x3f0bf4(0x191)],{companyId:_0x41c69f}=_0x4ce4e9[_0x3f0bf4(0x19e)],{tags:_0x56dfa3,count:_0x4bb1a3,hasMore:_0xa46921}=await(0x0,ListService_1[_0x3f0bf4(0x1b2)])({'searchParam':_0x484e84,'pageNumber':_0x1f4083,'companyId':_0x41c69f});return _0x9f8827[_0x3f0bf4(0x1af)]({'tags':_0x56dfa3,'count':_0x4bb1a3,'hasMore':_0xa46921});};exports[a38_0x1db34c(0x19f)]=index;const store=async(_0x3e3d02,_0x507c86)=>{const _0x5e3a65=a38_0x1db34c,{name:_0x53324c,color:_0x56cb60,kanban:_0x194f93}=_0x3e3d02[_0x5e3a65(0x1a7)],{companyId:_0x443ab5}=_0x3e3d02['user'],_0x14c0a4=await(0x0,CreateService_1[_0x5e3a65(0x1b2)])({'name':_0x53324c,'color':_0x56cb60,'kanban':_0x194f93||null,'companyId':_0x443ab5}),_0x33a749=(0x0,socket_1[_0x5e3a65(0x192)])();return _0x33a749['to'](_0x5e3a65(0x1be)+_0x443ab5+_0x5e3a65(0x19c))['emit'](_0x5e3a65(0x1b9),{'action':_0x5e3a65(0x19a),'tag':_0x14c0a4}),_0x507c86[_0x5e3a65(0x195)](0xc8)[_0x5e3a65(0x1af)](_0x14c0a4);};exports['store']=store;const kanban=async(_0xe0c024,_0x2e95c5)=>{const _0x5425c9=a38_0x1db34c,{companyId:_0x19fb1d}=_0xe0c024[_0x5425c9(0x19e)],_0x243445=await(0x0,KanbanListService_1['default'])({'companyId':_0x19fb1d});return _0x2e95c5[_0x5425c9(0x1af)]({'lista':_0x243445});};exports[a38_0x1db34c(0x197)]=kanban;const show=async(_0x4cb025,_0x11b744)=>{const _0x5a6103=a38_0x1db34c,{tagId:_0x5042f9}=_0x4cb025[_0x5a6103(0x19d)],_0xa85595=await(0x0,ShowService_1[_0x5a6103(0x1b2)])(_0x5042f9);return _0x11b744[_0x5a6103(0x195)](0xc8)[_0x5a6103(0x1af)](_0xa85595);};exports[a38_0x1db34c(0x1b6)]=show;const update=async(_0x39b2eb,_0x9b5faf)=>{const _0x4b75d4=a38_0x1db34c;if(_0x39b2eb['user'][_0x4b75d4(0x1b3)]!==_0x4b75d4(0x1ab))throw new AppError_1['default'](_0x4b75d4(0x18c),0x193);const {tagId:_0x5c1d9f}=_0x39b2eb['params'],_0x325ce8=_0x39b2eb['body'],_0x18884c=await(0x0,UpdateService_1[_0x4b75d4(0x1b2)])({'tagData':_0x325ce8,'id':_0x5c1d9f}),_0x3a4a51=(0x0,socket_1[_0x4b75d4(0x192)])();return _0x3a4a51['emit'](_0x4b75d4(0x1b9),{'action':'update','tag':_0x18884c}),_0x9b5faf[_0x4b75d4(0x195)](0xc8)[_0x4b75d4(0x1af)](_0x18884c);};function a38_0x4579(_0x408fda,_0x139b8d){const _0x5659a8=a38_0xccd8();return a38_0x4579=function(_0x5de6ec,_0x3bb128){_0x5de6ec=_0x5de6ec-0x18c;let _0xccd8de=_0x5659a8[_0x5de6ec];return _0xccd8de;},a38_0x4579(_0x408fda,_0x139b8d);}exports[a38_0x1db34c(0x1ad)]=update;const remove=async(_0x1a3685,_0x1f61da)=>{const _0x45ac95=a38_0x1db34c,{tagId:_0x5b88db}=_0x1a3685[_0x45ac95(0x19d)];await(0x0,DeleteService_1[_0x45ac95(0x1b2)])(_0x5b88db);const _0x569ee6=(0x0,socket_1[_0x45ac95(0x192)])();return _0x569ee6[_0x45ac95(0x1c0)](_0x45ac95(0x1b9),{'action':_0x45ac95(0x196),'tagId':_0x5b88db}),_0x1f61da[_0x45ac95(0x195)](0xc8)['json']({'message':_0x45ac95(0x1bb)});};exports['remove']=remove;const removeAll=async(_0x525367,_0x133f02)=>{const _0x40e5df=a38_0x1db34c,{companyId:_0x27dd42}=_0x525367[_0x40e5df(0x19e)];try{return await(0x0,DeleteAllTagService_1[_0x40e5df(0x1b2)])(_0x27dd42),_0x133f02[_0x40e5df(0x195)](0xc8)[_0x40e5df(0x1ba)]({'message':_0x40e5df(0x18f)});}catch(_0x42a805){return console[_0x40e5df(0x18d)](_0x42a805),_0x133f02[_0x40e5df(0x195)](0x1f4)['send']({'message':'Error\x20deleting\x20all\x20tags'});}};exports[a38_0x1db34c(0x193)]=removeAll;function a38_0xccd8(){const _0x41ee29=['__importDefault','18vnhWzY','750530YZzbwd','body','../services/TagServices/UpdateService','364456AnFcgI','../libs/socket','admin','../services/TagServices/DeleteService','update','../services/TagServices/SyncTagsService','json','10458JKEkbC','156149MfhgpO','default','profile','../services/TagServices/ListService','search','show','(((.+)+)+)+$','apply','tag','send','Tag\x20deleted','remove','6gqhWsb','company-','998645VFsELd','emit','syncTags','toString','ERR_NO_PERMISSION','error','constructor','All\x20tags\x20deleted\x20successfully','21667SstZWG','query','getIO','removeAll','defineProperty','status','delete','kanban','list','../errors/AppError','create','4unlOSN','-mainchannel','params','user','index','__esModule','72KVqqYu','920821CflhZn','../services/TagServices/ShowService'];a38_0xccd8=function(){return _0x41ee29;};return a38_0xccd8();}const list=async(_0x564033,_0x342059)=>{const _0x2bd3f9=a38_0x1db34c,{searchParam:_0x46b862}=_0x564033[_0x2bd3f9(0x191)],{companyId:_0x2bcd65}=_0x564033[_0x2bd3f9(0x19e)],_0x315e04=await(0x0,SimpleListService_1[_0x2bd3f9(0x1b2)])({'searchParam':_0x46b862,'companyId':_0x2bcd65});return _0x342059[_0x2bd3f9(0x1af)](_0x315e04);};exports[a38_0x1db34c(0x198)]=list;const syncTags=async(_0x4255b0,_0x2284f8)=>{const _0x4719c6=a38_0x1db34c,_0x1915c1=_0x4255b0[_0x4719c6(0x1a7)],{companyId:_0x1aa0ef}=_0x4255b0['user'],_0x2e916b=await(0x0,SyncTagsService_1[_0x4719c6(0x1b2)])({..._0x1915c1,'companyId':_0x1aa0ef});return _0x2284f8[_0x4719c6(0x1af)](_0x2e916b);};exports[a38_0x1db34c(0x1c1)]=syncTags;