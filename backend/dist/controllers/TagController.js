const a36_0xdfb33=a36_0x2c53;(function(_0x133aa6,_0x9c7d92){const _0x1241c3=a36_0x2c53,_0x23ffa0=_0x133aa6();while(!![]){try{const _0x282d59=parseInt(_0x1241c3(0x17a))/0x1*(parseInt(_0x1241c3(0x18e))/0x2)+-parseInt(_0x1241c3(0x181))/0x3*(parseInt(_0x1241c3(0x17b))/0x4)+-parseInt(_0x1241c3(0x18f))/0x5+-parseInt(_0x1241c3(0x179))/0x6*(parseInt(_0x1241c3(0x18d))/0x7)+parseInt(_0x1241c3(0x199))/0x8+parseInt(_0x1241c3(0x17d))/0x9*(-parseInt(_0x1241c3(0x183))/0xa)+parseInt(_0x1241c3(0x196))/0xb;if(_0x282d59===_0x9c7d92)break;else _0x23ffa0['push'](_0x23ffa0['shift']());}catch(_0x51d0a2){_0x23ffa0['push'](_0x23ffa0['shift']());}}}(a36_0x3b62,0x3af87));function a36_0x3b62(){const _0x485e73=['index','ERR_NO_PERMISSION','search','1582KmRiyS','214202SRtBMH','2177735mqJWBF','admin','update','kanban','../services/TagServices/ListService','defineProperty','../services/TagServices/CreateService','8196848feJnTr','../services/TagServices/KanbanListService','list','865080RWdOpd','profile','delete','default','query','../errors/AppError','json','tag','../libs/socket','emit','status','log','4974MYzWHM','4ITvlsE','4nKizMd','create','419886nZafoy','../services/TagServices/SyncTagsService','user','../services/TagServices/UpdateService','272055FXfaiB','show','70DWOLSa','../services/TagServices/DeleteService','getIO','toString','syncTags','body','params'];a36_0x3b62=function(){return _0x485e73;};return a36_0x3b62();}const a36_0x72ff28=(function(){let _0x32cc70=!![];return function(_0x59702b,_0x2aef4e){const _0x2686f7=_0x32cc70?function(){if(_0x2aef4e){const _0x108786=_0x2aef4e['apply'](_0x59702b,arguments);return _0x2aef4e=null,_0x108786;}}:function(){};return _0x32cc70=![],_0x2686f7;};}()),a36_0x17e365=a36_0x72ff28(this,function(){const _0xcff1f3=a36_0x2c53;return a36_0x17e365[_0xcff1f3(0x186)]()[_0xcff1f3(0x18c)]('(((.+)+)+)+$')[_0xcff1f3(0x186)]()['constructor'](a36_0x17e365)[_0xcff1f3(0x18c)]('(((.+)+)+)+$');});a36_0x17e365();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3e7516){return _0x3e7516&&_0x3e7516['__esModule']?_0x3e7516:{'default':_0x3e7516};};Object[a36_0xdfb33(0x194)](exports,'__esModule',{'value':!![]}),exports[a36_0xdfb33(0x187)]=exports[a36_0xdfb33(0x192)]=exports[a36_0xdfb33(0x198)]=exports['remove']=exports[a36_0xdfb33(0x191)]=exports[a36_0xdfb33(0x182)]=exports['store']=exports[a36_0xdfb33(0x18a)]=void 0x0;const socket_1=require(a36_0xdfb33(0x1a1)),AppError_1=__importDefault(require(a36_0xdfb33(0x19e))),CreateService_1=__importDefault(require(a36_0xdfb33(0x195))),ListService_1=__importDefault(require(a36_0xdfb33(0x193))),KanbanListService_1=__importDefault(require(a36_0xdfb33(0x197))),UpdateService_1=__importDefault(require(a36_0xdfb33(0x180))),ShowService_1=__importDefault(require('../services/TagServices/ShowService')),DeleteService_1=__importDefault(require(a36_0xdfb33(0x184))),SimpleListService_1=__importDefault(require('../services/TagServices/SimpleListService')),SyncTagsService_1=__importDefault(require(a36_0xdfb33(0x17e))),index=async(_0x570318,_0x47d432)=>{const _0x36e8c4=a36_0xdfb33,{pageNumber:_0x1b3292,searchParam:_0x16468a,kanban:_0x225f4f}=_0x570318['query'],{companyId:_0x2e79cd}=_0x570318[_0x36e8c4(0x17f)];console[_0x36e8c4(0x178)](_0x16468a);const {tags:_0x21d12b,count:_0x1227f3,hasMore:_0x4a50a9}=await(0x0,ListService_1['default'])({'searchParam':_0x16468a,'pageNumber':_0x1b3292,'companyId':_0x2e79cd,'kanban':_0x225f4f});return _0x47d432[_0x36e8c4(0x19f)]({'tags':_0x21d12b,'count':_0x1227f3,'hasMore':_0x4a50a9});};exports[a36_0xdfb33(0x18a)]=index;const store=async(_0x3ff095,_0x4a0c74)=>{const _0xfcfda2=a36_0xdfb33,{name:_0x5c2a3d,color:_0x461cc8,kanban:_0x3e1149}=_0x3ff095['body'],{companyId:_0x2db4c8}=_0x3ff095['user'],_0x515259=await(0x0,CreateService_1['default'])({'name':_0x5c2a3d,'color':_0x461cc8,'kanban':_0x3e1149||null,'companyId':_0x2db4c8}),_0x1342e0=(0x0,socket_1['getIO'])();return _0x1342e0[_0xfcfda2(0x1a2)](_0xfcfda2(0x1a0),{'action':_0xfcfda2(0x17c),'tag':_0x515259}),_0x4a0c74[_0xfcfda2(0x177)](0xc8)[_0xfcfda2(0x19f)](_0x515259);};exports['store']=store;const show=async(_0x19edf4,_0x2c10c6)=>{const _0x51dbcc=a36_0xdfb33,{tagId:_0x5b4cf8}=_0x19edf4[_0x51dbcc(0x189)],_0xf8d654=await(0x0,ShowService_1[_0x51dbcc(0x19c)])(_0x5b4cf8);return _0x2c10c6['status'](0xc8)[_0x51dbcc(0x19f)](_0xf8d654);};exports[a36_0xdfb33(0x182)]=show;const update=async(_0x5d737d,_0x568b10)=>{const _0x560e68=a36_0xdfb33;if(_0x5d737d[_0x560e68(0x17f)]['profile']!==_0x560e68(0x190)&&_0x5d737d[_0x560e68(0x17f)][_0x560e68(0x19a)]!=='supervisor')throw new AppError_1['default'](_0x560e68(0x18b),0x193);const {tagId:_0x516e06}=_0x5d737d['params'],_0x3a96b1=_0x5d737d['body'],_0x89ffb4=await(0x0,UpdateService_1[_0x560e68(0x19c)])({'tagData':_0x3a96b1,'id':_0x516e06}),_0x1945b6=(0x0,socket_1[_0x560e68(0x185)])();return _0x1945b6['emit'](_0x560e68(0x1a0),{'action':'update','tag':_0x89ffb4}),_0x568b10[_0x560e68(0x177)](0xc8)[_0x560e68(0x19f)](_0x89ffb4);};function a36_0x2c53(_0x1c1b1f,_0x4cfe53){const _0x351303=a36_0x3b62();return a36_0x2c53=function(_0x17e365,_0x72ff28){_0x17e365=_0x17e365-0x177;let _0x3b6208=_0x351303[_0x17e365];return _0x3b6208;},a36_0x2c53(_0x1c1b1f,_0x4cfe53);}exports[a36_0xdfb33(0x191)]=update;const remove=async(_0x3a069e,_0x175609)=>{const _0x1ff5a3=a36_0xdfb33,{tagId:_0x3745ed}=_0x3a069e['params'];await(0x0,DeleteService_1[_0x1ff5a3(0x19c)])(_0x3745ed);const _0x334d7f=(0x0,socket_1['getIO'])();return _0x334d7f[_0x1ff5a3(0x1a2)](_0x1ff5a3(0x1a0),{'action':_0x1ff5a3(0x19b),'tagId':_0x3745ed}),_0x175609[_0x1ff5a3(0x177)](0xc8)[_0x1ff5a3(0x19f)]({'message':'Tag\x20deleted'});};exports['remove']=remove;const list=async(_0x3f2996,_0x23efff)=>{const _0x2b87a3=a36_0xdfb33,{searchParam:_0x2e182e}=_0x3f2996[_0x2b87a3(0x19d)],{companyId:_0x669cb4}=_0x3f2996['user'],_0x48e631=await(0x0,SimpleListService_1[_0x2b87a3(0x19c)])({'searchParam':_0x2e182e,'companyId':_0x669cb4});return _0x23efff[_0x2b87a3(0x19f)](_0x48e631);};exports[a36_0xdfb33(0x198)]=list;const kanban=async(_0x4b30a5,_0x258bc8)=>{const _0x432f3c=a36_0xdfb33,{companyId:_0x1c1c24}=_0x4b30a5[_0x432f3c(0x17f)],_0x5768d1=await(0x0,KanbanListService_1['default'])({'companyId':_0x1c1c24});return _0x258bc8[_0x432f3c(0x19f)]({'lista':_0x5768d1});};exports[a36_0xdfb33(0x192)]=kanban;const syncTags=async(_0x1dfa97,_0x3310ec)=>{const _0x481d24=a36_0xdfb33,_0x5cf5df=_0x1dfa97[_0x481d24(0x188)],{companyId:_0x20b0ca}=_0x1dfa97['user'],_0x3445de=await(0x0,SyncTagsService_1['default'])({..._0x5cf5df,'companyId':_0x20b0ca});return _0x3310ec['json'](_0x3445de);};exports['syncTags']=syncTags;