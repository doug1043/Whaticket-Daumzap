const a38_0x2161dd=a38_0x2704;(function(_0x1106d7,_0x1fc129){const _0x6cdeee=a38_0x2704,_0x1fee26=_0x1106d7();while(!![]){try{const _0x507784=parseInt(_0x6cdeee(0x1ee))/0x1+-parseInt(_0x6cdeee(0x1e4))/0x2*(parseInt(_0x6cdeee(0x1d8))/0x3)+parseInt(_0x6cdeee(0x1ed))/0x4*(-parseInt(_0x6cdeee(0x205))/0x5)+parseInt(_0x6cdeee(0x1d5))/0x6+parseInt(_0x6cdeee(0x1cf))/0x7+-parseInt(_0x6cdeee(0x204))/0x8+-parseInt(_0x6cdeee(0x1e5))/0x9*(parseInt(_0x6cdeee(0x1fd))/0xa);if(_0x507784===_0x1fc129)break;else _0x1fee26['push'](_0x1fee26['shift']());}catch(_0x109a76){_0x1fee26['push'](_0x1fee26['shift']());}}}(a38_0xf534,0x4360a));const a38_0x22b43f=(function(){let _0x5828f4=!![];return function(_0x40366c,_0x58bddf){const _0x59b9ab=_0x5828f4?function(){const _0x2c50f3=a38_0x2704;if(_0x58bddf){const _0x40e8f3=_0x58bddf[_0x2c50f3(0x1e3)](_0x40366c,arguments);return _0x58bddf=null,_0x40e8f3;}}:function(){};return _0x5828f4=![],_0x59b9ab;};}()),a38_0x410e02=a38_0x22b43f(this,function(){const _0x4d123f=a38_0x2704;return a38_0x410e02['toString']()[_0x4d123f(0x1f2)](_0x4d123f(0x1eb))[_0x4d123f(0x1f3)]()['constructor'](a38_0x410e02)['search'](_0x4d123f(0x1eb));});a38_0x410e02();'use strict';var __importDefault=this&&this[a38_0x2161dd(0x1e9)]||function(_0x596870){const _0x33f2f8=a38_0x2161dd;return _0x596870&&_0x596870[_0x33f2f8(0x1fc)]?_0x596870:{'default':_0x596870};};Object[a38_0x2161dd(0x1ec)](exports,a38_0x2161dd(0x1fc),{'value':!![]}),exports['syncTags']=exports['list']=exports['removeAll']=exports[a38_0x2161dd(0x1e2)]=exports['update']=exports[a38_0x2161dd(0x1e0)]=exports[a38_0x2161dd(0x1d1)]=exports['store']=exports[a38_0x2161dd(0x1fa)]=void 0x0;const socket_1=require(a38_0x2161dd(0x1f6)),AppError_1=__importDefault(require(a38_0x2161dd(0x1e1))),CreateService_1=__importDefault(require(a38_0x2161dd(0x202))),ListService_1=__importDefault(require(a38_0x2161dd(0x1de))),UpdateService_1=__importDefault(require(a38_0x2161dd(0x201))),ShowService_1=__importDefault(require(a38_0x2161dd(0x1df))),DeleteService_1=__importDefault(require(a38_0x2161dd(0x206))),DeleteAllTagService_1=__importDefault(require(a38_0x2161dd(0x1d7))),SimpleListService_1=__importDefault(require(a38_0x2161dd(0x1d6))),SyncTagsService_1=__importDefault(require(a38_0x2161dd(0x1da))),KanbanListService_1=__importDefault(require(a38_0x2161dd(0x1dd))),index=async(_0x2332f5,_0x5ea737)=>{const _0x1ec505=a38_0x2161dd,{pageNumber:_0x2fb9bd,searchParam:_0x3827a0}=_0x2332f5[_0x1ec505(0x1f8)],{companyId:_0x4e8061}=_0x2332f5[_0x1ec505(0x1ef)],{tags:_0x4ad0ae,count:_0x555e4d,hasMore:_0x23a836}=await(0x0,ListService_1[_0x1ec505(0x1fb)])({'searchParam':_0x3827a0,'pageNumber':_0x2fb9bd,'companyId':_0x4e8061});return _0x5ea737[_0x1ec505(0x1f5)]({'tags':_0x4ad0ae,'count':_0x555e4d,'hasMore':_0x23a836});};exports[a38_0x2161dd(0x1fa)]=index;const store=async(_0x49899e,_0x4a0bdb)=>{const _0x59d7ea=a38_0x2161dd,{name:_0x1c34ac,color:_0x483182,kanban:_0x413e95}=_0x49899e[_0x59d7ea(0x1e6)],{companyId:_0x173638}=_0x49899e['user'],_0x42e485=await(0x0,CreateService_1[_0x59d7ea(0x1fb)])({'name':_0x1c34ac,'color':_0x483182,'kanban':_0x413e95||null,'companyId':_0x173638}),_0x3f6510=(0x0,socket_1[_0x59d7ea(0x1d4)])();return _0x3f6510['to'](_0x59d7ea(0x1f1)+_0x173638+_0x59d7ea(0x1f7))[_0x59d7ea(0x1fe)](_0x59d7ea(0x1ff),{'action':'create','tag':_0x42e485}),_0x4a0bdb[_0x59d7ea(0x1d0)](0xc8)['json'](_0x42e485);};function a38_0xf534(){const _0x6f723f=['../services/TagServices/SyncTagsService','update','Error\x20deleting\x20all\x20tags','../services/TagServices/KanbanListService','../services/TagServices/ListService','../services/TagServices/ShowService','show','../errors/AppError','remove','apply','24jNPKjH','9VGWsJn','body','syncTags','params','__importDefault','Tag\x20deleted','(((.+)+)+)+$','defineProperty','156452ZzxEGz','201100kNkNGW','user','list','company-','search','toString','admin','json','../libs/socket','-mainchannel','query','profile','index','default','__esModule','1287550pRFYYd','emit','tag','send','../services/TagServices/UpdateService','../services/TagServices/CreateService','store','1414344mJewrk','35MyHOmc','../services/TagServices/DeleteService','2759813XMkRri','status','kanban','removeAll','ERR_NO_PERMISSION','getIO','2552772qDpzEW','../services/TagServices/SimpleListService','../services/TagServices/DeleteAllTagService','41376OArIFh','error'];a38_0xf534=function(){return _0x6f723f;};return a38_0xf534();}exports[a38_0x2161dd(0x203)]=store;const kanban=async(_0x5d2443,_0x2fbab5)=>{const _0x586feb=a38_0x2161dd,{companyId:_0x5c8aa5}=_0x5d2443[_0x586feb(0x1ef)],_0x47f828=await(0x0,KanbanListService_1['default'])({'companyId':_0x5c8aa5});return _0x2fbab5[_0x586feb(0x1f5)]({'lista':_0x47f828});};exports[a38_0x2161dd(0x1d1)]=kanban;const show=async(_0x49a2e8,_0x51da29)=>{const _0x1625ed=a38_0x2161dd,{tagId:_0x12cf00}=_0x49a2e8['params'],_0x34cff4=await(0x0,ShowService_1[_0x1625ed(0x1fb)])(_0x12cf00);return _0x51da29[_0x1625ed(0x1d0)](0xc8)[_0x1625ed(0x1f5)](_0x34cff4);};exports[a38_0x2161dd(0x1e0)]=show;const update=async(_0x4d3355,_0x454700)=>{const _0x29eee1=a38_0x2161dd;if(_0x4d3355[_0x29eee1(0x1ef)][_0x29eee1(0x1f9)]!==_0x29eee1(0x1f4))throw new AppError_1[(_0x29eee1(0x1fb))](_0x29eee1(0x1d3),0x193);const {tagId:_0x335c32}=_0x4d3355[_0x29eee1(0x1e8)],_0x4a8f5d=_0x4d3355[_0x29eee1(0x1e6)],_0x52ecb2=await(0x0,UpdateService_1[_0x29eee1(0x1fb)])({'tagData':_0x4a8f5d,'id':_0x335c32}),_0x8288eb=(0x0,socket_1['getIO'])();return _0x8288eb[_0x29eee1(0x1fe)](_0x29eee1(0x1ff),{'action':_0x29eee1(0x1db),'tag':_0x52ecb2}),_0x454700[_0x29eee1(0x1d0)](0xc8)[_0x29eee1(0x1f5)](_0x52ecb2);};exports[a38_0x2161dd(0x1db)]=update;const remove=async(_0x4005c1,_0x1e9d88)=>{const _0x261088=a38_0x2161dd,{tagId:_0x590c28}=_0x4005c1[_0x261088(0x1e8)];await(0x0,DeleteService_1[_0x261088(0x1fb)])(_0x590c28);const _0x5d7ca0=(0x0,socket_1[_0x261088(0x1d4)])();return _0x5d7ca0[_0x261088(0x1fe)](_0x261088(0x1ff),{'action':'delete','tagId':_0x590c28}),_0x1e9d88['status'](0xc8)[_0x261088(0x1f5)]({'message':_0x261088(0x1ea)});};function a38_0x2704(_0x2a89a2,_0x20a986){const _0x5a706f=a38_0xf534();return a38_0x2704=function(_0x410e02,_0x22b43f){_0x410e02=_0x410e02-0x1cf;let _0xf53446=_0x5a706f[_0x410e02];return _0xf53446;},a38_0x2704(_0x2a89a2,_0x20a986);}exports['remove']=remove;const removeAll=async(_0x4808b6,_0x1a5adb)=>{const _0x4eda1c=a38_0x2161dd,{companyId:_0x60983d}=_0x4808b6[_0x4eda1c(0x1ef)];try{return await(0x0,DeleteAllTagService_1[_0x4eda1c(0x1fb)])(_0x60983d),_0x1a5adb[_0x4eda1c(0x1d0)](0xc8)['send']({'message':'All\x20tags\x20deleted\x20successfully'});}catch(_0x5906ea){return console[_0x4eda1c(0x1d9)](_0x5906ea),_0x1a5adb[_0x4eda1c(0x1d0)](0x1f4)[_0x4eda1c(0x200)]({'message':_0x4eda1c(0x1dc)});}};exports[a38_0x2161dd(0x1d2)]=removeAll;const list=async(_0x320b08,_0x19e67e)=>{const _0x31b93c=a38_0x2161dd,{searchParam:_0x30877e}=_0x320b08[_0x31b93c(0x1f8)],{companyId:_0x2a149d}=_0x320b08['user'],_0x117a47=await(0x0,SimpleListService_1['default'])({'searchParam':_0x30877e,'companyId':_0x2a149d});return _0x19e67e[_0x31b93c(0x1f5)](_0x117a47);};exports[a38_0x2161dd(0x1f0)]=list;const syncTags=async(_0x12afd9,_0x118bf0)=>{const _0x220663=a38_0x2161dd,_0x465372=_0x12afd9[_0x220663(0x1e6)],{companyId:_0x20d521}=_0x12afd9[_0x220663(0x1ef)],_0x3c790c=await(0x0,SyncTagsService_1[_0x220663(0x1fb)])({..._0x465372,'companyId':_0x20d521});return _0x118bf0[_0x220663(0x1f5)](_0x3c790c);};exports[a38_0x2161dd(0x1e7)]=syncTags;