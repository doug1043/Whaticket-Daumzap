const a36_0x170c87=a36_0x313f;(function(_0x2c1ea3,_0x2c26f8){const _0x4560b3=a36_0x313f,_0x19ac7a=_0x2c1ea3();while(!![]){try{const _0x1db36a=parseInt(_0x4560b3(0xb2))/0x1+parseInt(_0x4560b3(0xcf))/0x2*(-parseInt(_0x4560b3(0xc1))/0x3)+parseInt(_0x4560b3(0xbd))/0x4+-parseInt(_0x4560b3(0xc8))/0x5+parseInt(_0x4560b3(0xc2))/0x6+-parseInt(_0x4560b3(0xce))/0x7*(parseInt(_0x4560b3(0xc7))/0x8)+parseInt(_0x4560b3(0xb6))/0x9;if(_0x1db36a===_0x2c26f8)break;else _0x19ac7a['push'](_0x19ac7a['shift']());}catch(_0x5c5e37){_0x19ac7a['push'](_0x19ac7a['shift']());}}}(a36_0x3469,0x39304));const a36_0x4a2c1d=(function(){let _0x10e5c0=!![];return function(_0x515d29,_0x155693){const _0x2bd19c=_0x10e5c0?function(){const _0x1ee536=a36_0x313f;if(_0x155693){const _0x3841f1=_0x155693[_0x1ee536(0xd7)](_0x515d29,arguments);return _0x155693=null,_0x3841f1;}}:function(){};return _0x10e5c0=![],_0x2bd19c;};}()),a36_0x20357b=a36_0x4a2c1d(this,function(){const _0x58b2d2=a36_0x313f;return a36_0x20357b[_0x58b2d2(0xb3)]()['search']('(((.+)+)+)+$')['toString']()[_0x58b2d2(0xaf)](a36_0x20357b)['search']('(((.+)+)+)+$');});function a36_0x3469(){const _0x22d7f6=['../libs/socket','../services/TagServices/CreateService','__esModule','syncTags','apply','../services/TagServices/KanbanListService','defineProperty','params','../services/TagServices/ShowService','delete','query','constructor','__importDefault','supervisor','340327FEDpbu','toString','update','list','54936Hjkgrr','../errors/AppError','index','tag','emit','../services/TagServices/ListService','profile','901072LLTlNG','status','user','log','55137EqVLNg','2361432pKwIGE','default','../services/TagServices/UpdateService','body','../services/TagServices/SimpleListService','72dVlAnT','1094495jiLZBK','Tag\x20deleted','../services/TagServices/DeleteService','admin','json','remove','126721lKWFJM','38LyhqwT','getIO','store','show'];a36_0x3469=function(){return _0x22d7f6;};return a36_0x3469();}a36_0x20357b();'use strict';function a36_0x313f(_0x44821b,_0x29dced){const _0x117dad=a36_0x3469();return a36_0x313f=function(_0x20357b,_0x4a2c1d){_0x20357b=_0x20357b-0xae;let _0x34698d=_0x117dad[_0x20357b];return _0x34698d;},a36_0x313f(_0x44821b,_0x29dced);}var __importDefault=this&&this[a36_0x170c87(0xb0)]||function(_0x4ce35d){const _0x52e586=a36_0x170c87;return _0x4ce35d&&_0x4ce35d[_0x52e586(0xd5)]?_0x4ce35d:{'default':_0x4ce35d};};Object[a36_0x170c87(0xd9)](exports,a36_0x170c87(0xd5),{'value':!![]}),exports[a36_0x170c87(0xd6)]=exports['kanban']=exports[a36_0x170c87(0xb5)]=exports[a36_0x170c87(0xcd)]=exports['update']=exports[a36_0x170c87(0xd2)]=exports[a36_0x170c87(0xd1)]=exports['index']=void 0x0;const socket_1=require(a36_0x170c87(0xd3)),AppError_1=__importDefault(require(a36_0x170c87(0xb7))),CreateService_1=__importDefault(require(a36_0x170c87(0xd4))),ListService_1=__importDefault(require(a36_0x170c87(0xbb))),KanbanListService_1=__importDefault(require(a36_0x170c87(0xd8))),UpdateService_1=__importDefault(require(a36_0x170c87(0xc4))),ShowService_1=__importDefault(require(a36_0x170c87(0xdb))),DeleteService_1=__importDefault(require(a36_0x170c87(0xca))),SimpleListService_1=__importDefault(require(a36_0x170c87(0xc6))),SyncTagsService_1=__importDefault(require('../services/TagServices/SyncTagsService')),index=async(_0x5bfb96,_0x2a366d)=>{const _0x39ffa3=a36_0x170c87,{pageNumber:_0xd6bed7,searchParam:_0x361016,kanban:_0x19c820}=_0x5bfb96[_0x39ffa3(0xae)],{companyId:_0x413032}=_0x5bfb96[_0x39ffa3(0xbf)];console[_0x39ffa3(0xc0)](_0x361016);const {tags:_0x55ca0a,count:_0x3d3bc4,hasMore:_0x5b4b48}=await(0x0,ListService_1[_0x39ffa3(0xc3)])({'searchParam':_0x361016,'pageNumber':_0xd6bed7,'companyId':_0x413032,'kanban':_0x19c820});return _0x2a366d[_0x39ffa3(0xcc)]({'tags':_0x55ca0a,'count':_0x3d3bc4,'hasMore':_0x5b4b48});};exports[a36_0x170c87(0xb8)]=index;const store=async(_0x489a70,_0x37bcd4)=>{const _0x3dc32a=a36_0x170c87,{name:_0x5cd247,color:_0xc75b2,kanban:_0x19c371}=_0x489a70[_0x3dc32a(0xc5)],{companyId:_0xc52923}=_0x489a70['user'],_0x4c1ea2=await(0x0,CreateService_1[_0x3dc32a(0xc3)])({'name':_0x5cd247,'color':_0xc75b2,'kanban':_0x19c371||null,'companyId':_0xc52923}),_0x30e74f=(0x0,socket_1['getIO'])();return _0x30e74f[_0x3dc32a(0xba)]('tag',{'action':'create','tag':_0x4c1ea2}),_0x37bcd4[_0x3dc32a(0xbe)](0xc8)[_0x3dc32a(0xcc)](_0x4c1ea2);};exports[a36_0x170c87(0xd1)]=store;const show=async(_0x13427b,_0x55d472)=>{const _0x202683=a36_0x170c87,{tagId:_0x2582ba}=_0x13427b[_0x202683(0xda)],_0x5034a6=await(0x0,ShowService_1['default'])(_0x2582ba);return _0x55d472[_0x202683(0xbe)](0xc8)[_0x202683(0xcc)](_0x5034a6);};exports[a36_0x170c87(0xd2)]=show;const update=async(_0x88281b,_0xa7dbdf)=>{const _0x21f480=a36_0x170c87;if(_0x88281b['user']['profile']!==_0x21f480(0xcb)&&_0x88281b[_0x21f480(0xbf)][_0x21f480(0xbc)]!==_0x21f480(0xb1))throw new AppError_1[(_0x21f480(0xc3))]('ERR_NO_PERMISSION',0x193);const {tagId:_0x58a773}=_0x88281b[_0x21f480(0xda)],_0x166848=_0x88281b[_0x21f480(0xc5)],_0x839f7b=await(0x0,UpdateService_1['default'])({'tagData':_0x166848,'id':_0x58a773}),_0x182e18=(0x0,socket_1['getIO'])();return _0x182e18['emit'](_0x21f480(0xb9),{'action':_0x21f480(0xb4),'tag':_0x839f7b}),_0xa7dbdf[_0x21f480(0xbe)](0xc8)[_0x21f480(0xcc)](_0x839f7b);};exports['update']=update;const remove=async(_0x586d3e,_0x49d2fe)=>{const _0x230b39=a36_0x170c87,{tagId:_0x5ad80b}=_0x586d3e['params'];await(0x0,DeleteService_1[_0x230b39(0xc3)])(_0x5ad80b);const _0x3d66b0=(0x0,socket_1[_0x230b39(0xd0)])();return _0x3d66b0[_0x230b39(0xba)](_0x230b39(0xb9),{'action':_0x230b39(0xdc),'tagId':_0x5ad80b}),_0x49d2fe['status'](0xc8)[_0x230b39(0xcc)]({'message':_0x230b39(0xc9)});};exports[a36_0x170c87(0xcd)]=remove;const list=async(_0x2c2849,_0x1769e4)=>{const _0x465e82=a36_0x170c87,{searchParam:_0x127a6b}=_0x2c2849[_0x465e82(0xae)],{companyId:_0x2040f3}=_0x2c2849[_0x465e82(0xbf)],_0xf754ae=await(0x0,SimpleListService_1[_0x465e82(0xc3)])({'searchParam':_0x127a6b,'companyId':_0x2040f3});return _0x1769e4[_0x465e82(0xcc)](_0xf754ae);};exports[a36_0x170c87(0xb5)]=list;const kanban=async(_0x18d231,_0x15b02a)=>{const _0x113d28=a36_0x170c87,{companyId:_0x25f271}=_0x18d231[_0x113d28(0xbf)],_0x24426d=await(0x0,KanbanListService_1['default'])({'companyId':_0x25f271});return _0x15b02a['json']({'lista':_0x24426d});};exports['kanban']=kanban;const syncTags=async(_0x3bc0a1,_0x44e5cf)=>{const _0x40c4a5=a36_0x170c87,_0x494c60=_0x3bc0a1[_0x40c4a5(0xc5)],{companyId:_0x12f829}=_0x3bc0a1[_0x40c4a5(0xbf)],_0x1e37a5=await(0x0,SyncTagsService_1[_0x40c4a5(0xc3)])({..._0x494c60,'companyId':_0x12f829});return _0x44e5cf[_0x40c4a5(0xcc)](_0x1e37a5);};exports[a36_0x170c87(0xd6)]=syncTags;