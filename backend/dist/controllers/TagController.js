const a38_0x5d2521=a38_0x5a5d;function a38_0x176a(){const _0x4282f7=['send','kanban','status','params','json','removeAll','1660836QKEXDR','Error\x20deleting\x20all\x20tags','../errors/AppError','../services/TagServices/DeleteAllTagService','192591QPBhqr','profile','../services/TagServices/UpdateService','emit','update','apply','../services/TagServices/KanbanListService','default','747314vdoGQZ','All\x20tags\x20deleted\x20successfully','delete','store','body','1013937AKODNu','2381582WDZuYZ','search','user','toString','../services/TagServices/ShowService','getIO','../services/TagServices/CreateService','../services/TagServices/ListService','../services/TagServices/SyncTagsService','query','show','../libs/socket','defineProperty','2172480ObZlsG','error','(((.+)+)+)+$','1476325wJIHdv','Tag\x20deleted','constructor','1lhwYXj','8TTRXpz','tag','index','list','4RIxNPt'];a38_0x176a=function(){return _0x4282f7;};return a38_0x176a();}(function(_0x4b103f,_0x15ee4d){const _0x2aa1eb=a38_0x5a5d,_0x2b7895=_0x4b103f();while(!![]){try{const _0x11c66e=parseInt(_0x2aa1eb(0xc5))/0x1*(parseInt(_0x2aa1eb(0xdd))/0x2)+parseInt(_0x2aa1eb(0xe2))/0x3+-parseInt(_0x2aa1eb(0xca))/0x4*(-parseInt(_0x2aa1eb(0xc2))/0x5)+-parseInt(_0x2aa1eb(0xd1))/0x6+parseInt(_0x2aa1eb(0xe3))/0x7*(-parseInt(_0x2aa1eb(0xc6))/0x8)+parseInt(_0x2aa1eb(0xd5))/0x9+-parseInt(_0x2aa1eb(0xbf))/0xa;if(_0x11c66e===_0x15ee4d)break;else _0x2b7895['push'](_0x2b7895['shift']());}catch(_0x5f20b0){_0x2b7895['push'](_0x2b7895['shift']());}}}(a38_0x176a,0x2f5e4));const a38_0x382f25=(function(){let _0x20f811=!![];return function(_0x247da7,_0x28a8d6){const _0x4b44ec=_0x20f811?function(){const _0x3d8bdd=a38_0x5a5d;if(_0x28a8d6){const _0x48e43c=_0x28a8d6[_0x3d8bdd(0xda)](_0x247da7,arguments);return _0x28a8d6=null,_0x48e43c;}}:function(){};return _0x20f811=![],_0x4b44ec;};}()),a38_0x45d3db=a38_0x382f25(this,function(){const _0x2dec8a=a38_0x5a5d;return a38_0x45d3db[_0x2dec8a(0xe6)]()[_0x2dec8a(0xe4)](_0x2dec8a(0xc1))[_0x2dec8a(0xe6)]()[_0x2dec8a(0xc4)](a38_0x45d3db)[_0x2dec8a(0xe4)]('(((.+)+)+)+$');});a38_0x45d3db();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4840ee){return _0x4840ee&&_0x4840ee['__esModule']?_0x4840ee:{'default':_0x4840ee};};Object[a38_0x5d2521(0xbe)](exports,'__esModule',{'value':!![]}),exports['syncTags']=exports[a38_0x5d2521(0xc9)]=exports['removeAll']=exports['remove']=exports[a38_0x5d2521(0xd9)]=exports[a38_0x5d2521(0xed)]=exports[a38_0x5d2521(0xcc)]=exports[a38_0x5d2521(0xe0)]=exports[a38_0x5d2521(0xc8)]=void 0x0;const socket_1=require(a38_0x5d2521(0xbd)),AppError_1=__importDefault(require(a38_0x5d2521(0xd3))),CreateService_1=__importDefault(require(a38_0x5d2521(0xe9))),ListService_1=__importDefault(require(a38_0x5d2521(0xea))),UpdateService_1=__importDefault(require(a38_0x5d2521(0xd7))),ShowService_1=__importDefault(require(a38_0x5d2521(0xe7))),DeleteService_1=__importDefault(require('../services/TagServices/DeleteService')),DeleteAllTagService_1=__importDefault(require(a38_0x5d2521(0xd4))),SimpleListService_1=__importDefault(require('../services/TagServices/SimpleListService')),SyncTagsService_1=__importDefault(require(a38_0x5d2521(0xeb))),KanbanListService_1=__importDefault(require(a38_0x5d2521(0xdb))),index=async(_0x38a694,_0x199c05)=>{const _0x2417de=a38_0x5d2521,{pageNumber:_0x33efb8,searchParam:_0x3b2e05}=_0x38a694[_0x2417de(0xec)],{companyId:_0x461122}=_0x38a694[_0x2417de(0xe5)],{tags:_0x4a0888,count:_0x43c825,hasMore:_0x4667e6}=await(0x0,ListService_1[_0x2417de(0xdc)])({'searchParam':_0x3b2e05,'pageNumber':_0x33efb8,'companyId':_0x461122});return _0x199c05[_0x2417de(0xcf)]({'tags':_0x4a0888,'count':_0x43c825,'hasMore':_0x4667e6});};exports[a38_0x5d2521(0xc8)]=index;function a38_0x5a5d(_0x57b206,_0xe08984){const _0x424e85=a38_0x176a();return a38_0x5a5d=function(_0x45d3db,_0x382f25){_0x45d3db=_0x45d3db-0xbd;let _0x176a66=_0x424e85[_0x45d3db];return _0x176a66;},a38_0x5a5d(_0x57b206,_0xe08984);}const store=async(_0xe4ba82,_0xf83b22)=>{const _0x5b4b39=a38_0x5d2521,{name:_0x50ab1e,color:_0xcd5616,kanban:_0x166540}=_0xe4ba82[_0x5b4b39(0xe1)],{companyId:_0x586fdd}=_0xe4ba82[_0x5b4b39(0xe5)],_0x45fa4f=await(0x0,CreateService_1[_0x5b4b39(0xdc)])({'name':_0x50ab1e,'color':_0xcd5616,'kanban':_0x166540||null,'companyId':_0x586fdd}),_0xbb96db=(0x0,socket_1[_0x5b4b39(0xe8)])();return _0xbb96db['to']('company-'+_0x586fdd+'-mainchannel')[_0x5b4b39(0xd8)](_0x5b4b39(0xc7),{'action':'create','tag':_0x45fa4f}),_0xf83b22[_0x5b4b39(0xcd)](0xc8)[_0x5b4b39(0xcf)](_0x45fa4f);};exports[a38_0x5d2521(0xe0)]=store;const kanban=async(_0xe6e59a,_0x296543)=>{const _0x41ccb5=a38_0x5d2521,{companyId:_0x3335da}=_0xe6e59a[_0x41ccb5(0xe5)],_0x4badaf=await(0x0,KanbanListService_1[_0x41ccb5(0xdc)])({'companyId':_0x3335da});return _0x296543[_0x41ccb5(0xcf)]({'lista':_0x4badaf});};exports['kanban']=kanban;const show=async(_0x35ca7e,_0x114126)=>{const _0x322e7d=a38_0x5d2521,{tagId:_0x58928e}=_0x35ca7e['params'],_0xb1b6a0=await(0x0,ShowService_1[_0x322e7d(0xdc)])(_0x58928e);return _0x114126['status'](0xc8)[_0x322e7d(0xcf)](_0xb1b6a0);};exports[a38_0x5d2521(0xed)]=show;const update=async(_0x28c864,_0x1257ba)=>{const _0x34b695=a38_0x5d2521;if(_0x28c864[_0x34b695(0xe5)][_0x34b695(0xd6)]!=='admin')throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);const {tagId:_0x8cafa5}=_0x28c864[_0x34b695(0xce)],_0x59907a=_0x28c864[_0x34b695(0xe1)],_0x8b4e67=await(0x0,UpdateService_1[_0x34b695(0xdc)])({'tagData':_0x59907a,'id':_0x8cafa5}),_0x525763=(0x0,socket_1['getIO'])();return _0x525763['emit'](_0x34b695(0xc7),{'action':_0x34b695(0xd9),'tag':_0x8b4e67}),_0x1257ba['status'](0xc8)[_0x34b695(0xcf)](_0x8b4e67);};exports[a38_0x5d2521(0xd9)]=update;const remove=async(_0x5c14af,_0x23f044)=>{const _0x5dc816=a38_0x5d2521,{tagId:_0x2b7ecd}=_0x5c14af[_0x5dc816(0xce)];await(0x0,DeleteService_1[_0x5dc816(0xdc)])(_0x2b7ecd);const _0x2e7eec=(0x0,socket_1['getIO'])();return _0x2e7eec['emit'](_0x5dc816(0xc7),{'action':_0x5dc816(0xdf),'tagId':_0x2b7ecd}),_0x23f044[_0x5dc816(0xcd)](0xc8)['json']({'message':_0x5dc816(0xc3)});};exports['remove']=remove;const removeAll=async(_0x389781,_0x12b481)=>{const _0xa7daac=a38_0x5d2521,{companyId:_0x54fcc6}=_0x389781[_0xa7daac(0xe5)];try{return await(0x0,DeleteAllTagService_1[_0xa7daac(0xdc)])(_0x54fcc6),_0x12b481[_0xa7daac(0xcd)](0xc8)['send']({'message':_0xa7daac(0xde)});}catch(_0x25e3f3){return console[_0xa7daac(0xc0)](_0x25e3f3),_0x12b481[_0xa7daac(0xcd)](0x1f4)[_0xa7daac(0xcb)]({'message':_0xa7daac(0xd2)});}};exports[a38_0x5d2521(0xd0)]=removeAll;const list=async(_0x5c3a9e,_0x125440)=>{const _0x3fea3c=a38_0x5d2521,{searchParam:_0x35f6ec}=_0x5c3a9e[_0x3fea3c(0xec)],{companyId:_0x4f7fc0}=_0x5c3a9e[_0x3fea3c(0xe5)],_0x4eaed7=await(0x0,SimpleListService_1[_0x3fea3c(0xdc)])({'searchParam':_0x35f6ec,'companyId':_0x4f7fc0});return _0x125440[_0x3fea3c(0xcf)](_0x4eaed7);};exports[a38_0x5d2521(0xc9)]=list;const syncTags=async(_0x3b5dbd,_0x39e13d)=>{const _0x10ce84=a38_0x5d2521,_0x1b41b4=_0x3b5dbd[_0x10ce84(0xe1)],{companyId:_0x4a1ef1}=_0x3b5dbd[_0x10ce84(0xe5)],_0x168679=await(0x0,SyncTagsService_1[_0x10ce84(0xdc)])({..._0x1b41b4,'companyId':_0x4a1ef1});return _0x39e13d['json'](_0x168679);};exports['syncTags']=syncTags;