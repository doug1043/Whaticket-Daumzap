const a38_0x25fd0d=a38_0xaf31;(function(_0x313b92,_0x1bee5c){const _0x25a78e=a38_0xaf31,_0x5c2e2a=_0x313b92();while(!![]){try{const _0x2c0b0e=parseInt(_0x25a78e(0xbf))/0x1*(-parseInt(_0x25a78e(0xe8))/0x2)+-parseInt(_0x25a78e(0xcc))/0x3*(parseInt(_0x25a78e(0xb9))/0x4)+-parseInt(_0x25a78e(0xd2))/0x5+parseInt(_0x25a78e(0xe9))/0x6+parseInt(_0x25a78e(0xc2))/0x7+-parseInt(_0x25a78e(0xbd))/0x8+parseInt(_0x25a78e(0xc8))/0x9;if(_0x2c0b0e===_0x1bee5c)break;else _0x5c2e2a['push'](_0x5c2e2a['shift']());}catch(_0x358a1b){_0x5c2e2a['push'](_0x5c2e2a['shift']());}}}(a38_0x2885,0xa6357));const a38_0x19ae25=(function(){let _0x130bb=!![];return function(_0x511364,_0x5de889){const _0x2c86d9=_0x130bb?function(){const _0x51cc36=a38_0xaf31;if(_0x5de889){const _0x29b53d=_0x5de889[_0x51cc36(0xdb)](_0x511364,arguments);return _0x5de889=null,_0x29b53d;}}:function(){};return _0x130bb=![],_0x2c86d9;};}()),a38_0x3d73fb=a38_0x19ae25(this,function(){const _0x448721=a38_0xaf31;return a38_0x3d73fb[_0x448721(0xd7)]()[_0x448721(0xbe)]('(((.+)+)+)+$')[_0x448721(0xd7)]()[_0x448721(0xc1)](a38_0x3d73fb)['search'](_0x448721(0xb7));});a38_0x3d73fb();'use strict';var __importDefault=this&&this[a38_0x25fd0d(0xcb)]||function(_0x3699e3){const _0x18dac2=a38_0x25fd0d;return _0x3699e3&&_0x3699e3[_0x18dac2(0xbb)]?_0x3699e3:{'default':_0x3699e3};};function a38_0xaf31(_0x195082,_0x20b75e){const _0x3c55db=a38_0x2885();return a38_0xaf31=function(_0x3d73fb,_0x19ae25){_0x3d73fb=_0x3d73fb-0xb6;let _0x2885f2=_0x3c55db[_0x3d73fb];return _0x2885f2;},a38_0xaf31(_0x195082,_0x20b75e);}Object[a38_0x25fd0d(0xb6)](exports,a38_0x25fd0d(0xbb),{'value':!![]}),exports['syncTags']=exports[a38_0x25fd0d(0xe2)]=exports[a38_0x25fd0d(0xcf)]=exports[a38_0x25fd0d(0xb8)]=exports[a38_0x25fd0d(0xba)]=exports[a38_0x25fd0d(0xdf)]=exports[a38_0x25fd0d(0xe4)]=exports['store']=exports[a38_0x25fd0d(0xca)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(a38_0x25fd0d(0xbc))),CreateService_1=__importDefault(require(a38_0x25fd0d(0xc4))),ListService_1=__importDefault(require(a38_0x25fd0d(0xe3))),UpdateService_1=__importDefault(require('../services/TagServices/UpdateService')),ShowService_1=__importDefault(require(a38_0x25fd0d(0xc7))),DeleteService_1=__importDefault(require(a38_0x25fd0d(0xe5))),DeleteAllTagService_1=__importDefault(require(a38_0x25fd0d(0xd6))),SimpleListService_1=__importDefault(require(a38_0x25fd0d(0xc3))),SyncTagsService_1=__importDefault(require(a38_0x25fd0d(0xce))),KanbanListService_1=__importDefault(require(a38_0x25fd0d(0xe0))),index=async(_0x58dacd,_0x334cc2)=>{const _0x19ff58=a38_0x25fd0d,{pageNumber:_0x40ae2f,searchParam:_0x126c19}=_0x58dacd['query'],{companyId:_0x3b7582}=_0x58dacd[_0x19ff58(0xdc)],{tags:_0x33433b,count:_0x3edb54,hasMore:_0x4a5cda}=await(0x0,ListService_1[_0x19ff58(0xc6)])({'searchParam':_0x126c19,'pageNumber':_0x40ae2f,'companyId':_0x3b7582});return _0x334cc2[_0x19ff58(0xe7)]({'tags':_0x33433b,'count':_0x3edb54,'hasMore':_0x4a5cda});};exports[a38_0x25fd0d(0xca)]=index;const store=async(_0x27ca02,_0x1cf7c4)=>{const _0x48c3f6=a38_0x25fd0d,{name:_0x16a9d2,color:_0x377ff8,kanban:_0x525235}=_0x27ca02['body'],{companyId:_0x5e1d11}=_0x27ca02[_0x48c3f6(0xdc)],_0x161fbe=await(0x0,CreateService_1[_0x48c3f6(0xc6)])({'name':_0x16a9d2,'color':_0x377ff8,'kanban':_0x525235||null,'companyId':_0x5e1d11}),_0x26e4f8=(0x0,socket_1[_0x48c3f6(0xc0)])();return _0x26e4f8['to'](_0x48c3f6(0xc9)+_0x5e1d11+_0x48c3f6(0xd0))[_0x48c3f6(0xd5)]('tag',{'action':'create','tag':_0x161fbe}),_0x1cf7c4['status'](0xc8)[_0x48c3f6(0xe7)](_0x161fbe);};exports[a38_0x25fd0d(0xda)]=store;const kanban=async(_0xcfe19b,_0xa4978f)=>{const _0x763729=a38_0x25fd0d,{companyId:_0x5b81eb}=_0xcfe19b[_0x763729(0xdc)],_0xbae1c1=await(0x0,KanbanListService_1['default'])({'companyId':_0x5b81eb});return _0xa4978f['json']({'lista':_0xbae1c1});};exports[a38_0x25fd0d(0xe4)]=kanban;const show=async(_0x2be0af,_0xa3b055)=>{const _0x1c9a4d=a38_0x25fd0d,{tagId:_0x164ece}=_0x2be0af['params'],_0x4cf091=await(0x0,ShowService_1[_0x1c9a4d(0xc6)])(_0x164ece);return _0xa3b055[_0x1c9a4d(0xe1)](0xc8)[_0x1c9a4d(0xe7)](_0x4cf091);};exports[a38_0x25fd0d(0xdf)]=show;const update=async(_0x2d992b,_0x123f66)=>{const _0x38ec14=a38_0x25fd0d;if(_0x2d992b[_0x38ec14(0xdc)]['profile']!==_0x38ec14(0xe6))throw new AppError_1[(_0x38ec14(0xc6))](_0x38ec14(0xd8),0x193);const {tagId:_0x42d789}=_0x2d992b[_0x38ec14(0xd4)],_0x121d8f=_0x2d992b[_0x38ec14(0xcd)],_0xffab40=await(0x0,UpdateService_1['default'])({'tagData':_0x121d8f,'id':_0x42d789}),_0x3e2d65=(0x0,socket_1[_0x38ec14(0xc0)])();return _0x3e2d65[_0x38ec14(0xd5)]('tag',{'action':'update','tag':_0xffab40}),_0x123f66[_0x38ec14(0xe1)](0xc8)['json'](_0xffab40);};exports[a38_0x25fd0d(0xba)]=update;function a38_0x2885(){const _0x2111d5=['31460DTvYxU','update','__esModule','../errors/AppError','9317360TIyrVv','search','55sOtZMD','getIO','constructor','1090411kguyos','../services/TagServices/SimpleListService','../services/TagServices/CreateService','tag','default','../services/TagServices/ShowService','20236617LPuDxV','company-','index','__importDefault','69JWcvwo','body','../services/TagServices/SyncTagsService','removeAll','-mainchannel','send','2753705yJyPPX','query','params','emit','../services/TagServices/DeleteAllTagService','toString','ERR_NO_PERMISSION','Tag\x20deleted','store','apply','user','Error\x20deleting\x20all\x20tags','delete','show','../services/TagServices/KanbanListService','status','list','../services/TagServices/ListService','kanban','../services/TagServices/DeleteService','admin','json','15338UQvtqV','3567636dzDVKm','defineProperty','(((.+)+)+)+$','remove'];a38_0x2885=function(){return _0x2111d5;};return a38_0x2885();}const remove=async(_0x42f426,_0x425f14)=>{const _0x1da6fa=a38_0x25fd0d,{tagId:_0x158fdc}=_0x42f426[_0x1da6fa(0xd4)];await(0x0,DeleteService_1[_0x1da6fa(0xc6)])(_0x158fdc);const _0x29aaa6=(0x0,socket_1[_0x1da6fa(0xc0)])();return _0x29aaa6[_0x1da6fa(0xd5)](_0x1da6fa(0xc5),{'action':_0x1da6fa(0xde),'tagId':_0x158fdc}),_0x425f14[_0x1da6fa(0xe1)](0xc8)[_0x1da6fa(0xe7)]({'message':_0x1da6fa(0xd9)});};exports[a38_0x25fd0d(0xb8)]=remove;const removeAll=async(_0x1925d3,_0x270b5f)=>{const _0x1bccec=a38_0x25fd0d,{companyId:_0x3358dc}=_0x1925d3['user'];try{return await(0x0,DeleteAllTagService_1[_0x1bccec(0xc6)])(_0x3358dc),_0x270b5f[_0x1bccec(0xe1)](0xc8)['send']({'message':'All\x20tags\x20deleted\x20successfully'});}catch(_0x562c1e){return console['error'](_0x562c1e),_0x270b5f[_0x1bccec(0xe1)](0x1f4)[_0x1bccec(0xd1)]({'message':_0x1bccec(0xdd)});}};exports[a38_0x25fd0d(0xcf)]=removeAll;const list=async(_0x461c39,_0x3c404b)=>{const _0x5b5436=a38_0x25fd0d,{searchParam:_0x42314f}=_0x461c39[_0x5b5436(0xd3)],{companyId:_0x108c24}=_0x461c39['user'],_0x5b93ce=await(0x0,SimpleListService_1[_0x5b5436(0xc6)])({'searchParam':_0x42314f,'companyId':_0x108c24});return _0x3c404b[_0x5b5436(0xe7)](_0x5b93ce);};exports[a38_0x25fd0d(0xe2)]=list;const syncTags=async(_0x3fccd5,_0x1a0909)=>{const _0x41e10b=a38_0x25fd0d,_0xeaef7b=_0x3fccd5['body'],{companyId:_0x895c7}=_0x3fccd5[_0x41e10b(0xdc)],_0x41c202=await(0x0,SyncTagsService_1[_0x41e10b(0xc6)])({..._0xeaef7b,'companyId':_0x895c7});return _0x1a0909[_0x41e10b(0xe7)](_0x41c202);};exports['syncTags']=syncTags;