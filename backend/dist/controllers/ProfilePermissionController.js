const a33_0x4b9dd7=a33_0x29a0;(function(_0x57b40d,_0x24b0d9){const _0x55cd7e=a33_0x29a0,_0x555b4f=_0x57b40d();while(!![]){try{const _0x665f2e=parseInt(_0x55cd7e(0xf6))/0x1+-parseInt(_0x55cd7e(0x10d))/0x2+-parseInt(_0x55cd7e(0xfc))/0x3*(-parseInt(_0x55cd7e(0x118))/0x4)+-parseInt(_0x55cd7e(0x10a))/0x5+-parseInt(_0x55cd7e(0xf5))/0x6+parseInt(_0x55cd7e(0xf9))/0x7+-parseInt(_0x55cd7e(0xff))/0x8;if(_0x665f2e===_0x24b0d9)break;else _0x555b4f['push'](_0x555b4f['shift']());}catch(_0x5eaff2){_0x555b4f['push'](_0x555b4f['shift']());}}}(a33_0x2bab,0xafeb6));const a33_0x4e8a0b=(function(){let _0x2d9ad5=!![];return function(_0x166ab9,_0x5b0e6d){const _0x46de97=_0x2d9ad5?function(){const _0x2536e4=a33_0x29a0;if(_0x5b0e6d){const _0x4849de=_0x5b0e6d[_0x2536e4(0xfd)](_0x166ab9,arguments);return _0x5b0e6d=null,_0x4849de;}}:function(){};return _0x2d9ad5=![],_0x46de97;};}()),a33_0x4ecbcc=a33_0x4e8a0b(this,function(){const _0x24fd2b=a33_0x29a0;return a33_0x4ecbcc['toString']()[_0x24fd2b(0x10e)](_0x24fd2b(0xf8))['toString']()[_0x24fd2b(0x110)](a33_0x4ecbcc)['search']('(((.+)+)+)+$');});a33_0x4ecbcc();'use strict';var __importDefault=this&&this[a33_0x4b9dd7(0xf4)]||function(_0x440fd4){const _0x1dcc79=a33_0x4b9dd7;return _0x440fd4&&_0x440fd4[_0x1dcc79(0x108)]?_0x440fd4:{'default':_0x440fd4};};Object[a33_0x4b9dd7(0x111)](exports,a33_0x4b9dd7(0x108),{'value':!![]}),exports[a33_0x4b9dd7(0x11c)]=exports['update']=exports[a33_0x4b9dd7(0x10c)]=exports[a33_0x4b9dd7(0x120)]=exports[a33_0x4b9dd7(0x121)]=void 0x0;const socket_1=require('../libs/socket'),ListService_1=__importDefault(require(a33_0x4b9dd7(0xfa))),CreateService_1=__importDefault(require(a33_0x4b9dd7(0x122))),ShowService_1=__importDefault(require(a33_0x4b9dd7(0x101))),UpdateService_1=__importDefault(require(a33_0x4b9dd7(0x117))),DeleteService_1=__importDefault(require('../services/ProfilePermissionService/DeleteService')),index=async(_0x283ff4,_0x1eea50)=>{const _0x366e46=a33_0x4b9dd7,{companyId:_0x345762}=_0x283ff4['user'],_0x19a39b=await(0x0,ListService_1[_0x366e46(0x11a)])({'companyId':_0x345762});return _0x1eea50[_0x366e46(0x116)](_0x19a39b);};exports[a33_0x4b9dd7(0x121)]=index;const store=async(_0x3c2762,_0x2902d6)=>{const _0x3ad5a0=a33_0x4b9dd7,{companyId:_0x34e195}=_0x3c2762['user'],_0x47e892=_0x3c2762[_0x3ad5a0(0x11b)];console[_0x3ad5a0(0x11d)]('[ProfilePermissionController.store]\x20Dados\x20recebidos:',{'companyId':_0x34e195,'body':_0x47e892});const _0x484abc=await(0x0,CreateService_1['default'])({..._0x47e892,'companyId':_0x34e195});console[_0x3ad5a0(0x11d)](_0x3ad5a0(0x11e),{'id':_0x484abc['id'],'profile':_0x484abc[_0x3ad5a0(0xf7)],'companyId':_0x484abc[_0x3ad5a0(0x114)],'canEditContacts':_0x484abc[_0x3ad5a0(0x103)],'canSpyConversations':_0x484abc[_0x3ad5a0(0x109)],'canViewTicketsWithoutQueue':_0x484abc[_0x3ad5a0(0x107)],'canToggleSignature':_0x484abc[_0x3ad5a0(0xf3)],'allowedRoutes':_0x484abc[_0x3ad5a0(0x123)]});const _0x2d16ea=(0x0,socket_1[_0x3ad5a0(0x113)])();return _0x2d16ea[_0x3ad5a0(0x102)](_0x3ad5a0(0x11f)+_0x34e195+_0x3ad5a0(0x119),{'action':_0x3ad5a0(0xfe),'permission':_0x484abc}),_0x2d16ea[_0x3ad5a0(0x102)](_0x3ad5a0(0x11f)+_0x34e195+_0x3ad5a0(0x106)+_0x484abc[_0x3ad5a0(0xf7)]+_0x3ad5a0(0x124),{'profile':_0x484abc[_0x3ad5a0(0xf7)],'permissions':{'canEditContacts':_0x484abc[_0x3ad5a0(0x103)],'canSpyConversations':_0x484abc['canSpyConversations'],'canViewTicketsWithoutQueue':_0x484abc['canViewTicketsWithoutQueue'],'canToggleSignature':_0x484abc[_0x3ad5a0(0xf3)]??!![],'allowedRoutes':JSON[_0x3ad5a0(0x115)](_0x484abc[_0x3ad5a0(0x123)]||'[]')}}),_0x2902d6[_0x3ad5a0(0x10f)](0xc8)[_0x3ad5a0(0x116)](_0x484abc);};exports[a33_0x4b9dd7(0x120)]=store;function a33_0x2bab(){const _0x2c52be=['-profilePermission','default','body','remove','log','[ProfilePermissionController.store]\x20Permissão\x20criada:','company','store','index','../services/ProfilePermissionService/CreateService','allowedRoutes','-permissions-updated','canToggleSignature','__importDefault','1866312YKMJUf','1321217pOTqym','profile','(((.+)+)+)+$','2348500rgnejG','../services/ProfilePermissionService/ListService','[ProfilePermissionController.update]\x20Dados\x20recebidos:','21wwXmIH','apply','create','2425080DxwQuL','Profile\x20permission\x20deleted','../services/ProfilePermissionService/ShowService','emit','canEditContacts','update','user','-profile-','canViewTicketsWithoutQueue','__esModule','canSpyConversations','3080750hvbmDq','params','show','1238558ARhmRb','search','status','constructor','defineProperty','delete','getIO','companyId','parse','json','../services/ProfilePermissionService/UpdateService','521980IwkDuk'];a33_0x2bab=function(){return _0x2c52be;};return a33_0x2bab();}const show=async(_0x28fd32,_0x29032a)=>{const _0x31d8b9=a33_0x4b9dd7,{id:_0x5b244d}=_0x28fd32[_0x31d8b9(0x10b)],{companyId:_0x3bc7d9}=_0x28fd32[_0x31d8b9(0x105)],_0x32f970=await(0x0,ShowService_1[_0x31d8b9(0x11a)])(_0x5b244d,_0x3bc7d9);return _0x29032a['status'](0xc8)[_0x31d8b9(0x116)](_0x32f970);};exports[a33_0x4b9dd7(0x10c)]=show;const update=async(_0x2c9e62,_0xaca8c6)=>{const _0x430c43=a33_0x4b9dd7,{id:_0x3e3517}=_0x2c9e62[_0x430c43(0x10b)],{companyId:_0x532a06}=_0x2c9e62[_0x430c43(0x105)],_0x5e409f=_0x2c9e62[_0x430c43(0x11b)];console[_0x430c43(0x11d)](_0x430c43(0xfb),{'id':_0x3e3517,'companyId':_0x532a06,'body':_0x5e409f});const _0x1f48bb=await(0x0,UpdateService_1[_0x430c43(0x11a)])({..._0x5e409f,'id':parseInt(_0x3e3517),'companyId':_0x532a06});console[_0x430c43(0x11d)]('[ProfilePermissionController.update]\x20Permissão\x20atualizada:',{'id':_0x1f48bb['id'],'profile':_0x1f48bb['profile'],'companyId':_0x1f48bb[_0x430c43(0x114)],'canEditContacts':_0x1f48bb[_0x430c43(0x103)],'canSpyConversations':_0x1f48bb[_0x430c43(0x109)],'canViewTicketsWithoutQueue':_0x1f48bb[_0x430c43(0x107)],'canToggleSignature':_0x1f48bb[_0x430c43(0xf3)],'allowedRoutes':_0x1f48bb[_0x430c43(0x123)]});const _0xca1438=(0x0,socket_1[_0x430c43(0x113)])();return _0xca1438['emit'](_0x430c43(0x11f)+_0x532a06+'-profilePermission',{'action':_0x430c43(0x104),'permission':_0x1f48bb}),_0xca1438[_0x430c43(0x102)](_0x430c43(0x11f)+_0x532a06+'-profile-'+_0x1f48bb[_0x430c43(0xf7)]+_0x430c43(0x124),{'profile':_0x1f48bb['profile'],'permissions':{'canEditContacts':_0x1f48bb[_0x430c43(0x103)],'canSpyConversations':_0x1f48bb['canSpyConversations'],'canViewTicketsWithoutQueue':_0x1f48bb[_0x430c43(0x107)],'canToggleSignature':_0x1f48bb['canToggleSignature']??!![],'allowedRoutes':JSON[_0x430c43(0x115)](_0x1f48bb[_0x430c43(0x123)]||'[]')}}),_0xaca8c6[_0x430c43(0x10f)](0xc8)[_0x430c43(0x116)](_0x1f48bb);};function a33_0x29a0(_0x2a4c1e,_0x1da9fa){const _0x471094=a33_0x2bab();return a33_0x29a0=function(_0x4ecbcc,_0x4e8a0b){_0x4ecbcc=_0x4ecbcc-0xf3;let _0x2bab33=_0x471094[_0x4ecbcc];return _0x2bab33;},a33_0x29a0(_0x2a4c1e,_0x1da9fa);}exports[a33_0x4b9dd7(0x104)]=update;const remove=async(_0x572dda,_0x462f4d)=>{const _0x2820ce=a33_0x4b9dd7,{id:_0x2cb19d}=_0x572dda[_0x2820ce(0x10b)],{companyId:_0x1f1942}=_0x572dda[_0x2820ce(0x105)];await(0x0,DeleteService_1[_0x2820ce(0x11a)])(_0x2cb19d,_0x1f1942);const _0x5bc650=(0x0,socket_1[_0x2820ce(0x113)])();return _0x5bc650[_0x2820ce(0x102)]('company'+_0x1f1942+_0x2820ce(0x119),{'action':_0x2820ce(0x112),'id':_0x2cb19d}),_0x462f4d[_0x2820ce(0x10f)](0xc8)[_0x2820ce(0x116)]({'message':_0x2820ce(0x100)});};exports[a33_0x4b9dd7(0x11c)]=remove;