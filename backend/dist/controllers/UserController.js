const a43_0x2d5c78=a43_0x3754;(function(_0x307b09,_0x278bcf){const _0x59dd20=a43_0x3754,_0x5f34ab=_0x307b09();while(!![]){try{const _0x19e044=parseInt(_0x59dd20(0x1c4))/0x1*(parseInt(_0x59dd20(0x1c3))/0x2)+parseInt(_0x59dd20(0x1ae))/0x3+parseInt(_0x59dd20(0x1cc))/0x4*(parseInt(_0x59dd20(0x1bf))/0x5)+parseInt(_0x59dd20(0x1ab))/0x6*(-parseInt(_0x59dd20(0x1b9))/0x7)+parseInt(_0x59dd20(0x1cb))/0x8+parseInt(_0x59dd20(0x1b7))/0x9*(parseInt(_0x59dd20(0x1c9))/0xa)+-parseInt(_0x59dd20(0x1d8))/0xb*(parseInt(_0x59dd20(0x1da))/0xc);if(_0x19e044===_0x278bcf)break;else _0x5f34ab['push'](_0x5f34ab['shift']());}catch(_0x2b8a8e){_0x5f34ab['push'](_0x5f34ab['shift']());}}}(a43_0x334f,0x6463b));const a43_0x23db01=(function(){let _0x4cdb52=!![];return function(_0x2cf0cb,_0x5d2ec4){const _0x30eb13=_0x4cdb52?function(){const _0x181d85=a43_0x3754;if(_0x5d2ec4){const _0x9e51ba=_0x5d2ec4[_0x181d85(0x1c0)](_0x2cf0cb,arguments);return _0x5d2ec4=null,_0x9e51ba;}}:function(){};return _0x4cdb52=![],_0x30eb13;};}()),a43_0x3647a2=a43_0x23db01(this,function(){const _0x2a93bb=a43_0x3754;return a43_0x3647a2['toString']()[_0x2a93bb(0x1d2)]('(((.+)+)+)+$')['toString']()['constructor'](a43_0x3647a2)['search']('(((.+)+)+)+$');});a43_0x3647a2();'use strict';var __importDefault=this&&this[a43_0x2d5c78(0x1be)]||function(_0x2dcfc2){const _0x4a1cb1=a43_0x2d5c78;return _0x2dcfc2&&_0x2dcfc2[_0x4a1cb1(0x1c6)]?_0x2dcfc2:{'default':_0x2dcfc2};};Object[a43_0x2d5c78(0x1ac)](exports,a43_0x2d5c78(0x1c6),{'value':!![]}),exports[a43_0x2d5c78(0x1bd)]=exports[a43_0x2d5c78(0x1d6)]=exports[a43_0x2d5c78(0x1b2)]=exports[a43_0x2d5c78(0x1b5)]=exports[a43_0x2d5c78(0x1bc)]=exports[a43_0x2d5c78(0x1c1)]=void 0x0;const socket_1=require(a43_0x2d5c78(0x1d9)),AppError_1=__importDefault(require(a43_0x2d5c78(0x1d3))),CreateUserService_1=__importDefault(require('../services/UserServices/CreateUserService')),ListUsersService_1=__importDefault(require(a43_0x2d5c78(0x1c5))),UpdateUserService_1=__importDefault(require(a43_0x2d5c78(0x1d5))),ShowUserService_1=__importDefault(require(a43_0x2d5c78(0x1b8))),DeleteUserService_1=__importDefault(require('../services/UserServices/DeleteUserService')),SimpleListService_1=__importDefault(require(a43_0x2d5c78(0x1ca))),User_1=__importDefault(require(a43_0x2d5c78(0x1af))),index=async(_0x4e5e3f,_0x2241a5)=>{const _0x178705=a43_0x2d5c78,{searchParam:_0x57f053,pageNumber:_0x56769f}=_0x4e5e3f[_0x178705(0x1ba)],{companyId:_0x219ce9,profile:_0x5496ad}=_0x4e5e3f[_0x178705(0x1cf)],{users:_0x3944c9,onlineCount:_0x11a70f,offlineCount:_0x3e0ca5,count:_0x2cdb85,hasMore:_0x357e7f}=await(0x0,ListUsersService_1[_0x178705(0x1d4)])({'searchParam':_0x57f053,'pageNumber':_0x56769f,'companyId':_0x219ce9,'profile':_0x5496ad});return _0x2241a5[_0x178705(0x1b3)]({'users':_0x3944c9,'onlineCount':_0x11a70f,'offlineCount':_0x3e0ca5,'count':_0x2cdb85,'hasMore':_0x357e7f});};exports[a43_0x2d5c78(0x1c1)]=index;const store=async(_0x302dd2,_0x35f78e)=>{const _0x4ef8ad=a43_0x2d5c78,{email:_0x5ee263,password:_0x477c25,name:_0x166a1b,profile:_0x2a595a,companyId:_0x52a621,queueIds:_0x260ae1}=_0x302dd2[_0x4ef8ad(0x1d7)];let _0x435248=null,_0x534cb4=null;if(_0x302dd2[_0x4ef8ad(0x1cf)]!==undefined){const {companyId:_0x459df8}=_0x302dd2['user'];_0x435248=_0x459df8,_0x534cb4=await User_1['default'][_0x4ef8ad(0x1d0)](_0x302dd2['user']['id']);}const _0x5eb957=_0x52a621||_0x435248;if(_0x302dd2[_0x4ef8ad(0x1cf)]?.[_0x4ef8ad(0x1c2)]!==_0x4ef8ad(0x1d1))throw new AppError_1[(_0x4ef8ad(0x1d4))](_0x4ef8ad(0x1b6),0x193);else{if(_0x5eb957!==_0x302dd2[_0x4ef8ad(0x1cf)]?.[_0x4ef8ad(0x1ce)]&&!_0x534cb4?.[_0x4ef8ad(0x1b0)])throw new AppError_1[(_0x4ef8ad(0x1d4))]('ERR_NO_SUPER',0x193);}const _0x28ce68=await(0x0,CreateUserService_1[_0x4ef8ad(0x1d4)])({'email':_0x5ee263,'password':_0x477c25,'name':_0x166a1b,'profile':_0x2a595a,'companyId':_0x5eb957,'queueIds':_0x260ae1}),_0x37eb25=(0x0,socket_1[_0x4ef8ad(0x1c7)])();return _0x37eb25[_0x4ef8ad(0x1bb)](_0x4ef8ad(0x1c8)+_0x435248+_0x4ef8ad(0x1cd),{'action':'create','user':_0x28ce68}),_0x35f78e['status'](0xc8)['json'](_0x28ce68);};exports[a43_0x2d5c78(0x1bc)]=store;const show=async(_0x1b362f,_0x51442c)=>{const _0x5d66e0=a43_0x2d5c78,{userId:_0x547030}=_0x1b362f[_0x5d66e0(0x1ad)],_0x47d94a=await(0x0,ShowUserService_1[_0x5d66e0(0x1d4)])(_0x547030,_0x1b362f[_0x5d66e0(0x1cf)]['id']);return _0x51442c[_0x5d66e0(0x1b4)](0xc8)[_0x5d66e0(0x1b3)](_0x47d94a);};exports[a43_0x2d5c78(0x1b5)]=show;const update=async(_0x13609f,_0x8b305e)=>{const _0x3caf13=a43_0x2d5c78,{id:_0x1f43db,companyId:_0x117c30}=_0x13609f[_0x3caf13(0x1cf)],{userId:_0x3a17f8}=_0x13609f[_0x3caf13(0x1ad)],_0x1ebcc8=_0x13609f[_0x3caf13(0x1d7)],_0x160922=await(0x0,UpdateUserService_1[_0x3caf13(0x1d4)])({'userData':_0x1ebcc8,'userId':_0x3a17f8,'requestUserId':+_0x1f43db}),_0x5e9d88=(0x0,socket_1['getIO'])();return _0x5e9d88[_0x3caf13(0x1bb)](_0x3caf13(0x1c8)+_0x117c30+_0x3caf13(0x1cd),{'action':'update','user':_0x160922}),_0x8b305e[_0x3caf13(0x1b4)](0xc8)[_0x3caf13(0x1b3)](_0x160922);};exports[a43_0x2d5c78(0x1b2)]=update;const remove=async(_0x4b17b4,_0x3c4941)=>{const _0x2b9b88=a43_0x2d5c78,{userId:_0x4556f3}=_0x4b17b4[_0x2b9b88(0x1ad)],{companyId:_0x2b9556}=_0x4b17b4[_0x2b9b88(0x1cf)];if(_0x4b17b4[_0x2b9b88(0x1cf)]['profile']!==_0x2b9b88(0x1d1))throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);if(Number(_0x4556f3)===0x1)throw new AppError_1[(_0x2b9b88(0x1d4))](_0x2b9b88(0x1b1),0x193);await(0x0,DeleteUserService_1[_0x2b9b88(0x1d4)])(_0x4556f3,_0x4b17b4[_0x2b9b88(0x1cf)]['id']);const _0x478896=(0x0,socket_1[_0x2b9b88(0x1c7)])();return _0x478896['emit'](_0x2b9b88(0x1c8)+_0x2b9556+'-user',{'action':'delete','userId':_0x4556f3}),_0x3c4941['status'](0xc8)[_0x2b9b88(0x1b3)]({'message':'User\x20deleted'});};function a43_0x3754(_0x2fbda7,_0x155c0f){const _0xe82548=a43_0x334f();return a43_0x3754=function(_0x3647a2,_0x23db01){_0x3647a2=_0x3647a2-0x1ab;let _0x334f4d=_0xe82548[_0x3647a2];return _0x334f4d;},a43_0x3754(_0x2fbda7,_0x155c0f);}exports[a43_0x2d5c78(0x1d6)]=remove;const list=async(_0x4c6e96,_0x1e64bc)=>{const _0x3cf70f=a43_0x2d5c78,{companyId:_0xb7140}=_0x4c6e96[_0x3cf70f(0x1ba)],{companyId:_0x1b4a12}=_0x4c6e96[_0x3cf70f(0x1cf)],_0x291de2=await(0x0,SimpleListService_1[_0x3cf70f(0x1d4)])({'companyId':_0xb7140?+_0xb7140:_0x1b4a12});return _0x1e64bc[_0x3cf70f(0x1b4)](0xc8)['json'](_0x291de2);};exports[a43_0x2d5c78(0x1bd)]=list;function a43_0x334f(){const _0x1a8ae4=['status','show','ERR_NO_PERMISSION','1067427ONJVbh','../services/UserServices/ShowUserService','495453RcWYTi','query','emit','store','list','__importDefault','249945eSwxlr','apply','index','profile','2jrdMvy','383836HpNjSV','../services/UserServices/ListUsersService','__esModule','getIO','company-','10vgbGdI','../services/UserServices/SimpleListService','3635440HnLkck','12HQRqOy','-user','companyId','user','findByPk','admin','search','../errors/AppError','default','../services/UserServices/UpdateUserService','remove','body','1901383nKMjbv','../libs/socket','72sTGNLP','6MQQpMm','defineProperty','params','1236768SIOsia','../models/User','super','ERR_FORBIDDEN','update','json'];a43_0x334f=function(){return _0x1a8ae4;};return a43_0x334f();}