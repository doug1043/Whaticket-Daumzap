const a43_0xbc0b8f=a43_0x1142;(function(_0x57d3e8,_0xf89ba5){const _0x409c92=a43_0x1142,_0x27df0d=_0x57d3e8();while(!![]){try{const _0x5c15ba=parseInt(_0x409c92(0x15e))/0x1+parseInt(_0x409c92(0x14e))/0x2+-parseInt(_0x409c92(0x15a))/0x3*(-parseInt(_0x409c92(0x15d))/0x4)+-parseInt(_0x409c92(0x160))/0x5+-parseInt(_0x409c92(0x13b))/0x6*(-parseInt(_0x409c92(0x156))/0x7)+-parseInt(_0x409c92(0x13d))/0x8*(parseInt(_0x409c92(0x163))/0x9)+-parseInt(_0x409c92(0x162))/0xa*(parseInt(_0x409c92(0x153))/0xb);if(_0x5c15ba===_0xf89ba5)break;else _0x27df0d['push'](_0x27df0d['shift']());}catch(_0x2fa103){_0x27df0d['push'](_0x27df0d['shift']());}}}(a43_0x5a4e,0x4a5a7));const a43_0x39f610=(function(){let _0x324e1b=!![];return function(_0x47e289,_0x2f0bdb){const _0x1fcc96=_0x324e1b?function(){const _0x423522=a43_0x1142;if(_0x2f0bdb){const _0x3b9f4a=_0x2f0bdb[_0x423522(0x139)](_0x47e289,arguments);return _0x2f0bdb=null,_0x3b9f4a;}}:function(){};return _0x324e1b=![],_0x1fcc96;};}()),a43_0x503617=a43_0x39f610(this,function(){const _0x5e4d95=a43_0x1142;return a43_0x503617[_0x5e4d95(0x147)]()['search']('(((.+)+)+)+$')[_0x5e4d95(0x147)]()[_0x5e4d95(0x13c)](a43_0x503617)[_0x5e4d95(0x161)](_0x5e4d95(0x146));});a43_0x503617();'use strict';var __importDefault=this&&this[a43_0xbc0b8f(0x155)]||function(_0x2a1b87){const _0x1aacb9=a43_0xbc0b8f;return _0x2a1b87&&_0x2a1b87[_0x1aacb9(0x13a)]?_0x2a1b87:{'default':_0x2a1b87};};Object[a43_0xbc0b8f(0x143)](exports,a43_0xbc0b8f(0x13a),{'value':!![]}),exports[a43_0xbc0b8f(0x14d)]=exports[a43_0xbc0b8f(0x149)]=exports[a43_0xbc0b8f(0x13f)]=exports[a43_0xbc0b8f(0x16a)]=exports['store']=exports[a43_0xbc0b8f(0x14f)]=void 0x0;const socket_1=require(a43_0xbc0b8f(0x159)),AppError_1=__importDefault(require(a43_0xbc0b8f(0x15f))),CreateUserService_1=__importDefault(require('../services/UserServices/CreateUserService')),ListUsersService_1=__importDefault(require(a43_0xbc0b8f(0x142))),UpdateUserService_1=__importDefault(require(a43_0xbc0b8f(0x164))),ShowUserService_1=__importDefault(require(a43_0xbc0b8f(0x150))),DeleteUserService_1=__importDefault(require(a43_0xbc0b8f(0x144))),SimpleListService_1=__importDefault(require(a43_0xbc0b8f(0x16b))),User_1=__importDefault(require(a43_0xbc0b8f(0x158))),index=async(_0x3b0197,_0x3c4859)=>{const _0x30b9ed=a43_0xbc0b8f,{searchParam:_0x5898c5,pageNumber:_0x248c17}=_0x3b0197['query'],{companyId:_0x36a965,profile:_0x480172}=_0x3b0197['user'],{users:_0x4011dd,onlineCount:_0x512e4f,offlineCount:_0x316e80,count:_0x19556a,hasMore:_0x41d903}=await(0x0,ListUsersService_1[_0x30b9ed(0x13e)])({'searchParam':_0x5898c5,'pageNumber':_0x248c17,'companyId':_0x36a965,'profile':_0x480172});return _0x3c4859[_0x30b9ed(0x15c)]({'users':_0x4011dd,'onlineCount':_0x512e4f,'offlineCount':_0x316e80,'count':_0x19556a,'hasMore':_0x41d903});};function a43_0x5a4e(){const _0x4abb0a=['toString','ERR_NO_PERMISSION','remove','body','params','ERR_FORBIDDEN','list','223402SUPXsL','index','../services/UserServices/ShowUserService','-user','emit','129877QanSEK','store','__importDefault','71183EgrVVB','companyId','../models/User','../libs/socket','1244271lmscWC','company-','json','4uHoqYw','212194BjPsrT','../errors/AppError','1221200JxzGnv','search','190HNKDzx','135loVMtl','../services/UserServices/UpdateUserService','admin','profile','findByPk','user','query','show','../services/UserServices/SimpleListService','apply','__esModule','78ZZCAQr','constructor','52120fuJZDg','default','update','ERR_NO_SUPER','status','../services/UserServices/ListUsersService','defineProperty','../services/UserServices/DeleteUserService','getIO','(((.+)+)+)+$'];a43_0x5a4e=function(){return _0x4abb0a;};return a43_0x5a4e();}exports[a43_0xbc0b8f(0x14f)]=index;const store=async(_0x4466b4,_0x6bb227)=>{const _0x32b5a6=a43_0xbc0b8f,{email:_0x425830,password:_0x1a0e55,name:_0x50498b,profile:_0x43a3dd,companyId:_0x1ac4a7,queueIds:_0xc612f1}=_0x4466b4[_0x32b5a6(0x14a)];let _0x39db7b=null,_0x43983e=null;if(_0x4466b4[_0x32b5a6(0x168)]!==undefined){const {companyId:_0x36c32d}=_0x4466b4['user'];_0x39db7b=_0x36c32d,_0x43983e=await User_1[_0x32b5a6(0x13e)][_0x32b5a6(0x167)](_0x4466b4['user']['id']);}const _0x41c925=_0x1ac4a7||_0x39db7b;if(_0x4466b4[_0x32b5a6(0x168)]?.[_0x32b5a6(0x166)]!==_0x32b5a6(0x165))throw new AppError_1[(_0x32b5a6(0x13e))]('ERR_NO_PERMISSION',0x193);else{if(_0x41c925!==_0x4466b4[_0x32b5a6(0x168)]?.[_0x32b5a6(0x157)]&&!_0x43983e?.['super'])throw new AppError_1[(_0x32b5a6(0x13e))](_0x32b5a6(0x140),0x193);}const _0xd5a284=await(0x0,CreateUserService_1[_0x32b5a6(0x13e)])({'email':_0x425830,'password':_0x1a0e55,'name':_0x50498b,'profile':_0x43a3dd,'companyId':_0x41c925,'queueIds':_0xc612f1}),_0x116834=(0x0,socket_1[_0x32b5a6(0x145)])();return _0x116834[_0x32b5a6(0x152)](_0x32b5a6(0x15b)+_0x39db7b+_0x32b5a6(0x151),{'action':'create','user':_0xd5a284}),_0x6bb227[_0x32b5a6(0x141)](0xc8)[_0x32b5a6(0x15c)](_0xd5a284);};exports[a43_0xbc0b8f(0x154)]=store;const show=async(_0x18ae56,_0x46c758)=>{const _0x10c03=a43_0xbc0b8f,{userId:_0x1d9436}=_0x18ae56['params'],_0x5eb5ef=await(0x0,ShowUserService_1[_0x10c03(0x13e)])(_0x1d9436,_0x18ae56[_0x10c03(0x168)]['id']);return _0x46c758['status'](0xc8)['json'](_0x5eb5ef);};exports[a43_0xbc0b8f(0x16a)]=show;const update=async(_0xc54332,_0x3ca7b2)=>{const _0x45e4d1=a43_0xbc0b8f,{id:_0x433132,companyId:_0x5bc7b1}=_0xc54332[_0x45e4d1(0x168)],{userId:_0x470197}=_0xc54332['params'],_0xdefbeb=_0xc54332[_0x45e4d1(0x14a)],_0x492cc4=await(0x0,UpdateUserService_1[_0x45e4d1(0x13e)])({'userData':_0xdefbeb,'userId':_0x470197,'requestUserId':+_0x433132}),_0x18d9a3=(0x0,socket_1[_0x45e4d1(0x145)])();return _0x18d9a3[_0x45e4d1(0x152)](_0x45e4d1(0x15b)+_0x5bc7b1+_0x45e4d1(0x151),{'action':_0x45e4d1(0x13f),'user':_0x492cc4}),_0x3ca7b2[_0x45e4d1(0x141)](0xc8)[_0x45e4d1(0x15c)](_0x492cc4);};function a43_0x1142(_0x4c1fee,_0x5a7aae){const _0x5cc7ca=a43_0x5a4e();return a43_0x1142=function(_0x503617,_0x39f610){_0x503617=_0x503617-0x139;let _0x5a4ea4=_0x5cc7ca[_0x503617];return _0x5a4ea4;},a43_0x1142(_0x4c1fee,_0x5a7aae);}exports['update']=update;const remove=async(_0x416bef,_0x5a5ed4)=>{const _0x1cb72d=a43_0xbc0b8f,{userId:_0x34bf2e}=_0x416bef[_0x1cb72d(0x14b)],{companyId:_0x193a34}=_0x416bef[_0x1cb72d(0x168)];if(_0x416bef['user'][_0x1cb72d(0x166)]!==_0x1cb72d(0x165))throw new AppError_1[(_0x1cb72d(0x13e))](_0x1cb72d(0x148),0x193);if(Number(_0x34bf2e)===0x1)throw new AppError_1[(_0x1cb72d(0x13e))](_0x1cb72d(0x14c),0x193);await(0x0,DeleteUserService_1[_0x1cb72d(0x13e)])(_0x34bf2e,_0x416bef[_0x1cb72d(0x168)]['id']);const _0x44c7ac=(0x0,socket_1[_0x1cb72d(0x145)])();return _0x44c7ac[_0x1cb72d(0x152)](_0x1cb72d(0x15b)+_0x193a34+_0x1cb72d(0x151),{'action':'delete','userId':_0x34bf2e}),_0x5a5ed4[_0x1cb72d(0x141)](0xc8)[_0x1cb72d(0x15c)]({'message':'User\x20deleted'});};exports['remove']=remove;const list=async(_0x1b44c1,_0x416752)=>{const _0x55d6da=a43_0xbc0b8f,{companyId:_0x54e4d2}=_0x1b44c1[_0x55d6da(0x169)],{companyId:_0x420997}=_0x1b44c1[_0x55d6da(0x168)],_0x2e5ccf=await(0x0,SimpleListService_1[_0x55d6da(0x13e)])({'companyId':_0x54e4d2?+_0x54e4d2:_0x420997});return _0x416752[_0x55d6da(0x141)](0xc8)['json'](_0x2e5ccf);};exports['list']=list;