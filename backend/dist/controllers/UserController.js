const a43_0x151d40=a43_0x2ded;(function(_0x3fb3e4,_0x17ea55){const _0x42c295=a43_0x2ded,_0x3fdab6=_0x3fb3e4();while(!![]){try{const _0x51a886=-parseInt(_0x42c295(0x1d6))/0x1*(parseInt(_0x42c295(0x1ea))/0x2)+parseInt(_0x42c295(0x1ce))/0x3*(parseInt(_0x42c295(0x1f6))/0x4)+parseInt(_0x42c295(0x1e8))/0x5*(-parseInt(_0x42c295(0x1cf))/0x6)+-parseInt(_0x42c295(0x1d0))/0x7+-parseInt(_0x42c295(0x1d3))/0x8+parseInt(_0x42c295(0x1fb))/0x9+-parseInt(_0x42c295(0x1f2))/0xa*(-parseInt(_0x42c295(0x1f4))/0xb);if(_0x51a886===_0x17ea55)break;else _0x3fdab6['push'](_0x3fdab6['shift']());}catch(_0x2307f9){_0x3fdab6['push'](_0x3fdab6['shift']());}}}(a43_0x33e1,0x8b72b));const a43_0x4b75d4=(function(){let _0x4c4ad7=!![];return function(_0x260fe9,_0x19080d){const _0x3060e5=_0x4c4ad7?function(){if(_0x19080d){const _0x59753b=_0x19080d['apply'](_0x260fe9,arguments);return _0x19080d=null,_0x59753b;}}:function(){};return _0x4c4ad7=![],_0x3060e5;};}()),a43_0x51f6d4=a43_0x4b75d4(this,function(){const _0x23a8bb=a43_0x2ded;return a43_0x51f6d4[_0x23a8bb(0x1d7)]()[_0x23a8bb(0x1e6)](_0x23a8bb(0x1df))[_0x23a8bb(0x1d7)]()['constructor'](a43_0x51f6d4)[_0x23a8bb(0x1e6)](_0x23a8bb(0x1df));});a43_0x51f6d4();'use strict';var __importDefault=this&&this[a43_0x151d40(0x1cd)]||function(_0x5c7bb7){const _0x7181c5=a43_0x151d40;return _0x5c7bb7&&_0x5c7bb7[_0x7181c5(0x1d8)]?_0x5c7bb7:{'default':_0x5c7bb7};};Object[a43_0x151d40(0x1dc)](exports,'__esModule',{'value':!![]}),exports[a43_0x151d40(0x1e5)]=exports[a43_0x151d40(0x1f3)]=exports[a43_0x151d40(0x1de)]=exports[a43_0x151d40(0x1e2)]=exports[a43_0x151d40(0x1f8)]=exports[a43_0x151d40(0x1f7)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require('../errors/AppError')),CreateUserService_1=__importDefault(require(a43_0x151d40(0x1ed))),ListUsersService_1=__importDefault(require(a43_0x151d40(0x1f0))),UpdateUserService_1=__importDefault(require(a43_0x151d40(0x1f1))),ShowUserService_1=__importDefault(require(a43_0x151d40(0x1e9))),DeleteUserService_1=__importDefault(require(a43_0x151d40(0x1e4))),SimpleListService_1=__importDefault(require(a43_0x151d40(0x1f9))),User_1=__importDefault(require(a43_0x151d40(0x1e1))),index=async(_0x12d55a,_0x3b278a)=>{const _0x7f8a94=a43_0x151d40,{searchParam:_0x590a0b,pageNumber:_0x56c04c}=_0x12d55a['query'],{companyId:_0x17d848,profile:_0x2566d7}=_0x12d55a[_0x7f8a94(0x1f5)],{users:_0x54f02d,onlineCount:_0x3a6936,offlineCount:_0x46ebc0,count:_0x115ed1,hasMore:_0x40092c}=await(0x0,ListUsersService_1[_0x7f8a94(0x1e7)])({'searchParam':_0x590a0b,'pageNumber':_0x56c04c,'companyId':_0x17d848,'profile':_0x2566d7});return _0x3b278a['json']({'users':_0x54f02d,'onlineCount':_0x3a6936,'offlineCount':_0x46ebc0,'count':_0x115ed1,'hasMore':_0x40092c});};exports[a43_0x151d40(0x1f7)]=index;const store=async(_0x11ec81,_0x5d073e)=>{const _0x17e2d2=a43_0x151d40,{email:_0x3b4082,password:_0x13a24e,name:_0x38d13a,profile:_0xaf91fc,companyId:_0xc3e376,queueIds:_0x3aea8f}=_0x11ec81[_0x17e2d2(0x1ca)];let _0x43ec4d=null,_0x442882=null;if(_0x11ec81[_0x17e2d2(0x1f5)]!==undefined){const {companyId:_0x45d575}=_0x11ec81[_0x17e2d2(0x1f5)];_0x43ec4d=_0x45d575,_0x442882=await User_1['default'][_0x17e2d2(0x1da)](_0x11ec81['user']['id']);}const _0x47dc97=_0xc3e376||_0x43ec4d;if(_0x11ec81[_0x17e2d2(0x1f5)]?.[_0x17e2d2(0x1ec)]!=='admin')throw new AppError_1['default'](_0x17e2d2(0x1cc),0x193);else{if(_0x47dc97!==_0x11ec81[_0x17e2d2(0x1f5)]?.[_0x17e2d2(0x1e0)]&&!_0x442882?.[_0x17e2d2(0x1fa)])throw new AppError_1['default'](_0x17e2d2(0x1d1),0x193);}const _0x1e099d=await(0x0,CreateUserService_1[_0x17e2d2(0x1e7)])({'email':_0x3b4082,'password':_0x13a24e,'name':_0x38d13a,'profile':_0xaf91fc,'companyId':_0x47dc97,'queueIds':_0x3aea8f}),_0x25f230=(0x0,socket_1[_0x17e2d2(0x1d9)])();return _0x25f230[_0x17e2d2(0x1d2)](_0x17e2d2(0x1ef)+_0x43ec4d+_0x17e2d2(0x1eb),{'action':'create','user':_0x1e099d}),_0x5d073e['status'](0xc8)[_0x17e2d2(0x1dd)](_0x1e099d);};function a43_0x33e1(){const _0x116cee=['../services/UserServices/CreateUserService','ERR_FORBIDDEN','company-','../services/UserServices/ListUsersService','../services/UserServices/UpdateUserService','130HLXhyg','remove','1524589SsJQhw','user','12LYZPUr','index','store','../services/UserServices/SimpleListService','super','5366727cgiNHQ','body','User\x20deleted','ERR_NO_PERMISSION','__importDefault','240375RwZAmh','126186tqMNPG','1289288VBrFbV','ERR_NO_SUPER','emit','6662592KefHry','status','query','107iuhhRD','toString','__esModule','getIO','findByPk','params','defineProperty','json','update','(((.+)+)+)+$','companyId','../models/User','show','delete','../services/UserServices/DeleteUserService','list','search','default','115axjMYf','../services/UserServices/ShowUserService','10590fPPlgd','-user','profile'];a43_0x33e1=function(){return _0x116cee;};return a43_0x33e1();}exports[a43_0x151d40(0x1f8)]=store;function a43_0x2ded(_0x56d999,_0x2bec20){const _0x195427=a43_0x33e1();return a43_0x2ded=function(_0x51f6d4,_0x4b75d4){_0x51f6d4=_0x51f6d4-0x1ca;let _0x33e1da=_0x195427[_0x51f6d4];return _0x33e1da;},a43_0x2ded(_0x56d999,_0x2bec20);}const show=async(_0x1a092a,_0x14f5f4)=>{const _0x612138=a43_0x151d40,{userId:_0x15fd8d}=_0x1a092a[_0x612138(0x1db)],_0x3c0b71=await(0x0,ShowUserService_1[_0x612138(0x1e7)])(_0x15fd8d,_0x1a092a[_0x612138(0x1f5)]['id']);return _0x14f5f4[_0x612138(0x1d4)](0xc8)[_0x612138(0x1dd)](_0x3c0b71);};exports['show']=show;const update=async(_0x59e744,_0x1e9018)=>{const _0x5572e9=a43_0x151d40,{id:_0x17915e,companyId:_0x509883}=_0x59e744[_0x5572e9(0x1f5)],{userId:_0x87bda9}=_0x59e744[_0x5572e9(0x1db)],_0x5e13a4=_0x59e744[_0x5572e9(0x1ca)],_0xcfea2e=await(0x0,UpdateUserService_1['default'])({'userData':_0x5e13a4,'userId':_0x87bda9,'requestUserId':+_0x17915e}),_0x4f1741=(0x0,socket_1['getIO'])();return _0x4f1741[_0x5572e9(0x1d2)]('company-'+_0x509883+_0x5572e9(0x1eb),{'action':_0x5572e9(0x1de),'user':_0xcfea2e}),_0x1e9018[_0x5572e9(0x1d4)](0xc8)['json'](_0xcfea2e);};exports['update']=update;const remove=async(_0x405298,_0x69b9f8)=>{const _0x11c4e7=a43_0x151d40,{userId:_0x524b34}=_0x405298['params'],{companyId:_0x11bb67}=_0x405298['user'];if(_0x405298[_0x11c4e7(0x1f5)]['profile']!=='admin')throw new AppError_1[(_0x11c4e7(0x1e7))]('ERR_NO_PERMISSION',0x193);if(Number(_0x524b34)===0x1)throw new AppError_1[(_0x11c4e7(0x1e7))](_0x11c4e7(0x1ee),0x193);await(0x0,DeleteUserService_1[_0x11c4e7(0x1e7)])(_0x524b34,_0x405298['user']['id']);const _0x331746=(0x0,socket_1[_0x11c4e7(0x1d9)])();return _0x331746[_0x11c4e7(0x1d2)](_0x11c4e7(0x1ef)+_0x11bb67+_0x11c4e7(0x1eb),{'action':_0x11c4e7(0x1e3),'userId':_0x524b34}),_0x69b9f8[_0x11c4e7(0x1d4)](0xc8)['json']({'message':_0x11c4e7(0x1cb)});};exports[a43_0x151d40(0x1f3)]=remove;const list=async(_0x39066c,_0x16bdf6)=>{const _0x455c4f=a43_0x151d40,{companyId:_0x2f2d89}=_0x39066c[_0x455c4f(0x1d5)],{companyId:_0x44ab70}=_0x39066c[_0x455c4f(0x1f5)],_0xb0f2ae=await(0x0,SimpleListService_1[_0x455c4f(0x1e7)])({'companyId':_0x2f2d89?+_0x2f2d89:_0x44ab70});return _0x16bdf6[_0x455c4f(0x1d4)](0xc8)[_0x455c4f(0x1dd)](_0xb0f2ae);};exports['list']=list;