function a44_0x51ae(_0x3dbad3,_0x15a60b){const _0x2660a2=a44_0xc9b8();return a44_0x51ae=function(_0x365300,_0x206862){_0x365300=_0x365300-0x165;let _0xc9b8d8=_0x2660a2[_0x365300];return _0xc9b8d8;},a44_0x51ae(_0x3dbad3,_0x15a60b);}const a44_0x4d1980=a44_0x51ae;(function(_0x2d2508,_0xa50d2a){const _0x4da90d=a44_0x51ae,_0x433734=_0x2d2508();while(!![]){try{const _0x4e8c98=-parseInt(_0x4da90d(0x18c))/0x1*(parseInt(_0x4da90d(0x190))/0x2)+-parseInt(_0x4da90d(0x170))/0x3+-parseInt(_0x4da90d(0x198))/0x4+-parseInt(_0x4da90d(0x193))/0x5+-parseInt(_0x4da90d(0x195))/0x6+parseInt(_0x4da90d(0x174))/0x7+parseInt(_0x4da90d(0x177))/0x8*(parseInt(_0x4da90d(0x173))/0x9);if(_0x4e8c98===_0xa50d2a)break;else _0x433734['push'](_0x433734['shift']());}catch(_0xf4ecd3){_0x433734['push'](_0x433734['shift']());}}}(a44_0xc9b8,0xd370c));const a44_0x206862=(function(){let _0x2d58ee=!![];return function(_0x53003b,_0x1e5f68){const _0x3be218=_0x2d58ee?function(){if(_0x1e5f68){const _0x468343=_0x1e5f68['apply'](_0x53003b,arguments);return _0x1e5f68=null,_0x468343;}}:function(){};return _0x2d58ee=![],_0x3be218;};}()),a44_0x365300=a44_0x206862(this,function(){const _0x39888b=a44_0x51ae;return a44_0x365300[_0x39888b(0x18a)]()[_0x39888b(0x19a)](_0x39888b(0x17f))[_0x39888b(0x18a)]()['constructor'](a44_0x365300)[_0x39888b(0x19a)](_0x39888b(0x17f));});a44_0x365300();function a44_0xc9b8(){const _0x4d8d03=['../services/UserServices/ListUsersService','__importDefault','url','Acesso\x20negado.','admin','user','status','../services/UserServices/DeleteUserService','query','companyId','toString','delete','615152PVCtiw','defineProperty','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','ERR_USER_CREATION_DISABLED','4GVshJa','../errors/AppError','disabled','3350340dHNbQJ','ERR_NO_PERMISSION','183096ujWBQj','userCreation','/signup','4096052eCeBNm','../helpers/CheckSettings','search','profile','store','emit','../services/UserServices/UpdateUserService','json','-mainchannel','default','-user','company-','../services/UserServices/ShowUserService','params','User\x20deleted','4739958XMWShl','__esModule','list','83277UEcPEW','7947198yXkFJU','isSuper','update','3688dMLSPH','../services/UserServices/CreateUserService','../libs/socket','remove','getIO','create','storeFromCompanySettings','body','(((.+)+)+)+$'];a44_0xc9b8=function(){return _0x4d8d03;};return a44_0xc9b8();}'use strict';var __importDefault=this&&this[a44_0x4d1980(0x181)]||function(_0x290a74){const _0x3cf844=a44_0x4d1980;return _0x290a74&&_0x290a74[_0x3cf844(0x171)]?_0x290a74:{'default':_0x290a74};};Object[a44_0x4d1980(0x18d)](exports,a44_0x4d1980(0x171),{'value':!![]}),exports[a44_0x4d1980(0x172)]=exports[a44_0x4d1980(0x17a)]=exports[a44_0x4d1980(0x176)]=exports['show']=exports[a44_0x4d1980(0x17d)]=exports['store']=exports['index']=void 0x0;const socket_1=require(a44_0x4d1980(0x179)),CheckSettings_1=__importDefault(require(a44_0x4d1980(0x199))),AppError_1=__importDefault(require(a44_0x4d1980(0x191))),CreateUserService_1=__importDefault(require(a44_0x4d1980(0x178))),ListUsersService_1=__importDefault(require(a44_0x4d1980(0x180))),UpdateUserService_1=__importDefault(require(a44_0x4d1980(0x167))),ShowUserService_1=__importDefault(require(a44_0x4d1980(0x16d))),DeleteUserService_1=__importDefault(require(a44_0x4d1980(0x187))),SimpleListService_1=__importDefault(require('../services/UserServices/SimpleListService')),index=async(_0x434f77,_0x288d5a)=>{const _0x41d5c2=a44_0x4d1980,{searchParam:_0x186dfb,pageNumber:_0x13c082}=_0x434f77[_0x41d5c2(0x188)],{companyId:_0x5db4b3,profile:_0x14c7ec}=_0x434f77[_0x41d5c2(0x185)],{users:_0x3f7e6a,onlineCount:_0x123991,offlineCount:_0x538d14,count:_0x282612,hasMore:_0x3d6a5b}=await(0x0,ListUsersService_1[_0x41d5c2(0x16a)])({'searchParam':_0x186dfb,'pageNumber':_0x13c082,'companyId':_0x5db4b3,'profile':_0x14c7ec});return _0x288d5a[_0x41d5c2(0x168)]({'users':_0x3f7e6a,'onlineCount':_0x123991,'offlineCount':_0x538d14,'count':_0x282612,'hasMore':_0x3d6a5b});};exports['index']=index;const store=async(_0x3b4abd,_0x24ea9a)=>{const _0x877e13=a44_0x4d1980,{email:_0xd79eda,password:_0x92b841,name:_0x435a82,profile:_0x3ab6fa,isTricked:_0xd4b2e4,super:_0x695303,companyId:_0x52c37c,queueIds:_0x2a8a7c,allTicket:_0x547c43,whatsappId:_0x81dbb4,startWork:_0x322bd0,endWork:_0x16d537,profileState:_0x3ca8b4,defaultMenu:_0x1694b5}=_0x3b4abd['body'];let _0x21be4c=null;if(_0x3b4abd[_0x877e13(0x185)]!==undefined){const {companyId:_0x44f155}=_0x3b4abd['user'];_0x21be4c=_0x44f155;}if(_0x3b4abd[_0x877e13(0x17e)][_0x877e13(0x189)]&&_0x3b4abd['user'][_0x877e13(0x189)]!==_0x3b4abd['body'][_0x877e13(0x189)])throw new AppError_1[(_0x877e13(0x16a))](_0x877e13(0x18e));if(!_0x3b4abd[_0x877e13(0x185)]['isSuper']&&_0x695303)throw new AppError_1[(_0x877e13(0x16a))](_0x877e13(0x183));if(_0x3b4abd[_0x877e13(0x182)]===_0x877e13(0x197)&&await(0x0,CheckSettings_1['default'])(_0x877e13(0x196))===_0x877e13(0x192))throw new AppError_1['default'](_0x877e13(0x18f),0x193);else{if(_0x3b4abd[_0x877e13(0x182)]!==_0x877e13(0x197)&&_0x3b4abd[_0x877e13(0x185)][_0x877e13(0x19b)]!==_0x877e13(0x184))throw new AppError_1[(_0x877e13(0x16a))]('ERR_NO_PERMISSION',0x193);}const _0x4f1d51=await(0x0,CreateUserService_1[_0x877e13(0x16a)])({'email':_0xd79eda,'password':_0x92b841,'name':_0x435a82,'profile':_0x3ab6fa,'isTricked':_0xd4b2e4,'super':_0x695303,'companyId':_0x52c37c||_0x21be4c,'queueIds':_0x2a8a7c,'allTicket':_0x547c43,'whatsappId':_0x81dbb4,'startWork':_0x322bd0,'endWork':_0x16d537,'defaultMenu':_0x1694b5}),_0x430e18=(0x0,socket_1['getIO'])();return _0x430e18[_0x877e13(0x166)](_0x877e13(0x16c)+_0x21be4c+'-user',{'action':_0x877e13(0x17c),'user':_0x4f1d51}),_0x24ea9a[_0x877e13(0x186)](0xc8)[_0x877e13(0x168)](_0x4f1d51);};exports[a44_0x4d1980(0x165)]=store;const storeFromCompanySettings=async(_0x248492,_0x73a85b)=>{const _0x473120=a44_0x4d1980,{email:_0x136b94,password:_0x2ca08c,name:_0x45880b,profile:_0xf7a63f,isTricked:_0x11527a,super:_0x556158,companyId:_0x20d5d2,queueIds:_0xbf0690,allTicket:_0x2d7573,whatsappId:_0x37002c,startWork:_0x3a2f41,endWork:_0x1c7100,profileState:_0x96ce6b,defaultMenu:_0x141ea4}=_0x248492[_0x473120(0x17e)];let _0x1b5ead=null;if(_0x248492[_0x473120(0x185)]!==undefined){const {companyId:_0x5b0bbc}=_0x248492[_0x473120(0x185)];_0x1b5ead=_0x5b0bbc;}if(_0x248492['body']['companyId']&&_0x248492[_0x473120(0x185)]['companyId']!==_0x248492['body'][_0x473120(0x189)])throw new AppError_1['default'](_0x473120(0x18e));if(!_0x248492[_0x473120(0x185)][_0x473120(0x175)]&&_0x556158)throw new AppError_1[(_0x473120(0x16a))]('Acesso\x20negado.');if(_0x248492[_0x473120(0x182)]==='/signup'&&await(0x0,CheckSettings_1[_0x473120(0x16a)])(_0x473120(0x196))==='disabled')throw new AppError_1[(_0x473120(0x16a))](_0x473120(0x18f),0x193);else{if(_0x248492[_0x473120(0x182)]!==_0x473120(0x197)&&_0x248492['user'][_0x473120(0x19b)]!==_0x473120(0x184))throw new AppError_1[(_0x473120(0x16a))](_0x473120(0x194),0x193);}const _0x369526=await(0x0,CreateUserService_1[_0x473120(0x16a)])({'email':_0x136b94,'password':_0x2ca08c,'name':_0x45880b,'profile':_0xf7a63f,'isTricked':_0x11527a,'super':_0x556158,'companyId':_0x20d5d2||_0x1b5ead,'queueIds':_0xbf0690,'allTicket':_0x2d7573,'whatsappId':_0x37002c,'startWork':_0x3a2f41,'endWork':_0x1c7100,'defaultMenu':_0x141ea4}),_0x165e44=(0x0,socket_1[_0x473120(0x17b)])();return _0x165e44['to']('company-'+_0x1b5ead+_0x473120(0x169))[_0x473120(0x166)]('company-'+_0x1b5ead+_0x473120(0x16b),{'action':_0x473120(0x17c),'user':_0x369526}),_0x73a85b[_0x473120(0x186)](0xc8)[_0x473120(0x168)](_0x369526);};exports[a44_0x4d1980(0x17d)]=storeFromCompanySettings;const show=async(_0xd94f3,_0x245ca9)=>{const _0x15ced6=a44_0x4d1980,{userId:_0x462b92}=_0xd94f3[_0x15ced6(0x16e)],_0x4c30e0=await(0x0,ShowUserService_1['default'])(_0x462b92,_0xd94f3['user']['id']);return _0x245ca9[_0x15ced6(0x186)](0xc8)['json'](_0x4c30e0);};exports['show']=show;const update=async(_0x5b0d31,_0x4bdc0a)=>{const _0x472886=a44_0x4d1980,{id:_0xd93cf4,companyId:_0x1bed9f}=_0x5b0d31['user'],{userId:_0x404887}=_0x5b0d31[_0x472886(0x16e)],_0x50ace6=_0x5b0d31[_0x472886(0x17e)],_0x286f86=await(0x0,UpdateUserService_1[_0x472886(0x16a)])({'userData':_0x50ace6,'userId':_0x404887,'requestUserId':+_0xd93cf4}),_0x3d29c2=(0x0,socket_1[_0x472886(0x17b)])();return _0x3d29c2['to']('company-'+_0x1bed9f+_0x472886(0x169))[_0x472886(0x166)]('company-'+_0x1bed9f+_0x472886(0x16b),{'action':_0x472886(0x176),'user':_0x286f86}),_0x4bdc0a[_0x472886(0x186)](0xc8)[_0x472886(0x168)](_0x286f86);};exports[a44_0x4d1980(0x176)]=update;const remove=async(_0x912597,_0xea98a9)=>{const _0x35077e=a44_0x4d1980,{userId:_0x11946a}=_0x912597['params'],{companyId:_0xcb30eb}=_0x912597[_0x35077e(0x185)];if(_0x912597[_0x35077e(0x185)][_0x35077e(0x19b)]!==_0x35077e(0x184))throw new AppError_1[(_0x35077e(0x16a))](_0x35077e(0x194),0x193);await(0x0,DeleteUserService_1[_0x35077e(0x16a)])(_0x11946a,_0x912597[_0x35077e(0x185)]['id']);const _0x4a5852=(0x0,socket_1[_0x35077e(0x17b)])();return _0x4a5852['to'](_0x35077e(0x16c)+_0xcb30eb+_0x35077e(0x169))[_0x35077e(0x166)](_0x35077e(0x16c)+_0xcb30eb+'-user',{'action':_0x35077e(0x18b),'userId':_0x11946a}),_0xea98a9[_0x35077e(0x186)](0xc8)[_0x35077e(0x168)]({'message':_0x35077e(0x16f)});};exports[a44_0x4d1980(0x17a)]=remove;const list=async(_0x40297a,_0x114f0b)=>{const _0x404a3c=a44_0x4d1980,{companyId:_0x5d6a9b}=_0x40297a[_0x404a3c(0x188)],{companyId:_0x3246fd}=_0x40297a[_0x404a3c(0x185)],_0x25e988=await(0x0,SimpleListService_1[_0x404a3c(0x16a)])({'companyId':_0x5d6a9b?+_0x5d6a9b:_0x3246fd});return _0x114f0b[_0x404a3c(0x186)](0xc8)[_0x404a3c(0x168)](_0x25e988);};exports[a44_0x4d1980(0x172)]=list;