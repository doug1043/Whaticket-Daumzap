const a44_0x4adba3=a44_0x476a;(function(_0x109374,_0x260a43){const _0x504710=a44_0x476a,_0x581773=_0x109374();while(!![]){try{const _0x2f3ea8=parseInt(_0x504710(0x1ca))/0x1*(parseInt(_0x504710(0x1f9))/0x2)+parseInt(_0x504710(0x1e3))/0x3*(-parseInt(_0x504710(0x1ce))/0x4)+-parseInt(_0x504710(0x1cf))/0x5*(-parseInt(_0x504710(0x1f3))/0x6)+parseInt(_0x504710(0x1f5))/0x7*(parseInt(_0x504710(0x1dd))/0x8)+parseInt(_0x504710(0x1f1))/0x9+-parseInt(_0x504710(0x1c6))/0xa+-parseInt(_0x504710(0x1f7))/0xb*(parseInt(_0x504710(0x1c7))/0xc);if(_0x2f3ea8===_0x260a43)break;else _0x581773['push'](_0x581773['shift']());}catch(_0x1c3cac){_0x581773['push'](_0x581773['shift']());}}}(a44_0x443b,0x6fdf5));const a44_0x3e672f=(function(){let _0x4965a2=!![];return function(_0xed9c95,_0x4eeed3){const _0x21721c=_0x4965a2?function(){const _0x1b08ef=a44_0x476a;if(_0x4eeed3){const _0x48d696=_0x4eeed3[_0x1b08ef(0x1ee)](_0xed9c95,arguments);return _0x4eeed3=null,_0x48d696;}}:function(){};return _0x4965a2=![],_0x21721c;};}()),a44_0x25397c=a44_0x3e672f(this,function(){const _0x5c646f=a44_0x476a;return a44_0x25397c[_0x5c646f(0x1f4)]()['search'](_0x5c646f(0x1f6))[_0x5c646f(0x1f4)]()['constructor'](a44_0x25397c)[_0x5c646f(0x1c9)](_0x5c646f(0x1f6));});a44_0x25397c();'use strict';var __importDefault=this&&this[a44_0x4adba3(0x1ed)]||function(_0x3eb186){const _0x6f3fc5=a44_0x4adba3;return _0x3eb186&&_0x3eb186[_0x6f3fc5(0x1e8)]?_0x3eb186:{'default':_0x3eb186};};Object[a44_0x4adba3(0x1c4)](exports,a44_0x4adba3(0x1e8),{'value':!![]}),exports['list']=exports['remove']=exports[a44_0x4adba3(0x1d2)]=exports['show']=exports[a44_0x4adba3(0x1d5)]=exports['store']=exports[a44_0x4adba3(0x1e7)]=void 0x0;const socket_1=require(a44_0x4adba3(0x1cc)),CheckSettings_1=__importDefault(require(a44_0x4adba3(0x1ea))),AppError_1=__importDefault(require(a44_0x4adba3(0x1d4))),CreateUserService_1=__importDefault(require(a44_0x4adba3(0x1da))),ListUsersService_1=__importDefault(require(a44_0x4adba3(0x1bf))),UpdateUserService_1=__importDefault(require(a44_0x4adba3(0x1d1))),ShowUserService_1=__importDefault(require(a44_0x4adba3(0x1eb))),DeleteUserService_1=__importDefault(require(a44_0x4adba3(0x1f2))),SimpleListService_1=__importDefault(require(a44_0x4adba3(0x1db))),index=async(_0x2c95c5,_0x286bd2)=>{const _0x1aa2ef=a44_0x4adba3,{searchParam:_0x3a34ee,pageNumber:_0x3412bb}=_0x2c95c5[_0x1aa2ef(0x1d0)],{companyId:_0x56fdb4,profile:_0x53361b}=_0x2c95c5[_0x1aa2ef(0x1c8)],{users:_0xd5de61,onlineCount:_0x519668,offlineCount:_0xb050b6,count:_0xecf00b,hasMore:_0x53bc5d}=await(0x0,ListUsersService_1['default'])({'searchParam':_0x3a34ee,'pageNumber':_0x3412bb,'companyId':_0x56fdb4,'profile':_0x53361b});return _0x286bd2[_0x1aa2ef(0x1d7)]({'users':_0xd5de61,'onlineCount':_0x519668,'offlineCount':_0xb050b6,'count':_0xecf00b,'hasMore':_0x53bc5d});};exports[a44_0x4adba3(0x1e7)]=index;const store=async(_0x3c3993,_0x3039a6)=>{const _0x264c71=a44_0x4adba3,{email:_0x5083ab,password:_0x5ee4ca,name:_0x17da53,profile:_0x3e4d8c,isTricked:_0x4ae1b3,super:_0x7db94e,companyId:_0x50999b,queueIds:_0x23443b,allTicket:_0x1d10ed,whatsappId:_0x5c6650,startWork:_0x55347f,endWork:_0x19327b,profileState:_0x5e64a7,defaultMenu:_0x11739c}=_0x3c3993[_0x264c71(0x1d8)];let _0x5d8f14=null;if(_0x3c3993[_0x264c71(0x1c8)]!==undefined){const {companyId:_0x8faf81}=_0x3c3993['user'];_0x5d8f14=_0x8faf81;}if(_0x3c3993[_0x264c71(0x1d8)]['companyId']&&_0x3c3993[_0x264c71(0x1c8)][_0x264c71(0x1d6)]!==_0x3c3993[_0x264c71(0x1d8)]['companyId'])throw new AppError_1['default'](_0x264c71(0x1dc));if(!_0x3c3993[_0x264c71(0x1c8)][_0x264c71(0x1cb)]&&_0x7db94e)throw new AppError_1[(_0x264c71(0x1e4))](_0x264c71(0x1c1));if(_0x3c3993['url']==='/signup'&&await(0x0,CheckSettings_1[_0x264c71(0x1e4)])(_0x264c71(0x1e1))===_0x264c71(0x1ec))throw new AppError_1['default'](_0x264c71(0x1c0),0x193);else{if(_0x3c3993[_0x264c71(0x1f8)]!==_0x264c71(0x1d9)&&_0x3c3993[_0x264c71(0x1c8)][_0x264c71(0x1df)]!==_0x264c71(0x1f0))throw new AppError_1['default'](_0x264c71(0x1c2),0x193);}const _0x579488=await(0x0,CreateUserService_1['default'])({'email':_0x5083ab,'password':_0x5ee4ca,'name':_0x17da53,'profile':_0x3e4d8c,'isTricked':_0x4ae1b3,'super':_0x7db94e,'companyId':_0x50999b||_0x5d8f14,'queueIds':_0x23443b,'allTicket':_0x1d10ed,'whatsappId':_0x5c6650,'startWork':_0x55347f,'endWork':_0x19327b,'defaultMenu':_0x11739c}),_0x450f41=(0x0,socket_1['getIO'])();return _0x450f41['emit'](_0x264c71(0x1cd)+_0x5d8f14+_0x264c71(0x1de),{'action':_0x264c71(0x1d3),'user':_0x579488}),_0x3039a6['status'](0xc8)[_0x264c71(0x1d7)](_0x579488);};exports[a44_0x4adba3(0x1e0)]=store;const storeFromCompanySettings=async(_0x3e6f8e,_0x608655)=>{const _0x42034a=a44_0x4adba3,{email:_0x59f5f6,password:_0x80c54d,name:_0x21cb67,profile:_0x241d8b,isTricked:_0x1798cc,super:_0x130d4e,companyId:_0x477fef,queueIds:_0x28d5f7,allTicket:_0x9c400a,whatsappId:_0x24d64d,startWork:_0x45a357,endWork:_0x4466a4,profileState:_0x198a8c,defaultMenu:_0x16f815}=_0x3e6f8e[_0x42034a(0x1d8)];let _0x357282=null;if(_0x3e6f8e['user']!==undefined){const {companyId:_0x580055}=_0x3e6f8e['user'];_0x357282=_0x580055;}if(_0x3e6f8e['body'][_0x42034a(0x1d6)]&&_0x3e6f8e[_0x42034a(0x1c8)][_0x42034a(0x1d6)]!==_0x3e6f8e[_0x42034a(0x1d8)][_0x42034a(0x1d6)])throw new AppError_1[(_0x42034a(0x1e4))](_0x42034a(0x1dc));if(!_0x3e6f8e[_0x42034a(0x1c8)][_0x42034a(0x1cb)]&&_0x130d4e)throw new AppError_1[(_0x42034a(0x1e4))](_0x42034a(0x1c1));if(_0x3e6f8e[_0x42034a(0x1f8)]===_0x42034a(0x1d9)&&await(0x0,CheckSettings_1['default'])(_0x42034a(0x1e1))===_0x42034a(0x1ec))throw new AppError_1['default'](_0x42034a(0x1c0),0x193);else{if(_0x3e6f8e[_0x42034a(0x1f8)]!=='/signup'&&_0x3e6f8e[_0x42034a(0x1c8)][_0x42034a(0x1df)]!=='admin')throw new AppError_1[(_0x42034a(0x1e4))](_0x42034a(0x1c2),0x193);}const _0x5806d8=await(0x0,CreateUserService_1[_0x42034a(0x1e4)])({'email':_0x59f5f6,'password':_0x80c54d,'name':_0x21cb67,'profile':_0x241d8b,'isTricked':_0x1798cc,'super':_0x130d4e,'companyId':_0x477fef||_0x357282,'queueIds':_0x28d5f7,'allTicket':_0x9c400a,'whatsappId':_0x24d64d,'startWork':_0x45a357,'endWork':_0x4466a4,'defaultMenu':_0x16f815}),_0x5513c9=(0x0,socket_1[_0x42034a(0x1c5)])();return _0x5513c9['to'](_0x42034a(0x1cd)+_0x357282+_0x42034a(0x1c3))[_0x42034a(0x1e2)](_0x42034a(0x1cd)+_0x357282+_0x42034a(0x1de),{'action':_0x42034a(0x1d3),'user':_0x5806d8}),_0x608655[_0x42034a(0x1be)](0xc8)[_0x42034a(0x1d7)](_0x5806d8);};exports[a44_0x4adba3(0x1d5)]=storeFromCompanySettings;const show=async(_0x55eb09,_0x1959e8)=>{const _0x39b5f1=a44_0x4adba3,{userId:_0x5a04a5}=_0x55eb09[_0x39b5f1(0x1e6)],_0x18ee5c=await(0x0,ShowUserService_1['default'])(_0x5a04a5,_0x55eb09[_0x39b5f1(0x1c8)]['id']);return _0x1959e8[_0x39b5f1(0x1be)](0xc8)[_0x39b5f1(0x1d7)](_0x18ee5c);};exports[a44_0x4adba3(0x1e5)]=show;const update=async(_0x344f2c,_0x2de9fb)=>{const _0x2c25fc=a44_0x4adba3,{id:_0x292b2b,companyId:_0x5136d1}=_0x344f2c[_0x2c25fc(0x1c8)],{userId:_0x840a5f}=_0x344f2c[_0x2c25fc(0x1e6)],_0x16fd5f=_0x344f2c['body'],_0x49805d=await(0x0,UpdateUserService_1[_0x2c25fc(0x1e4)])({'userData':_0x16fd5f,'userId':_0x840a5f,'requestUserId':+_0x292b2b}),_0xfa965d=(0x0,socket_1[_0x2c25fc(0x1c5)])();return _0xfa965d['to'](_0x2c25fc(0x1cd)+_0x5136d1+'-mainchannel')[_0x2c25fc(0x1e2)](_0x2c25fc(0x1cd)+_0x5136d1+_0x2c25fc(0x1de),{'action':_0x2c25fc(0x1d2),'user':_0x49805d}),_0x2de9fb[_0x2c25fc(0x1be)](0xc8)[_0x2c25fc(0x1d7)](_0x49805d);};exports[a44_0x4adba3(0x1d2)]=update;function a44_0x476a(_0x32bfaf,_0x1c7163){const _0x35462d=a44_0x443b();return a44_0x476a=function(_0x25397c,_0x3e672f){_0x25397c=_0x25397c-0x1be;let _0x443ba3=_0x35462d[_0x25397c];return _0x443ba3;},a44_0x476a(_0x32bfaf,_0x1c7163);}const remove=async(_0x5a8150,_0x472b52)=>{const _0x1c480b=a44_0x4adba3,{userId:_0x402ca2}=_0x5a8150[_0x1c480b(0x1e6)],{companyId:_0x3e37d6}=_0x5a8150[_0x1c480b(0x1c8)];if(_0x5a8150['user'][_0x1c480b(0x1df)]!=='admin')throw new AppError_1[(_0x1c480b(0x1e4))](_0x1c480b(0x1c2),0x193);await(0x0,DeleteUserService_1[_0x1c480b(0x1e4)])(_0x402ca2,_0x5a8150[_0x1c480b(0x1c8)]['id']);const _0x4a0c72=(0x0,socket_1['getIO'])();return _0x4a0c72['to']('company-'+_0x3e37d6+_0x1c480b(0x1c3))[_0x1c480b(0x1e2)](_0x1c480b(0x1cd)+_0x3e37d6+_0x1c480b(0x1de),{'action':_0x1c480b(0x1e9),'userId':_0x402ca2}),_0x472b52['status'](0xc8)[_0x1c480b(0x1d7)]({'message':'User\x20deleted'});};function a44_0x443b(){const _0x211c53=['user','search','94414YWcAzZ','isSuper','../libs/socket','company-','24816TJOMwo','2273720NiuIgE','query','../services/UserServices/UpdateUserService','update','create','../errors/AppError','storeFromCompanySettings','companyId','json','body','/signup','../services/UserServices/CreateUserService','../services/UserServices/SimpleListService','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','584OaYJUN','-user','profile','store','userCreation','emit','183SghDzX','default','show','params','index','__esModule','delete','../helpers/CheckSettings','../services/UserServices/ShowUserService','disabled','__importDefault','apply','list','admin','5971608zWXiQb','../services/UserServices/DeleteUserService','12blIort','toString','29239jFGFGH','(((.+)+)+)+$','11441133ucVEuM','url','2qGnJvP','status','../services/UserServices/ListUsersService','ERR_USER_CREATION_DISABLED','Acesso\x20negado.','ERR_NO_PERMISSION','-mainchannel','defineProperty','getIO','955590TaZDfa','12SxPtJU'];a44_0x443b=function(){return _0x211c53;};return a44_0x443b();}exports['remove']=remove;const list=async(_0x527669,_0x3d002a)=>{const _0x1e72d0=a44_0x4adba3,{companyId:_0x1f12de}=_0x527669[_0x1e72d0(0x1d0)],{companyId:_0x53ecae}=_0x527669['user'],_0x523c28=await(0x0,SimpleListService_1[_0x1e72d0(0x1e4)])({'companyId':_0x1f12de?+_0x1f12de:_0x53ecae});return _0x3d002a[_0x1e72d0(0x1be)](0xc8)[_0x1e72d0(0x1d7)](_0x523c28);};exports[a44_0x4adba3(0x1ef)]=list;