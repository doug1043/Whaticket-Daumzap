const a43_0x415260=a43_0xa632;(function(_0x2b2202,_0x955a28){const _0x11ab79=a43_0xa632,_0xc45b70=_0x2b2202();while(!![]){try{const _0x18a20a=-parseInt(_0x11ab79(0x20b))/0x1*(-parseInt(_0x11ab79(0x1ec))/0x2)+parseInt(_0x11ab79(0x1df))/0x3+parseInt(_0x11ab79(0x1e9))/0x4+parseInt(_0x11ab79(0x1f8))/0x5*(parseInt(_0x11ab79(0x209))/0x6)+parseInt(_0x11ab79(0x1f3))/0x7*(-parseInt(_0x11ab79(0x1f4))/0x8)+-parseInt(_0x11ab79(0x1e8))/0x9*(parseInt(_0x11ab79(0x200))/0xa)+-parseInt(_0x11ab79(0x1e2))/0xb*(-parseInt(_0x11ab79(0x212))/0xc);if(_0x18a20a===_0x955a28)break;else _0xc45b70['push'](_0xc45b70['shift']());}catch(_0x58e356){_0xc45b70['push'](_0xc45b70['shift']());}}}(a43_0x50e7,0x355d3));const a43_0x1f671c=(function(){let _0x24ab2a=!![];return function(_0x487fe2,_0x2f157a){const _0x6a2618=_0x24ab2a?function(){if(_0x2f157a){const _0x5caae0=_0x2f157a['apply'](_0x487fe2,arguments);return _0x2f157a=null,_0x5caae0;}}:function(){};return _0x24ab2a=![],_0x6a2618;};}()),a43_0x15fee6=a43_0x1f671c(this,function(){const _0x55301a=a43_0xa632;return a43_0x15fee6['toString']()[_0x55301a(0x20a)](_0x55301a(0x208))[_0x55301a(0x1fe)]()['constructor'](a43_0x15fee6)['search'](_0x55301a(0x208));});a43_0x15fee6();'use strict';var __importDefault=this&&this[a43_0x415260(0x1e6)]||function(_0x41dccb){const _0x21b42c=a43_0x415260;return _0x41dccb&&_0x41dccb[_0x21b42c(0x206)]?_0x41dccb:{'default':_0x41dccb};};function a43_0xa632(_0xea48b0,_0x4f070e){const _0x4fdfb9=a43_0x50e7();return a43_0xa632=function(_0x15fee6,_0x1f671c){_0x15fee6=_0x15fee6-0x1de;let _0x50e70c=_0x4fdfb9[_0x15fee6];return _0x50e70c;},a43_0xa632(_0xea48b0,_0x4f070e);}Object[a43_0x415260(0x1e0)](exports,a43_0x415260(0x206),{'value':!![]}),exports[a43_0x415260(0x1e4)]=exports[a43_0x415260(0x207)]=exports['update']=exports[a43_0x415260(0x1ea)]=exports[a43_0x415260(0x1e1)]=exports[a43_0x415260(0x1ef)]=void 0x0;const socket_1=require(a43_0x415260(0x201)),AppError_1=__importDefault(require(a43_0x415260(0x1f7))),CreateUserService_1=__importDefault(require(a43_0x415260(0x1e3))),ListUsersService_1=__importDefault(require('../services/UserServices/ListUsersService')),UpdateUserService_1=__importDefault(require('../services/UserServices/UpdateUserService')),ShowUserService_1=__importDefault(require(a43_0x415260(0x1e5))),DeleteUserService_1=__importDefault(require(a43_0x415260(0x1eb))),SimpleListService_1=__importDefault(require(a43_0x415260(0x1fc))),User_1=__importDefault(require(a43_0x415260(0x20d))),index=async(_0x230c98,_0x1c2a14)=>{const _0x19ae97=a43_0x415260,{searchParam:_0x1a8b8e,pageNumber:_0x240118}=_0x230c98[_0x19ae97(0x1ee)],{companyId:_0x549cc0,profile:_0x1db4a9}=_0x230c98[_0x19ae97(0x20e)],{users:_0x156a2e,onlineCount:_0x281838,offlineCount:_0x2f6fa1,count:_0x321afe,hasMore:_0x2ca24b}=await(0x0,ListUsersService_1['default'])({'searchParam':_0x1a8b8e,'pageNumber':_0x240118,'companyId':_0x549cc0,'profile':_0x1db4a9});return _0x1c2a14[_0x19ae97(0x20c)]({'users':_0x156a2e,'onlineCount':_0x281838,'offlineCount':_0x2f6fa1,'count':_0x321afe,'hasMore':_0x2ca24b});};exports['index']=index;const store=async(_0x5ac34f,_0x3923d1)=>{const _0x25a8a2=a43_0x415260,{email:_0x24bfb3,password:_0x3f7bd3,name:_0x2c828c,profile:_0x31a882,companyId:_0x243599,queueIds:_0x5335e0}=_0x5ac34f[_0x25a8a2(0x211)];let _0x1a6de0=null,_0x30e689=null;if(_0x5ac34f[_0x25a8a2(0x20e)]!==undefined){const {companyId:_0x401333}=_0x5ac34f[_0x25a8a2(0x20e)];_0x1a6de0=_0x401333,_0x30e689=await User_1[_0x25a8a2(0x1ff)][_0x25a8a2(0x1ed)](_0x5ac34f[_0x25a8a2(0x20e)]['id']);}const _0x4d2ac8=_0x243599||_0x1a6de0;if(_0x5ac34f['user']?.[_0x25a8a2(0x1f0)]!==_0x25a8a2(0x1e7))throw new AppError_1[(_0x25a8a2(0x1ff))](_0x25a8a2(0x210),0x193);else{if(_0x4d2ac8!==_0x5ac34f[_0x25a8a2(0x20e)]?.[_0x25a8a2(0x1fd)]&&!_0x30e689?.[_0x25a8a2(0x1de)])throw new AppError_1['default'](_0x25a8a2(0x202),0x193);}const _0x3ffd98=await(0x0,CreateUserService_1[_0x25a8a2(0x1ff)])({'email':_0x24bfb3,'password':_0x3f7bd3,'name':_0x2c828c,'profile':_0x31a882,'companyId':_0x4d2ac8,'queueIds':_0x5335e0}),_0x4bc3ee=(0x0,socket_1[_0x25a8a2(0x1fb)])();return _0x4bc3ee[_0x25a8a2(0x203)](_0x25a8a2(0x1fa)+_0x1a6de0+_0x25a8a2(0x20f),{'action':_0x25a8a2(0x205),'user':_0x3ffd98}),_0x3923d1[_0x25a8a2(0x204)](0xc8)[_0x25a8a2(0x20c)](_0x3ffd98);};exports[a43_0x415260(0x1e1)]=store;const show=async(_0xb9ce50,_0x352062)=>{const _0x8cc9c4=a43_0x415260,{userId:_0x41ff9a}=_0xb9ce50[_0x8cc9c4(0x1f2)],_0x2dbea5=await(0x0,ShowUserService_1[_0x8cc9c4(0x1ff)])(_0x41ff9a,_0xb9ce50[_0x8cc9c4(0x20e)]['id']);return _0x352062[_0x8cc9c4(0x204)](0xc8)[_0x8cc9c4(0x20c)](_0x2dbea5);};exports[a43_0x415260(0x1ea)]=show;function a43_0x50e7(){const _0x480ffd=['680faAynR','../libs/socket','ERR_NO_SUPER','emit','status','create','__esModule','remove','(((.+)+)+)+$','434502nfEtTw','search','7AfuTaL','json','../models/User','user','-user','ERR_NO_PERMISSION','body','48rxlNWy','super','488994jVkmqe','defineProperty','store','1132692hGmWXu','../services/UserServices/CreateUserService','list','../services/UserServices/ShowUserService','__importDefault','admin','31158rKTPTD','190100jlaCWc','show','../services/UserServices/DeleteUserService','950PwVetW','findByPk','query','index','profile','update','params','569702vgENKJ','24HeTIbJ','ERR_FORBIDDEN','delete','../errors/AppError','5QICGst','User\x20deleted','company-','getIO','../services/UserServices/SimpleListService','companyId','toString','default'];a43_0x50e7=function(){return _0x480ffd;};return a43_0x50e7();}const update=async(_0x56e1d1,_0x395105)=>{const _0x2ecaa4=a43_0x415260,{id:_0x3a2773,companyId:_0x356e3a}=_0x56e1d1['user'],{userId:_0x3804af}=_0x56e1d1[_0x2ecaa4(0x1f2)],_0x425067=_0x56e1d1[_0x2ecaa4(0x211)],_0x504e44=await(0x0,UpdateUserService_1[_0x2ecaa4(0x1ff)])({'userData':_0x425067,'userId':_0x3804af,'requestUserId':+_0x3a2773}),_0x59d1f9=(0x0,socket_1[_0x2ecaa4(0x1fb)])();return _0x59d1f9[_0x2ecaa4(0x203)]('company-'+_0x356e3a+_0x2ecaa4(0x20f),{'action':_0x2ecaa4(0x1f1),'user':_0x504e44}),_0x395105[_0x2ecaa4(0x204)](0xc8)[_0x2ecaa4(0x20c)](_0x504e44);};exports[a43_0x415260(0x1f1)]=update;const remove=async(_0x4584bd,_0x34ebd5)=>{const _0x4e5538=a43_0x415260,{userId:_0xd3cce6}=_0x4584bd[_0x4e5538(0x1f2)],{companyId:_0x42a742}=_0x4584bd[_0x4e5538(0x20e)];if(_0x4584bd[_0x4e5538(0x20e)]['profile']!=='admin')throw new AppError_1[(_0x4e5538(0x1ff))]('ERR_NO_PERMISSION',0x193);if(Number(_0xd3cce6)===0x1)throw new AppError_1[(_0x4e5538(0x1ff))](_0x4e5538(0x1f5),0x193);await(0x0,DeleteUserService_1[_0x4e5538(0x1ff)])(_0xd3cce6,_0x4584bd[_0x4e5538(0x20e)]['id']);const _0x11f656=(0x0,socket_1['getIO'])();return _0x11f656[_0x4e5538(0x203)](_0x4e5538(0x1fa)+_0x42a742+_0x4e5538(0x20f),{'action':_0x4e5538(0x1f6),'userId':_0xd3cce6}),_0x34ebd5[_0x4e5538(0x204)](0xc8)[_0x4e5538(0x20c)]({'message':_0x4e5538(0x1f9)});};exports[a43_0x415260(0x207)]=remove;const list=async(_0x3f9cd3,_0x47cd89)=>{const _0x22049c=a43_0x415260,{companyId:_0x59741a}=_0x3f9cd3[_0x22049c(0x1ee)],{companyId:_0x583641}=_0x3f9cd3[_0x22049c(0x20e)],_0x422f7a=await(0x0,SimpleListService_1[_0x22049c(0x1ff)])({'companyId':_0x59741a?+_0x59741a:_0x583641});return _0x47cd89[_0x22049c(0x204)](0xc8)[_0x22049c(0x20c)](_0x422f7a);};exports['list']=list;