const a44_0x4b9747=a44_0x2d63;(function(_0x589b6c,_0x5f0de4){const _0x2aeae4=a44_0x2d63,_0x59bcd0=_0x589b6c();while(!![]){try{const _0xab3063=parseInt(_0x2aeae4(0xc3))/0x1*(parseInt(_0x2aeae4(0xeb))/0x2)+parseInt(_0x2aeae4(0xcb))/0x3+-parseInt(_0x2aeae4(0xea))/0x4+parseInt(_0x2aeae4(0xd1))/0x5*(-parseInt(_0x2aeae4(0xc5))/0x6)+-parseInt(_0x2aeae4(0xfa))/0x7+parseInt(_0x2aeae4(0xef))/0x8*(parseInt(_0x2aeae4(0xf6))/0x9)+parseInt(_0x2aeae4(0xdf))/0xa;if(_0xab3063===_0x5f0de4)break;else _0x59bcd0['push'](_0x59bcd0['shift']());}catch(_0x2bad7c){_0x59bcd0['push'](_0x59bcd0['shift']());}}}(a44_0x515e,0x27e57));const a44_0x22a9c6=(function(){let _0x536a97=!![];return function(_0x467d6f,_0x2bd5e0){const _0x472cde=_0x536a97?function(){const _0x38ba4d=a44_0x2d63;if(_0x2bd5e0){const _0xcb2bc7=_0x2bd5e0[_0x38ba4d(0xd8)](_0x467d6f,arguments);return _0x2bd5e0=null,_0xcb2bc7;}}:function(){};return _0x536a97=![],_0x472cde;};}()),a44_0x17dea7=a44_0x22a9c6(this,function(){const _0x1c9f3e=a44_0x2d63;return a44_0x17dea7['toString']()[_0x1c9f3e(0xe7)]('(((.+)+)+)+$')[_0x1c9f3e(0xc4)]()[_0x1c9f3e(0xde)](a44_0x17dea7)['search'](_0x1c9f3e(0xf3));});a44_0x17dea7();'use strict';var __importDefault=this&&this[a44_0x4b9747(0xd9)]||function(_0x3e33a4){const _0x382a2e=a44_0x4b9747;return _0x3e33a4&&_0x3e33a4[_0x382a2e(0xdb)]?_0x3e33a4:{'default':_0x3e33a4};};Object[a44_0x4b9747(0xcd)](exports,a44_0x4b9747(0xdb),{'value':!![]}),exports['list']=exports[a44_0x4b9747(0xee)]=exports[a44_0x4b9747(0xe3)]=exports['show']=exports[a44_0x4b9747(0xce)]=exports[a44_0x4b9747(0xd5)]=exports[a44_0x4b9747(0xc6)]=void 0x0;const socket_1=require(a44_0x4b9747(0xd2)),CheckSettings_1=__importDefault(require('../helpers/CheckSettings')),AppError_1=__importDefault(require(a44_0x4b9747(0xc9))),CreateUserService_1=__importDefault(require(a44_0x4b9747(0xd6))),ListUsersService_1=__importDefault(require('../services/UserServices/ListUsersService')),UpdateUserService_1=__importDefault(require(a44_0x4b9747(0xf2))),ShowUserService_1=__importDefault(require('../services/UserServices/ShowUserService')),DeleteUserService_1=__importDefault(require(a44_0x4b9747(0xd0))),SimpleListService_1=__importDefault(require('../services/UserServices/SimpleListService')),index=async(_0x154506,_0x4494b1)=>{const _0x24e234=a44_0x4b9747,{searchParam:_0x4809dc,pageNumber:_0x19ad58}=_0x154506[_0x24e234(0xe9)],{companyId:_0x5d6635,profile:_0x26e48d}=_0x154506['user'],{users:_0x32c678,onlineCount:_0x77eb87,offlineCount:_0x2d3457,count:_0x3e1479,hasMore:_0x303f40}=await(0x0,ListUsersService_1['default'])({'searchParam':_0x4809dc,'pageNumber':_0x19ad58,'companyId':_0x5d6635,'profile':_0x26e48d});return _0x4494b1['json']({'users':_0x32c678,'onlineCount':_0x77eb87,'offlineCount':_0x2d3457,'count':_0x3e1479,'hasMore':_0x303f40});};exports[a44_0x4b9747(0xc6)]=index;const store=async(_0x3ebc48,_0x55e588)=>{const _0x11f9d3=a44_0x4b9747,{email:_0x2cc32c,password:_0x4d5803,name:_0x226086,profile:_0x384217,isTricked:_0x3ed704,super:_0x21a89b,companyId:_0x34a43d,queueIds:_0x77089b,allTicket:_0x2cc194,whatsappId:_0x14b39a,startWork:_0x596d9d,endWork:_0x2b0b59,profileState:_0x21b1bc,defaultMenu:_0x4fe560}=_0x3ebc48[_0x11f9d3(0xda)];let _0xb1502b=null;if(_0x3ebc48['user']!==undefined){const {companyId:_0x2ec40e}=_0x3ebc48[_0x11f9d3(0xec)];_0xb1502b=_0x2ec40e;}if(_0x3ebc48[_0x11f9d3(0xda)]['companyId']&&_0x3ebc48['user'][_0x11f9d3(0xcc)]!==_0x3ebc48['body'][_0x11f9d3(0xcc)])throw new AppError_1[(_0x11f9d3(0xe4))](_0x11f9d3(0xf9));if(!_0x3ebc48['user'][_0x11f9d3(0xf4)]&&_0x21a89b)throw new AppError_1[(_0x11f9d3(0xe4))](_0x11f9d3(0xd7));if(_0x3ebc48['url']===_0x11f9d3(0xed)&&await(0x0,CheckSettings_1['default'])(_0x11f9d3(0xe5))===_0x11f9d3(0xc8))throw new AppError_1['default'](_0x11f9d3(0xf0),0x193);else{if(_0x3ebc48[_0x11f9d3(0xe0)]!==_0x11f9d3(0xed)&&_0x3ebc48[_0x11f9d3(0xec)][_0x11f9d3(0xe1)]!==_0x11f9d3(0xf7))throw new AppError_1[(_0x11f9d3(0xe4))]('ERR_NO_PERMISSION',0x193);}const _0xe053e7=await(0x0,CreateUserService_1['default'])({'email':_0x2cc32c,'password':_0x4d5803,'name':_0x226086,'profile':_0x384217,'isTricked':_0x3ed704,'super':_0x21a89b,'companyId':_0x34a43d||_0xb1502b,'queueIds':_0x77089b,'allTicket':_0x2cc194,'whatsappId':_0x14b39a,'startWork':_0x596d9d,'endWork':_0x2b0b59,'defaultMenu':_0x4fe560}),_0x433b29=(0x0,socket_1[_0x11f9d3(0xcf)])();return _0x433b29[_0x11f9d3(0xca)]('company-'+_0xb1502b+_0x11f9d3(0xe6),{'action':_0x11f9d3(0xe2),'user':_0xe053e7}),_0x55e588[_0x11f9d3(0xd3)](0xc8)[_0x11f9d3(0xdc)](_0xe053e7);};exports[a44_0x4b9747(0xd5)]=store;const storeFromCompanySettings=async(_0x2fd473,_0x3ee579)=>{const _0x43c826=a44_0x4b9747,{email:_0x58e83d,password:_0x33b380,name:_0x494a58,profile:_0x55c385,isTricked:_0x101f18,super:_0x27a486,companyId:_0x359809,queueIds:_0x549473,allTicket:_0x30709d,whatsappId:_0x79d5db,startWork:_0x3ee248,endWork:_0x1355d8,profileState:_0x14a017,defaultMenu:_0x2a7445}=_0x2fd473[_0x43c826(0xda)];let _0x15321c=null;if(_0x2fd473[_0x43c826(0xec)]!==undefined){const {companyId:_0x2bb877}=_0x2fd473[_0x43c826(0xec)];_0x15321c=_0x2bb877;}if(_0x2fd473[_0x43c826(0xda)]['companyId']&&_0x2fd473[_0x43c826(0xec)][_0x43c826(0xcc)]!==_0x2fd473['body']['companyId'])throw new AppError_1[(_0x43c826(0xe4))](_0x43c826(0xf9));if(!_0x2fd473[_0x43c826(0xec)][_0x43c826(0xf4)]&&_0x27a486)throw new AppError_1[(_0x43c826(0xe4))](_0x43c826(0xd7));if(_0x2fd473[_0x43c826(0xe0)]===_0x43c826(0xed)&&await(0x0,CheckSettings_1[_0x43c826(0xe4)])(_0x43c826(0xe5))===_0x43c826(0xc8))throw new AppError_1[(_0x43c826(0xe4))]('ERR_USER_CREATION_DISABLED',0x193);else{if(_0x2fd473[_0x43c826(0xe0)]!==_0x43c826(0xed)&&_0x2fd473[_0x43c826(0xec)][_0x43c826(0xe1)]!=='admin')throw new AppError_1[(_0x43c826(0xe4))](_0x43c826(0xf8),0x193);}const _0x2615f4=await(0x0,CreateUserService_1[_0x43c826(0xe4)])({'email':_0x58e83d,'password':_0x33b380,'name':_0x494a58,'profile':_0x55c385,'isTricked':_0x101f18,'super':_0x27a486,'companyId':_0x359809||_0x15321c,'queueIds':_0x549473,'allTicket':_0x30709d,'whatsappId':_0x79d5db,'startWork':_0x3ee248,'endWork':_0x1355d8,'defaultMenu':_0x2a7445}),_0x327e85=(0x0,socket_1['getIO'])();return _0x327e85['to']('company-'+_0x15321c+_0x43c826(0xc7))[_0x43c826(0xca)](_0x43c826(0xdd)+_0x15321c+_0x43c826(0xe6),{'action':'create','user':_0x2615f4}),_0x3ee579[_0x43c826(0xd3)](0xc8)[_0x43c826(0xdc)](_0x2615f4);};exports[a44_0x4b9747(0xce)]=storeFromCompanySettings;const show=async(_0x46ec41,_0x121734)=>{const _0x2ca6cb=a44_0x4b9747,{userId:_0x541bac}=_0x46ec41[_0x2ca6cb(0xf5)],_0x44b7bd=await(0x0,ShowUserService_1[_0x2ca6cb(0xe4)])(_0x541bac,_0x46ec41[_0x2ca6cb(0xec)]['id']);return _0x121734['status'](0xc8)[_0x2ca6cb(0xdc)](_0x44b7bd);};exports['show']=show;function a44_0x2d63(_0x46e893,_0x12bd41){const _0x46ae69=a44_0x515e();return a44_0x2d63=function(_0x17dea7,_0x22a9c6){_0x17dea7=_0x17dea7-0xc3;let _0x515ec1=_0x46ae69[_0x17dea7];return _0x515ec1;},a44_0x2d63(_0x46e893,_0x12bd41);}const update=async(_0x355e5c,_0x2cb24f)=>{const _0x5223c2=a44_0x4b9747,{id:_0x49299a,companyId:_0x22032c}=_0x355e5c['user'],{userId:_0x481a2e}=_0x355e5c[_0x5223c2(0xf5)],_0x30ecdf=_0x355e5c[_0x5223c2(0xda)],_0x1a290e=await(0x0,UpdateUserService_1[_0x5223c2(0xe4)])({'userData':_0x30ecdf,'userId':_0x481a2e,'requestUserId':+_0x49299a}),_0xc7751e=(0x0,socket_1[_0x5223c2(0xcf)])();return _0xc7751e['to'](_0x5223c2(0xdd)+_0x22032c+_0x5223c2(0xc7))[_0x5223c2(0xca)](_0x5223c2(0xdd)+_0x22032c+_0x5223c2(0xe6),{'action':_0x5223c2(0xe3),'user':_0x1a290e}),_0x2cb24f[_0x5223c2(0xd3)](0xc8)[_0x5223c2(0xdc)](_0x1a290e);};exports[a44_0x4b9747(0xe3)]=update;function a44_0x515e(){const _0x15580a=['create','update','default','userCreation','-user','search','delete','query','844908KtPPwr','4gUjcrT','user','/signup','remove','80KUtnAu','ERR_USER_CREATION_DISABLED','list','../services/UserServices/UpdateUserService','(((.+)+)+)+$','isSuper','params','60597eDrnyO','admin','ERR_NO_PERMISSION','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','1630034SkitlD','12053ERGUzk','toString','60eDgLlo','index','-mainchannel','disabled','../errors/AppError','emit','975258DOEElh','companyId','defineProperty','storeFromCompanySettings','getIO','../services/UserServices/DeleteUserService','6665TSGpZw','../libs/socket','status','User\x20deleted','store','../services/UserServices/CreateUserService','Acesso\x20negado.','apply','__importDefault','body','__esModule','json','company-','constructor','2043120fXnfzu','url','profile'];a44_0x515e=function(){return _0x15580a;};return a44_0x515e();}const remove=async(_0x10793a,_0x639020)=>{const _0x58d9eb=a44_0x4b9747,{userId:_0x490c2c}=_0x10793a[_0x58d9eb(0xf5)],{companyId:_0x4b2bb6}=_0x10793a['user'];if(_0x10793a[_0x58d9eb(0xec)]['profile']!=='admin')throw new AppError_1[(_0x58d9eb(0xe4))](_0x58d9eb(0xf8),0x193);await(0x0,DeleteUserService_1[_0x58d9eb(0xe4)])(_0x490c2c,_0x10793a[_0x58d9eb(0xec)]['id']);const _0x5a19fa=(0x0,socket_1[_0x58d9eb(0xcf)])();return _0x5a19fa['to'](_0x58d9eb(0xdd)+_0x4b2bb6+_0x58d9eb(0xc7))[_0x58d9eb(0xca)]('company-'+_0x4b2bb6+_0x58d9eb(0xe6),{'action':_0x58d9eb(0xe8),'userId':_0x490c2c}),_0x639020[_0x58d9eb(0xd3)](0xc8)['json']({'message':_0x58d9eb(0xd4)});};exports[a44_0x4b9747(0xee)]=remove;const list=async(_0x357870,_0x326d39)=>{const _0x35c9dc=a44_0x4b9747,{companyId:_0x1ff209}=_0x357870[_0x35c9dc(0xe9)],{companyId:_0x2effb5}=_0x357870[_0x35c9dc(0xec)],_0x1e31d3=await(0x0,SimpleListService_1[_0x35c9dc(0xe4)])({'companyId':_0x1ff209?+_0x1ff209:_0x2effb5});return _0x326d39[_0x35c9dc(0xd3)](0xc8)[_0x35c9dc(0xdc)](_0x1e31d3);};exports[a44_0x4b9747(0xf1)]=list;