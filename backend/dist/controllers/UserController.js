const a43_0x4f7f7e=a43_0x3516;(function(_0x11f4b8,_0x333bcd){const _0x27392a=a43_0x3516,_0x41ee1e=_0x11f4b8();while(!![]){try{const _0x5a1780=-parseInt(_0x27392a(0x103))/0x1+parseInt(_0x27392a(0xfc))/0x2*(parseInt(_0x27392a(0x108))/0x3)+-parseInt(_0x27392a(0x100))/0x4*(parseInt(_0x27392a(0x113))/0x5)+-parseInt(_0x27392a(0x106))/0x6*(parseInt(_0x27392a(0xff))/0x7)+parseInt(_0x27392a(0xe5))/0x8*(-parseInt(_0x27392a(0x10c))/0x9)+parseInt(_0x27392a(0xed))/0xa*(-parseInt(_0x27392a(0xec))/0xb)+parseInt(_0x27392a(0x10b))/0xc;if(_0x5a1780===_0x333bcd)break;else _0x41ee1e['push'](_0x41ee1e['shift']());}catch(_0x3df35d){_0x41ee1e['push'](_0x41ee1e['shift']());}}}(a43_0x4934,0xa8b51));const a43_0x54237c=(function(){let _0x41b020=!![];return function(_0x515f10,_0x4fede1){const _0x1ee54d=_0x41b020?function(){const _0x29f16a=a43_0x3516;if(_0x4fede1){const _0x4a274=_0x4fede1[_0x29f16a(0xf5)](_0x515f10,arguments);return _0x4fede1=null,_0x4a274;}}:function(){};return _0x41b020=![],_0x1ee54d;};}()),a43_0x1bd44e=a43_0x54237c(this,function(){const _0x46a215=a43_0x3516;return a43_0x1bd44e[_0x46a215(0xe7)]()['search'](_0x46a215(0xfb))[_0x46a215(0xe7)]()[_0x46a215(0xf1)](a43_0x1bd44e)['search'](_0x46a215(0xfb));});a43_0x1bd44e();function a43_0x3516(_0x26e449,_0x5600f0){const _0x51079b=a43_0x4934();return a43_0x3516=function(_0x1bd44e,_0x54237c){_0x1bd44e=_0x1bd44e-0xe1;let _0x493418=_0x51079b[_0x1bd44e];return _0x493418;},a43_0x3516(_0x26e449,_0x5600f0);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x300b66){return _0x300b66&&_0x300b66['__esModule']?_0x300b66:{'default':_0x300b66};};Object[a43_0x4f7f7e(0xfa)](exports,a43_0x4f7f7e(0x10f),{'value':!![]}),exports[a43_0x4f7f7e(0xf3)]=exports[a43_0x4f7f7e(0x10d)]=exports[a43_0x4f7f7e(0xe6)]=exports[a43_0x4f7f7e(0x109)]=exports[a43_0x4f7f7e(0xf9)]=exports['index']=void 0x0;const socket_1=require(a43_0x4f7f7e(0xee)),AppError_1=__importDefault(require(a43_0x4f7f7e(0xea))),CreateUserService_1=__importDefault(require(a43_0x4f7f7e(0xe2))),ListUsersService_1=__importDefault(require(a43_0x4f7f7e(0x110))),UpdateUserService_1=__importDefault(require('../services/UserServices/UpdateUserService')),ShowUserService_1=__importDefault(require(a43_0x4f7f7e(0x102))),DeleteUserService_1=__importDefault(require('../services/UserServices/DeleteUserService')),SimpleListService_1=__importDefault(require(a43_0x4f7f7e(0xf8))),User_1=__importDefault(require(a43_0x4f7f7e(0x105))),index=async(_0xd241c3,_0x48ed6b)=>{const _0x15ab3c=a43_0x4f7f7e,{searchParam:_0x1eb952,pageNumber:_0x18e47d}=_0xd241c3[_0x15ab3c(0xe9)],{companyId:_0x1fa5cd,profile:_0x445515}=_0xd241c3[_0x15ab3c(0xf0)],{users:_0x4eafc7,onlineCount:_0x1983aa,offlineCount:_0x197a3d,count:_0x29b938,hasMore:_0x570e28}=await(0x0,ListUsersService_1[_0x15ab3c(0xe4)])({'searchParam':_0x1eb952,'pageNumber':_0x18e47d,'companyId':_0x1fa5cd,'profile':_0x445515});return _0x48ed6b[_0x15ab3c(0xef)]({'users':_0x4eafc7,'onlineCount':_0x1983aa,'offlineCount':_0x197a3d,'count':_0x29b938,'hasMore':_0x570e28});};exports[a43_0x4f7f7e(0xe8)]=index;const store=async(_0x23a347,_0x41b1f8)=>{const _0x39048b=a43_0x4f7f7e,{email:_0x4f0bfb,password:_0x427bd4,name:_0x3c4ee4,profile:_0x592324,companyId:_0x202043,queueIds:_0x51702f}=_0x23a347[_0x39048b(0xfe)];let _0x115dc0=null,_0x1c91ae=null;if(_0x23a347['user']!==undefined){const {companyId:_0x5dae66}=_0x23a347[_0x39048b(0xf0)];_0x115dc0=_0x5dae66,_0x1c91ae=await User_1[_0x39048b(0xe4)][_0x39048b(0xe3)](_0x23a347[_0x39048b(0xf0)]['id']);}const _0x518760=_0x202043||_0x115dc0;if(_0x23a347[_0x39048b(0xf0)]?.[_0x39048b(0xf7)]!==_0x39048b(0xf6))throw new AppError_1[(_0x39048b(0xe4))](_0x39048b(0xeb),0x193);else{if(_0x518760!==_0x23a347['user']?.[_0x39048b(0x104)]&&!_0x1c91ae?.['super'])throw new AppError_1[(_0x39048b(0xe4))](_0x39048b(0x10a),0x193);}const _0x1b65cf=await(0x0,CreateUserService_1[_0x39048b(0xe4)])({'email':_0x4f0bfb,'password':_0x427bd4,'name':_0x3c4ee4,'profile':_0x592324,'companyId':_0x518760,'queueIds':_0x51702f}),_0x4f987a=(0x0,socket_1[_0x39048b(0x101)])();return _0x4f987a[_0x39048b(0x112)](_0x39048b(0x107)+_0x115dc0+_0x39048b(0x111),{'action':_0x39048b(0xf2),'user':_0x1b65cf}),_0x41b1f8['status'](0xc8)[_0x39048b(0xef)](_0x1b65cf);};exports['store']=store;const show=async(_0x1d4f6d,_0x3ed574)=>{const _0x2e0ce9=a43_0x4f7f7e,{userId:_0x450ec}=_0x1d4f6d[_0x2e0ce9(0xf4)],_0x404fae=await(0x0,ShowUserService_1[_0x2e0ce9(0xe4)])(_0x450ec,_0x1d4f6d[_0x2e0ce9(0xf0)]['id']);return _0x3ed574[_0x2e0ce9(0x10e)](0xc8)[_0x2e0ce9(0xef)](_0x404fae);};exports['show']=show;const update=async(_0x5cad6c,_0x17dcd8)=>{const _0x55471d=a43_0x4f7f7e,{id:_0x3c0dbb,companyId:_0x5a0aa9}=_0x5cad6c[_0x55471d(0xf0)],{userId:_0x13fb56}=_0x5cad6c[_0x55471d(0xf4)],_0x4d5e06=_0x5cad6c[_0x55471d(0xfe)],_0x3844e7=await(0x0,UpdateUserService_1[_0x55471d(0xe4)])({'userData':_0x4d5e06,'userId':_0x13fb56,'requestUserId':+_0x3c0dbb}),_0x4ee96c=(0x0,socket_1[_0x55471d(0x101)])();return _0x4ee96c[_0x55471d(0x112)]('company-'+_0x5a0aa9+_0x55471d(0x111),{'action':_0x55471d(0xe6),'user':_0x3844e7}),_0x17dcd8[_0x55471d(0x10e)](0xc8)[_0x55471d(0xef)](_0x3844e7);};exports['update']=update;const remove=async(_0x3398c8,_0x4ef299)=>{const _0x45daa0=a43_0x4f7f7e,{userId:_0x3b3f06}=_0x3398c8['params'],{companyId:_0x1e8008}=_0x3398c8['user'];if(_0x3398c8['user'][_0x45daa0(0xf7)]!==_0x45daa0(0xf6))throw new AppError_1[(_0x45daa0(0xe4))]('ERR_NO_PERMISSION',0x193);if(Number(_0x3b3f06)===0x1)throw new AppError_1[(_0x45daa0(0xe4))](_0x45daa0(0xe1),0x193);await(0x0,DeleteUserService_1['default'])(_0x3b3f06,_0x3398c8['user']['id']);const _0x2bfd38=(0x0,socket_1[_0x45daa0(0x101)])();return _0x2bfd38['emit'](_0x45daa0(0x107)+_0x1e8008+_0x45daa0(0x111),{'action':_0x45daa0(0xfd),'userId':_0x3b3f06}),_0x4ef299['status'](0xc8)[_0x45daa0(0xef)]({'message':'User\x20deleted'});};exports[a43_0x4f7f7e(0x10d)]=remove;function a43_0x4934(){const _0x156045=['22zxwfgF','delete','body','2205686biQELy','4001924BiTCDh','getIO','../services/UserServices/ShowUserService','52350geSDNF','companyId','../models/User','24NWQVLk','company-','157521lycWQv','show','ERR_NO_SUPER','44797536jyWRer','1283229ukdVpi','remove','status','__esModule','../services/UserServices/ListUsersService','-user','emit','5UTnDDB','ERR_FORBIDDEN','../services/UserServices/CreateUserService','findByPk','default','24syVBti','update','toString','index','query','../errors/AppError','ERR_NO_PERMISSION','9665854bozteO','10NjKEay','../libs/socket','json','user','constructor','create','list','params','apply','admin','profile','../services/UserServices/SimpleListService','store','defineProperty','(((.+)+)+)+$'];a43_0x4934=function(){return _0x156045;};return a43_0x4934();}const list=async(_0x4e493c,_0x2d1ae7)=>{const _0x3254f4=a43_0x4f7f7e,{companyId:_0x435a49}=_0x4e493c[_0x3254f4(0xe9)],{companyId:_0x1324ab}=_0x4e493c[_0x3254f4(0xf0)],_0x4362bb=await(0x0,SimpleListService_1['default'])({'companyId':_0x435a49?+_0x435a49:_0x1324ab});return _0x2d1ae7[_0x3254f4(0x10e)](0xc8)[_0x3254f4(0xef)](_0x4362bb);};exports['list']=list;