const a52_0x2eb94c=a52_0x13a9;(function(_0x4fd60d,_0x18b790){const _0x36e817=a52_0x13a9,_0x3d853d=_0x4fd60d();while(!![]){try{const _0x400875=-parseInt(_0x36e817(0x91))/0x1*(-parseInt(_0x36e817(0x93))/0x2)+parseInt(_0x36e817(0xb5))/0x3+-parseInt(_0x36e817(0x8e))/0x4+-parseInt(_0x36e817(0xa0))/0x5+-parseInt(_0x36e817(0xb1))/0x6+parseInt(_0x36e817(0xa5))/0x7+parseInt(_0x36e817(0x9a))/0x8;if(_0x400875===_0x18b790)break;else _0x3d853d['push'](_0x3d853d['shift']());}catch(_0x1109f8){_0x3d853d['push'](_0x3d853d['shift']());}}}(a52_0x19bd,0xa6c54));const a52_0x4a914b=(function(){let _0x605e97=!![];return function(_0x47a0b7,_0xb0b6be){const _0x2f7b14=_0x605e97?function(){const _0x58b338=a52_0x13a9;if(_0xb0b6be){const _0x5acd49=_0xb0b6be[_0x58b338(0xb9)](_0x47a0b7,arguments);return _0xb0b6be=null,_0x5acd49;}}:function(){};return _0x605e97=![],_0x2f7b14;};}()),a52_0xe7ad9d=a52_0x4a914b(this,function(){const _0xb7d87f=a52_0x13a9;return a52_0xe7ad9d[_0xb7d87f(0xbc)]()[_0xb7d87f(0xa6)](_0xb7d87f(0xac))[_0xb7d87f(0xbc)]()[_0xb7d87f(0x9f)](a52_0xe7ad9d)['search'](_0xb7d87f(0xac));});a52_0xe7ad9d();'use strict';var __importDefault=this&&this[a52_0x2eb94c(0xbb)]||function(_0x646eea){const _0x26299e=a52_0x2eb94c;return _0x646eea&&_0x646eea[_0x26299e(0x8f)]?_0x646eea:{'default':_0x646eea};};Object[a52_0x2eb94c(0xb8)](exports,a52_0x2eb94c(0x8f),{'value':!![]}),exports['list']=exports[a52_0x2eb94c(0xa1)]=exports['update']=exports[a52_0x2eb94c(0xb4)]=exports[a52_0x2eb94c(0xa4)]=exports[a52_0x2eb94c(0x94)]=void 0x0;function a52_0x13a9(_0x4db246,_0x2f9862){const _0x52caf0=a52_0x19bd();return a52_0x13a9=function(_0xe7ad9d,_0x4a914b){_0xe7ad9d=_0xe7ad9d-0x8e;let _0x19bd99=_0x52caf0[_0xe7ad9d];return _0x19bd99;},a52_0x13a9(_0x4db246,_0x2f9862);}const socket_1=require(a52_0x2eb94c(0x98)),AppError_1=__importDefault(require(a52_0x2eb94c(0xab))),CreateUserService_1=__importDefault(require(a52_0x2eb94c(0x90))),ListUsersService_1=__importDefault(require('../services/UserServices/ListUsersService')),UpdateUserService_1=__importDefault(require('../services/UserServices/UpdateUserService')),ShowUserService_1=__importDefault(require(a52_0x2eb94c(0xaa))),DeleteUserService_1=__importDefault(require(a52_0x2eb94c(0x96))),SimpleListService_1=__importDefault(require(a52_0x2eb94c(0xaf))),User_1=__importDefault(require('../models/User')),index=async(_0x5e6092,_0x747d7)=>{const _0x131948=a52_0x2eb94c,{searchParam:_0x1c9173,pageNumber:_0x3b02f4}=_0x5e6092[_0x131948(0x9c)],{companyId:_0x1f3a66,profile:_0x2e9f24}=_0x5e6092['user'],{users:_0x797fdd,onlineCount:_0x56387b,offlineCount:_0x5d33ab,count:_0x2e38aa,hasMore:_0x44e02d}=await(0x0,ListUsersService_1[_0x131948(0x99)])({'searchParam':_0x1c9173,'pageNumber':_0x3b02f4,'companyId':_0x1f3a66,'profile':_0x2e9f24});return _0x747d7[_0x131948(0xb3)]({'users':_0x797fdd,'onlineCount':_0x56387b,'offlineCount':_0x5d33ab,'count':_0x2e38aa,'hasMore':_0x44e02d});};exports['index']=index;const store=async(_0x1c73da,_0x2b651b)=>{const _0x5191f4=a52_0x2eb94c,{email:_0x5e53bd,password:_0x3cd6fd,name:_0x1375f0,profile:_0x26d625,companyId:_0x567cb7,queueIds:_0x1e6375}=_0x1c73da[_0x5191f4(0xa3)];let _0x3d8fed=null,_0x1ee052=null;if(_0x1c73da[_0x5191f4(0xa9)]!==undefined){const {companyId:_0x4c8503}=_0x1c73da[_0x5191f4(0xa9)];_0x3d8fed=_0x4c8503,_0x1ee052=await User_1[_0x5191f4(0x99)][_0x5191f4(0x95)](_0x1c73da[_0x5191f4(0xa9)]['id']);}const _0x4ec5b9=_0x567cb7||_0x3d8fed;if(_0x1c73da[_0x5191f4(0xa9)]?.[_0x5191f4(0xb6)]!==_0x5191f4(0x9b))throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);else{if(_0x4ec5b9!==_0x1c73da['user']?.[_0x5191f4(0xad)]&&!_0x1ee052?.['super'])throw new AppError_1[(_0x5191f4(0x99))](_0x5191f4(0xb0),0x193);}const _0x2fc9fe=await(0x0,CreateUserService_1[_0x5191f4(0x99)])({'email':_0x5e53bd,'password':_0x3cd6fd,'name':_0x1375f0,'profile':_0x26d625,'companyId':_0x4ec5b9,'queueIds':_0x1e6375}),_0x8ca315=(0x0,socket_1['getIO'])();return _0x8ca315[_0x5191f4(0x92)](_0x5191f4(0xb2)+_0x3d8fed+_0x5191f4(0x97),{'action':_0x5191f4(0x9e),'user':_0x2fc9fe}),_0x2b651b[_0x5191f4(0xa8)](0xc8)['json'](_0x2fc9fe);};exports[a52_0x2eb94c(0xa4)]=store;function a52_0x19bd(){const _0xd34632=['update','__importDefault','toString','4922108SPOPTu','__esModule','../services/UserServices/CreateUserService','373olYvMz','emit','1908juEOEF','index','findByPk','../services/UserServices/DeleteUserService','-user','../libs/socket','default','23947704zEvDLY','admin','query','delete','create','constructor','2136780yCUGxN','remove','getIO','body','store','1323651XrdZHx','search','params','status','user','../services/UserServices/ShowUserService','../errors/AppError','(((.+)+)+)+$','companyId','User\x20deleted','../services/UserServices/SimpleListService','ERR_NO_SUPER','7842048lWFctc','company-','json','show','328755aQjyHQ','profile','ERR_NO_PERMISSION','defineProperty','apply'];a52_0x19bd=function(){return _0xd34632;};return a52_0x19bd();}const show=async(_0x4a4058,_0x5890e2)=>{const _0xb66c33=a52_0x2eb94c,{userId:_0x564bc0}=_0x4a4058[_0xb66c33(0xa7)],_0x1537cc=await(0x0,ShowUserService_1[_0xb66c33(0x99)])(_0x564bc0,_0x4a4058[_0xb66c33(0xa9)]['id']);return _0x5890e2[_0xb66c33(0xa8)](0xc8)[_0xb66c33(0xb3)](_0x1537cc);};exports[a52_0x2eb94c(0xb4)]=show;const update=async(_0x45fc44,_0x57d882)=>{const _0x4a0bf1=a52_0x2eb94c,{id:_0x29aaec,companyId:_0x285f17}=_0x45fc44[_0x4a0bf1(0xa9)],{userId:_0x2d30fc}=_0x45fc44['params'],_0x3ccb73=_0x45fc44[_0x4a0bf1(0xa3)],_0x242e3a=await(0x0,UpdateUserService_1[_0x4a0bf1(0x99)])({'userData':_0x3ccb73,'userId':_0x2d30fc,'requestUserId':+_0x29aaec}),_0x239172=(0x0,socket_1['getIO'])();return _0x239172[_0x4a0bf1(0x92)](_0x4a0bf1(0xb2)+_0x285f17+_0x4a0bf1(0x97),{'action':_0x4a0bf1(0xba),'user':_0x242e3a}),_0x57d882[_0x4a0bf1(0xa8)](0xc8)[_0x4a0bf1(0xb3)](_0x242e3a);};exports['update']=update;const remove=async(_0x3a3190,_0x12124a)=>{const _0x2e2b7b=a52_0x2eb94c,{userId:_0x32b09e}=_0x3a3190['params'],{companyId:_0x59f101}=_0x3a3190[_0x2e2b7b(0xa9)];if(_0x3a3190[_0x2e2b7b(0xa9)]['profile']!=='admin')throw new AppError_1[(_0x2e2b7b(0x99))](_0x2e2b7b(0xb7),0x193);if(Number(_0x32b09e)===0x1)throw new AppError_1[(_0x2e2b7b(0x99))]('ERR_FORBIDDEN',0x193);await(0x0,DeleteUserService_1[_0x2e2b7b(0x99)])(_0x32b09e,_0x3a3190[_0x2e2b7b(0xa9)]['id']);const _0x30e15e=(0x0,socket_1[_0x2e2b7b(0xa2)])();return _0x30e15e[_0x2e2b7b(0x92)](_0x2e2b7b(0xb2)+_0x59f101+_0x2e2b7b(0x97),{'action':_0x2e2b7b(0x9d),'userId':_0x32b09e}),_0x12124a[_0x2e2b7b(0xa8)](0xc8)[_0x2e2b7b(0xb3)]({'message':_0x2e2b7b(0xae)});};exports[a52_0x2eb94c(0xa1)]=remove;const list=async(_0x530194,_0x16b4fb)=>{const _0x415c7d=a52_0x2eb94c,{companyId:_0x143590}=_0x530194[_0x415c7d(0x9c)],{companyId:_0x8277de}=_0x530194['user'],_0x5931e5=await(0x0,SimpleListService_1[_0x415c7d(0x99)])({'companyId':_0x143590?+_0x143590:_0x8277de});return _0x16b4fb[_0x415c7d(0xa8)](0xc8)['json'](_0x5931e5);};exports['list']=list;