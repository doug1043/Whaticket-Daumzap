const a31_0x284444=a31_0x305d;(function(_0x4c9af4,_0x360465){const _0x321ce1=a31_0x305d,_0x106525=_0x4c9af4();while(!![]){try{const _0x307447=parseInt(_0x321ce1(0x9f))/0x1+-parseInt(_0x321ce1(0xba))/0x2+parseInt(_0x321ce1(0xa0))/0x3+-parseInt(_0x321ce1(0x9a))/0x4*(-parseInt(_0x321ce1(0xc9))/0x5)+-parseInt(_0x321ce1(0xb9))/0x6*(parseInt(_0x321ce1(0xc8))/0x7)+-parseInt(_0x321ce1(0x94))/0x8*(-parseInt(_0x321ce1(0xcf))/0x9)+-parseInt(_0x321ce1(0xb8))/0xa*(-parseInt(_0x321ce1(0x9e))/0xb);if(_0x307447===_0x360465)break;else _0x106525['push'](_0x106525['shift']());}catch(_0x586c46){_0x106525['push'](_0x106525['shift']());}}}(a31_0x5ad0,0xd9a47));function a31_0x5ad0(){const _0x2d9258=['unlinkSync','head','QueueOption\x20not\x20found','json','search','../services/QueueOptionService/ShowService','toString','save','7ZcBVkd','1521745rOrBBi','path','../services/QueueOptionService/DeleteService','remove','apply','Option\x20Updated','117WwGiuG','317624yfSdzS','message','mediaPath','resolve','Arquivo\x20excluÃ­do','queue','12SgDavo','status','../services/QueueOptionService/CreateService','uploadFile','33qOGqwm','890023wIWLzp','831699bydskH','../errors/AppError','public','store','../services/QueueOptionService/ListService','file','show','params','send','Arquivo\x20Salvo','defineProperty','index','default','filename','body','mediaName','update','__importDefault','company','../services/QueueOptionService/UpdateService','lodash','existsSync','__esModule','findByPk','2547390fzLIBe','5450178YMUnSN','3121666LmILwO','(((.+)+)+)+$','originalname','deleteMedia','mediaUpload','companyId'];a31_0x5ad0=function(){return _0x2d9258;};return a31_0x5ad0();}const a31_0x3cb252=(function(){let _0x34d4cd=!![];return function(_0x4981ec,_0x272485){const _0x26da45=_0x34d4cd?function(){const _0x5e0f7a=a31_0x305d;if(_0x272485){const _0x515b9e=_0x272485[_0x5e0f7a(0xcd)](_0x4981ec,arguments);return _0x272485=null,_0x515b9e;}}:function(){};return _0x34d4cd=![],_0x26da45;};}()),a31_0x306ea4=a31_0x3cb252(this,function(){const _0x5409fd=a31_0x305d;return a31_0x306ea4[_0x5409fd(0xc6)]()['search'](_0x5409fd(0xbb))[_0x5409fd(0xc6)]()['constructor'](a31_0x306ea4)[_0x5409fd(0xc4)](_0x5409fd(0xbb));});a31_0x306ea4();'use strict';var __importDefault=this&&this[a31_0x284444(0xb1)]||function(_0x1a78a4){return _0x1a78a4&&_0x1a78a4['__esModule']?_0x1a78a4:{'default':_0x1a78a4};};Object[a31_0x284444(0xaa)](exports,a31_0x284444(0xb6),{'value':!![]}),exports[a31_0x284444(0xbd)]=exports['mediaUpload']=exports['remove']=exports[a31_0x284444(0x9d)]=exports['update']=exports[a31_0x284444(0xa6)]=exports[a31_0x284444(0xa3)]=exports[a31_0x284444(0xab)]=void 0x0;const CreateService_1=__importDefault(require(a31_0x284444(0x9c))),ListService_1=__importDefault(require(a31_0x284444(0xa4))),UpdateService_1=__importDefault(require(a31_0x284444(0xb3))),ShowService_1=__importDefault(require(a31_0x284444(0xc5))),DeleteService_1=__importDefault(require(a31_0x284444(0xcb))),lodash_1=require(a31_0x284444(0xb4)),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x284444(0xca))),AppError_1=__importDefault(require(a31_0x284444(0xa1))),QueueOption_1=__importDefault(require('../models/QueueOption')),index=async(_0x4fffd2,_0x8d5361)=>{const _0xefb6bd=a31_0x284444,{queueId:_0x28daeb,queueOptionId:_0xdcd489,parentId:_0x2891a3}=_0x4fffd2['query'],_0x403408=await(0x0,ListService_1['default'])({'queueId':_0x28daeb,'queueOptionId':_0xdcd489,'parentId':_0x2891a3});return _0x8d5361[_0xefb6bd(0xc3)](_0x403408);};exports[a31_0x284444(0xab)]=index;function a31_0x305d(_0x54541b,_0x2d285c){const _0x2e4e70=a31_0x5ad0();return a31_0x305d=function(_0x306ea4,_0x3cb252){_0x306ea4=_0x306ea4-0x94;let _0x5ad08d=_0x2e4e70[_0x306ea4];return _0x5ad08d;},a31_0x305d(_0x54541b,_0x2d285c);}const store=async(_0x18810c,_0x509738)=>{const _0x5ee6c6=a31_0x284444,_0x597975=_0x18810c[_0x5ee6c6(0xae)],_0x49f07a=await(0x0,CreateService_1[_0x5ee6c6(0xac)])(_0x597975);return _0x509738[_0x5ee6c6(0x9b)](0xc8)[_0x5ee6c6(0xc3)](_0x49f07a);};exports[a31_0x284444(0xa3)]=store;const show=async(_0x5172a9,_0x155466)=>{const _0x396ae0=a31_0x284444,{queueOptionId:_0x23225b}=_0x5172a9[_0x396ae0(0xa7)],_0x398ab1=await(0x0,ShowService_1['default'])(_0x23225b);return _0x155466[_0x396ae0(0x9b)](0xc8)[_0x396ae0(0xc3)](_0x398ab1);};exports['show']=show;const update=async(_0x7b4000,_0x2b869a)=>{const _0x4ff03c=a31_0x284444,{queueOptionId:_0x5a6982}=_0x7b4000[_0x4ff03c(0xa7)],_0x511e91=_0x7b4000[_0x4ff03c(0xae)],_0x167e18=await(0x0,UpdateService_1['default'])(_0x5a6982,_0x511e91);return _0x2b869a[_0x4ff03c(0x9b)](0xc8)[_0x4ff03c(0xc3)](_0x167e18);};exports[a31_0x284444(0xb0)]=update;const uploadFile=async(_0x1ec081,_0x175589)=>{const _0xdd1dfc=a31_0x284444,{queueOptionId:_0x11ae0f}=_0x1ec081['params'],_0xbb2fcc=_0x1ec081['body'],_0xa3c6c2=_0x1ec081[_0xdd1dfc(0xa5)],_0x313355=await QueueOption_1['default'][_0xdd1dfc(0xb7)](_0x11ae0f);if(!_0x313355)throw new Error(_0xdd1dfc(0xc2));const _0x161b28=_0x313355[_0xdd1dfc(0x95)];return fs_1[_0xdd1dfc(0xac)][_0xdd1dfc(0xb5)](_0x161b28)&&fs_1[_0xdd1dfc(0xac)][_0xdd1dfc(0xc0)](_0x161b28),_0x313355[_0xdd1dfc(0x95)]=_0xa3c6c2[_0xdd1dfc(0xad)],await _0x313355[_0xdd1dfc(0xc7)](),_0x175589['status'](0xc8)[_0xdd1dfc(0xc3)]({'message':_0xdd1dfc(0xce)});};exports[a31_0x284444(0x9d)]=uploadFile;const remove=async(_0x2e9c5a,_0x155289)=>{const _0x94f3e0=a31_0x284444,{queueOptionId:_0x12bc44}=_0x2e9c5a['params'],_0xc38365=await QueueOption_1[_0x94f3e0(0xac)]['findByPk'](_0x12bc44);if(!_0xc38365)throw new Error(_0x94f3e0(0xc2));const _0x3701d4=_0xc38365[_0x94f3e0(0x95)];return fs_1[_0x94f3e0(0xac)][_0x94f3e0(0xb5)](_0x3701d4)&&fs_1['default']['unlinkSync'](_0x3701d4),await(0x0,DeleteService_1['default'])(_0x12bc44),_0x155289[_0x94f3e0(0x9b)](0xc8)[_0x94f3e0(0xc3)]({'message':'Option\x20Delected'});};exports[a31_0x284444(0xcc)]=remove;const mediaUpload=async(_0x3edc53,_0x3aaeb6)=>{const _0x5f4e17=a31_0x284444,{queueOptionId:_0x57a2f3}=_0x3edc53[_0x5f4e17(0xa7)],_0x2779b7=_0x3edc53['files'],_0x17b6df=(0x0,lodash_1[_0x5f4e17(0xc1)])(_0x2779b7);try{const _0x5e82e4=await QueueOption_1[_0x5f4e17(0xac)][_0x5f4e17(0xb7)](_0x57a2f3);return _0x5e82e4['update']({'mediaPath':_0x17b6df['filename'],'mediaName':_0x17b6df[_0x5f4e17(0xbc)]}),_0x3aaeb6[_0x5f4e17(0xa8)]({'mensagem':_0x5f4e17(0xa9)});}catch(_0x11627f){throw new AppError_1[(_0x5f4e17(0xac))](_0x11627f['message']);}};exports[a31_0x284444(0xbe)]=mediaUpload;const deleteMedia=async(_0x36eb4b,_0x357e58)=>{const _0x474908=a31_0x284444,{queueOptionId:_0xbc6760}=_0x36eb4b['params'];try{const _0x33cee4=await QueueOption_1[_0x474908(0xac)][_0x474908(0xb7)](_0xbc6760,{'include':[_0x474908(0x99)]}),_0x4c7a71=path_1[_0x474908(0xac)][_0x474908(0x97)](_0x474908(0xa2),_0x474908(0xb2)+_0x33cee4[_0x474908(0x99)][_0x474908(0xbf)],_0x33cee4[_0x474908(0x96)]),_0x37adfd=fs_1[_0x474908(0xac)][_0x474908(0xb5)](_0x4c7a71);return _0x37adfd&&fs_1['default'][_0x474908(0xc0)](_0x4c7a71),_0x33cee4[_0x474908(0x96)]=null,_0x33cee4[_0x474908(0xaf)]=null,await _0x33cee4[_0x474908(0xc7)](),_0x357e58['send']({'mensagem':_0x474908(0x98)});}catch(_0xf3d297){throw new AppError_1[(_0x474908(0xac))](_0xf3d297[_0x474908(0x95)]);}};exports[a31_0x284444(0xbd)]=deleteMedia;