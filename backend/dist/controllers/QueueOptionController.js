const a31_0x41e498=a31_0x106c;(function(_0x4490d9,_0x2280f4){const _0x46b97f=a31_0x106c,_0x2f0a3d=_0x4490d9();while(!![]){try{const _0x286cce=-parseInt(_0x46b97f(0xf6))/0x1*(parseInt(_0x46b97f(0xf1))/0x2)+parseInt(_0x46b97f(0xe4))/0x3*(parseInt(_0x46b97f(0xef))/0x4)+parseInt(_0x46b97f(0xd4))/0x5+parseInt(_0x46b97f(0xde))/0x6+parseInt(_0x46b97f(0xd3))/0x7*(parseInt(_0x46b97f(0xdb))/0x8)+parseInt(_0x46b97f(0xc7))/0x9*(parseInt(_0x46b97f(0xf3))/0xa)+-parseInt(_0x46b97f(0xe2))/0xb;if(_0x286cce===_0x2280f4)break;else _0x2f0a3d['push'](_0x2f0a3d['shift']());}catch(_0x2d6739){_0x2f0a3d['push'](_0x2f0a3d['shift']());}}}(a31_0x5c9a,0x2c559));const a31_0x2e3b6c=(function(){let _0x143ed4=!![];return function(_0x1d1704,_0x3b33e3){const _0xb51ff2=_0x143ed4?function(){const _0x36f5e0=a31_0x106c;if(_0x3b33e3){const _0x58f149=_0x3b33e3[_0x36f5e0(0xcf)](_0x1d1704,arguments);return _0x3b33e3=null,_0x58f149;}}:function(){};return _0x143ed4=![],_0xb51ff2;};}()),a31_0x4c26ba=a31_0x2e3b6c(this,function(){const _0x1ff888=a31_0x106c;return a31_0x4c26ba['toString']()[_0x1ff888(0xf7)](_0x1ff888(0xf5))[_0x1ff888(0xcb)]()['constructor'](a31_0x4c26ba)['search'](_0x1ff888(0xf5));});a31_0x4c26ba();'use strict';var __importDefault=this&&this[a31_0x41e498(0xc1)]||function(_0x1d9fc0){return _0x1d9fc0&&_0x1d9fc0['__esModule']?_0x1d9fc0:{'default':_0x1d9fc0};};Object[a31_0x41e498(0xc2)](exports,a31_0x41e498(0xe7),{'value':!![]}),exports[a31_0x41e498(0xc4)]=exports[a31_0x41e498(0xf4)]=exports[a31_0x41e498(0xec)]=exports[a31_0x41e498(0xce)]=exports['update']=exports['show']=exports[a31_0x41e498(0xed)]=exports[a31_0x41e498(0xc5)]=void 0x0;const CreateService_1=__importDefault(require(a31_0x41e498(0xc3))),ListService_1=__importDefault(require('../services/QueueOptionService/ListService')),UpdateService_1=__importDefault(require(a31_0x41e498(0xe6))),ShowService_1=__importDefault(require('../services/QueueOptionService/ShowService')),DeleteService_1=__importDefault(require(a31_0x41e498(0xe5))),lodash_1=require(a31_0x41e498(0xe9)),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x41e498(0xd8))),AppError_1=__importDefault(require('../errors/AppError')),QueueOption_1=__importDefault(require(a31_0x41e498(0xd1))),index=async(_0x2588e6,_0x1bf36e)=>{const _0x5a9dd1=a31_0x41e498,{queueId:_0x21b46a,queueOptionId:_0x462a42,parentId:_0x594009}=_0x2588e6[_0x5a9dd1(0xe3)],_0x1f0eff=await(0x0,ListService_1[_0x5a9dd1(0xc9)])({'queueId':_0x21b46a,'queueOptionId':_0x462a42,'parentId':_0x594009});return _0x1bf36e[_0x5a9dd1(0xeb)](_0x1f0eff);};exports[a31_0x41e498(0xc5)]=index;const store=async(_0x54595a,_0xb5af37)=>{const _0x5abcf9=a31_0x41e498,_0x44f1af=_0x54595a['body'],_0x545c0e=await(0x0,CreateService_1[_0x5abcf9(0xc9)])(_0x44f1af);return _0xb5af37[_0x5abcf9(0xca)](0xc8)[_0x5abcf9(0xeb)](_0x545c0e);};exports['store']=store;const show=async(_0x5f3e35,_0x19bd9d)=>{const _0x1d36bb=a31_0x41e498,{queueOptionId:_0x4535bd}=_0x5f3e35[_0x1d36bb(0xc6)],_0x36379b=await(0x0,ShowService_1[_0x1d36bb(0xc9)])(_0x4535bd);return _0x19bd9d[_0x1d36bb(0xca)](0xc8)[_0x1d36bb(0xeb)](_0x36379b);};exports['show']=show;function a31_0x5c9a(){const _0x433f08=['10wYPCmd','mediaUpload','(((.+)+)+)+$','174413lHgRit','search','findByPk','resolve','message','__importDefault','defineProperty','../services/QueueOptionService/CreateService','deleteMedia','index','params','1708524neXqgp','companyId','default','status','toString','QueueOption\x20not\x20found','body','uploadFile','apply','Arquivo\x20Salvo','../models/QueueOption','mediaName','7EyCUZH','1213675UtAVdC','unlinkSync','queue','head','path','save','Option\x20Updated','638504NbUNAT','filename','update','1865112uJDiNT','Arquivo\x20excluÃ­do','file','Option\x20Delected','6644506HGECNB','query','24dDcvLt','../services/QueueOptionService/DeleteService','../services/QueueOptionService/UpdateService','__esModule','mediaPath','lodash','send','json','remove','store','public','68408SKnZlo','originalname','2txFBsP','existsSync'];a31_0x5c9a=function(){return _0x433f08;};return a31_0x5c9a();}function a31_0x106c(_0x274139,_0xcfd76d){const _0x3127da=a31_0x5c9a();return a31_0x106c=function(_0x4c26ba,_0x2e3b6c){_0x4c26ba=_0x4c26ba-0xbf;let _0x5c9afc=_0x3127da[_0x4c26ba];return _0x5c9afc;},a31_0x106c(_0x274139,_0xcfd76d);}const update=async(_0x38c494,_0x341798)=>{const _0xc85e16=a31_0x41e498,{queueOptionId:_0x27918f}=_0x38c494[_0xc85e16(0xc6)],_0xe542cb=_0x38c494[_0xc85e16(0xcd)],_0x415f3e=await(0x0,UpdateService_1[_0xc85e16(0xc9)])(_0x27918f,_0xe542cb);return _0x341798[_0xc85e16(0xca)](0xc8)[_0xc85e16(0xeb)](_0x415f3e);};exports[a31_0x41e498(0xdd)]=update;const uploadFile=async(_0xe5b5a8,_0x327d0a)=>{const _0x5f3217=a31_0x41e498,{queueOptionId:_0x50b089}=_0xe5b5a8['params'],_0xa45fd9=_0xe5b5a8['body'],_0x26135d=_0xe5b5a8[_0x5f3217(0xe0)],_0x366c15=await QueueOption_1['default'][_0x5f3217(0xf8)](_0x50b089);if(!_0x366c15)throw new Error(_0x5f3217(0xcc));const _0x16e2ea=_0x366c15[_0x5f3217(0xc0)];return fs_1[_0x5f3217(0xc9)]['existsSync'](_0x16e2ea)&&fs_1['default'][_0x5f3217(0xd5)](_0x16e2ea),_0x366c15[_0x5f3217(0xc0)]=_0x26135d[_0x5f3217(0xdc)],await _0x366c15[_0x5f3217(0xd9)](),_0x327d0a[_0x5f3217(0xca)](0xc8)['json']({'message':_0x5f3217(0xda)});};exports[a31_0x41e498(0xce)]=uploadFile;const remove=async(_0x520124,_0x45abe4)=>{const _0x41cf08=a31_0x41e498,{queueOptionId:_0x13a3b1}=_0x520124[_0x41cf08(0xc6)],_0x3964a2=await QueueOption_1[_0x41cf08(0xc9)]['findByPk'](_0x13a3b1);if(!_0x3964a2)throw new Error(_0x41cf08(0xcc));const _0x476a95=_0x3964a2[_0x41cf08(0xc0)];return fs_1[_0x41cf08(0xc9)][_0x41cf08(0xf2)](_0x476a95)&&fs_1[_0x41cf08(0xc9)][_0x41cf08(0xd5)](_0x476a95),await(0x0,DeleteService_1[_0x41cf08(0xc9)])(_0x13a3b1),_0x45abe4[_0x41cf08(0xca)](0xc8)[_0x41cf08(0xeb)]({'message':_0x41cf08(0xe1)});};exports['remove']=remove;const mediaUpload=async(_0x1e8c20,_0x1b7c4d)=>{const _0x1f57a0=a31_0x41e498,{queueOptionId:_0x307404}=_0x1e8c20['params'],_0x24a8c3=_0x1e8c20['files'],_0x29aff4=(0x0,lodash_1[_0x1f57a0(0xd7)])(_0x24a8c3);try{const _0x175b4f=await QueueOption_1[_0x1f57a0(0xc9)][_0x1f57a0(0xf8)](_0x307404);return _0x175b4f[_0x1f57a0(0xdd)]({'mediaPath':_0x29aff4[_0x1f57a0(0xdc)],'mediaName':_0x29aff4[_0x1f57a0(0xf0)]}),_0x1b7c4d[_0x1f57a0(0xea)]({'mensagem':_0x1f57a0(0xd0)});}catch(_0x5c0653){throw new AppError_1['default'](_0x5c0653[_0x1f57a0(0xc0)]);}};exports[a31_0x41e498(0xf4)]=mediaUpload;const deleteMedia=async(_0x598319,_0x23d963)=>{const _0x55886e=a31_0x41e498,{queueOptionId:_0x1e520b}=_0x598319[_0x55886e(0xc6)];try{const _0xac5e14=await QueueOption_1[_0x55886e(0xc9)][_0x55886e(0xf8)](_0x1e520b,{'include':[_0x55886e(0xd6)]}),_0x4909d3=path_1[_0x55886e(0xc9)][_0x55886e(0xbf)](_0x55886e(0xee),'company'+_0xac5e14['queue'][_0x55886e(0xc8)],_0xac5e14[_0x55886e(0xe8)]),_0x33c599=fs_1[_0x55886e(0xc9)][_0x55886e(0xf2)](_0x4909d3);return _0x33c599&&fs_1[_0x55886e(0xc9)][_0x55886e(0xd5)](_0x4909d3),_0xac5e14[_0x55886e(0xe8)]=null,_0xac5e14[_0x55886e(0xd2)]=null,await _0xac5e14[_0x55886e(0xd9)](),_0x23d963[_0x55886e(0xea)]({'mensagem':_0x55886e(0xdf)});}catch(_0x24a3e3){throw new AppError_1[(_0x55886e(0xc9))](_0x24a3e3[_0x55886e(0xc0)]);}};exports['deleteMedia']=deleteMedia;