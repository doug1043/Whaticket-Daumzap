const a36_0x5d8f27=a36_0x465f;(function(_0xf2b49b,_0x4df07c){const _0x2f4841=a36_0x465f,_0x5c3806=_0xf2b49b();while(!![]){try{const _0x340865=-parseInt(_0x2f4841(0x1e2))/0x1+-parseInt(_0x2f4841(0x1c8))/0x2+parseInt(_0x2f4841(0x1e5))/0x3+parseInt(_0x2f4841(0x1d6))/0x4+-parseInt(_0x2f4841(0x1cd))/0x5*(-parseInt(_0x2f4841(0x1d5))/0x6)+parseInt(_0x2f4841(0x1e8))/0x7+-parseInt(_0x2f4841(0x1e4))/0x8*(parseInt(_0x2f4841(0x1c1))/0x9);if(_0x340865===_0x4df07c)break;else _0x5c3806['push'](_0x5c3806['shift']());}catch(_0x488d9a){_0x5c3806['push'](_0x5c3806['shift']());}}}(a36_0x5e69,0x25e53));const a36_0x414944=(function(){let _0x5ae2bd=!![];return function(_0x135c13,_0x5e1d25){const _0x1becbb=_0x5ae2bd?function(){const _0x1741ea=a36_0x465f;if(_0x5e1d25){const _0x2b1ea5=_0x5e1d25[_0x1741ea(0x1e1)](_0x135c13,arguments);return _0x5e1d25=null,_0x2b1ea5;}}:function(){};return _0x5ae2bd=![],_0x1becbb;};}()),a36_0x37ad62=a36_0x414944(this,function(){const _0x178893=a36_0x465f;return a36_0x37ad62[_0x178893(0x1c3)]()[_0x178893(0x1d0)](_0x178893(0x1e7))[_0x178893(0x1c3)]()[_0x178893(0x1b9)](a36_0x37ad62)[_0x178893(0x1d0)](_0x178893(0x1e7));});a36_0x37ad62();'use strict';function a36_0x465f(_0x134a32,_0x4b2ef6){const _0x1b2eb7=a36_0x5e69();return a36_0x465f=function(_0x37ad62,_0x414944){_0x37ad62=_0x37ad62-0x1b6;let _0x5e6900=_0x1b2eb7[_0x37ad62];return _0x5e6900;},a36_0x465f(_0x134a32,_0x4b2ef6);}function a36_0x5e69(){const _0x590d0b=['../errors/AppError','530QSKmtu','head','mediaPath','search','../services/QueueOptionService/ShowService','body','mediaUpload','user','14316QzgRLV','861832UNhwlX','path','lodash','__esModule','filas','Arquivo\x20Salvo','mediaName','remove','params','store','filename','apply','205978OeMfHZ','show','39736OHJCgN','872793HycjDj','update','(((.+)+)+)+$','1428273lXmQhJ','__importDefault','save','files','constructor','uploadFile','query','../services/StorageService/StorageService','../services/QueueOptionService/CreateService','mimetype','json','deleteFile','765YKwxGI','findByPk','toString','Arquivo\x20excluÃ­do','message','status','index','359904jNQCnZ','deleteMedia','default','send'];a36_0x5e69=function(){return _0x590d0b;};return a36_0x5e69();}var __importDefault=this&&this[a36_0x5d8f27(0x1b6)]||function(_0x4a06fd){const _0x3b43bb=a36_0x5d8f27;return _0x4a06fd&&_0x4a06fd[_0x3b43bb(0x1d9)]?_0x4a06fd:{'default':_0x4a06fd};};Object['defineProperty'](exports,a36_0x5d8f27(0x1d9),{'value':!![]}),exports['deleteMedia']=exports[a36_0x5d8f27(0x1d3)]=exports['remove']=exports[a36_0x5d8f27(0x1e6)]=exports[a36_0x5d8f27(0x1e3)]=exports['store']=exports[a36_0x5d8f27(0x1c7)]=void 0x0;const CreateService_1=__importDefault(require(a36_0x5d8f27(0x1bd))),ListService_1=__importDefault(require('../services/QueueOptionService/ListService')),UpdateService_1=__importDefault(require('../services/QueueOptionService/UpdateService')),ShowService_1=__importDefault(require(a36_0x5d8f27(0x1d1))),DeleteService_1=__importDefault(require('../services/QueueOptionService/DeleteService')),lodash_1=require(a36_0x5d8f27(0x1d8)),AppError_1=__importDefault(require(a36_0x5d8f27(0x1cc))),QueueOption_1=__importDefault(require('../models/QueueOption')),StorageService_1=__importDefault(require(a36_0x5d8f27(0x1bc))),index=async(_0x218bd8,_0x19efdf)=>{const _0x34ef5b=a36_0x5d8f27,{queueId:_0x3784e6,queueOptionId:_0x265ab2,parentId:_0x1346e9}=_0x218bd8[_0x34ef5b(0x1bb)],_0x45b50d=parseInt(_0x3784e6,0xa),_0x134d61=parseInt(_0x265ab2,0xa),_0x55d81c=parseInt(_0x1346e9,0xa),_0x51a507=await(0x0,ListService_1[_0x34ef5b(0x1ca)])({'queueId':_0x45b50d,'queueOptionId':_0x134d61,'parentId':_0x55d81c});return _0x19efdf[_0x34ef5b(0x1bf)](_0x51a507);};exports[a36_0x5d8f27(0x1c7)]=index;const store=async(_0x5ddfbd,_0x5ebf47)=>{const _0x52e978=a36_0x5d8f27,_0x1ea3fc=_0x5ddfbd[_0x52e978(0x1d2)],_0x152a9d=await(0x0,CreateService_1[_0x52e978(0x1ca)])(_0x1ea3fc);return _0x5ebf47['status'](0xc8)[_0x52e978(0x1bf)](_0x152a9d);};exports[a36_0x5d8f27(0x1df)]=store;const show=async(_0x3a7871,_0x588f04)=>{const _0x2b5993=a36_0x5d8f27,{queueOptionId:_0x2eb84a}=_0x3a7871[_0x2b5993(0x1de)],_0x1dea2b=await(0x0,ShowService_1[_0x2b5993(0x1ca)])(_0x2eb84a);return _0x588f04[_0x2b5993(0x1c6)](0xc8)[_0x2b5993(0x1bf)](_0x1dea2b);};exports[a36_0x5d8f27(0x1e3)]=show;const update=async(_0x28e009,_0x462655)=>{const _0x5c9936=a36_0x5d8f27,{queueOptionId:_0xbb140d}=_0x28e009['params'],_0x503e11=_0x28e009['body'],_0x391366=await(0x0,UpdateService_1[_0x5c9936(0x1ca)])(_0xbb140d,_0x503e11);return _0x462655[_0x5c9936(0x1c6)](0xc8)[_0x5c9936(0x1bf)](_0x391366);};exports[a36_0x5d8f27(0x1e6)]=update;const remove=async(_0x226d4b,_0x189e71)=>{const _0x62e7dc=a36_0x5d8f27,{queueOptionId:_0x566f66}=_0x226d4b[_0x62e7dc(0x1de)];return await(0x0,DeleteService_1[_0x62e7dc(0x1ca)])(_0x566f66),_0x189e71[_0x62e7dc(0x1c6)](0xc8)[_0x62e7dc(0x1bf)]({'message':'Option\x20Delected'});};exports[a36_0x5d8f27(0x1dd)]=remove;const mediaUpload=async(_0x458743,_0x2caf25)=>{const _0x47d50b=a36_0x5d8f27,{queueOptionId:_0x5ce1b1}=_0x458743[_0x47d50b(0x1de)],{companyId:_0x25a1dd}=_0x458743[_0x47d50b(0x1d4)],_0x50cf96=_0x458743[_0x47d50b(0x1b8)],_0x457419=(0x0,lodash_1[_0x47d50b(0x1ce)])(_0x50cf96);try{const _0x478166=await QueueOption_1['default']['findByPk'](_0x5ce1b1),{url:_0x1d8c62}=await StorageService_1[_0x47d50b(0x1ca)][_0x47d50b(0x1ba)](_0x25a1dd,_0x47d50b(0x1da),_0x457419[_0x47d50b(0x1e0)],_0x457419[_0x47d50b(0x1d7)],_0x457419[_0x47d50b(0x1be)]);return await _0x478166[_0x47d50b(0x1e6)]({'mediaPath':_0x1d8c62,'mediaName':_0x457419['originalname']}),_0x2caf25[_0x47d50b(0x1cb)]({'mensagem':_0x47d50b(0x1db)});}catch(_0x565340){throw new AppError_1[(_0x47d50b(0x1ca))](_0x565340['message']);}};exports[a36_0x5d8f27(0x1d3)]=mediaUpload;const deleteMedia=async(_0x37aeea,_0x2ddf7f)=>{const _0x5e1c33=a36_0x5d8f27,{queueOptionId:_0x572128}=_0x37aeea[_0x5e1c33(0x1de)],{companyId:_0x27247e}=_0x37aeea[_0x5e1c33(0x1d4)];try{const _0x23c0aa=await QueueOption_1[_0x5e1c33(0x1ca)][_0x5e1c33(0x1c2)](_0x572128);return _0x23c0aa['mediaPath']&&await StorageService_1['default'][_0x5e1c33(0x1c0)](_0x27247e,_0x23c0aa[_0x5e1c33(0x1cf)]),_0x23c0aa[_0x5e1c33(0x1cf)]=null,_0x23c0aa[_0x5e1c33(0x1dc)]=null,await _0x23c0aa[_0x5e1c33(0x1b7)](),_0x2ddf7f[_0x5e1c33(0x1cb)]({'mensagem':_0x5e1c33(0x1c4)});}catch(_0x49f3a8){throw new AppError_1[(_0x5e1c33(0x1ca))](_0x49f3a8[_0x5e1c33(0x1c5)]);}};exports[a36_0x5d8f27(0x1c9)]=deleteMedia;