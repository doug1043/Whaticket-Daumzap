const a31_0x597aa3=a31_0x4b6b;(function(_0x5b7482,_0x12ce45){const _0xa282cf=a31_0x4b6b,_0x3a1f30=_0x5b7482();while(!![]){try{const _0x17f8c4=-parseInt(_0xa282cf(0x1f6))/0x1*(parseInt(_0xa282cf(0x211))/0x2)+parseInt(_0xa282cf(0x1ec))/0x3+-parseInt(_0xa282cf(0x204))/0x4+-parseInt(_0xa282cf(0x1fa))/0x5*(parseInt(_0xa282cf(0x215))/0x6)+parseInt(_0xa282cf(0x1fe))/0x7*(-parseInt(_0xa282cf(0x1f8))/0x8)+parseInt(_0xa282cf(0x212))/0x9+parseInt(_0xa282cf(0x21f))/0xa;if(_0x17f8c4===_0x12ce45)break;else _0x3a1f30['push'](_0x3a1f30['shift']());}catch(_0x329161){_0x3a1f30['push'](_0x3a1f30['shift']());}}}(a31_0x3467,0x368c3));const a31_0x20d713=(function(){let _0x20f8b4=!![];return function(_0x385d8c,_0x457f2d){const _0x44e252=_0x20f8b4?function(){if(_0x457f2d){const _0x48b185=_0x457f2d['apply'](_0x385d8c,arguments);return _0x457f2d=null,_0x48b185;}}:function(){};return _0x20f8b4=![],_0x44e252;};}()),a31_0x5a761f=a31_0x20d713(this,function(){const _0x1dafdc=a31_0x4b6b;return a31_0x5a761f[_0x1dafdc(0x20b)]()['search'](_0x1dafdc(0x214))[_0x1dafdc(0x20b)]()[_0x1dafdc(0x21d)](a31_0x5a761f)[_0x1dafdc(0x210)](_0x1dafdc(0x214));});a31_0x5a761f();function a31_0x4b6b(_0x3ce946,_0x30db7e){const _0x1e9a9e=a31_0x3467();return a31_0x4b6b=function(_0x5a761f,_0x20d713){_0x5a761f=_0x5a761f-0x1ec;let _0x3467c7=_0x1e9a9e[_0x5a761f];return _0x3467c7;},a31_0x4b6b(_0x3ce946,_0x30db7e);}'use strict';function a31_0x3467(){const _0x55fa73=['../services/QueueOptionService/UpdateService','status','../services/QueueOptionService/DeleteService','search','619778fFFNgW','2522070TcMwRJ','remove','(((.+)+)+)+$','1408026BIdlhe','findByPk','originalname','lodash','company','deleteMedia','send','index','constructor','message','8138320XTbyyD','Arquivo\x20Salvo','file','save','../services/QueueOptionService/ListService','../services/QueueOptionService/CreateService','body','public','296607oVduni','mediaPath','default','unlinkSync','Option\x20Delected','files','show','resolve','json','companyId','1ICEEeY','../models/QueueOption','1480FFAGqL','queue','5ZLRoBE','QueueOption\x20not\x20found','store','query','15603rxyxPC','__importDefault','../errors/AppError','__esModule','existsSync','../services/QueueOptionService/ShowService','50316PTTjkp','mediaUpload','uploadFile','Option\x20Updated','params','Arquivo\x20excluÃ­do','path','toString','update'];a31_0x3467=function(){return _0x55fa73;};return a31_0x3467();}var __importDefault=this&&this[a31_0x597aa3(0x1ff)]||function(_0x116c8e){const _0x4a7b39=a31_0x597aa3;return _0x116c8e&&_0x116c8e[_0x4a7b39(0x201)]?_0x116c8e:{'default':_0x116c8e};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['deleteMedia']=exports[a31_0x597aa3(0x205)]=exports[a31_0x597aa3(0x213)]=exports[a31_0x597aa3(0x206)]=exports[a31_0x597aa3(0x20c)]=exports[a31_0x597aa3(0x1f2)]=exports[a31_0x597aa3(0x1fc)]=exports['index']=void 0x0;const CreateService_1=__importDefault(require(a31_0x597aa3(0x224))),ListService_1=__importDefault(require(a31_0x597aa3(0x223))),UpdateService_1=__importDefault(require(a31_0x597aa3(0x20d))),ShowService_1=__importDefault(require(a31_0x597aa3(0x203))),DeleteService_1=__importDefault(require(a31_0x597aa3(0x20f))),lodash_1=require(a31_0x597aa3(0x218)),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x597aa3(0x20a))),AppError_1=__importDefault(require(a31_0x597aa3(0x200))),QueueOption_1=__importDefault(require(a31_0x597aa3(0x1f7))),index=async(_0x53a26f,_0x57132c)=>{const _0x28a27e=a31_0x597aa3,{queueId:_0x26befb,queueOptionId:_0x299a54,parentId:_0x52e84e}=_0x53a26f[_0x28a27e(0x1fd)],_0x565978=await(0x0,ListService_1[_0x28a27e(0x1ee)])({'queueId':_0x26befb,'queueOptionId':_0x299a54,'parentId':_0x52e84e});return _0x57132c[_0x28a27e(0x1f4)](_0x565978);};exports[a31_0x597aa3(0x21c)]=index;const store=async(_0x346285,_0x2a7e34)=>{const _0x2b513c=a31_0x597aa3,_0x4f2dde=_0x346285['body'],_0x1ff0b3=await(0x0,CreateService_1[_0x2b513c(0x1ee)])(_0x4f2dde);return _0x2a7e34[_0x2b513c(0x20e)](0xc8)[_0x2b513c(0x1f4)](_0x1ff0b3);};exports[a31_0x597aa3(0x1fc)]=store;const show=async(_0x1ff890,_0x5d4f85)=>{const _0x19e9ab=a31_0x597aa3,{queueOptionId:_0x475701}=_0x1ff890[_0x19e9ab(0x208)],_0x2e236a=await(0x0,ShowService_1['default'])(_0x475701);return _0x5d4f85[_0x19e9ab(0x20e)](0xc8)[_0x19e9ab(0x1f4)](_0x2e236a);};exports[a31_0x597aa3(0x1f2)]=show;const update=async(_0x3d2209,_0x582155)=>{const _0x4d722b=a31_0x597aa3,{queueOptionId:_0x178bb9}=_0x3d2209[_0x4d722b(0x208)],_0x2ee27c=_0x3d2209[_0x4d722b(0x225)],_0x57ea95=await(0x0,UpdateService_1[_0x4d722b(0x1ee)])(_0x178bb9,_0x2ee27c);return _0x582155[_0x4d722b(0x20e)](0xc8)[_0x4d722b(0x1f4)](_0x57ea95);};exports[a31_0x597aa3(0x20c)]=update;const uploadFile=async(_0x3dcc55,_0x1240d0)=>{const _0x360bdb=a31_0x597aa3,{queueOptionId:_0x5b47f3}=_0x3dcc55[_0x360bdb(0x208)],_0x58df0b=_0x3dcc55[_0x360bdb(0x225)],_0x517f02=_0x3dcc55[_0x360bdb(0x221)],_0xec8cab=await QueueOption_1['default']['findByPk'](_0x5b47f3);if(!_0xec8cab)throw new Error(_0x360bdb(0x1fb));const _0x5bb7c2=_0xec8cab[_0x360bdb(0x21e)];return fs_1[_0x360bdb(0x1ee)]['existsSync'](_0x5bb7c2)&&fs_1[_0x360bdb(0x1ee)][_0x360bdb(0x1ef)](_0x5bb7c2),_0xec8cab[_0x360bdb(0x21e)]=_0x517f02['filename'],await _0xec8cab[_0x360bdb(0x222)](),_0x1240d0[_0x360bdb(0x20e)](0xc8)['json']({'message':_0x360bdb(0x207)});};exports['uploadFile']=uploadFile;const remove=async(_0xf165c5,_0x2170b0)=>{const _0x5c3f40=a31_0x597aa3,{queueOptionId:_0x2f9cd5}=_0xf165c5['params'],_0x40c527=await QueueOption_1[_0x5c3f40(0x1ee)]['findByPk'](_0x2f9cd5);if(!_0x40c527)throw new Error(_0x5c3f40(0x1fb));const _0x3e272b=_0x40c527[_0x5c3f40(0x21e)];return fs_1[_0x5c3f40(0x1ee)][_0x5c3f40(0x202)](_0x3e272b)&&fs_1[_0x5c3f40(0x1ee)][_0x5c3f40(0x1ef)](_0x3e272b),await(0x0,DeleteService_1['default'])(_0x2f9cd5),_0x2170b0[_0x5c3f40(0x20e)](0xc8)[_0x5c3f40(0x1f4)]({'message':_0x5c3f40(0x1f0)});};exports[a31_0x597aa3(0x213)]=remove;const mediaUpload=async(_0x19b9ac,_0x4aa67d)=>{const _0x59ddc1=a31_0x597aa3,{queueOptionId:_0x47c008}=_0x19b9ac[_0x59ddc1(0x208)],_0x5c5220=_0x19b9ac[_0x59ddc1(0x1f1)],_0x598dd7=(0x0,lodash_1['head'])(_0x5c5220);try{const _0x2d9ec4=await QueueOption_1[_0x59ddc1(0x1ee)][_0x59ddc1(0x216)](_0x47c008);return _0x2d9ec4[_0x59ddc1(0x20c)]({'mediaPath':_0x598dd7['filename'],'mediaName':_0x598dd7[_0x59ddc1(0x217)]}),_0x4aa67d[_0x59ddc1(0x21b)]({'mensagem':_0x59ddc1(0x220)});}catch(_0x5b40cd){throw new AppError_1[(_0x59ddc1(0x1ee))](_0x5b40cd['message']);}};exports[a31_0x597aa3(0x205)]=mediaUpload;const deleteMedia=async(_0x2f3167,_0x51b986)=>{const _0x35e9f5=a31_0x597aa3,{queueOptionId:_0xca9df0}=_0x2f3167[_0x35e9f5(0x208)];try{const _0x4d6f48=await QueueOption_1['default'][_0x35e9f5(0x216)](_0xca9df0,{'include':[_0x35e9f5(0x1f9)]}),_0x5df0f3=path_1[_0x35e9f5(0x1ee)][_0x35e9f5(0x1f3)](_0x35e9f5(0x226),_0x35e9f5(0x219)+_0x4d6f48[_0x35e9f5(0x1f9)][_0x35e9f5(0x1f5)],_0x4d6f48[_0x35e9f5(0x1ed)]),_0x2182f8=fs_1[_0x35e9f5(0x1ee)][_0x35e9f5(0x202)](_0x5df0f3);return _0x2182f8&&fs_1['default'][_0x35e9f5(0x1ef)](_0x5df0f3),_0x4d6f48['mediaPath']=null,_0x4d6f48['mediaName']=null,await _0x4d6f48[_0x35e9f5(0x222)](),_0x51b986[_0x35e9f5(0x21b)]({'mensagem':_0x35e9f5(0x209)});}catch(_0x140981){throw new AppError_1[(_0x35e9f5(0x1ee))](_0x140981[_0x35e9f5(0x21e)]);}};exports[a31_0x597aa3(0x21a)]=deleteMedia;