const a31_0x356bd4=a31_0x35e4;(function(_0x4eb4a9,_0x309aae){const _0x456d29=a31_0x35e4,_0x563360=_0x4eb4a9();while(!![]){try{const _0x1ebe29=parseInt(_0x456d29(0x1bc))/0x1*(-parseInt(_0x456d29(0x192))/0x2)+-parseInt(_0x456d29(0x1aa))/0x3+-parseInt(_0x456d29(0x1b4))/0x4+-parseInt(_0x456d29(0x1bb))/0x5+parseInt(_0x456d29(0x194))/0x6+parseInt(_0x456d29(0x1b3))/0x7*(parseInt(_0x456d29(0x199))/0x8)+parseInt(_0x456d29(0x191))/0x9;if(_0x1ebe29===_0x309aae)break;else _0x563360['push'](_0x563360['shift']());}catch(_0x5ac301){_0x563360['push'](_0x563360['shift']());}}}(a31_0x4514,0xc6cf1));const a31_0x2bc55f=(function(){let _0x123441=!![];return function(_0x583a45,_0x185e09){const _0x3bb66a=_0x123441?function(){const _0x2b1618=a31_0x35e4;if(_0x185e09){const _0x3d37ae=_0x185e09[_0x2b1618(0x1a3)](_0x583a45,arguments);return _0x185e09=null,_0x3d37ae;}}:function(){};return _0x123441=![],_0x3bb66a;};}()),a31_0x256a4b=a31_0x2bc55f(this,function(){const _0x4c162f=a31_0x35e4;return a31_0x256a4b[_0x4c162f(0x19e)]()[_0x4c162f(0x1c2)](_0x4c162f(0x1a4))[_0x4c162f(0x19e)]()[_0x4c162f(0x1c1)](a31_0x256a4b)[_0x4c162f(0x1c2)](_0x4c162f(0x1a4));});a31_0x256a4b();'use strict';var __importDefault=this&&this[a31_0x356bd4(0x1bf)]||function(_0x51f4da){const _0x5b39f0=a31_0x356bd4;return _0x51f4da&&_0x51f4da[_0x5b39f0(0x1b9)]?_0x51f4da:{'default':_0x51f4da};};Object[a31_0x356bd4(0x1b2)](exports,a31_0x356bd4(0x1b9),{'value':!![]}),exports[a31_0x356bd4(0x1ae)]=exports[a31_0x356bd4(0x1b1)]=exports[a31_0x356bd4(0x19a)]=exports['uploadFile']=exports[a31_0x356bd4(0x1b6)]=exports[a31_0x356bd4(0x1c7)]=exports['store']=exports[a31_0x356bd4(0x19c)]=void 0x0;const CreateService_1=__importDefault(require('../services/QueueOptionService/CreateService')),ListService_1=__importDefault(require('../services/QueueOptionService/ListService')),UpdateService_1=__importDefault(require(a31_0x356bd4(0x195))),ShowService_1=__importDefault(require('../services/QueueOptionService/ShowService')),DeleteService_1=__importDefault(require(a31_0x356bd4(0x19f))),lodash_1=require(a31_0x356bd4(0x197)),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x356bd4(0x1a8))),AppError_1=__importDefault(require(a31_0x356bd4(0x1b5))),QueueOption_1=__importDefault(require(a31_0x356bd4(0x1a5))),index=async(_0x2fa608,_0x2eb5ef)=>{const _0x5a9e4d=a31_0x356bd4,{queueId:_0x57b710,queueOptionId:_0x5f12b1,parentId:_0x2bbedf}=_0x2fa608[_0x5a9e4d(0x1a6)],_0x48edb4=await(0x0,ListService_1[_0x5a9e4d(0x1b7)])({'queueId':_0x57b710,'queueOptionId':_0x5f12b1,'parentId':_0x2bbedf});return _0x2eb5ef[_0x5a9e4d(0x1c3)](_0x48edb4);};exports[a31_0x356bd4(0x19c)]=index;function a31_0x4514(){const _0x3925b9=['files','deleteMedia','uploadFile','body','mediaUpload','defineProperty','14NekDTH','4498996AiKbBi','../errors/AppError','update','default','unlinkSync','__esModule','Arquivo\x20Salvo','7203195grEmRZ','1MjKcMr','QueueOption\x20not\x20found','head','__importDefault','params','constructor','search','json','company','existsSync','message','show','findByPk','28721592IgmzJV','1188686AbJGLr','Arquivo\x20excluÃ­do','2903580NeHWTj','../services/QueueOptionService/UpdateService','save','lodash','companyId','3748232EGHdMp','remove','send','index','queue','toString','../services/QueueOptionService/DeleteService','filename','public','Option\x20Delected','apply','(((.+)+)+)+$','../models/QueueOption','query','Option\x20Updated','path','file','1914672ywpnzD','status','resolve'];a31_0x4514=function(){return _0x3925b9;};return a31_0x4514();}const store=async(_0x34ff9a,_0x45ff01)=>{const _0x4c895e=a31_0x356bd4,_0x47a3a1=_0x34ff9a[_0x4c895e(0x1b0)],_0x31033c=await(0x0,CreateService_1['default'])(_0x47a3a1);return _0x45ff01[_0x4c895e(0x1ab)](0xc8)[_0x4c895e(0x1c3)](_0x31033c);};exports['store']=store;const show=async(_0x5a9cdd,_0x1603c3)=>{const _0x3373b2=a31_0x356bd4,{queueOptionId:_0x11dde5}=_0x5a9cdd[_0x3373b2(0x1c0)],_0x1556f1=await(0x0,ShowService_1['default'])(_0x11dde5);return _0x1603c3['status'](0xc8)[_0x3373b2(0x1c3)](_0x1556f1);};exports[a31_0x356bd4(0x1c7)]=show;const update=async(_0x40d7b1,_0x4bc7f5)=>{const _0x42f95b=a31_0x356bd4,{queueOptionId:_0x196433}=_0x40d7b1[_0x42f95b(0x1c0)],_0x4c7165=_0x40d7b1[_0x42f95b(0x1b0)],_0x5cf4f3=await(0x0,UpdateService_1[_0x42f95b(0x1b7)])(_0x196433,_0x4c7165);return _0x4bc7f5[_0x42f95b(0x1ab)](0xc8)[_0x42f95b(0x1c3)](_0x5cf4f3);};exports[a31_0x356bd4(0x1b6)]=update;const uploadFile=async(_0x5b6b08,_0x150d26)=>{const _0x53bb6f=a31_0x356bd4,{queueOptionId:_0x452934}=_0x5b6b08['params'],_0x18c55d=_0x5b6b08[_0x53bb6f(0x1b0)],_0x23ac91=_0x5b6b08[_0x53bb6f(0x1a9)],_0x3d04af=await QueueOption_1[_0x53bb6f(0x1b7)][_0x53bb6f(0x190)](_0x452934);if(!_0x3d04af)throw new Error(_0x53bb6f(0x1bd));const _0x5f54b5=_0x3d04af['message'];return fs_1['default'][_0x53bb6f(0x1c5)](_0x5f54b5)&&fs_1[_0x53bb6f(0x1b7)][_0x53bb6f(0x1b8)](_0x5f54b5),_0x3d04af[_0x53bb6f(0x1c6)]=_0x23ac91[_0x53bb6f(0x1a0)],await _0x3d04af[_0x53bb6f(0x196)](),_0x150d26[_0x53bb6f(0x1ab)](0xc8)[_0x53bb6f(0x1c3)]({'message':_0x53bb6f(0x1a7)});};function a31_0x35e4(_0x466e80,_0x391ed1){const _0xe2db08=a31_0x4514();return a31_0x35e4=function(_0x256a4b,_0x2bc55f){_0x256a4b=_0x256a4b-0x190;let _0x451457=_0xe2db08[_0x256a4b];return _0x451457;},a31_0x35e4(_0x466e80,_0x391ed1);}exports[a31_0x356bd4(0x1af)]=uploadFile;const remove=async(_0x403e48,_0x39edc9)=>{const _0x57aa48=a31_0x356bd4,{queueOptionId:_0x554acf}=_0x403e48['params'],_0x49fe8c=await QueueOption_1[_0x57aa48(0x1b7)]['findByPk'](_0x554acf);if(!_0x49fe8c)throw new Error(_0x57aa48(0x1bd));const _0x5dc7c8=_0x49fe8c['message'];return fs_1[_0x57aa48(0x1b7)][_0x57aa48(0x1c5)](_0x5dc7c8)&&fs_1['default'][_0x57aa48(0x1b8)](_0x5dc7c8),await(0x0,DeleteService_1[_0x57aa48(0x1b7)])(_0x554acf),_0x39edc9[_0x57aa48(0x1ab)](0xc8)[_0x57aa48(0x1c3)]({'message':_0x57aa48(0x1a2)});};exports[a31_0x356bd4(0x19a)]=remove;const mediaUpload=async(_0xc98873,_0x933843)=>{const _0x30e383=a31_0x356bd4,{queueOptionId:_0x2dfdff}=_0xc98873[_0x30e383(0x1c0)],_0x9c3071=_0xc98873[_0x30e383(0x1ad)],_0xe218cd=(0x0,lodash_1[_0x30e383(0x1be)])(_0x9c3071);try{const _0x2a749b=await QueueOption_1[_0x30e383(0x1b7)][_0x30e383(0x190)](_0x2dfdff);return _0x2a749b[_0x30e383(0x1b6)]({'mediaPath':_0xe218cd['filename'],'mediaName':_0xe218cd['originalname']}),_0x933843[_0x30e383(0x19b)]({'mensagem':_0x30e383(0x1ba)});}catch(_0x2d9fa3){throw new AppError_1[(_0x30e383(0x1b7))](_0x2d9fa3['message']);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x256465,_0x66cc91)=>{const _0x5bab5d=a31_0x356bd4,{queueOptionId:_0x1a8c99}=_0x256465[_0x5bab5d(0x1c0)];try{const _0x4207a7=await QueueOption_1['default'][_0x5bab5d(0x190)](_0x1a8c99,{'include':['queue']}),_0x422a8f=path_1[_0x5bab5d(0x1b7)][_0x5bab5d(0x1ac)](_0x5bab5d(0x1a1),_0x5bab5d(0x1c4)+_0x4207a7[_0x5bab5d(0x19d)][_0x5bab5d(0x198)],_0x4207a7['mediaPath']),_0x440d91=fs_1[_0x5bab5d(0x1b7)][_0x5bab5d(0x1c5)](_0x422a8f);return _0x440d91&&fs_1[_0x5bab5d(0x1b7)][_0x5bab5d(0x1b8)](_0x422a8f),_0x4207a7['mediaPath']=null,_0x4207a7['mediaName']=null,await _0x4207a7[_0x5bab5d(0x196)](),_0x66cc91[_0x5bab5d(0x19b)]({'mensagem':_0x5bab5d(0x193)});}catch(_0x3c80c0){throw new AppError_1[(_0x5bab5d(0x1b7))](_0x3c80c0[_0x5bab5d(0x1c6)]);}};exports[a31_0x356bd4(0x1ae)]=deleteMedia;