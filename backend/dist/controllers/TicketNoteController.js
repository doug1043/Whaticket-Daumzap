'use strict';const a39_0x16dcfe=a39_0x28a4;(function(_0x6abb82,_0x394b30){const _0x544387=a39_0x28a4,_0x10435c=_0x6abb82();while(!![]){try{const _0x5bfcc1=parseInt(_0x544387(0x194))/0x1*(parseInt(_0x544387(0x198))/0x2)+-parseInt(_0x544387(0x1bf))/0x3*(parseInt(_0x544387(0x1af))/0x4)+-parseInt(_0x544387(0x18d))/0x5+-parseInt(_0x544387(0x196))/0x6*(parseInt(_0x544387(0x18a))/0x7)+-parseInt(_0x544387(0x1a3))/0x8*(parseInt(_0x544387(0x1ae))/0x9)+parseInt(_0x544387(0x1b9))/0xa+-parseInt(_0x544387(0x1aa))/0xb*(-parseInt(_0x544387(0x1b8))/0xc);if(_0x5bfcc1===_0x394b30)break;else _0x10435c['push'](_0x10435c['shift']());}catch(_0x35974c){_0x10435c['push'](_0x10435c['shift']());}}}(a39_0x5ee6,0xdcad7));var __createBinding=this&&this[a39_0x16dcfe(0x1ad)]||(Object[a39_0x16dcfe(0x1b1)]?function(_0x510350,_0x20bbd6,_0x12f93b,_0x385ae8){const _0x1a0f61=a39_0x16dcfe;if(_0x385ae8===undefined)_0x385ae8=_0x12f93b;var _0x1d1178=Object[_0x1a0f61(0x1b4)](_0x20bbd6,_0x12f93b);(!_0x1d1178||(_0x1a0f61(0x1a5)in _0x1d1178?!_0x20bbd6['__esModule']:_0x1d1178['writable']||_0x1d1178[_0x1a0f61(0x1a7)]))&&(_0x1d1178={'enumerable':!![],'get':function(){return _0x20bbd6[_0x12f93b];}}),Object[_0x1a0f61(0x1a2)](_0x510350,_0x385ae8,_0x1d1178);}:function(_0x42f371,_0x2f8718,_0x5b3afc,_0x1fc801){if(_0x1fc801===undefined)_0x1fc801=_0x5b3afc;_0x42f371[_0x1fc801]=_0x2f8718[_0x5b3afc];}),__setModuleDefault=this&&this[a39_0x16dcfe(0x193)]||(Object[a39_0x16dcfe(0x1b1)]?function(_0x281823,_0x3d9e66){const _0x52d3e8=a39_0x16dcfe;Object['defineProperty'](_0x281823,_0x52d3e8(0x1ba),{'enumerable':!![],'value':_0x3d9e66});}:function(_0x37b73a,_0x3edbed){const _0x2f8bda=a39_0x16dcfe;_0x37b73a[_0x2f8bda(0x1ba)]=_0x3edbed;}),__importStar=this&&this[a39_0x16dcfe(0x1a0)]||(function(){const _0x29e469=(function(){let _0x3c0964=!![];return function(_0x3c42a1,_0x19f33b){const _0x37286f=_0x3c0964?function(){const _0x5e890e=a39_0x28a4;if(_0x19f33b){const _0x1406dd=_0x19f33b[_0x5e890e(0x1b6)](_0x3c42a1,arguments);return _0x19f33b=null,_0x1406dd;}}:function(){};return _0x3c0964=![],_0x37286f;};}()),_0x46ab67=_0x29e469(this,function(){const _0x43d2bb=a39_0x28a4;return _0x46ab67[_0x43d2bb(0x186)]()[_0x43d2bb(0x188)]('(((.+)+)+)+$')[_0x43d2bb(0x186)]()[_0x43d2bb(0x195)](_0x46ab67)['search'](_0x43d2bb(0x1c2));});_0x46ab67();var _0x58c420=function(_0x442555){const _0x3469d6=a39_0x28a4;return _0x58c420=Object[_0x3469d6(0x191)]||function(_0x526a5c){const _0x5dd518=_0x3469d6;var _0x22662a=[];for(var _0x40df4a in _0x526a5c)if(Object[_0x5dd518(0x19c)][_0x5dd518(0x1ac)][_0x5dd518(0x19d)](_0x526a5c,_0x40df4a))_0x22662a[_0x22662a[_0x5dd518(0x1b7)]]=_0x40df4a;return _0x22662a;},_0x58c420(_0x442555);};return function(_0x5409e2){const _0x410778=a39_0x28a4;if(_0x5409e2&&_0x5409e2[_0x410778(0x1bc)])return _0x5409e2;var _0x22551b={};if(_0x5409e2!=null){for(var _0x5047b9=_0x58c420(_0x5409e2),_0xfae9fe=0x0;_0xfae9fe<_0x5047b9['length'];_0xfae9fe++)if(_0x5047b9[_0xfae9fe]!==_0x410778(0x1ba))__createBinding(_0x22551b,_0x5409e2,_0x5047b9[_0xfae9fe]);}return __setModuleDefault(_0x22551b,_0x5409e2),_0x22551b;};}()),__importDefault=this&&this[a39_0x16dcfe(0x1c1)]||function(_0x25d40a){return _0x25d40a&&_0x25d40a['__esModule']?_0x25d40a:{'default':_0x25d40a};};function a39_0x28a4(_0x5553e5,_0x4362ca){const _0x5c5d40=a39_0x5ee6();return a39_0x28a4=function(_0x4d38af,_0x1146c1){_0x4d38af=_0x4d38af-0x185;let _0x5ee678=_0x5c5d40[_0x4d38af];return _0x5ee678;},a39_0x28a4(_0x5553e5,_0x4362ca);}Object[a39_0x16dcfe(0x1a2)](exports,a39_0x16dcfe(0x1bc),{'value':!![]}),exports[a39_0x16dcfe(0x1b5)]=exports['remove']=exports[a39_0x16dcfe(0x199)]=exports[a39_0x16dcfe(0x1bd)]=exports[a39_0x16dcfe(0x187)]=exports[a39_0x16dcfe(0x19a)]=exports[a39_0x16dcfe(0x1bb)]=void 0x0;const Yup=__importStar(require(a39_0x16dcfe(0x18b))),AppError_1=__importDefault(require(a39_0x16dcfe(0x197))),ListTicketNotesService_1=__importDefault(require(a39_0x16dcfe(0x1a4))),CreateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/CreateTicketNoteService')),UpdateTicketNoteService_1=__importDefault(require(a39_0x16dcfe(0x1b3))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a39_0x16dcfe(0x18e))),DeleteTicketNoteService_1=__importDefault(require(a39_0x16dcfe(0x1a1))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x1dedb7,_0x1e1e98)=>{const _0x264f46=a39_0x16dcfe,{searchParam:_0x7bfda1,pageNumber:_0x2789e0}=_0x1dedb7[_0x264f46(0x19e)],{ticketNotes:_0x4bef62,count:_0x199980,hasMore:_0x4505b2}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x7bfda1,'pageNumber':_0x2789e0});return _0x1e1e98['json']({'ticketNotes':_0x4bef62,'count':_0x199980,'hasMore':_0x4505b2});};exports[a39_0x16dcfe(0x1bb)]=index;const list=async(_0xd9184b,_0x115de8)=>{const _0x51055f=a39_0x16dcfe,_0x466bfd=await(0x0,FindAllTicketNotesService_1[_0x51055f(0x1ba)])();return _0x115de8['status'](0xc8)[_0x51055f(0x185)](_0x466bfd);};exports[a39_0x16dcfe(0x19a)]=list;function a39_0x5ee6(){const _0x4cd88c=['5552544xfDKcD','../services/TicketNoteService/ListTicketNotesService','get','required','configurable','status','string','11UhwnPo','object','hasOwnProperty','__createBinding','9ySAbtl','348NKoJvx','remove','create','shape','../services/TicketNoteService/UpdateTicketNoteService','getOwnPropertyDescriptor','findFilteredList','apply','length','17473908EVDwuo','9457980LErvTl','default','index','__esModule','show','ERR_NO_PERMISSION','7317TickDK','message','__importDefault','(((.+)+)+)+$','Observação\x20removida','json','toString','store','search','params','550620XtyLuP','yup','user','327290fEhfEg','../services/TicketNoteService/FindAllTicketNotesService','profile','admin','getOwnPropertyNames','validate','__setModuleDefault','417577Grfqnt','constructor','72aIwuPe','../errors/AppError','2EJuGRa','update','list','body','prototype','call','query','parseInt','__importStar','../services/TicketNoteService/DeleteTicketNoteService','defineProperty'];a39_0x5ee6=function(){return _0x4cd88c;};return a39_0x5ee6();}const store=async(_0x18101d,_0x126b52)=>{const _0x1cd611=a39_0x16dcfe,_0x4c7a60=_0x18101d['body'],{id:_0x4701f7}=_0x18101d[_0x1cd611(0x18c)],_0x21bc0a=Yup[_0x1cd611(0x1ab)]()[_0x1cd611(0x1b2)]({'note':Yup[_0x1cd611(0x1a9)]()[_0x1cd611(0x1a6)]()});try{await _0x21bc0a['validate'](_0x4c7a60);}catch(_0x22cd8c){throw new AppError_1['default'](_0x22cd8c[_0x1cd611(0x1c0)]);}const _0x467858=await(0x0,CreateTicketNoteService_1['default'])({..._0x4c7a60,'userId':Number[_0x1cd611(0x19f)](_0x4701f7,0xa)});return _0x126b52['status'](0xc8)[_0x1cd611(0x185)](_0x467858);};exports['store']=store;const show=async(_0xef6622,_0x12dd16)=>{const _0x4350bd=a39_0x16dcfe,{id:_0x3a2228}=_0xef6622[_0x4350bd(0x189)],_0x26a120=await(0x0,ShowTicketNoteService_1[_0x4350bd(0x1ba)])(_0x3a2228);return _0x12dd16[_0x4350bd(0x1a8)](0xc8)[_0x4350bd(0x185)](_0x26a120);};exports['show']=show;const update=async(_0x3e29a1,_0x3d552f)=>{const _0x307a7c=a39_0x16dcfe,_0x152f03=_0x3e29a1[_0x307a7c(0x19b)],_0x5aaa18=Yup[_0x307a7c(0x1ab)]()[_0x307a7c(0x1b2)]({'note':Yup[_0x307a7c(0x1a9)]()});try{await _0x5aaa18[_0x307a7c(0x192)](_0x152f03);}catch(_0x122445){throw new AppError_1['default'](_0x122445[_0x307a7c(0x1c0)]);}const _0x23f21d=await(0x0,UpdateTicketNoteService_1[_0x307a7c(0x1ba)])(_0x152f03);return _0x3d552f[_0x307a7c(0x1a8)](0xc8)['json'](_0x23f21d);};exports[a39_0x16dcfe(0x199)]=update;const remove=async(_0x8383a,_0x126f2f)=>{const _0x2d6e39=a39_0x16dcfe,{id:_0x229712}=_0x8383a[_0x2d6e39(0x189)];if(_0x8383a[_0x2d6e39(0x18c)][_0x2d6e39(0x18f)]!==_0x2d6e39(0x190))throw new AppError_1[(_0x2d6e39(0x1ba))](_0x2d6e39(0x1be),0x193);return await(0x0,DeleteTicketNoteService_1[_0x2d6e39(0x1ba)])(_0x229712),_0x126f2f[_0x2d6e39(0x1a8)](0xc8)[_0x2d6e39(0x185)]({'message':_0x2d6e39(0x1c3)});};exports[a39_0x16dcfe(0x1b0)]=remove;const findFilteredList=async(_0x48ad63,_0x891689)=>{const _0x1293c0=a39_0x16dcfe;try{const {contactId:_0x2fa63a,ticketId:_0x301f13}=_0x48ad63[_0x1293c0(0x19e)],_0x45c326=await(0x0,FindNotesByContactIdAndTicketId_1[_0x1293c0(0x1ba)])({'contactId':_0x2fa63a,'ticketId':_0x301f13});return _0x891689['status'](0xc8)[_0x1293c0(0x185)](_0x45c326);}catch(_0x6ae0ad){return _0x891689[_0x1293c0(0x1a8)](0x1f4)[_0x1293c0(0x185)]({'message':_0x6ae0ad});}};exports[a39_0x16dcfe(0x1b5)]=findFilteredList;