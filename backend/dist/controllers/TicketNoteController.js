'use strict';const a48_0x763b27=a48_0x4672;(function(_0x2be577,_0x559708){const _0x4a1e7e=a48_0x4672,_0x503b65=_0x2be577();while(!![]){try{const _0x364baf=parseInt(_0x4a1e7e(0xe2))/0x1+-parseInt(_0x4a1e7e(0x101))/0x2+parseInt(_0x4a1e7e(0x102))/0x3*(-parseInt(_0x4a1e7e(0xf2))/0x4)+parseInt(_0x4a1e7e(0xdf))/0x5*(-parseInt(_0x4a1e7e(0x10b))/0x6)+-parseInt(_0x4a1e7e(0xed))/0x7+-parseInt(_0x4a1e7e(0xe8))/0x8+-parseInt(_0x4a1e7e(0xea))/0x9*(-parseInt(_0x4a1e7e(0x104))/0xa);if(_0x364baf===_0x559708)break;else _0x503b65['push'](_0x503b65['shift']());}catch(_0x37dd6f){_0x503b65['push'](_0x503b65['shift']());}}}(a48_0x11bd,0xa2b88));var __createBinding=this&&this[a48_0x763b27(0xe5)]||(Object[a48_0x763b27(0xeb)]?function(_0x11e289,_0x40a2fc,_0x5dfd93,_0x5b5d02){const _0x5a0cc4=a48_0x763b27;if(_0x5b5d02===undefined)_0x5b5d02=_0x5dfd93;var _0x4fcb7a=Object[_0x5a0cc4(0x109)](_0x40a2fc,_0x5dfd93);(!_0x4fcb7a||(_0x5a0cc4(0x10c)in _0x4fcb7a?!_0x40a2fc['__esModule']:_0x4fcb7a['writable']||_0x4fcb7a[_0x5a0cc4(0xe3)]))&&(_0x4fcb7a={'enumerable':!![],'get':function(){return _0x40a2fc[_0x5dfd93];}}),Object[_0x5a0cc4(0xef)](_0x11e289,_0x5b5d02,_0x4fcb7a);}:function(_0x4f57a5,_0x1c76a1,_0x4407de,_0x561cab){if(_0x561cab===undefined)_0x561cab=_0x4407de;_0x4f57a5[_0x561cab]=_0x1c76a1[_0x4407de];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a48_0x763b27(0xeb)]?function(_0xb7887,_0x3be1f9){const _0x559ae7=a48_0x763b27;Object[_0x559ae7(0xef)](_0xb7887,_0x559ae7(0xf9),{'enumerable':!![],'value':_0x3be1f9});}:function(_0x571873,_0x520c38){_0x571873['default']=_0x520c38;}),__importStar=this&&this[a48_0x763b27(0xde)]||(function(){const _0x4d905d=(function(){let _0x2d7ad3=!![];return function(_0x8a47b1,_0x34d545){const _0x177e18=_0x2d7ad3?function(){const _0xa0e47=a48_0x4672;if(_0x34d545){const _0x551ca5=_0x34d545[_0xa0e47(0x10a)](_0x8a47b1,arguments);return _0x34d545=null,_0x551ca5;}}:function(){};return _0x2d7ad3=![],_0x177e18;};}()),_0x12699d=_0x4d905d(this,function(){const _0x31577e=a48_0x4672;return _0x12699d[_0x31577e(0xfe)]()[_0x31577e(0xee)](_0x31577e(0x10e))['toString']()[_0x31577e(0xe1)](_0x12699d)['search']('(((.+)+)+)+$');});_0x12699d();var _0x20c2bc=function(_0x184b89){const _0x57f998=a48_0x4672;return _0x20c2bc=Object[_0x57f998(0xfd)]||function(_0x579870){const _0xdab7d6=_0x57f998;var _0x397ede=[];for(var _0x281d73 in _0x579870)if(Object[_0xdab7d6(0x106)][_0xdab7d6(0xff)]['call'](_0x579870,_0x281d73))_0x397ede[_0x397ede[_0xdab7d6(0xdc)]]=_0x281d73;return _0x397ede;},_0x20c2bc(_0x184b89);};return function(_0x2d171d){const _0xca664=a48_0x4672;if(_0x2d171d&&_0x2d171d[_0xca664(0xf7)])return _0x2d171d;var _0xab7ea3={};if(_0x2d171d!=null){for(var _0x223cfa=_0x20c2bc(_0x2d171d),_0x4be1a3=0x0;_0x4be1a3<_0x223cfa[_0xca664(0xdc)];_0x4be1a3++)if(_0x223cfa[_0x4be1a3]!==_0xca664(0xf9))__createBinding(_0xab7ea3,_0x2d171d,_0x223cfa[_0x4be1a3]);}return __setModuleDefault(_0xab7ea3,_0x2d171d),_0xab7ea3;};}()),__importDefault=this&&this[a48_0x763b27(0xd9)]||function(_0x15eae6){return _0x15eae6&&_0x15eae6['__esModule']?_0x15eae6:{'default':_0x15eae6};};Object[a48_0x763b27(0xef)](exports,a48_0x763b27(0xf7),{'value':!![]}),exports['findFilteredList']=exports[a48_0x763b27(0x100)]=exports['update']=exports[a48_0x763b27(0xe0)]=exports['store']=exports[a48_0x763b27(0xf3)]=exports[a48_0x763b27(0x10d)]=void 0x0;const Yup=__importStar(require(a48_0x763b27(0xe9))),AppError_1=__importDefault(require(a48_0x763b27(0xfa))),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a48_0x763b27(0xec))),UpdateTicketNoteService_1=__importDefault(require(a48_0x763b27(0xdb))),ShowTicketNoteService_1=__importDefault(require(a48_0x763b27(0xf0))),FindAllTicketNotesService_1=__importDefault(require(a48_0x763b27(0xd8))),DeleteTicketNoteService_1=__importDefault(require(a48_0x763b27(0xf5))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a48_0x763b27(0x107))),index=async(_0x31c911,_0x401513)=>{const _0x4511de=a48_0x763b27,{searchParam:_0x55c152,pageNumber:_0x4b5ada}=_0x31c911['query'],{ticketNotes:_0x265d76,count:_0xf099bf,hasMore:_0x59f0e3}=await(0x0,ListTicketNotesService_1[_0x4511de(0xf9)])({'searchParam':_0x55c152,'pageNumber':_0x4b5ada});return _0x401513[_0x4511de(0xfb)]({'ticketNotes':_0x265d76,'count':_0xf099bf,'hasMore':_0x59f0e3});};exports[a48_0x763b27(0x10d)]=index;const list=async(_0x15e3bc,_0x99ebeb)=>{const _0x23d9bb=a48_0x763b27,_0x18725f=await(0x0,FindAllTicketNotesService_1[_0x23d9bb(0xf9)])();return _0x99ebeb[_0x23d9bb(0xf4)](0xc8)['json'](_0x18725f);};exports[a48_0x763b27(0xf3)]=list;const store=async(_0x123ac1,_0x166e43)=>{const _0x107e66=a48_0x763b27,_0x10c95e=_0x123ac1[_0x107e66(0xf1)],{id:_0x3027a0}=_0x123ac1[_0x107e66(0xda)],_0x4dc999=Yup['object']()[_0x107e66(0xfc)]({'note':Yup[_0x107e66(0xdd)]()[_0x107e66(0xd5)]()});try{await _0x4dc999['validate'](_0x10c95e);}catch(_0x4a7056){throw new AppError_1[(_0x107e66(0xf9))](_0x4a7056['message']);}const _0xbaf8e=await(0x0,CreateTicketNoteService_1[_0x107e66(0xf9)])({..._0x10c95e,'userId':Number['parseInt'](_0x3027a0,0xa)});return _0x166e43[_0x107e66(0xf4)](0xc8)[_0x107e66(0xfb)](_0xbaf8e);};exports[a48_0x763b27(0x103)]=store;const show=async(_0x42f0,_0x156a9a)=>{const _0x50fbbc=a48_0x763b27,{id:_0x3f6365}=_0x42f0[_0x50fbbc(0xd6)],_0x34e9a9=await(0x0,ShowTicketNoteService_1['default'])(_0x3f6365);return _0x156a9a[_0x50fbbc(0xf4)](0xc8)[_0x50fbbc(0xfb)](_0x34e9a9);};function a48_0x4672(_0x425162,_0x7de849){const _0x2d04ed=a48_0x11bd();return a48_0x4672=function(_0x4e91cb,_0x2a83ca){_0x4e91cb=_0x4e91cb-0xd5;let _0x11bd07=_0x2d04ed[_0x4e91cb];return _0x11bd07;},a48_0x4672(_0x425162,_0x7de849);}exports[a48_0x763b27(0xe0)]=show;function a48_0x11bd(){const _0x2c6db=['show','constructor','1179063CKvRaC','configurable','admin','__createBinding','validate','Observação\x20removida','343584WQcnLg','yup','27xIOyDz','create','../services/TicketNoteService/CreateTicketNoteService','4713086cUXnuZ','search','defineProperty','../services/TicketNoteService/ShowTicketNoteService','body','1204oawAwc','list','status','../services/TicketNoteService/DeleteTicketNoteService','update','__esModule','profile','default','../errors/AppError','json','shape','getOwnPropertyNames','toString','hasOwnProperty','remove','1158254mgOmGb','12009ruoaAQ','store','9918010nIEYqO','findFilteredList','prototype','../services/TicketNoteService/FindNotesByContactIdAndTicketId','query','getOwnPropertyDescriptor','apply','2963058flqOnq','get','index','(((.+)+)+)+$','required','params','object','../services/TicketNoteService/FindAllTicketNotesService','__importDefault','user','../services/TicketNoteService/UpdateTicketNoteService','length','string','__importStar','10emscYD'];a48_0x11bd=function(){return _0x2c6db;};return a48_0x11bd();}const update=async(_0x456024,_0x17463b)=>{const _0x5e476f=a48_0x763b27,_0x888fcd=_0x456024[_0x5e476f(0xf1)],_0x11f057=Yup[_0x5e476f(0xd7)]()[_0x5e476f(0xfc)]({'note':Yup[_0x5e476f(0xdd)]()});try{await _0x11f057[_0x5e476f(0xe6)](_0x888fcd);}catch(_0x5249d5){throw new AppError_1['default'](_0x5249d5['message']);}const _0x3a9f3e=await(0x0,UpdateTicketNoteService_1[_0x5e476f(0xf9)])(_0x888fcd);return _0x17463b['status'](0xc8)[_0x5e476f(0xfb)](_0x3a9f3e);};exports[a48_0x763b27(0xf6)]=update;const remove=async(_0x5033f9,_0x5595fc)=>{const _0x9ce49f=a48_0x763b27,{id:_0x1990fe}=_0x5033f9[_0x9ce49f(0xd6)];if(_0x5033f9[_0x9ce49f(0xda)][_0x9ce49f(0xf8)]!==_0x9ce49f(0xe4))throw new AppError_1[(_0x9ce49f(0xf9))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x9ce49f(0xf9)])(_0x1990fe),_0x5595fc[_0x9ce49f(0xf4)](0xc8)[_0x9ce49f(0xfb)]({'message':_0x9ce49f(0xe7)});};exports[a48_0x763b27(0x100)]=remove;const findFilteredList=async(_0xd96811,_0x1f9eac)=>{const _0x3e0e96=a48_0x763b27;try{const {contactId:_0x2d71c0,ticketId:_0x1d31d8}=_0xd96811[_0x3e0e96(0x108)],_0x236fd3=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x2d71c0,'ticketId':_0x1d31d8});return _0x1f9eac[_0x3e0e96(0xf4)](0xc8)[_0x3e0e96(0xfb)](_0x236fd3);}catch(_0x4ce872){return _0x1f9eac[_0x3e0e96(0xf4)](0x1f4)[_0x3e0e96(0xfb)]({'message':_0x4ce872});}};exports[a48_0x763b27(0x105)]=findFilteredList;