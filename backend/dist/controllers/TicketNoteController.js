'use strict';const a39_0x2b2cfd=a39_0x6c98;(function(_0x17049f,_0x51c3f3){const _0x228a20=a39_0x6c98,_0x27e1ef=_0x17049f();while(!![]){try{const _0x458366=parseInt(_0x228a20(0x10b))/0x1+parseInt(_0x228a20(0x107))/0x2*(parseInt(_0x228a20(0x123))/0x3)+parseInt(_0x228a20(0x133))/0x4+-parseInt(_0x228a20(0x113))/0x5+parseInt(_0x228a20(0x137))/0x6*(parseInt(_0x228a20(0x12e))/0x7)+-parseInt(_0x228a20(0x108))/0x8*(parseInt(_0x228a20(0x115))/0x9)+-parseInt(_0x228a20(0x13b))/0xa*(-parseInt(_0x228a20(0x12a))/0xb);if(_0x458366===_0x51c3f3)break;else _0x27e1ef['push'](_0x27e1ef['shift']());}catch(_0x5986ae){_0x27e1ef['push'](_0x27e1ef['shift']());}}}(a39_0x1233,0x2b27e));var __createBinding=this&&this[a39_0x2b2cfd(0x128)]||(Object[a39_0x2b2cfd(0x126)]?function(_0x4f1747,_0x5477e9,_0x5ef3f0,_0x43f468){const _0x38220f=a39_0x2b2cfd;if(_0x43f468===undefined)_0x43f468=_0x5ef3f0;var _0x42dd08=Object['getOwnPropertyDescriptor'](_0x5477e9,_0x5ef3f0);(!_0x42dd08||(_0x38220f(0x11b)in _0x42dd08?!_0x5477e9['__esModule']:_0x42dd08[_0x38220f(0x11f)]||_0x42dd08['configurable']))&&(_0x42dd08={'enumerable':!![],'get':function(){return _0x5477e9[_0x5ef3f0];}}),Object[_0x38220f(0x11a)](_0x4f1747,_0x43f468,_0x42dd08);}:function(_0x580923,_0x20daff,_0x497efb,_0x296702){if(_0x296702===undefined)_0x296702=_0x497efb;_0x580923[_0x296702]=_0x20daff[_0x497efb];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a39_0x2b2cfd(0x126)]?function(_0x39c64f,_0x5dcd58){const _0x57a59b=a39_0x2b2cfd;Object[_0x57a59b(0x11a)](_0x39c64f,_0x57a59b(0x11c),{'enumerable':!![],'value':_0x5dcd58});}:function(_0x512dcb,_0x169576){const _0x61cc4f=a39_0x2b2cfd;_0x512dcb[_0x61cc4f(0x11c)]=_0x169576;}),__importStar=this&&this['__importStar']||(function(){const _0x302109=(function(){let _0x2c4c75=!![];return function(_0x17efcf,_0xd0a33){const _0x3aa392=_0x2c4c75?function(){const _0x92a3f=a39_0x6c98;if(_0xd0a33){const _0x273fc6=_0xd0a33[_0x92a3f(0x12b)](_0x17efcf,arguments);return _0xd0a33=null,_0x273fc6;}}:function(){};return _0x2c4c75=![],_0x3aa392;};}()),_0x119e29=_0x302109(this,function(){const _0x5aaa05=a39_0x6c98;return _0x119e29['toString']()[_0x5aaa05(0x120)](_0x5aaa05(0x121))[_0x5aaa05(0x10c)]()[_0x5aaa05(0x13a)](_0x119e29)['search']('(((.+)+)+)+$');});_0x119e29();var _0xc19fd9=function(_0x149076){return _0xc19fd9=Object['getOwnPropertyNames']||function(_0x557f91){const _0x7c4a0c=a39_0x6c98;var _0x45b40e=[];for(var _0xbb8d7d in _0x557f91)if(Object['prototype'][_0x7c4a0c(0x11e)][_0x7c4a0c(0x11d)](_0x557f91,_0xbb8d7d))_0x45b40e[_0x45b40e[_0x7c4a0c(0x125)]]=_0xbb8d7d;return _0x45b40e;},_0xc19fd9(_0x149076);};return function(_0x4d4b02){const _0x40d25d=a39_0x6c98;if(_0x4d4b02&&_0x4d4b02[_0x40d25d(0x135)])return _0x4d4b02;var _0x3919a6={};if(_0x4d4b02!=null){for(var _0x7b11f8=_0xc19fd9(_0x4d4b02),_0x3e5c3c=0x0;_0x3e5c3c<_0x7b11f8[_0x40d25d(0x125)];_0x3e5c3c++)if(_0x7b11f8[_0x3e5c3c]!==_0x40d25d(0x11c))__createBinding(_0x3919a6,_0x4d4b02,_0x7b11f8[_0x3e5c3c]);}return __setModuleDefault(_0x3919a6,_0x4d4b02),_0x3919a6;};}()),__importDefault=this&&this[a39_0x2b2cfd(0x130)]||function(_0x467402){return _0x467402&&_0x467402['__esModule']?_0x467402:{'default':_0x467402};};Object['defineProperty'](exports,a39_0x2b2cfd(0x135),{'value':!![]}),exports[a39_0x2b2cfd(0x106)]=exports[a39_0x2b2cfd(0x129)]=exports[a39_0x2b2cfd(0x109)]=exports[a39_0x2b2cfd(0x138)]=exports[a39_0x2b2cfd(0x12f)]=exports[a39_0x2b2cfd(0x134)]=exports[a39_0x2b2cfd(0x127)]=void 0x0;const Yup=__importStar(require(a39_0x2b2cfd(0x124))),AppError_1=__importDefault(require(a39_0x2b2cfd(0x116))),ListTicketNotesService_1=__importDefault(require(a39_0x2b2cfd(0x139))),CreateTicketNoteService_1=__importDefault(require(a39_0x2b2cfd(0x119))),UpdateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/UpdateTicketNoteService')),ShowTicketNoteService_1=__importDefault(require(a39_0x2b2cfd(0x10e))),FindAllTicketNotesService_1=__importDefault(require(a39_0x2b2cfd(0x12c))),DeleteTicketNoteService_1=__importDefault(require(a39_0x2b2cfd(0x10d))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x57bec3,_0x557526)=>{const _0x1fdbdb=a39_0x2b2cfd,{searchParam:_0x17e2b6,pageNumber:_0x58f043}=_0x57bec3['query'],{ticketNotes:_0x5c22a7,count:_0x19d8a6,hasMore:_0xe785aa}=await(0x0,ListTicketNotesService_1[_0x1fdbdb(0x11c)])({'searchParam':_0x17e2b6,'pageNumber':_0x58f043});return _0x557526['json']({'ticketNotes':_0x5c22a7,'count':_0x19d8a6,'hasMore':_0xe785aa});};exports[a39_0x2b2cfd(0x127)]=index;const list=async(_0x4850ec,_0x97ba47)=>{const _0x511a8a=a39_0x2b2cfd,_0x53b229=await(0x0,FindAllTicketNotesService_1['default'])();return _0x97ba47['status'](0xc8)[_0x511a8a(0x131)](_0x53b229);};exports[a39_0x2b2cfd(0x134)]=list;const store=async(_0x4a4f38,_0x701c17)=>{const _0x1a2c64=a39_0x2b2cfd,_0x3f7dba=_0x4a4f38[_0x1a2c64(0x112)],{id:_0x59a72a}=_0x4a4f38[_0x1a2c64(0x111)],_0x1d9eee=Yup[_0x1a2c64(0x110)]()[_0x1a2c64(0x105)]({'note':Yup[_0x1a2c64(0x12d)]()[_0x1a2c64(0x136)]()});try{await _0x1d9eee['validate'](_0x3f7dba);}catch(_0x6a179c){throw new AppError_1['default'](_0x6a179c['message']);}const _0x4783f0=await(0x0,CreateTicketNoteService_1[_0x1a2c64(0x11c)])({..._0x3f7dba,'userId':Number[_0x1a2c64(0x104)](_0x59a72a,0xa)});return _0x701c17['status'](0xc8)[_0x1a2c64(0x131)](_0x4783f0);};exports[a39_0x2b2cfd(0x12f)]=store;const show=async(_0x70b90f,_0x1b6984)=>{const _0x4a602a=a39_0x2b2cfd,{id:_0x281c1e}=_0x70b90f[_0x4a602a(0x10f)],_0x287ada=await(0x0,ShowTicketNoteService_1[_0x4a602a(0x11c)])(_0x281c1e);return _0x1b6984['status'](0xc8)[_0x4a602a(0x131)](_0x287ada);};exports[a39_0x2b2cfd(0x138)]=show;const update=async(_0x5751e0,_0x4656a7)=>{const _0x217c31=a39_0x2b2cfd,_0x15a2d8=_0x5751e0[_0x217c31(0x112)],_0x106f8a=Yup['object']()[_0x217c31(0x105)]({'note':Yup[_0x217c31(0x12d)]()});try{await _0x106f8a['validate'](_0x15a2d8);}catch(_0x4fc5d2){throw new AppError_1[(_0x217c31(0x11c))](_0x4fc5d2[_0x217c31(0x118)]);}const _0x10053c=await(0x0,UpdateTicketNoteService_1[_0x217c31(0x11c)])(_0x15a2d8);return _0x4656a7[_0x217c31(0x114)](0xc8)['json'](_0x10053c);};function a39_0x1233(){const _0x5c4b2f=['parseInt','shape','findFilteredList','148MsKjDb','2462176ERsXYE','update','ERR_NO_PERMISSION','19710tfboXa','toString','../services/TicketNoteService/DeleteTicketNoteService','../services/TicketNoteService/ShowTicketNoteService','params','object','user','body','891860SPNLgO','status','9EWvIud','../errors/AppError','admin','message','../services/TicketNoteService/CreateTicketNoteService','defineProperty','get','default','call','hasOwnProperty','writable','search','(((.+)+)+)+$','Observação\x20removida','4449yJxVyO','yup','length','create','index','__createBinding','remove','99TKrjwd','apply','../services/TicketNoteService/FindAllTicketNotesService','string','1946xTusha','store','__importDefault','json','profile','465460NIywCu','list','__esModule','required','3204oxfTKY','show','../services/TicketNoteService/ListTicketNotesService','constructor','298490MxnGil'];a39_0x1233=function(){return _0x5c4b2f;};return a39_0x1233();}exports[a39_0x2b2cfd(0x109)]=update;const remove=async(_0x34e9c7,_0x1516a3)=>{const _0x456861=a39_0x2b2cfd,{id:_0x5e3657}=_0x34e9c7['params'];if(_0x34e9c7[_0x456861(0x111)][_0x456861(0x132)]!==_0x456861(0x117))throw new AppError_1['default'](_0x456861(0x10a),0x193);return await(0x0,DeleteTicketNoteService_1[_0x456861(0x11c)])(_0x5e3657),_0x1516a3[_0x456861(0x114)](0xc8)['json']({'message':_0x456861(0x122)});};exports[a39_0x2b2cfd(0x129)]=remove;const findFilteredList=async(_0x5b0a56,_0x13ad04)=>{const _0x108198=a39_0x2b2cfd;try{const {contactId:_0x3db3e7,ticketId:_0x1ef7a9}=_0x5b0a56['query'],_0x301b84=await(0x0,FindNotesByContactIdAndTicketId_1[_0x108198(0x11c)])({'contactId':_0x3db3e7,'ticketId':_0x1ef7a9});return _0x13ad04['status'](0xc8)[_0x108198(0x131)](_0x301b84);}catch(_0x112eff){return _0x13ad04[_0x108198(0x114)](0x1f4)[_0x108198(0x131)]({'message':_0x112eff});}};function a39_0x6c98(_0x45a8cc,_0x46880d){const _0xed547f=a39_0x1233();return a39_0x6c98=function(_0x2e2b23,_0x255dac){_0x2e2b23=_0x2e2b23-0x104;let _0x12334d=_0xed547f[_0x2e2b23];return _0x12334d;},a39_0x6c98(_0x45a8cc,_0x46880d);}exports[a39_0x2b2cfd(0x106)]=findFilteredList;