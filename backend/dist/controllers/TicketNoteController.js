const a41_0x50ff58=a41_0x3446;(function(_0x598417,_0x5c2b3f){const _0x3e8301=a41_0x3446,_0x2250b3=_0x598417();while(!![]){try{const _0x32cbc3=parseInt(_0x3e8301(0x195))/0x1+-parseInt(_0x3e8301(0x17e))/0x2*(parseInt(_0x3e8301(0x19b))/0x3)+-parseInt(_0x3e8301(0x18f))/0x4+-parseInt(_0x3e8301(0x1a6))/0x5+parseInt(_0x3e8301(0x183))/0x6+-parseInt(_0x3e8301(0x17a))/0x7+-parseInt(_0x3e8301(0x184))/0x8*(-parseInt(_0x3e8301(0x186))/0x9);if(_0x32cbc3===_0x5c2b3f)break;else _0x2250b3['push'](_0x2250b3['shift']());}catch(_0x3e7c42){_0x2250b3['push'](_0x2250b3['shift']());}}}(a41_0xeff7,0x1fdb0));const a41_0x495e7f=(function(){let _0x1e1734=!![];return function(_0x32a6fc,_0x4baff9){const _0x576bce=_0x1e1734?function(){const _0x2e8fcd=a41_0x3446;if(_0x4baff9){const _0x259983=_0x4baff9[_0x2e8fcd(0x19f)](_0x32a6fc,arguments);return _0x4baff9=null,_0x259983;}}:function(){};return _0x1e1734=![],_0x576bce;};}()),a41_0x5d20c6=a41_0x495e7f(this,function(){const _0x16e7ce=a41_0x3446;return a41_0x5d20c6['toString']()[_0x16e7ce(0x18e)](_0x16e7ce(0x1a2))[_0x16e7ce(0x1a8)]()[_0x16e7ce(0x19c)](a41_0x5d20c6)[_0x16e7ce(0x18e)](_0x16e7ce(0x1a2));});a41_0x5d20c6();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a41_0x50ff58(0x196)]?function(_0x1e8102,_0x14cf5e,_0x4052e7,_0x164d13){const _0x2865c1=a41_0x50ff58;if(_0x164d13===undefined)_0x164d13=_0x4052e7;var _0x5d9ecc=Object[_0x2865c1(0x17c)](_0x14cf5e,_0x4052e7);(!_0x5d9ecc||(_0x2865c1(0x1a4)in _0x5d9ecc?!_0x14cf5e[_0x2865c1(0x177)]:_0x5d9ecc[_0x2865c1(0x1a7)]||_0x5d9ecc[_0x2865c1(0x192)]))&&(_0x5d9ecc={'enumerable':!![],'get':function(){return _0x14cf5e[_0x4052e7];}}),Object[_0x2865c1(0x18a)](_0x1e8102,_0x164d13,_0x5d9ecc);}:function(_0x48eb27,_0x474133,_0x30bf1e,_0x2900d0){if(_0x2900d0===undefined)_0x2900d0=_0x30bf1e;_0x48eb27[_0x2900d0]=_0x474133[_0x30bf1e];}),__setModuleDefault=this&&this[a41_0x50ff58(0x18d)]||(Object[a41_0x50ff58(0x196)]?function(_0x4b5aa9,_0x20f925){const _0x2ba7d5=a41_0x50ff58;Object[_0x2ba7d5(0x18a)](_0x4b5aa9,_0x2ba7d5(0x179),{'enumerable':!![],'value':_0x20f925});}:function(_0x3c7fb2,_0x1b969e){const _0x3a4681=a41_0x50ff58;_0x3c7fb2[_0x3a4681(0x179)]=_0x1b969e;}),__importStar=this&&this['__importStar']||function(_0x570b7d){const _0x16d540=a41_0x50ff58;if(_0x570b7d&&_0x570b7d[_0x16d540(0x177)])return _0x570b7d;var _0x1489d6={};if(_0x570b7d!=null){for(var _0x4b52f7 in _0x570b7d)if(_0x4b52f7!=='default'&&Object[_0x16d540(0x1a0)][_0x16d540(0x18b)][_0x16d540(0x198)](_0x570b7d,_0x4b52f7))__createBinding(_0x1489d6,_0x570b7d,_0x4b52f7);}return __setModuleDefault(_0x1489d6,_0x570b7d),_0x1489d6;},__importDefault=this&&this['__importDefault']||function(_0x2ec420){const _0x3b70f8=a41_0x50ff58;return _0x2ec420&&_0x2ec420[_0x3b70f8(0x177)]?_0x2ec420:{'default':_0x2ec420};};Object['defineProperty'](exports,a41_0x50ff58(0x177),{'value':!![]}),exports['findFilteredList']=exports[a41_0x50ff58(0x1a9)]=exports[a41_0x50ff58(0x1a3)]=exports['show']=exports[a41_0x50ff58(0x197)]=exports[a41_0x50ff58(0x178)]=exports[a41_0x50ff58(0x17b)]=void 0x0;const Yup=__importStar(require(a41_0x50ff58(0x1a5))),AppError_1=__importDefault(require(a41_0x50ff58(0x190))),ListTicketNotesService_1=__importDefault(require(a41_0x50ff58(0x19e))),CreateTicketNoteService_1=__importDefault(require(a41_0x50ff58(0x180))),UpdateTicketNoteService_1=__importDefault(require(a41_0x50ff58(0x1ab))),ShowTicketNoteService_1=__importDefault(require(a41_0x50ff58(0x19a))),FindAllTicketNotesService_1=__importDefault(require(a41_0x50ff58(0x191))),DeleteTicketNoteService_1=__importDefault(require(a41_0x50ff58(0x185))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x50ff58(0x182))),index=async(_0x3b8499,_0x18e112)=>{const _0x4ef4ad=a41_0x50ff58,{searchParam:_0x4cae9,pageNumber:_0x2d70f4}=_0x3b8499[_0x4ef4ad(0x17f)],{ticketNotes:_0x550ffe,count:_0x5d3fe5,hasMore:_0x5e1017}=await(0x0,ListTicketNotesService_1[_0x4ef4ad(0x179)])({'searchParam':_0x4cae9,'pageNumber':_0x2d70f4});return _0x18e112[_0x4ef4ad(0x194)]({'ticketNotes':_0x550ffe,'count':_0x5d3fe5,'hasMore':_0x5e1017});};exports[a41_0x50ff58(0x17b)]=index;const list=async(_0x408a12,_0x576391)=>{const _0x259479=a41_0x50ff58,_0x316c1b=await(0x0,FindAllTicketNotesService_1['default'])();return _0x576391[_0x259479(0x18c)](0xc8)['json'](_0x316c1b);};function a41_0x3446(_0x25b094,_0xce985f){const _0x3bbbf1=a41_0xeff7();return a41_0x3446=function(_0x5d20c6,_0x495e7f){_0x5d20c6=_0x5d20c6-0x177;let _0xeff7f9=_0x3bbbf1[_0x5d20c6];return _0xeff7f9;},a41_0x3446(_0x25b094,_0xce985f);}exports[a41_0x50ff58(0x178)]=list;const store=async(_0xe4ad23,_0x327fa8)=>{const _0x8b869f=a41_0x50ff58,_0x69555f=_0xe4ad23[_0x8b869f(0x193)],{id:_0x23ad90}=_0xe4ad23['user'],_0xbc998e=Yup[_0x8b869f(0x199)]()[_0x8b869f(0x1aa)]({'note':Yup[_0x8b869f(0x189)]()[_0x8b869f(0x1ac)]()});try{await _0xbc998e[_0x8b869f(0x1a1)](_0x69555f);}catch(_0x25c7af){throw new AppError_1['default'](_0x25c7af[_0x8b869f(0x188)]);}const _0x459305=await(0x0,CreateTicketNoteService_1[_0x8b869f(0x179)])({..._0x69555f,'userId':_0x23ad90});return _0x327fa8[_0x8b869f(0x18c)](0xc8)['json'](_0x459305);};exports['store']=store;const show=async(_0x56640f,_0x1a4d4a)=>{const _0x90263b=a41_0x50ff58,{id:_0x37bb16}=_0x56640f[_0x90263b(0x181)],_0x51fb32=await(0x0,ShowTicketNoteService_1[_0x90263b(0x179)])(_0x37bb16);return _0x1a4d4a[_0x90263b(0x18c)](0xc8)['json'](_0x51fb32);};exports[a41_0x50ff58(0x1ae)]=show;const update=async(_0x571c8c,_0x11d3ca)=>{const _0x5bb1cc=a41_0x50ff58,_0x2b1c4e=_0x571c8c[_0x5bb1cc(0x193)],_0x5ecf0e=Yup['object']()[_0x5bb1cc(0x1aa)]({'note':Yup[_0x5bb1cc(0x189)]()});try{await _0x5ecf0e[_0x5bb1cc(0x1a1)](_0x2b1c4e);}catch(_0x1feb64){throw new AppError_1[(_0x5bb1cc(0x179))](_0x1feb64[_0x5bb1cc(0x188)]);}const _0x4bfbd4=await(0x0,UpdateTicketNoteService_1[_0x5bb1cc(0x179)])(_0x2b1c4e);return _0x11d3ca['status'](0xc8)[_0x5bb1cc(0x194)](_0x4bfbd4);};exports[a41_0x50ff58(0x1a3)]=update;const remove=async(_0x2e8fca,_0x379fc2)=>{const _0x5e7b7=a41_0x50ff58,{id:_0x5aa61f}=_0x2e8fca[_0x5e7b7(0x181)];if(_0x2e8fca[_0x5e7b7(0x187)]['profile']!==_0x5e7b7(0x19d))throw new AppError_1[(_0x5e7b7(0x179))](_0x5e7b7(0x1ad),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x5aa61f),_0x379fc2[_0x5e7b7(0x18c)](0xc8)['json']({'message':'Observação\x20removida'});};exports['remove']=remove;const findFilteredList=async(_0x2dc62f,_0x2e075d)=>{const _0x2a354e=a41_0x50ff58;try{const {contactId:_0x16be89,ticketId:_0x4eb50f}=_0x2dc62f['query'],_0x4ecedd=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x16be89,'ticketId':_0x4eb50f});return _0x2e075d[_0x2a354e(0x18c)](0xc8)['json'](_0x4ecedd);}catch(_0x54f731){return _0x2e075d[_0x2a354e(0x18c)](0x1f4)[_0x2a354e(0x194)]({'message':_0x54f731});}};function a41_0xeff7(){const _0x570124=['apply','prototype','validate','(((.+)+)+)+$','update','get','yup','881955epvuPK','writable','toString','remove','shape','../services/TicketNoteService/UpdateTicketNoteService','required','ERR_NO_PERMISSION','show','__esModule','list','default','1787009GPmkdN','index','getOwnPropertyDescriptor','findFilteredList','6TMTluC','query','../services/TicketNoteService/CreateTicketNoteService','params','../services/TicketNoteService/FindNotesByContactIdAndTicketId','1267866bXGLxx','63608vklzKk','../services/TicketNoteService/DeleteTicketNoteService','396TaCwFK','user','message','string','defineProperty','hasOwnProperty','status','__setModuleDefault','search','354960mLLEmp','../errors/AppError','../services/TicketNoteService/FindAllTicketNotesService','configurable','body','json','105049OaXAnG','create','store','call','object','../services/TicketNoteService/ShowTicketNoteService','15306WthbjT','constructor','admin','../services/TicketNoteService/ListTicketNotesService'];a41_0xeff7=function(){return _0x570124;};return a41_0xeff7();}exports[a41_0x50ff58(0x17d)]=findFilteredList;