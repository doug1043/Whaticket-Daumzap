const a41_0x96d695=a41_0x5347;(function(_0x21dd48,_0x3917eb){const _0x1fc9c0=a41_0x5347,_0x252aba=_0x21dd48();while(!![]){try{const _0x19bc4a=-parseInt(_0x1fc9c0(0xa4))/0x1*(-parseInt(_0x1fc9c0(0x7b))/0x2)+-parseInt(_0x1fc9c0(0x9f))/0x3+-parseInt(_0x1fc9c0(0xa5))/0x4+parseInt(_0x1fc9c0(0x84))/0x5*(-parseInt(_0x1fc9c0(0x8e))/0x6)+-parseInt(_0x1fc9c0(0x93))/0x7*(-parseInt(_0x1fc9c0(0x9e))/0x8)+parseInt(_0x1fc9c0(0x7e))/0x9*(parseInt(_0x1fc9c0(0x9b))/0xa)+parseInt(_0x1fc9c0(0x92))/0xb;if(_0x19bc4a===_0x3917eb)break;else _0x252aba['push'](_0x252aba['shift']());}catch(_0x22f17d){_0x252aba['push'](_0x252aba['shift']());}}}(a41_0x2705,0x6329b));const a41_0x369132=(function(){let _0x8946df=!![];return function(_0x4c9ea5,_0x3f0ab3){const _0x389dc2=_0x8946df?function(){const _0x555838=a41_0x5347;if(_0x3f0ab3){const _0xda1a9e=_0x3f0ab3[_0x555838(0xab)](_0x4c9ea5,arguments);return _0x3f0ab3=null,_0xda1a9e;}}:function(){};return _0x8946df=![],_0x389dc2;};}()),a41_0x35a261=a41_0x369132(this,function(){const _0x4ce0c8=a41_0x5347;return a41_0x35a261['toString']()[_0x4ce0c8(0x97)]('(((.+)+)+)+$')['toString']()['constructor'](a41_0x35a261)[_0x4ce0c8(0x97)](_0x4ce0c8(0xa9));});a41_0x35a261();function a41_0x5347(_0x32d71a,_0x480bdb){const _0x344190=a41_0x2705();return a41_0x5347=function(_0x35a261,_0x369132){_0x35a261=_0x35a261-0x7a;let _0x270551=_0x344190[_0x35a261];return _0x270551;},a41_0x5347(_0x32d71a,_0x480bdb);}'use strict';var __createBinding=this&&this['__createBinding']||(Object[a41_0x96d695(0x9a)]?function(_0x4f477c,_0xc35994,_0x5463e3,_0x205030){const _0x41ae60=a41_0x96d695;if(_0x205030===undefined)_0x205030=_0x5463e3;var _0x4fd3fc=Object[_0x41ae60(0x94)](_0xc35994,_0x5463e3);(!_0x4fd3fc||(_0x41ae60(0xa8)in _0x4fd3fc?!_0xc35994['__esModule']:_0x4fd3fc['writable']||_0x4fd3fc[_0x41ae60(0x8b)]))&&(_0x4fd3fc={'enumerable':!![],'get':function(){return _0xc35994[_0x5463e3];}}),Object['defineProperty'](_0x4f477c,_0x205030,_0x4fd3fc);}:function(_0x3639b6,_0x1b7818,_0x54c0f8,_0x12db28){if(_0x12db28===undefined)_0x12db28=_0x54c0f8;_0x3639b6[_0x12db28]=_0x1b7818[_0x54c0f8];}),__setModuleDefault=this&&this[a41_0x96d695(0xae)]||(Object[a41_0x96d695(0x9a)]?function(_0x123636,_0x368fed){const _0x269104=a41_0x96d695;Object[_0x269104(0x81)](_0x123636,_0x269104(0x82),{'enumerable':!![],'value':_0x368fed});}:function(_0x2ba936,_0x2adab4){const _0x543ce6=a41_0x96d695;_0x2ba936[_0x543ce6(0x82)]=_0x2adab4;}),__importStar=this&&this[a41_0x96d695(0x9c)]||function(_0xf8f68b){const _0x2f301a=a41_0x96d695;if(_0xf8f68b&&_0xf8f68b[_0x2f301a(0xa6)])return _0xf8f68b;var _0x4dad69={};if(_0xf8f68b!=null){for(var _0x5b82a5 in _0xf8f68b)if(_0x5b82a5!==_0x2f301a(0x82)&&Object['prototype'][_0x2f301a(0x7f)][_0x2f301a(0x8f)](_0xf8f68b,_0x5b82a5))__createBinding(_0x4dad69,_0xf8f68b,_0x5b82a5);}return __setModuleDefault(_0x4dad69,_0xf8f68b),_0x4dad69;},__importDefault=this&&this['__importDefault']||function(_0x18e505){return _0x18e505&&_0x18e505['__esModule']?_0x18e505:{'default':_0x18e505};};Object['defineProperty'](exports,a41_0x96d695(0xa6),{'value':!![]}),exports[a41_0x96d695(0x8a)]=exports['remove']=exports[a41_0x96d695(0x88)]=exports[a41_0x96d695(0xaa)]=exports[a41_0x96d695(0x91)]=exports[a41_0x96d695(0x89)]=exports['index']=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a41_0x96d695(0x80))),ListTicketNotesService_1=__importDefault(require(a41_0x96d695(0xac))),CreateTicketNoteService_1=__importDefault(require(a41_0x96d695(0x83))),UpdateTicketNoteService_1=__importDefault(require(a41_0x96d695(0x86))),ShowTicketNoteService_1=__importDefault(require(a41_0x96d695(0x7c))),FindAllTicketNotesService_1=__importDefault(require(a41_0x96d695(0x96))),DeleteTicketNoteService_1=__importDefault(require(a41_0x96d695(0xa0))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x4c5915,_0x57d83e)=>{const _0xfb3c82=a41_0x96d695,{searchParam:_0x244ef4,pageNumber:_0x4c8c8d}=_0x4c5915['query'],{ticketNotes:_0xdf8c4d,count:_0x186a82,hasMore:_0x25d5bb}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x244ef4,'pageNumber':_0x4c8c8d});return _0x57d83e[_0xfb3c82(0xad)]({'ticketNotes':_0xdf8c4d,'count':_0x186a82,'hasMore':_0x25d5bb});};exports[a41_0x96d695(0x95)]=index;const list=async(_0x2abfb0,_0x5a5a3c)=>{const _0x27979a=a41_0x96d695,_0x443298=await(0x0,FindAllTicketNotesService_1[_0x27979a(0x82)])();return _0x5a5a3c['status'](0xc8)[_0x27979a(0xad)](_0x443298);};exports['list']=list;const store=async(_0x274ef4,_0x38618e)=>{const _0x38fc26=a41_0x96d695,_0x1c6b74=_0x274ef4[_0x38fc26(0x98)],{id:_0x157882}=_0x274ef4[_0x38fc26(0x87)],_0x31ed2c=Yup['object']()['shape']({'note':Yup[_0x38fc26(0xa2)]()['required']()});try{await _0x31ed2c[_0x38fc26(0x7d)](_0x1c6b74);}catch(_0x20b1e6){throw new AppError_1[(_0x38fc26(0x82))](_0x20b1e6[_0x38fc26(0xa3)]);}const _0x382325=await(0x0,CreateTicketNoteService_1[_0x38fc26(0x82)])({..._0x1c6b74,'userId':_0x157882});return _0x38618e[_0x38fc26(0x7a)](0xc8)['json'](_0x382325);};function a41_0x2705(){const _0x56d1f1=['__importStar','admin','8zpFeMr','2343768IOPhWM','../services/TicketNoteService/DeleteTicketNoteService','profile','string','message','145MsKsAN','430932JtmunF','__esModule','remove','get','(((.+)+)+)+$','show','apply','../services/TicketNoteService/ListTicketNotesService','json','__setModuleDefault','status','4476iXdJaH','../services/TicketNoteService/ShowTicketNoteService','validate','6057ChQdNe','hasOwnProperty','../errors/AppError','defineProperty','default','../services/TicketNoteService/CreateTicketNoteService','45HEXKuL','params','../services/TicketNoteService/UpdateTicketNoteService','user','update','list','findFilteredList','configurable','shape','Observação\x20removida','395022miWQcu','call','query','store','8530027eLOZJI','2056208SAbKGL','getOwnPropertyDescriptor','index','../services/TicketNoteService/FindAllTicketNotesService','search','body','object','create','7340VEJNGx'];a41_0x2705=function(){return _0x56d1f1;};return a41_0x2705();}exports[a41_0x96d695(0x91)]=store;const show=async(_0x2f2a1f,_0x2ad547)=>{const _0x26556d=a41_0x96d695,{id:_0x74f4cd}=_0x2f2a1f[_0x26556d(0x85)],_0x378648=await(0x0,ShowTicketNoteService_1[_0x26556d(0x82)])(_0x74f4cd);return _0x2ad547[_0x26556d(0x7a)](0xc8)['json'](_0x378648);};exports['show']=show;const update=async(_0x1e3128,_0x39584c)=>{const _0x2cbc80=a41_0x96d695,_0x41583f=_0x1e3128[_0x2cbc80(0x98)],_0x2dc68e=Yup[_0x2cbc80(0x99)]()[_0x2cbc80(0x8c)]({'note':Yup['string']()});try{await _0x2dc68e[_0x2cbc80(0x7d)](_0x41583f);}catch(_0x4f5d13){throw new AppError_1[(_0x2cbc80(0x82))](_0x4f5d13[_0x2cbc80(0xa3)]);}const _0x399acc=await(0x0,UpdateTicketNoteService_1[_0x2cbc80(0x82)])(_0x41583f);return _0x39584c[_0x2cbc80(0x7a)](0xc8)['json'](_0x399acc);};exports['update']=update;const remove=async(_0x2784c0,_0x3dd9f6)=>{const _0x3054eb=a41_0x96d695,{id:_0x3e902e}=_0x2784c0[_0x3054eb(0x85)];if(_0x2784c0[_0x3054eb(0x87)][_0x3054eb(0xa1)]!==_0x3054eb(0x9d))throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x3e902e),_0x3dd9f6[_0x3054eb(0x7a)](0xc8)[_0x3054eb(0xad)]({'message':_0x3054eb(0x8d)});};exports[a41_0x96d695(0xa7)]=remove;const findFilteredList=async(_0xee89b5,_0xb70f5)=>{const _0x5d54ea=a41_0x96d695;try{const {contactId:_0x5e51dc,ticketId:_0x413988}=_0xee89b5[_0x5d54ea(0x90)],_0x9cc3d6=await(0x0,FindNotesByContactIdAndTicketId_1[_0x5d54ea(0x82)])({'contactId':_0x5e51dc,'ticketId':_0x413988});return _0xb70f5[_0x5d54ea(0x7a)](0xc8)[_0x5d54ea(0xad)](_0x9cc3d6);}catch(_0x5025b6){return _0xb70f5['status'](0x1f4)[_0x5d54ea(0xad)]({'message':_0x5025b6});}};exports['findFilteredList']=findFilteredList;