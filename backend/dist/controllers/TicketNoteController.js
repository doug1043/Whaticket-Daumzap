const a41_0x1cc69c=a41_0x5ba0;(function(_0x177007,_0x579c0a){const _0x5d0a03=a41_0x5ba0,_0x1a4e45=_0x177007();while(!![]){try{const _0x4bd1c0=-parseInt(_0x5d0a03(0x19f))/0x1+parseInt(_0x5d0a03(0x18a))/0x2*(parseInt(_0x5d0a03(0x1a1))/0x3)+parseInt(_0x5d0a03(0x192))/0x4*(-parseInt(_0x5d0a03(0x189))/0x5)+-parseInt(_0x5d0a03(0x1b6))/0x6*(parseInt(_0x5d0a03(0x1b0))/0x7)+-parseInt(_0x5d0a03(0x1b3))/0x8+-parseInt(_0x5d0a03(0x1a5))/0x9*(-parseInt(_0x5d0a03(0x1af))/0xa)+parseInt(_0x5d0a03(0x1ab))/0xb;if(_0x4bd1c0===_0x579c0a)break;else _0x1a4e45['push'](_0x1a4e45['shift']());}catch(_0x1cad79){_0x1a4e45['push'](_0x1a4e45['shift']());}}}(a41_0x415c,0xaa57b));const a41_0x360782=(function(){let _0x3dd635=!![];return function(_0x149702,_0x3f5c7e){const _0x44987a=_0x3dd635?function(){if(_0x3f5c7e){const _0x421159=_0x3f5c7e['apply'](_0x149702,arguments);return _0x3f5c7e=null,_0x421159;}}:function(){};return _0x3dd635=![],_0x44987a;};}()),a41_0xa0bbbf=a41_0x360782(this,function(){const _0x3aec07=a41_0x5ba0;return a41_0xa0bbbf[_0x3aec07(0x198)]()[_0x3aec07(0x1a6)](_0x3aec07(0x1b2))[_0x3aec07(0x198)]()[_0x3aec07(0x1b1)](a41_0xa0bbbf)[_0x3aec07(0x1a6)](_0x3aec07(0x1b2));});a41_0xa0bbbf();'use strict';var __createBinding=this&&this[a41_0x1cc69c(0x194)]||(Object[a41_0x1cc69c(0x199)]?function(_0x22e84a,_0x587c06,_0x24d7d5,_0x29be26){const _0x38199c=a41_0x1cc69c;if(_0x29be26===undefined)_0x29be26=_0x24d7d5;var _0x52bbba=Object['getOwnPropertyDescriptor'](_0x587c06,_0x24d7d5);(!_0x52bbba||('get'in _0x52bbba?!_0x587c06['__esModule']:_0x52bbba['writable']||_0x52bbba['configurable']))&&(_0x52bbba={'enumerable':!![],'get':function(){return _0x587c06[_0x24d7d5];}}),Object[_0x38199c(0x19e)](_0x22e84a,_0x29be26,_0x52bbba);}:function(_0x4459cb,_0xd1d612,_0x2c37e2,_0x1370b3){if(_0x1370b3===undefined)_0x1370b3=_0x2c37e2;_0x4459cb[_0x1370b3]=_0xd1d612[_0x2c37e2];}),__setModuleDefault=this&&this[a41_0x1cc69c(0x19b)]||(Object[a41_0x1cc69c(0x199)]?function(_0x5b9dc0,_0x4fda56){Object['defineProperty'](_0x5b9dc0,'default',{'enumerable':!![],'value':_0x4fda56});}:function(_0x25c89b,_0xed745c){const _0x299a54=a41_0x1cc69c;_0x25c89b[_0x299a54(0x18b)]=_0xed745c;}),__importStar=this&&this[a41_0x1cc69c(0x1b4)]||function(_0x20850f){const _0x3553a5=a41_0x1cc69c;if(_0x20850f&&_0x20850f[_0x3553a5(0x18f)])return _0x20850f;var _0x490610={};if(_0x20850f!=null){for(var _0x41349b in _0x20850f)if(_0x41349b!=='default'&&Object[_0x3553a5(0x19d)]['hasOwnProperty']['call'](_0x20850f,_0x41349b))__createBinding(_0x490610,_0x20850f,_0x41349b);}return __setModuleDefault(_0x490610,_0x20850f),_0x490610;},__importDefault=this&&this[a41_0x1cc69c(0x1a3)]||function(_0x3d88d0){return _0x3d88d0&&_0x3d88d0['__esModule']?_0x3d88d0:{'default':_0x3d88d0};};Object['defineProperty'](exports,a41_0x1cc69c(0x18f),{'value':!![]}),exports[a41_0x1cc69c(0x196)]=exports[a41_0x1cc69c(0x1a7)]=exports[a41_0x1cc69c(0x1b8)]=exports[a41_0x1cc69c(0x191)]=exports[a41_0x1cc69c(0x197)]=exports[a41_0x1cc69c(0x195)]=exports[a41_0x1cc69c(0x19a)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a41_0x1cc69c(0x18c))),ListTicketNotesService_1=__importDefault(require(a41_0x1cc69c(0x19c))),CreateTicketNoteService_1=__importDefault(require(a41_0x1cc69c(0x1b7))),UpdateTicketNoteService_1=__importDefault(require(a41_0x1cc69c(0x18e))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a41_0x1cc69c(0x1b5))),DeleteTicketNoteService_1=__importDefault(require(a41_0x1cc69c(0x18d))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x1cc69c(0x1ae))),index=async(_0x3e5471,_0x5a03ed)=>{const _0x17f71f=a41_0x1cc69c,{searchParam:_0x586c83,pageNumber:_0x22261c}=_0x3e5471[_0x17f71f(0x1a4)],{ticketNotes:_0x12d823,count:_0x4ee009,hasMore:_0x481f7c}=await(0x0,ListTicketNotesService_1[_0x17f71f(0x18b)])({'searchParam':_0x586c83,'pageNumber':_0x22261c});return _0x5a03ed[_0x17f71f(0x1ad)]({'ticketNotes':_0x12d823,'count':_0x4ee009,'hasMore':_0x481f7c});};exports[a41_0x1cc69c(0x19a)]=index;function a41_0x415c(){const _0x213567=['toString','create','index','__setModuleDefault','../services/TicketNoteService/ListTicketNotesService','prototype','defineProperty','1100084bLoHlI','string','60cxRxXt','admin','__importDefault','query','369IRbDxx','search','remove','validate','body','Observação\x20removida','37540943mqBsCu','profile','json','../services/TicketNoteService/FindNotesByContactIdAndTicketId','153530zuHLiX','74837bultwZ','constructor','(((.+)+)+)+$','1511872dtWQIr','__importStar','../services/TicketNoteService/FindAllTicketNotesService','660ExeyRf','../services/TicketNoteService/CreateTicketNoteService','update','object','status','shape','156335LYFdvO','21486pRVtzK','default','../errors/AppError','../services/TicketNoteService/DeleteTicketNoteService','../services/TicketNoteService/UpdateTicketNoteService','__esModule','params','show','140mrYdnG','ERR_NO_PERMISSION','__createBinding','list','findFilteredList','store'];a41_0x415c=function(){return _0x213567;};return a41_0x415c();}const list=async(_0x311baa,_0x1818d8)=>{const _0x165adb=a41_0x1cc69c,_0x22ab13=await(0x0,FindAllTicketNotesService_1[_0x165adb(0x18b)])();return _0x1818d8[_0x165adb(0x1ba)](0xc8)['json'](_0x22ab13);};function a41_0x5ba0(_0x2fb5ee,_0x3f4ac9){const _0x4ffafc=a41_0x415c();return a41_0x5ba0=function(_0xa0bbbf,_0x360782){_0xa0bbbf=_0xa0bbbf-0x188;let _0x415c7c=_0x4ffafc[_0xa0bbbf];return _0x415c7c;},a41_0x5ba0(_0x2fb5ee,_0x3f4ac9);}exports[a41_0x1cc69c(0x195)]=list;const store=async(_0x4d778a,_0x14433d)=>{const _0x134de5=a41_0x1cc69c,_0xecb4dd=_0x4d778a[_0x134de5(0x1a9)],{id:_0x4b302a}=_0x4d778a['user'],_0x4d6268=Yup[_0x134de5(0x1b9)]()[_0x134de5(0x188)]({'note':Yup[_0x134de5(0x1a0)]()['required']()});try{await _0x4d6268[_0x134de5(0x1a8)](_0xecb4dd);}catch(_0x5ceba3){throw new AppError_1['default'](_0x5ceba3['message']);}const _0x2a29dc=await(0x0,CreateTicketNoteService_1['default'])({..._0xecb4dd,'userId':_0x4b302a});return _0x14433d[_0x134de5(0x1ba)](0xc8)[_0x134de5(0x1ad)](_0x2a29dc);};exports[a41_0x1cc69c(0x197)]=store;const show=async(_0x28586f,_0x1380de)=>{const _0x355cc1=a41_0x1cc69c,{id:_0x43c33e}=_0x28586f[_0x355cc1(0x190)],_0x4ef920=await(0x0,ShowTicketNoteService_1[_0x355cc1(0x18b)])(_0x43c33e);return _0x1380de['status'](0xc8)[_0x355cc1(0x1ad)](_0x4ef920);};exports[a41_0x1cc69c(0x191)]=show;const update=async(_0x2639bd,_0x2b1f15)=>{const _0x2696a4=a41_0x1cc69c,_0xe2e1f7=_0x2639bd[_0x2696a4(0x1a9)],_0x4339c1=Yup['object']()[_0x2696a4(0x188)]({'note':Yup[_0x2696a4(0x1a0)]()});try{await _0x4339c1['validate'](_0xe2e1f7);}catch(_0x3a4b04){throw new AppError_1['default'](_0x3a4b04['message']);}const _0x57b9f3=await(0x0,UpdateTicketNoteService_1[_0x2696a4(0x18b)])(_0xe2e1f7);return _0x2b1f15['status'](0xc8)['json'](_0x57b9f3);};exports[a41_0x1cc69c(0x1b8)]=update;const remove=async(_0x1f02ae,_0x5a0fa5)=>{const _0xf6724f=a41_0x1cc69c,{id:_0x596569}=_0x1f02ae['params'];if(_0x1f02ae['user'][_0xf6724f(0x1ac)]!==_0xf6724f(0x1a2))throw new AppError_1[(_0xf6724f(0x18b))](_0xf6724f(0x193),0x193);return await(0x0,DeleteTicketNoteService_1[_0xf6724f(0x18b)])(_0x596569),_0x5a0fa5[_0xf6724f(0x1ba)](0xc8)[_0xf6724f(0x1ad)]({'message':_0xf6724f(0x1aa)});};exports[a41_0x1cc69c(0x1a7)]=remove;const findFilteredList=async(_0x3f5ac5,_0x5d5667)=>{const _0x11f978=a41_0x1cc69c;try{const {contactId:_0x47c42a,ticketId:_0x4907b2}=_0x3f5ac5['query'],_0x39691f=await(0x0,FindNotesByContactIdAndTicketId_1[_0x11f978(0x18b)])({'contactId':_0x47c42a,'ticketId':_0x4907b2});return _0x5d5667['status'](0xc8)[_0x11f978(0x1ad)](_0x39691f);}catch(_0x517bf5){return _0x5d5667['status'](0x1f4)['json']({'message':_0x517bf5});}};exports[a41_0x1cc69c(0x196)]=findFilteredList;