'use strict';const a39_0x122233=a39_0x4ded;(function(_0x48744e,_0x3f0163){const _0x103494=a39_0x4ded,_0x379162=_0x48744e();while(!![]){try{const _0x12bfb6=-parseInt(_0x103494(0x1b1))/0x1+parseInt(_0x103494(0x18c))/0x2*(parseInt(_0x103494(0x1b0))/0x3)+-parseInt(_0x103494(0x1af))/0x4+-parseInt(_0x103494(0x17d))/0x5+-parseInt(_0x103494(0x1ac))/0x6+parseInt(_0x103494(0x180))/0x7*(parseInt(_0x103494(0x19b))/0x8)+parseInt(_0x103494(0x18e))/0x9;if(_0x12bfb6===_0x3f0163)break;else _0x379162['push'](_0x379162['shift']());}catch(_0xb4c040){_0x379162['push'](_0x379162['shift']());}}}(a39_0x16c3,0x77a05));var __createBinding=this&&this[a39_0x122233(0x1a7)]||(Object[a39_0x122233(0x187)]?function(_0xbc8828,_0x40943f,_0x1d202c,_0x506951){const _0x11a6ab=a39_0x122233;if(_0x506951===undefined)_0x506951=_0x1d202c;var _0x5f57c8=Object[_0x11a6ab(0x18f)](_0x40943f,_0x1d202c);(!_0x5f57c8||(_0x11a6ab(0x190)in _0x5f57c8?!_0x40943f[_0x11a6ab(0x199)]:_0x5f57c8[_0x11a6ab(0x1a6)]||_0x5f57c8[_0x11a6ab(0x17f)]))&&(_0x5f57c8={'enumerable':!![],'get':function(){return _0x40943f[_0x1d202c];}}),Object[_0x11a6ab(0x1a4)](_0xbc8828,_0x506951,_0x5f57c8);}:function(_0x206f26,_0x4b35f9,_0x46871f,_0x24e33b){if(_0x24e33b===undefined)_0x24e33b=_0x46871f;_0x206f26[_0x24e33b]=_0x4b35f9[_0x46871f];}),__setModuleDefault=this&&this[a39_0x122233(0x1a8)]||(Object[a39_0x122233(0x187)]?function(_0x2294cb,_0x61b3cb){const _0x5da7bb=a39_0x122233;Object[_0x5da7bb(0x1a4)](_0x2294cb,'default',{'enumerable':!![],'value':_0x61b3cb});}:function(_0x2943aa,_0x1090ac){const _0x2deecf=a39_0x122233;_0x2943aa[_0x2deecf(0x195)]=_0x1090ac;}),__importStar=this&&this['__importStar']||(function(){const _0x26aa0a=(function(){let _0xb9a199=!![];return function(_0x5d7878,_0x4fcd5c){const _0x13d3c0=_0xb9a199?function(){const _0x1f7610=a39_0x4ded;if(_0x4fcd5c){const _0x2d8900=_0x4fcd5c[_0x1f7610(0x192)](_0x5d7878,arguments);return _0x4fcd5c=null,_0x2d8900;}}:function(){};return _0xb9a199=![],_0x13d3c0;};}()),_0x39dbe2=_0x26aa0a(this,function(){const _0x13b1a1=a39_0x4ded;return _0x39dbe2[_0x13b1a1(0x17b)]()[_0x13b1a1(0x193)](_0x13b1a1(0x19d))[_0x13b1a1(0x17b)]()[_0x13b1a1(0x186)](_0x39dbe2)[_0x13b1a1(0x193)]('(((.+)+)+)+$');});_0x39dbe2();var _0x1652ca=function(_0x2cf73a){const _0x258365=a39_0x4ded;return _0x1652ca=Object[_0x258365(0x189)]||function(_0x5e3ab3){const _0x32c454=_0x258365;var _0x3a0588=[];for(var _0x1db153 in _0x5e3ab3)if(Object['prototype'][_0x32c454(0x17c)][_0x32c454(0x198)](_0x5e3ab3,_0x1db153))_0x3a0588[_0x3a0588[_0x32c454(0x1a0)]]=_0x1db153;return _0x3a0588;},_0x1652ca(_0x2cf73a);};return function(_0x30717e){const _0x3718c6=a39_0x4ded;if(_0x30717e&&_0x30717e[_0x3718c6(0x199)])return _0x30717e;var _0x2012fb={};if(_0x30717e!=null){for(var _0x87d267=_0x1652ca(_0x30717e),_0x50a7be=0x0;_0x50a7be<_0x87d267[_0x3718c6(0x1a0)];_0x50a7be++)if(_0x87d267[_0x50a7be]!==_0x3718c6(0x195))__createBinding(_0x2012fb,_0x30717e,_0x87d267[_0x50a7be]);}return __setModuleDefault(_0x2012fb,_0x30717e),_0x2012fb;};}()),__importDefault=this&&this['__importDefault']||function(_0x2ae3ce){const _0x1cf5e6=a39_0x122233;return _0x2ae3ce&&_0x2ae3ce[_0x1cf5e6(0x199)]?_0x2ae3ce:{'default':_0x2ae3ce};};Object[a39_0x122233(0x1a4)](exports,a39_0x122233(0x199),{'value':!![]}),exports[a39_0x122233(0x19e)]=exports[a39_0x122233(0x1ab)]=exports[a39_0x122233(0x18b)]=exports[a39_0x122233(0x197)]=exports[a39_0x122233(0x185)]=exports['list']=exports[a39_0x122233(0x182)]=void 0x0;const Yup=__importStar(require(a39_0x122233(0x183))),AppError_1=__importDefault(require(a39_0x122233(0x1a2))),ListTicketNotesService_1=__importDefault(require(a39_0x122233(0x19c))),CreateTicketNoteService_1=__importDefault(require(a39_0x122233(0x17e))),UpdateTicketNoteService_1=__importDefault(require(a39_0x122233(0x1b2))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a39_0x122233(0x18d))),DeleteTicketNoteService_1=__importDefault(require(a39_0x122233(0x1ad))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a39_0x122233(0x191))),index=async(_0x40f81d,_0x13711b)=>{const _0x1efce1=a39_0x122233,{searchParam:_0x36e9db,pageNumber:_0x1def74}=_0x40f81d['query'],{ticketNotes:_0x4e4cc1,count:_0x57f4da,hasMore:_0x41fa62}=await(0x0,ListTicketNotesService_1[_0x1efce1(0x195)])({'searchParam':_0x36e9db,'pageNumber':_0x1def74});return _0x13711b[_0x1efce1(0x1ae)]({'ticketNotes':_0x4e4cc1,'count':_0x57f4da,'hasMore':_0x41fa62});};exports[a39_0x122233(0x182)]=index;const list=async(_0x25f131,_0x285aff)=>{const _0x332279=a39_0x122233,_0x2e7d2d=await(0x0,FindAllTicketNotesService_1[_0x332279(0x195)])();return _0x285aff[_0x332279(0x19a)](0xc8)['json'](_0x2e7d2d);};exports[a39_0x122233(0x1aa)]=list;function a39_0x16c3(){const _0x2707e8=['8SGXPba','../services/TicketNoteService/ListTicketNotesService','(((.+)+)+)+$','findFilteredList','params','length','object','../errors/AppError','profile','defineProperty','parseInt','writable','__createBinding','__setModuleDefault','required','list','remove','2777718JuTHmc','../services/TicketNoteService/DeleteTicketNoteService','json','3384108TCPRZJ','28221CdDtON','661474TTaUjZ','../services/TicketNoteService/UpdateTicketNoteService','toString','hasOwnProperty','1217430tUTAcf','../services/TicketNoteService/CreateTicketNoteService','configurable','4752713WatUem','body','index','yup','Observação\x20removida','store','constructor','create','shape','getOwnPropertyNames','string','update','2iRTznT','../services/TicketNoteService/FindAllTicketNotesService','18140067NvTdZL','getOwnPropertyDescriptor','get','../services/TicketNoteService/FindNotesByContactIdAndTicketId','apply','search','user','default','validate','show','call','__esModule','status'];a39_0x16c3=function(){return _0x2707e8;};return a39_0x16c3();}const store=async(_0x242aa8,_0x523f00)=>{const _0xd59144=a39_0x122233,_0x4574cb=_0x242aa8['body'],{id:_0x1998cb}=_0x242aa8[_0xd59144(0x194)],_0x2b8554=Yup['object']()[_0xd59144(0x188)]({'note':Yup[_0xd59144(0x18a)]()[_0xd59144(0x1a9)]()});try{await _0x2b8554['validate'](_0x4574cb);}catch(_0x29f510){throw new AppError_1[(_0xd59144(0x195))](_0x29f510['message']);}const _0x5e2f28=await(0x0,CreateTicketNoteService_1[_0xd59144(0x195)])({..._0x4574cb,'userId':Number[_0xd59144(0x1a5)](_0x1998cb,0xa)});return _0x523f00[_0xd59144(0x19a)](0xc8)[_0xd59144(0x1ae)](_0x5e2f28);};exports[a39_0x122233(0x185)]=store;const show=async(_0x3471f6,_0x2ffd36)=>{const _0x2e405a=a39_0x122233,{id:_0x374ef8}=_0x3471f6[_0x2e405a(0x19f)],_0x19bc79=await(0x0,ShowTicketNoteService_1[_0x2e405a(0x195)])(_0x374ef8);return _0x2ffd36[_0x2e405a(0x19a)](0xc8)[_0x2e405a(0x1ae)](_0x19bc79);};exports[a39_0x122233(0x197)]=show;const update=async(_0x24318b,_0x54aaa3)=>{const _0x39d636=a39_0x122233,_0x89a04a=_0x24318b[_0x39d636(0x181)],_0x20e9c8=Yup[_0x39d636(0x1a1)]()[_0x39d636(0x188)]({'note':Yup[_0x39d636(0x18a)]()});try{await _0x20e9c8[_0x39d636(0x196)](_0x89a04a);}catch(_0x340165){throw new AppError_1[(_0x39d636(0x195))](_0x340165['message']);}const _0x21a602=await(0x0,UpdateTicketNoteService_1['default'])(_0x89a04a);return _0x54aaa3[_0x39d636(0x19a)](0xc8)[_0x39d636(0x1ae)](_0x21a602);};exports[a39_0x122233(0x18b)]=update;function a39_0x4ded(_0x1d8722,_0x23cb10){const _0x16b289=a39_0x16c3();return a39_0x4ded=function(_0x56185c,_0xf019f0){_0x56185c=_0x56185c-0x17b;let _0x16c364=_0x16b289[_0x56185c];return _0x16c364;},a39_0x4ded(_0x1d8722,_0x23cb10);}const remove=async(_0x5b889c,_0x403023)=>{const _0x1a4504=a39_0x122233,{id:_0x5ea388}=_0x5b889c[_0x1a4504(0x19f)];if(_0x5b889c[_0x1a4504(0x194)][_0x1a4504(0x1a3)]!=='admin')throw new AppError_1[(_0x1a4504(0x195))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x1a4504(0x195)])(_0x5ea388),_0x403023[_0x1a4504(0x19a)](0xc8)[_0x1a4504(0x1ae)]({'message':_0x1a4504(0x184)});};exports['remove']=remove;const findFilteredList=async(_0x5e167b,_0xbe2ac3)=>{const _0xa84a8a=a39_0x122233;try{const {contactId:_0x4df7c8,ticketId:_0x22feb9}=_0x5e167b['query'],_0x600008=await(0x0,FindNotesByContactIdAndTicketId_1[_0xa84a8a(0x195)])({'contactId':_0x4df7c8,'ticketId':_0x22feb9});return _0xbe2ac3['status'](0xc8)[_0xa84a8a(0x1ae)](_0x600008);}catch(_0x509710){return _0xbe2ac3['status'](0x1f4)[_0xa84a8a(0x1ae)]({'message':_0x509710});}};exports['findFilteredList']=findFilteredList;