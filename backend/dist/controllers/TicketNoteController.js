const a41_0x325215=a41_0x31a0;(function(_0x5b4c6b,_0x5b9d4f){const _0xa9df61=a41_0x31a0,_0xcd2f=_0x5b4c6b();while(!![]){try{const _0x4c95d3=parseInt(_0xa9df61(0xba))/0x1+-parseInt(_0xa9df61(0x93))/0x2+parseInt(_0xa9df61(0xaa))/0x3*(-parseInt(_0xa9df61(0xb8))/0x4)+parseInt(_0xa9df61(0x99))/0x5+parseInt(_0xa9df61(0x9e))/0x6*(parseInt(_0xa9df61(0x9d))/0x7)+-parseInt(_0xa9df61(0x95))/0x8+-parseInt(_0xa9df61(0xb2))/0x9*(-parseInt(_0xa9df61(0x92))/0xa);if(_0x4c95d3===_0x5b9d4f)break;else _0xcd2f['push'](_0xcd2f['shift']());}catch(_0x1778f7){_0xcd2f['push'](_0xcd2f['shift']());}}}(a41_0x40ee,0xe5808));const a41_0x9fb6f3=(function(){let _0x47958c=!![];return function(_0x3cbd97,_0x4b2e7f){const _0x381ad2=_0x47958c?function(){if(_0x4b2e7f){const _0x38652f=_0x4b2e7f['apply'](_0x3cbd97,arguments);return _0x4b2e7f=null,_0x38652f;}}:function(){};return _0x47958c=![],_0x381ad2;};}()),a41_0x56e514=a41_0x9fb6f3(this,function(){const _0x35735d=a41_0x31a0;return a41_0x56e514['toString']()[_0x35735d(0xab)]('(((.+)+)+)+$')[_0x35735d(0x91)]()[_0x35735d(0xae)](a41_0x56e514)[_0x35735d(0xab)](_0x35735d(0xb3));});a41_0x56e514();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x3c238e,_0xf19e95,_0x5deccb,_0x241539){const _0x2901d9=a41_0x31a0;if(_0x241539===undefined)_0x241539=_0x5deccb;var _0x4df9ca=Object['getOwnPropertyDescriptor'](_0xf19e95,_0x5deccb);(!_0x4df9ca||(_0x2901d9(0xb0)in _0x4df9ca?!_0xf19e95['__esModule']:_0x4df9ca[_0x2901d9(0xad)]||_0x4df9ca[_0x2901d9(0xa6)]))&&(_0x4df9ca={'enumerable':!![],'get':function(){return _0xf19e95[_0x5deccb];}}),Object[_0x2901d9(0xb6)](_0x3c238e,_0x241539,_0x4df9ca);}:function(_0x408b26,_0x35e299,_0x46fadd,_0x4c0182){if(_0x4c0182===undefined)_0x4c0182=_0x46fadd;_0x408b26[_0x4c0182]=_0x35e299[_0x46fadd];}),__setModuleDefault=this&&this[a41_0x325215(0x90)]||(Object[a41_0x325215(0x89)]?function(_0x51cbe9,_0xc4867f){const _0x33c980=a41_0x325215;Object[_0x33c980(0xb6)](_0x51cbe9,_0x33c980(0x8e),{'enumerable':!![],'value':_0xc4867f});}:function(_0x105c3a,_0x1cf207){const _0xb1a1e8=a41_0x325215;_0x105c3a[_0xb1a1e8(0x8e)]=_0x1cf207;}),__importStar=this&&this[a41_0x325215(0x97)]||function(_0x406a17){const _0x3591bc=a41_0x325215;if(_0x406a17&&_0x406a17[_0x3591bc(0x8f)])return _0x406a17;var _0x2ec811={};if(_0x406a17!=null){for(var _0x1de5fc in _0x406a17)if(_0x1de5fc!==_0x3591bc(0x8e)&&Object[_0x3591bc(0xb9)]['hasOwnProperty'][_0x3591bc(0xa9)](_0x406a17,_0x1de5fc))__createBinding(_0x2ec811,_0x406a17,_0x1de5fc);}return __setModuleDefault(_0x2ec811,_0x406a17),_0x2ec811;},__importDefault=this&&this[a41_0x325215(0x85)]||function(_0x629cf3){const _0x167a60=a41_0x325215;return _0x629cf3&&_0x629cf3[_0x167a60(0x8f)]?_0x629cf3:{'default':_0x629cf3};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['findFilteredList']=exports[a41_0x325215(0xaf)]=exports[a41_0x325215(0x9c)]=exports[a41_0x325215(0xb5)]=exports[a41_0x325215(0x8d)]=exports['list']=exports[a41_0x325215(0x86)]=void 0x0;const Yup=__importStar(require(a41_0x325215(0xb1))),AppError_1=__importDefault(require(a41_0x325215(0xa3))),ListTicketNotesService_1=__importDefault(require(a41_0x325215(0x98))),CreateTicketNoteService_1=__importDefault(require(a41_0x325215(0x9a))),UpdateTicketNoteService_1=__importDefault(require(a41_0x325215(0xa0))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a41_0x325215(0x88))),DeleteTicketNoteService_1=__importDefault(require(a41_0x325215(0x94))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x325215(0xb4))),index=async(_0x457472,_0x327363)=>{const _0x400233=a41_0x325215,{searchParam:_0x1a3ed2,pageNumber:_0x5f0ce2}=_0x457472[_0x400233(0xa2)],{ticketNotes:_0x47f23e,count:_0x2ea4b9,hasMore:_0x48da9b}=await(0x0,ListTicketNotesService_1[_0x400233(0x8e)])({'searchParam':_0x1a3ed2,'pageNumber':_0x5f0ce2});return _0x327363[_0x400233(0x96)]({'ticketNotes':_0x47f23e,'count':_0x2ea4b9,'hasMore':_0x48da9b});};exports[a41_0x325215(0x86)]=index;function a41_0x31a0(_0x1b04b1,_0x168fb1){const _0x428d40=a41_0x40ee();return a41_0x31a0=function(_0x56e514,_0x9fb6f3){_0x56e514=_0x56e514-0x85;let _0x40ee19=_0x428d40[_0x56e514];return _0x40ee19;},a41_0x31a0(_0x1b04b1,_0x168fb1);}const list=async(_0x17f29c,_0x2b37d7)=>{const _0x160f3f=a41_0x325215,_0x44f98d=await(0x0,FindAllTicketNotesService_1[_0x160f3f(0x8e)])();return _0x2b37d7[_0x160f3f(0xa8)](0xc8)[_0x160f3f(0x96)](_0x44f98d);};exports['list']=list;const store=async(_0x331465,_0x3d1d55)=>{const _0x57014a=a41_0x325215,_0x5190d3=_0x331465[_0x57014a(0x8a)],{id:_0x584b44}=_0x331465[_0x57014a(0xb7)],_0x1ddf85=Yup[_0x57014a(0xa4)]()['shape']({'note':Yup[_0x57014a(0xac)]()['required']()});try{await _0x1ddf85[_0x57014a(0x9b)](_0x5190d3);}catch(_0x33c991){throw new AppError_1[(_0x57014a(0x8e))](_0x33c991['message']);}const _0x3020fa=await(0x0,CreateTicketNoteService_1['default'])({..._0x5190d3,'userId':_0x584b44});return _0x3d1d55['status'](0xc8)[_0x57014a(0x96)](_0x3020fa);};function a41_0x40ee(){const _0x2b6967=['4163008PiGoVD','prototype','1702663cFlXpV','__importDefault','index','shape','../services/TicketNoteService/FindAllTicketNotesService','create','body','Observação\x20removida','message','store','default','__esModule','__setModuleDefault','toString','1170XGzZnW','3055862yxsefH','../services/TicketNoteService/DeleteTicketNoteService','1073080ilwyWm','json','__importStar','../services/TicketNoteService/ListTicketNotesService','6194495hulnrr','../services/TicketNoteService/CreateTicketNoteService','validate','update','73843WBdRnw','258FMYXAd','profile','../services/TicketNoteService/UpdateTicketNoteService','findFilteredList','query','../errors/AppError','object','params','configurable','admin','status','call','3jYjcrJ','search','string','writable','constructor','remove','get','yup','19053mLOxQx','(((.+)+)+)+$','../services/TicketNoteService/FindNotesByContactIdAndTicketId','show','defineProperty','user'];a41_0x40ee=function(){return _0x2b6967;};return a41_0x40ee();}exports[a41_0x325215(0x8d)]=store;const show=async(_0x5cbad1,_0x3f55ee)=>{const _0x26c41b=a41_0x325215,{id:_0xe8a091}=_0x5cbad1[_0x26c41b(0xa5)],_0x3fd96d=await(0x0,ShowTicketNoteService_1[_0x26c41b(0x8e)])(_0xe8a091);return _0x3f55ee[_0x26c41b(0xa8)](0xc8)[_0x26c41b(0x96)](_0x3fd96d);};exports[a41_0x325215(0xb5)]=show;const update=async(_0x5b7575,_0x13a440)=>{const _0x1455c7=a41_0x325215,_0x198512=_0x5b7575[_0x1455c7(0x8a)],_0x201d5d=Yup[_0x1455c7(0xa4)]()[_0x1455c7(0x87)]({'note':Yup[_0x1455c7(0xac)]()});try{await _0x201d5d['validate'](_0x198512);}catch(_0x51c3cb){throw new AppError_1['default'](_0x51c3cb[_0x1455c7(0x8c)]);}const _0xeba7c5=await(0x0,UpdateTicketNoteService_1[_0x1455c7(0x8e)])(_0x198512);return _0x13a440[_0x1455c7(0xa8)](0xc8)[_0x1455c7(0x96)](_0xeba7c5);};exports[a41_0x325215(0x9c)]=update;const remove=async(_0x30e807,_0x34f3bd)=>{const _0x1dd9b2=a41_0x325215,{id:_0x456f79}=_0x30e807[_0x1dd9b2(0xa5)];if(_0x30e807[_0x1dd9b2(0xb7)][_0x1dd9b2(0x9f)]!==_0x1dd9b2(0xa7))throw new AppError_1[(_0x1dd9b2(0x8e))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x456f79),_0x34f3bd[_0x1dd9b2(0xa8)](0xc8)['json']({'message':_0x1dd9b2(0x8b)});};exports[a41_0x325215(0xaf)]=remove;const findFilteredList=async(_0x31a758,_0x5ec5c4)=>{const _0x1643d4=a41_0x325215;try{const {contactId:_0xbe4a1,ticketId:_0x48d4f8}=_0x31a758[_0x1643d4(0xa2)],_0x2bba9d=await(0x0,FindNotesByContactIdAndTicketId_1[_0x1643d4(0x8e)])({'contactId':_0xbe4a1,'ticketId':_0x48d4f8});return _0x5ec5c4[_0x1643d4(0xa8)](0xc8)[_0x1643d4(0x96)](_0x2bba9d);}catch(_0x4d2cb5){return _0x5ec5c4[_0x1643d4(0xa8)](0x1f4)[_0x1643d4(0x96)]({'message':_0x4d2cb5});}};exports[a41_0x325215(0xa1)]=findFilteredList;