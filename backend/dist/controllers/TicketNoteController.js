'use strict';const a39_0x22ba2e=a39_0x58e8;(function(_0xc03504,_0x5b5be8){const _0x46a887=a39_0x58e8,_0x36e180=_0xc03504();while(!![]){try{const _0xcce558=-parseInt(_0x46a887(0x19d))/0x1+-parseInt(_0x46a887(0x191))/0x2+parseInt(_0x46a887(0x194))/0x3*(parseInt(_0x46a887(0x173))/0x4)+-parseInt(_0x46a887(0x168))/0x5*(parseInt(_0x46a887(0x18d))/0x6)+parseInt(_0x46a887(0x195))/0x7*(parseInt(_0x46a887(0x192))/0x8)+parseInt(_0x46a887(0x172))/0x9*(parseInt(_0x46a887(0x19e))/0xa)+parseInt(_0x46a887(0x188))/0xb;if(_0xcce558===_0x5b5be8)break;else _0x36e180['push'](_0x36e180['shift']());}catch(_0x39f116){_0x36e180['push'](_0x36e180['shift']());}}}(a39_0x1878,0x1bc6e));var __createBinding=this&&this['__createBinding']||(Object[a39_0x22ba2e(0x167)]?function(_0x1ac0ee,_0x5bdcd4,_0x40cb5e,_0x5f2296){const _0x1f0856=a39_0x22ba2e;if(_0x5f2296===undefined)_0x5f2296=_0x40cb5e;var _0x5b5a4a=Object[_0x1f0856(0x19f)](_0x5bdcd4,_0x40cb5e);(!_0x5b5a4a||(_0x1f0856(0x177)in _0x5b5a4a?!_0x5bdcd4[_0x1f0856(0x17b)]:_0x5b5a4a[_0x1f0856(0x199)]||_0x5b5a4a[_0x1f0856(0x19b)]))&&(_0x5b5a4a={'enumerable':!![],'get':function(){return _0x5bdcd4[_0x40cb5e];}}),Object['defineProperty'](_0x1ac0ee,_0x5f2296,_0x5b5a4a);}:function(_0x1752f2,_0x5bf2ec,_0x1b4e29,_0x485c93){if(_0x485c93===undefined)_0x485c93=_0x1b4e29;_0x1752f2[_0x485c93]=_0x5bf2ec[_0x1b4e29];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a39_0x22ba2e(0x167)]?function(_0x14b6f3,_0x53b12d){const _0x1b0278=a39_0x22ba2e;Object[_0x1b0278(0x16a)](_0x14b6f3,_0x1b0278(0x198),{'enumerable':!![],'value':_0x53b12d});}:function(_0x2d7065,_0xa45234){_0x2d7065['default']=_0xa45234;}),__importStar=this&&this[a39_0x22ba2e(0x178)]||(function(){const _0x31e6e0=(function(){let _0xa72ce6=!![];return function(_0x5d4f5f,_0x24fe25){const _0x14b849=_0xa72ce6?function(){const _0x56d45b=a39_0x58e8;if(_0x24fe25){const _0x1cff8b=_0x24fe25[_0x56d45b(0x174)](_0x5d4f5f,arguments);return _0x24fe25=null,_0x1cff8b;}}:function(){};return _0xa72ce6=![],_0x14b849;};}()),_0x417348=_0x31e6e0(this,function(){const _0x284383=a39_0x58e8;return _0x417348[_0x284383(0x189)]()[_0x284383(0x16c)]('(((.+)+)+)+$')[_0x284383(0x189)]()[_0x284383(0x19c)](_0x417348)['search']('(((.+)+)+)+$');});_0x417348();var _0xf9ec53=function(_0x5f3b12){const _0x2af2f5=a39_0x58e8;return _0xf9ec53=Object[_0x2af2f5(0x184)]||function(_0x50542f){const _0x2bcaa0=_0x2af2f5;var _0x55a93e=[];for(var _0x16ce4c in _0x50542f)if(Object['prototype'][_0x2bcaa0(0x16b)][_0x2bcaa0(0x170)](_0x50542f,_0x16ce4c))_0x55a93e[_0x55a93e[_0x2bcaa0(0x17c)]]=_0x16ce4c;return _0x55a93e;},_0xf9ec53(_0x5f3b12);};return function(_0x210548){const _0x13b888=a39_0x58e8;if(_0x210548&&_0x210548[_0x13b888(0x17b)])return _0x210548;var _0x1420a3={};if(_0x210548!=null){for(var _0xb6c522=_0xf9ec53(_0x210548),_0x2ebc20=0x0;_0x2ebc20<_0xb6c522[_0x13b888(0x17c)];_0x2ebc20++)if(_0xb6c522[_0x2ebc20]!==_0x13b888(0x198))__createBinding(_0x1420a3,_0x210548,_0xb6c522[_0x2ebc20]);}return __setModuleDefault(_0x1420a3,_0x210548),_0x1420a3;};}()),__importDefault=this&&this[a39_0x22ba2e(0x179)]||function(_0x1a4c37){const _0xcfdcbb=a39_0x22ba2e;return _0x1a4c37&&_0x1a4c37[_0xcfdcbb(0x17b)]?_0x1a4c37:{'default':_0x1a4c37};};Object[a39_0x22ba2e(0x16a)](exports,a39_0x22ba2e(0x17b),{'value':!![]}),exports[a39_0x22ba2e(0x18a)]=exports[a39_0x22ba2e(0x176)]=exports['update']=exports[a39_0x22ba2e(0x18c)]=exports['store']=exports[a39_0x22ba2e(0x183)]=exports[a39_0x22ba2e(0x169)]=void 0x0;const Yup=__importStar(require(a39_0x22ba2e(0x185))),AppError_1=__importDefault(require(a39_0x22ba2e(0x18b))),ListTicketNotesService_1=__importDefault(require(a39_0x22ba2e(0x17f))),CreateTicketNoteService_1=__importDefault(require(a39_0x22ba2e(0x196))),UpdateTicketNoteService_1=__importDefault(require(a39_0x22ba2e(0x181))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a39_0x22ba2e(0x19a))),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require(a39_0x22ba2e(0x17a))),index=async(_0x33d352,_0x3d248)=>{const _0x3cb73c=a39_0x22ba2e,{searchParam:_0x50bb04,pageNumber:_0x30adff}=_0x33d352[_0x3cb73c(0x187)],{ticketNotes:_0x11bd99,count:_0x1d1923,hasMore:_0x117dc3}=await(0x0,ListTicketNotesService_1[_0x3cb73c(0x198)])({'searchParam':_0x50bb04,'pageNumber':_0x30adff});return _0x3d248[_0x3cb73c(0x197)]({'ticketNotes':_0x11bd99,'count':_0x1d1923,'hasMore':_0x117dc3});};exports[a39_0x22ba2e(0x169)]=index;const list=async(_0x134d43,_0x2f3fac)=>{const _0x190aab=a39_0x22ba2e,_0x8fbd8=await(0x0,FindAllTicketNotesService_1['default'])();return _0x2f3fac['status'](0xc8)[_0x190aab(0x197)](_0x8fbd8);};exports[a39_0x22ba2e(0x183)]=list;function a39_0x1878(){const _0xdd4d4e=['writable','../services/TicketNoteService/FindAllTicketNotesService','configurable','constructor','217050OuhZhK','10DnkSzC','getOwnPropertyDescriptor','store','create','280aeQtmw','index','defineProperty','hasOwnProperty','search','params','parseInt','ERR_NO_PERMISSION','call','message','1133082bUXmwr','3732zZsmeI','apply','validate','remove','get','__importStar','__importDefault','../services/TicketNoteService/FindNotesByContactIdAndTicketId','__esModule','length','Observação\x20removida','status','../services/TicketNoteService/ListTicketNotesService','string','../services/TicketNoteService/UpdateTicketNoteService','update','list','getOwnPropertyNames','yup','body','query','4075676JtPNSj','toString','findFilteredList','../errors/AppError','show','402NKZnHo','profile','object','user','411830orKBoZ','128696skaofJ','shape','90cDTGBg','7JeJpOc','../services/TicketNoteService/CreateTicketNoteService','json','default'];a39_0x1878=function(){return _0xdd4d4e;};return a39_0x1878();}const store=async(_0x5c6882,_0xbb1537)=>{const _0x5c4edc=a39_0x22ba2e,_0x31c9fa=_0x5c6882[_0x5c4edc(0x186)],{id:_0x14f01a}=_0x5c6882[_0x5c4edc(0x190)],_0x394f80=Yup[_0x5c4edc(0x18f)]()[_0x5c4edc(0x193)]({'note':Yup[_0x5c4edc(0x180)]()['required']()});try{await _0x394f80['validate'](_0x31c9fa);}catch(_0x447a61){throw new AppError_1[(_0x5c4edc(0x198))](_0x447a61['message']);}const _0x6b2546=await(0x0,CreateTicketNoteService_1[_0x5c4edc(0x198)])({..._0x31c9fa,'userId':Number[_0x5c4edc(0x16e)](_0x14f01a,0xa)});return _0xbb1537[_0x5c4edc(0x17e)](0xc8)[_0x5c4edc(0x197)](_0x6b2546);};exports[a39_0x22ba2e(0x166)]=store;const show=async(_0xb7363b,_0x48e363)=>{const _0x39b2d5=a39_0x22ba2e,{id:_0x4600ea}=_0xb7363b[_0x39b2d5(0x16d)],_0x3d9928=await(0x0,ShowTicketNoteService_1['default'])(_0x4600ea);return _0x48e363[_0x39b2d5(0x17e)](0xc8)[_0x39b2d5(0x197)](_0x3d9928);};exports['show']=show;const update=async(_0x5acc09,_0x3733fd)=>{const _0x32a772=a39_0x22ba2e,_0x56c299=_0x5acc09['body'],_0x29df44=Yup[_0x32a772(0x18f)]()[_0x32a772(0x193)]({'note':Yup[_0x32a772(0x180)]()});try{await _0x29df44[_0x32a772(0x175)](_0x56c299);}catch(_0x15fc5e){throw new AppError_1['default'](_0x15fc5e[_0x32a772(0x171)]);}const _0x40a657=await(0x0,UpdateTicketNoteService_1[_0x32a772(0x198)])(_0x56c299);return _0x3733fd['status'](0xc8)[_0x32a772(0x197)](_0x40a657);};exports[a39_0x22ba2e(0x182)]=update;function a39_0x58e8(_0x1e753f,_0x73159b){const _0x263efb=a39_0x1878();return a39_0x58e8=function(_0x52d69e,_0x48de4c){_0x52d69e=_0x52d69e-0x166;let _0x1878a6=_0x263efb[_0x52d69e];return _0x1878a6;},a39_0x58e8(_0x1e753f,_0x73159b);}const remove=async(_0x1a31f4,_0x2b58a1)=>{const _0xb98634=a39_0x22ba2e,{id:_0x26aefb}=_0x1a31f4[_0xb98634(0x16d)];if(_0x1a31f4[_0xb98634(0x190)][_0xb98634(0x18e)]!=='admin')throw new AppError_1[(_0xb98634(0x198))](_0xb98634(0x16f),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x26aefb),_0x2b58a1[_0xb98634(0x17e)](0xc8)[_0xb98634(0x197)]({'message':_0xb98634(0x17d)});};exports[a39_0x22ba2e(0x176)]=remove;const findFilteredList=async(_0x252710,_0x1230f8)=>{const _0x5e1dbc=a39_0x22ba2e;try{const {contactId:_0x324252,ticketId:_0xe5cf2d}=_0x252710[_0x5e1dbc(0x187)],_0x452bec=await(0x0,FindNotesByContactIdAndTicketId_1[_0x5e1dbc(0x198)])({'contactId':_0x324252,'ticketId':_0xe5cf2d});return _0x1230f8['status'](0xc8)[_0x5e1dbc(0x197)](_0x452bec);}catch(_0x3889a9){return _0x1230f8[_0x5e1dbc(0x17e)](0x1f4)[_0x5e1dbc(0x197)]({'message':_0x3889a9});}};exports[a39_0x22ba2e(0x18a)]=findFilteredList;