const a41_0x1bcbab=a41_0x5af6;(function(_0x5ea96c,_0x334f90){const _0x4725de=a41_0x5af6,_0x1ce65b=_0x5ea96c();while(!![]){try{const _0x3a6af=parseInt(_0x4725de(0x187))/0x1*(parseInt(_0x4725de(0x15d))/0x2)+parseInt(_0x4725de(0x179))/0x3*(-parseInt(_0x4725de(0x15b))/0x4)+-parseInt(_0x4725de(0x182))/0x5*(parseInt(_0x4725de(0x15c))/0x6)+-parseInt(_0x4725de(0x169))/0x7+-parseInt(_0x4725de(0x176))/0x8+parseInt(_0x4725de(0x173))/0x9*(-parseInt(_0x4725de(0x15a))/0xa)+parseInt(_0x4725de(0x172))/0xb;if(_0x3a6af===_0x334f90)break;else _0x1ce65b['push'](_0x1ce65b['shift']());}catch(_0x1f2d76){_0x1ce65b['push'](_0x1ce65b['shift']());}}}(a41_0x1182,0x3aac1));const a41_0x156de5=(function(){let _0x37fccd=!![];return function(_0xda9d64,_0x3651ae){const _0x164a0c=_0x37fccd?function(){const _0x2fbe0b=a41_0x5af6;if(_0x3651ae){const _0x1845a7=_0x3651ae[_0x2fbe0b(0x16f)](_0xda9d64,arguments);return _0x3651ae=null,_0x1845a7;}}:function(){};return _0x37fccd=![],_0x164a0c;};}()),a41_0x474b73=a41_0x156de5(this,function(){const _0x98403f=a41_0x5af6;return a41_0x474b73[_0x98403f(0x185)]()[_0x98403f(0x156)]('(((.+)+)+)+$')['toString']()['constructor'](a41_0x474b73)['search']('(((.+)+)+)+$');});a41_0x474b73();'use strict';function a41_0x5af6(_0x4979cd,_0x5b305b){const _0x2f90f9=a41_0x1182();return a41_0x5af6=function(_0x474b73,_0x156de5){_0x474b73=_0x474b73-0x151;let _0x1182d6=_0x2f90f9[_0x474b73];return _0x1182d6;},a41_0x5af6(_0x4979cd,_0x5b305b);}var __createBinding=this&&this[a41_0x1bcbab(0x168)]||(Object['create']?function(_0x26533a,_0xe3bfe7,_0x1eb42d,_0x330d85){const _0x572416=a41_0x1bcbab;if(_0x330d85===undefined)_0x330d85=_0x1eb42d;var _0x11683d=Object[_0x572416(0x16a)](_0xe3bfe7,_0x1eb42d);(!_0x11683d||(_0x572416(0x175)in _0x11683d?!_0xe3bfe7[_0x572416(0x16c)]:_0x11683d[_0x572416(0x186)]||_0x11683d[_0x572416(0x170)]))&&(_0x11683d={'enumerable':!![],'get':function(){return _0xe3bfe7[_0x1eb42d];}}),Object[_0x572416(0x164)](_0x26533a,_0x330d85,_0x11683d);}:function(_0x222bd0,_0x494b9c,_0x4cba8f,_0x4037a8){if(_0x4037a8===undefined)_0x4037a8=_0x4cba8f;_0x222bd0[_0x4037a8]=_0x494b9c[_0x4cba8f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a41_0x1bcbab(0x157)]?function(_0x12633c,_0x6639ec){const _0x3d5a27=a41_0x1bcbab;Object[_0x3d5a27(0x164)](_0x12633c,'default',{'enumerable':!![],'value':_0x6639ec});}:function(_0x1c2ddf,_0x1951ff){const _0x3439cc=a41_0x1bcbab;_0x1c2ddf[_0x3439cc(0x16d)]=_0x1951ff;}),__importStar=this&&this[a41_0x1bcbab(0x158)]||function(_0x50ed70){const _0x89d4f6=a41_0x1bcbab;if(_0x50ed70&&_0x50ed70[_0x89d4f6(0x16c)])return _0x50ed70;var _0x20e438={};if(_0x50ed70!=null){for(var _0x4bf6ce in _0x50ed70)if(_0x4bf6ce!==_0x89d4f6(0x16d)&&Object['prototype']['hasOwnProperty']['call'](_0x50ed70,_0x4bf6ce))__createBinding(_0x20e438,_0x50ed70,_0x4bf6ce);}return __setModuleDefault(_0x20e438,_0x50ed70),_0x20e438;},__importDefault=this&&this[a41_0x1bcbab(0x151)]||function(_0x382959){const _0x37b6ee=a41_0x1bcbab;return _0x382959&&_0x382959[_0x37b6ee(0x16c)]?_0x382959:{'default':_0x382959};};function a41_0x1182(){const _0x586916=['status','findFilteredList','28155lCExck','object','remove','json','show','string','validate','query','Observação\x20removida','175oyPNmp','store','../services/TicketNoteService/FindAllTicketNotesService','toString','writable','217631pIfekG','../services/TicketNoteService/FindNotesByContactIdAndTicketId','__importDefault','../services/TicketNoteService/ShowTicketNoteService','profile','../services/TicketNoteService/DeleteTicketNoteService','user','search','create','__importStar','../services/TicketNoteService/ListTicketNotesService','70LwfSSc','204OnvbRS','68436FEXrVr','2CvGVXJ','list','shape','ERR_NO_PERMISSION','params','index','update','defineProperty','../services/TicketNoteService/CreateTicketNoteService','admin','../services/TicketNoteService/UpdateTicketNoteService','__createBinding','1431409ctJoIl','getOwnPropertyDescriptor','../errors/AppError','__esModule','default','required','apply','configurable','body','18538751enSinD','392148sQcXIX','message','get','2202520KTzRMR'];a41_0x1182=function(){return _0x586916;};return a41_0x1182();}Object[a41_0x1bcbab(0x164)](exports,'__esModule',{'value':!![]}),exports['findFilteredList']=exports[a41_0x1bcbab(0x17b)]=exports[a41_0x1bcbab(0x163)]=exports[a41_0x1bcbab(0x17d)]=exports[a41_0x1bcbab(0x183)]=exports['list']=exports[a41_0x1bcbab(0x162)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a41_0x1bcbab(0x16b))),ListTicketNotesService_1=__importDefault(require(a41_0x1bcbab(0x159))),CreateTicketNoteService_1=__importDefault(require(a41_0x1bcbab(0x165))),UpdateTicketNoteService_1=__importDefault(require(a41_0x1bcbab(0x167))),ShowTicketNoteService_1=__importDefault(require(a41_0x1bcbab(0x152))),FindAllTicketNotesService_1=__importDefault(require(a41_0x1bcbab(0x184))),DeleteTicketNoteService_1=__importDefault(require(a41_0x1bcbab(0x154))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x1bcbab(0x188))),index=async(_0x35c9a6,_0x29e6ea)=>{const _0x2cd0c6=a41_0x1bcbab,{searchParam:_0xcece22,pageNumber:_0x32f832}=_0x35c9a6[_0x2cd0c6(0x180)],{ticketNotes:_0x37aa62,count:_0x11a5d8,hasMore:_0x5a80e9}=await(0x0,ListTicketNotesService_1[_0x2cd0c6(0x16d)])({'searchParam':_0xcece22,'pageNumber':_0x32f832});return _0x29e6ea[_0x2cd0c6(0x17c)]({'ticketNotes':_0x37aa62,'count':_0x11a5d8,'hasMore':_0x5a80e9});};exports[a41_0x1bcbab(0x162)]=index;const list=async(_0x37d5d4,_0x4abc3d)=>{const _0x2f88d8=a41_0x1bcbab,_0x39b68a=await(0x0,FindAllTicketNotesService_1['default'])();return _0x4abc3d[_0x2f88d8(0x177)](0xc8)[_0x2f88d8(0x17c)](_0x39b68a);};exports[a41_0x1bcbab(0x15e)]=list;const store=async(_0x35dd47,_0x18d9c4)=>{const _0x1b8b28=a41_0x1bcbab,_0x22c25b=_0x35dd47[_0x1b8b28(0x171)],{id:_0xe4548a}=_0x35dd47[_0x1b8b28(0x155)],_0x3a530e=Yup[_0x1b8b28(0x17a)]()[_0x1b8b28(0x15f)]({'note':Yup[_0x1b8b28(0x17e)]()[_0x1b8b28(0x16e)]()});try{await _0x3a530e['validate'](_0x22c25b);}catch(_0x24d06b){throw new AppError_1[(_0x1b8b28(0x16d))](_0x24d06b[_0x1b8b28(0x174)]);}const _0xefcf53=await(0x0,CreateTicketNoteService_1[_0x1b8b28(0x16d)])({..._0x22c25b,'userId':_0xe4548a});return _0x18d9c4['status'](0xc8)[_0x1b8b28(0x17c)](_0xefcf53);};exports[a41_0x1bcbab(0x183)]=store;const show=async(_0x423f94,_0x502595)=>{const _0x396d57=a41_0x1bcbab,{id:_0x29d051}=_0x423f94[_0x396d57(0x161)],_0xc320f3=await(0x0,ShowTicketNoteService_1['default'])(_0x29d051);return _0x502595[_0x396d57(0x177)](0xc8)[_0x396d57(0x17c)](_0xc320f3);};exports['show']=show;const update=async(_0x3c1a27,_0x3a799e)=>{const _0x1ed745=a41_0x1bcbab,_0x178354=_0x3c1a27[_0x1ed745(0x171)],_0x33109b=Yup[_0x1ed745(0x17a)]()[_0x1ed745(0x15f)]({'note':Yup[_0x1ed745(0x17e)]()});try{await _0x33109b[_0x1ed745(0x17f)](_0x178354);}catch(_0x32b8c1){throw new AppError_1[(_0x1ed745(0x16d))](_0x32b8c1[_0x1ed745(0x174)]);}const _0x3db07d=await(0x0,UpdateTicketNoteService_1['default'])(_0x178354);return _0x3a799e[_0x1ed745(0x177)](0xc8)['json'](_0x3db07d);};exports[a41_0x1bcbab(0x163)]=update;const remove=async(_0x31f9a2,_0xc784a3)=>{const _0x7977bb=a41_0x1bcbab,{id:_0x1bd416}=_0x31f9a2[_0x7977bb(0x161)];if(_0x31f9a2['user'][_0x7977bb(0x153)]!==_0x7977bb(0x166))throw new AppError_1[(_0x7977bb(0x16d))](_0x7977bb(0x160),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x1bd416),_0xc784a3['status'](0xc8)['json']({'message':_0x7977bb(0x181)});};exports[a41_0x1bcbab(0x17b)]=remove;const findFilteredList=async(_0x3e6e17,_0x1daace)=>{const _0x28b9eb=a41_0x1bcbab;try{const {contactId:_0x1177ff,ticketId:_0x22ad60}=_0x3e6e17['query'],_0x45256f=await(0x0,FindNotesByContactIdAndTicketId_1[_0x28b9eb(0x16d)])({'contactId':_0x1177ff,'ticketId':_0x22ad60});return _0x1daace[_0x28b9eb(0x177)](0xc8)[_0x28b9eb(0x17c)](_0x45256f);}catch(_0x12db57){return _0x1daace[_0x28b9eb(0x177)](0x1f4)['json']({'message':_0x12db57});}};exports[a41_0x1bcbab(0x178)]=findFilteredList;