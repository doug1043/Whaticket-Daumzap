const a41_0x549b77=a41_0x345c;(function(_0x31952a,_0x40668c){const _0x2d2b42=a41_0x345c,_0x441d07=_0x31952a();while(!![]){try{const _0x495d99=parseInt(_0x2d2b42(0x1ac))/0x1*(parseInt(_0x2d2b42(0x195))/0x2)+parseInt(_0x2d2b42(0x1a7))/0x3+parseInt(_0x2d2b42(0x18d))/0x4*(-parseInt(_0x2d2b42(0x1a2))/0x5)+parseInt(_0x2d2b42(0x19d))/0x6+parseInt(_0x2d2b42(0x1a4))/0x7+-parseInt(_0x2d2b42(0x180))/0x8*(parseInt(_0x2d2b42(0x19b))/0x9)+parseInt(_0x2d2b42(0x1aa))/0xa*(-parseInt(_0x2d2b42(0x197))/0xb);if(_0x495d99===_0x40668c)break;else _0x441d07['push'](_0x441d07['shift']());}catch(_0x26ff70){_0x441d07['push'](_0x441d07['shift']());}}}(a41_0x2af7,0x5deca));const a41_0x705857=(function(){let _0xbb3288=!![];return function(_0x28bf2d,_0x5e1888){const _0x261188=_0xbb3288?function(){const _0x1a1d59=a41_0x345c;if(_0x5e1888){const _0x498270=_0x5e1888[_0x1a1d59(0x18a)](_0x28bf2d,arguments);return _0x5e1888=null,_0x498270;}}:function(){};return _0xbb3288=![],_0x261188;};}()),a41_0x2010d2=a41_0x705857(this,function(){const _0x5b3748=a41_0x345c;return a41_0x2010d2[_0x5b3748(0x19c)]()['search'](_0x5b3748(0x1b1))[_0x5b3748(0x19c)]()[_0x5b3748(0x19f)](a41_0x2010d2)[_0x5b3748(0x1ab)](_0x5b3748(0x1b1));});a41_0x2010d2();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a41_0x549b77(0x1b4)]?function(_0x2f28bf,_0x157ade,_0x21b1a8,_0x1d292e){const _0x42f6e9=a41_0x549b77;if(_0x1d292e===undefined)_0x1d292e=_0x21b1a8;var _0x4152e3=Object[_0x42f6e9(0x1b3)](_0x157ade,_0x21b1a8);(!_0x4152e3||(_0x42f6e9(0x1af)in _0x4152e3?!_0x157ade[_0x42f6e9(0x18c)]:_0x4152e3['writable']||_0x4152e3[_0x42f6e9(0x1a0)]))&&(_0x4152e3={'enumerable':!![],'get':function(){return _0x157ade[_0x21b1a8];}}),Object[_0x42f6e9(0x1a6)](_0x2f28bf,_0x1d292e,_0x4152e3);}:function(_0x10beb4,_0x3d6a33,_0x1beb59,_0x42e18c){if(_0x42e18c===undefined)_0x42e18c=_0x1beb59;_0x10beb4[_0x42e18c]=_0x3d6a33[_0x1beb59];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a41_0x549b77(0x1b4)]?function(_0x4fa8f8,_0x1dc32b){const _0x367fc3=a41_0x549b77;Object['defineProperty'](_0x4fa8f8,_0x367fc3(0x193),{'enumerable':!![],'value':_0x1dc32b});}:function(_0x517889,_0xacf6e9){const _0x47abce=a41_0x549b77;_0x517889[_0x47abce(0x193)]=_0xacf6e9;}),__importStar=this&&this[a41_0x549b77(0x18b)]||function(_0x5c60f5){const _0x13bb0e=a41_0x549b77;if(_0x5c60f5&&_0x5c60f5['__esModule'])return _0x5c60f5;var _0x3198b2={};if(_0x5c60f5!=null){for(var _0x1fcdbb in _0x5c60f5)if(_0x1fcdbb!==_0x13bb0e(0x193)&&Object[_0x13bb0e(0x1a1)][_0x13bb0e(0x182)][_0x13bb0e(0x1a8)](_0x5c60f5,_0x1fcdbb))__createBinding(_0x3198b2,_0x5c60f5,_0x1fcdbb);}return __setModuleDefault(_0x3198b2,_0x5c60f5),_0x3198b2;},__importDefault=this&&this[a41_0x549b77(0x185)]||function(_0xe75862){const _0x240099=a41_0x549b77;return _0xe75862&&_0xe75862[_0x240099(0x18c)]?_0xe75862:{'default':_0xe75862};};Object[a41_0x549b77(0x1a6)](exports,a41_0x549b77(0x18c),{'value':!![]}),exports[a41_0x549b77(0x19a)]=exports[a41_0x549b77(0x181)]=exports[a41_0x549b77(0x17f)]=exports[a41_0x549b77(0x190)]=exports[a41_0x549b77(0x1b6)]=exports[a41_0x549b77(0x19e)]=exports['index']=void 0x0;const Yup=__importStar(require(a41_0x549b77(0x1b2))),AppError_1=__importDefault(require(a41_0x549b77(0x198))),ListTicketNotesService_1=__importDefault(require(a41_0x549b77(0x17e))),CreateTicketNoteService_1=__importDefault(require(a41_0x549b77(0x1b5))),UpdateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/UpdateTicketNoteService')),ShowTicketNoteService_1=__importDefault(require(a41_0x549b77(0x1a5))),FindAllTicketNotesService_1=__importDefault(require(a41_0x549b77(0x1ad))),DeleteTicketNoteService_1=__importDefault(require(a41_0x549b77(0x194))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x549b77(0x1b7))),index=async(_0x4afc43,_0x2c9f6c)=>{const _0x2b8cbb=a41_0x549b77,{searchParam:_0x472ffa,pageNumber:_0x2b8f59}=_0x4afc43['query'],{ticketNotes:_0x1ab63c,count:_0x3baf59,hasMore:_0x2a8454}=await(0x0,ListTicketNotesService_1[_0x2b8cbb(0x193)])({'searchParam':_0x472ffa,'pageNumber':_0x2b8f59});return _0x2c9f6c['json']({'ticketNotes':_0x1ab63c,'count':_0x3baf59,'hasMore':_0x2a8454});};exports[a41_0x549b77(0x186)]=index;const list=async(_0x744186,_0x222e61)=>{const _0x2c1d4b=a41_0x549b77,_0x3ccddc=await(0x0,FindAllTicketNotesService_1[_0x2c1d4b(0x193)])();return _0x222e61[_0x2c1d4b(0x189)](0xc8)[_0x2c1d4b(0x1a9)](_0x3ccddc);};function a41_0x2af7(){const _0x332cf7=['20ekKgAd','message','11VwECby','../errors/AppError','Observação\x20removida','findFilteredList','45iGMJxN','toString','3777162DDdxqo','list','constructor','configurable','prototype','2935ydcmbx','params','482244jIATHP','../services/TicketNoteService/ShowTicketNoteService','defineProperty','1092849WJcCtV','call','json','3705340aRRZXM','search','60132skpRIq','../services/TicketNoteService/FindAllTicketNotesService','admin','get','user','(((.+)+)+)+$','yup','getOwnPropertyDescriptor','create','../services/TicketNoteService/CreateTicketNoteService','store','../services/TicketNoteService/FindNotesByContactIdAndTicketId','../services/TicketNoteService/ListTicketNotesService','update','930904AALUwV','remove','hasOwnProperty','shape','profile','__importDefault','index','validate','string','status','apply','__importStar','__esModule','2228jjIsPj','required','body','show','ERR_NO_PERMISSION','object','default','../services/TicketNoteService/DeleteTicketNoteService'];a41_0x2af7=function(){return _0x332cf7;};return a41_0x2af7();}exports[a41_0x549b77(0x19e)]=list;const store=async(_0x3e3cf8,_0x3a435b)=>{const _0x592f19=a41_0x549b77,_0x40fe0b=_0x3e3cf8[_0x592f19(0x18f)],{id:_0x312af7}=_0x3e3cf8[_0x592f19(0x1b0)],_0x2fcbcf=Yup[_0x592f19(0x192)]()[_0x592f19(0x183)]({'note':Yup['string']()[_0x592f19(0x18e)]()});try{await _0x2fcbcf[_0x592f19(0x187)](_0x40fe0b);}catch(_0x38ff48){throw new AppError_1[(_0x592f19(0x193))](_0x38ff48[_0x592f19(0x196)]);}const _0x197eb6=await(0x0,CreateTicketNoteService_1['default'])({..._0x40fe0b,'userId':_0x312af7});return _0x3a435b[_0x592f19(0x189)](0xc8)['json'](_0x197eb6);};exports[a41_0x549b77(0x1b6)]=store;const show=async(_0x1e3f3a,_0x37147a)=>{const _0x58b994=a41_0x549b77,{id:_0x5cf24a}=_0x1e3f3a[_0x58b994(0x1a3)],_0x25e4cf=await(0x0,ShowTicketNoteService_1[_0x58b994(0x193)])(_0x5cf24a);return _0x37147a[_0x58b994(0x189)](0xc8)[_0x58b994(0x1a9)](_0x25e4cf);};exports[a41_0x549b77(0x190)]=show;function a41_0x345c(_0x2e1d75,_0x2b81b6){const _0x40dc65=a41_0x2af7();return a41_0x345c=function(_0x2010d2,_0x705857){_0x2010d2=_0x2010d2-0x17e;let _0x2af779=_0x40dc65[_0x2010d2];return _0x2af779;},a41_0x345c(_0x2e1d75,_0x2b81b6);}const update=async(_0x5936ee,_0x41baf3)=>{const _0x82ff34=a41_0x549b77,_0x37f548=_0x5936ee['body'],_0x3e81e6=Yup['object']()[_0x82ff34(0x183)]({'note':Yup[_0x82ff34(0x188)]()});try{await _0x3e81e6[_0x82ff34(0x187)](_0x37f548);}catch(_0x2ebdf4){throw new AppError_1[(_0x82ff34(0x193))](_0x2ebdf4[_0x82ff34(0x196)]);}const _0x289372=await(0x0,UpdateTicketNoteService_1[_0x82ff34(0x193)])(_0x37f548);return _0x41baf3['status'](0xc8)['json'](_0x289372);};exports[a41_0x549b77(0x17f)]=update;const remove=async(_0x8168bb,_0xb86fc7)=>{const _0x353aa0=a41_0x549b77,{id:_0x4e8b10}=_0x8168bb[_0x353aa0(0x1a3)];if(_0x8168bb['user'][_0x353aa0(0x184)]!==_0x353aa0(0x1ae))throw new AppError_1[(_0x353aa0(0x193))](_0x353aa0(0x191),0x193);return await(0x0,DeleteTicketNoteService_1[_0x353aa0(0x193)])(_0x4e8b10),_0xb86fc7[_0x353aa0(0x189)](0xc8)[_0x353aa0(0x1a9)]({'message':_0x353aa0(0x199)});};exports['remove']=remove;const findFilteredList=async(_0x2882ef,_0x41f5ac)=>{const _0x58382c=a41_0x549b77;try{const {contactId:_0x185e17,ticketId:_0x4bc375}=_0x2882ef['query'],_0x33c9d9=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x185e17,'ticketId':_0x4bc375});return _0x41f5ac[_0x58382c(0x189)](0xc8)['json'](_0x33c9d9);}catch(_0x33c5a5){return _0x41f5ac[_0x58382c(0x189)](0x1f4)[_0x58382c(0x1a9)]({'message':_0x33c5a5});}};exports[a41_0x549b77(0x19a)]=findFilteredList;