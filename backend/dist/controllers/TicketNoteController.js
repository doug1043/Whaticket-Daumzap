'use strict';const a39_0x2a1860=a39_0x7635;(function(_0x1caee4,_0x3d9b15){const _0x89d517=a39_0x7635,_0x5a64fd=_0x1caee4();while(!![]){try{const _0x3a4f4f=-parseInt(_0x89d517(0x1d6))/0x1+-parseInt(_0x89d517(0x1c6))/0x2*(parseInt(_0x89d517(0x1cf))/0x3)+-parseInt(_0x89d517(0x1c1))/0x4*(parseInt(_0x89d517(0x1d1))/0x5)+-parseInt(_0x89d517(0x1a6))/0x6+-parseInt(_0x89d517(0x1dc))/0x7+-parseInt(_0x89d517(0x1c0))/0x8*(-parseInt(_0x89d517(0x1b0))/0x9)+-parseInt(_0x89d517(0x1c2))/0xa*(-parseInt(_0x89d517(0x1b2))/0xb);if(_0x3a4f4f===_0x3d9b15)break;else _0x5a64fd['push'](_0x5a64fd['shift']());}catch(_0x56db3c){_0x5a64fd['push'](_0x5a64fd['shift']());}}}(a39_0x2e83,0xcea87));var __createBinding=this&&this[a39_0x2a1860(0x1bb)]||(Object[a39_0x2a1860(0x1aa)]?function(_0x1d12a9,_0x1a8788,_0x2f614b,_0x2996b4){const _0x1a99b3=a39_0x2a1860;if(_0x2996b4===undefined)_0x2996b4=_0x2f614b;var _0x83a0cf=Object[_0x1a99b3(0x1ad)](_0x1a8788,_0x2f614b);(!_0x83a0cf||(_0x1a99b3(0x1b1)in _0x83a0cf?!_0x1a8788[_0x1a99b3(0x1d3)]:_0x83a0cf[_0x1a99b3(0x1d0)]||_0x83a0cf[_0x1a99b3(0x1e0)]))&&(_0x83a0cf={'enumerable':!![],'get':function(){return _0x1a8788[_0x2f614b];}}),Object[_0x1a99b3(0x1d2)](_0x1d12a9,_0x2996b4,_0x83a0cf);}:function(_0x1d4b07,_0xc72cb3,_0x4ba20f,_0x32fd7d){if(_0x32fd7d===undefined)_0x32fd7d=_0x4ba20f;_0x1d4b07[_0x32fd7d]=_0xc72cb3[_0x4ba20f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a39_0x2a1860(0x1aa)]?function(_0x449dba,_0x4340c7){const _0x3a1c72=a39_0x2a1860;Object['defineProperty'](_0x449dba,_0x3a1c72(0x1a7),{'enumerable':!![],'value':_0x4340c7});}:function(_0x45027d,_0x2793cb){_0x45027d['default']=_0x2793cb;}),__importStar=this&&this[a39_0x2a1860(0x1ba)]||(function(){const _0x2a6e01=(function(){let _0x1f2f19=!![];return function(_0x49fa7c,_0x25bf0a){const _0x5eff7c=_0x1f2f19?function(){if(_0x25bf0a){const _0x48cf02=_0x25bf0a['apply'](_0x49fa7c,arguments);return _0x25bf0a=null,_0x48cf02;}}:function(){};return _0x1f2f19=![],_0x5eff7c;};}()),_0x5c3851=_0x2a6e01(this,function(){const _0x15d8d1=a39_0x7635;return _0x5c3851[_0x15d8d1(0x1b5)]()[_0x15d8d1(0x1e2)](_0x15d8d1(0x1db))['toString']()[_0x15d8d1(0x1b6)](_0x5c3851)[_0x15d8d1(0x1e2)](_0x15d8d1(0x1db));});_0x5c3851();var _0x3036d5=function(_0x2316f0){const _0x1006f6=a39_0x7635;return _0x3036d5=Object[_0x1006f6(0x1a8)]||function(_0x332b57){const _0x224a1f=_0x1006f6;var _0x54a7d6=[];for(var _0x26f8da in _0x332b57)if(Object['prototype'][_0x224a1f(0x1c9)][_0x224a1f(0x1b9)](_0x332b57,_0x26f8da))_0x54a7d6[_0x54a7d6[_0x224a1f(0x1cc)]]=_0x26f8da;return _0x54a7d6;},_0x3036d5(_0x2316f0);};return function(_0x59cd3a){const _0xbdb878=a39_0x7635;if(_0x59cd3a&&_0x59cd3a['__esModule'])return _0x59cd3a;var _0x3eb1e7={};if(_0x59cd3a!=null){for(var _0x21240d=_0x3036d5(_0x59cd3a),_0x547b59=0x0;_0x547b59<_0x21240d[_0xbdb878(0x1cc)];_0x547b59++)if(_0x21240d[_0x547b59]!==_0xbdb878(0x1a7))__createBinding(_0x3eb1e7,_0x59cd3a,_0x21240d[_0x547b59]);}return __setModuleDefault(_0x3eb1e7,_0x59cd3a),_0x3eb1e7;};}()),__importDefault=this&&this[a39_0x2a1860(0x1c8)]||function(_0x134010){const _0x2aade9=a39_0x2a1860;return _0x134010&&_0x134010[_0x2aade9(0x1d3)]?_0x134010:{'default':_0x134010};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a39_0x2a1860(0x1ca)]=exports[a39_0x2a1860(0x1a5)]=exports['update']=exports[a39_0x2a1860(0x1da)]=exports[a39_0x2a1860(0x1c4)]=exports[a39_0x2a1860(0x1d8)]=exports['index']=void 0x0;function a39_0x2e83(){const _0xd961c1=['call','__importStar','__createBinding','profile','../services/TicketNoteService/CreateTicketNoteService','json','update','424rUjLXD','32724rjkXxP','2037100MkyzAt','message','store','../services/TicketNoteService/FindNotesByContactIdAndTicketId','4DBhGaS','../services/TicketNoteService/DeleteTicketNoteService','__importDefault','hasOwnProperty','findFilteredList','query','length','object','string','1870815LMeQno','writable','685GKHNsa','defineProperty','__esModule','validate','Observação\x20removida','1301544CzbxtN','../services/TicketNoteService/ShowTicketNoteService','list','params','show','(((.+)+)+)+$','6896386LTBthf','../services/TicketNoteService/UpdateTicketNoteService','../errors/AppError','body','configurable','user','search','remove','739542eePMDw','default','getOwnPropertyNames','index','create','../services/TicketNoteService/FindAllTicketNotesService','parseInt','getOwnPropertyDescriptor','admin','required','55701CkhNlC','get','286IoDIIp','ERR_NO_PERMISSION','yup','toString','constructor','shape','status'];a39_0x2e83=function(){return _0xd961c1;};return a39_0x2e83();}const Yup=__importStar(require(a39_0x2a1860(0x1b4))),AppError_1=__importDefault(require(a39_0x2a1860(0x1de))),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a39_0x2a1860(0x1bd))),UpdateTicketNoteService_1=__importDefault(require(a39_0x2a1860(0x1dd))),ShowTicketNoteService_1=__importDefault(require(a39_0x2a1860(0x1d7))),FindAllTicketNotesService_1=__importDefault(require(a39_0x2a1860(0x1ab))),DeleteTicketNoteService_1=__importDefault(require(a39_0x2a1860(0x1c7))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a39_0x2a1860(0x1c5))),index=async(_0x2c91a4,_0xa96ff9)=>{const _0x5dcedf=a39_0x2a1860,{searchParam:_0x28602e,pageNumber:_0x2f8499}=_0x2c91a4[_0x5dcedf(0x1cb)],{ticketNotes:_0x7447f8,count:_0x496be5,hasMore:_0x553d99}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x28602e,'pageNumber':_0x2f8499});return _0xa96ff9[_0x5dcedf(0x1be)]({'ticketNotes':_0x7447f8,'count':_0x496be5,'hasMore':_0x553d99});};exports[a39_0x2a1860(0x1a9)]=index;const list=async(_0xff6c98,_0x3b8694)=>{const _0x234054=a39_0x2a1860,_0x44ac3e=await(0x0,FindAllTicketNotesService_1[_0x234054(0x1a7)])();return _0x3b8694[_0x234054(0x1b8)](0xc8)['json'](_0x44ac3e);};exports[a39_0x2a1860(0x1d8)]=list;const store=async(_0x1c4517,_0x1da8e0)=>{const _0x448579=a39_0x2a1860,_0xe20739=_0x1c4517[_0x448579(0x1df)],{id:_0x4e5138}=_0x1c4517[_0x448579(0x1e1)],_0x2e18b5=Yup[_0x448579(0x1cd)]()[_0x448579(0x1b7)]({'note':Yup[_0x448579(0x1ce)]()[_0x448579(0x1af)]()});try{await _0x2e18b5[_0x448579(0x1d4)](_0xe20739);}catch(_0x190fea){throw new AppError_1[(_0x448579(0x1a7))](_0x190fea[_0x448579(0x1c3)]);}const _0x245e00=await(0x0,CreateTicketNoteService_1[_0x448579(0x1a7)])({..._0xe20739,'userId':Number[_0x448579(0x1ac)](_0x4e5138,0xa)});return _0x1da8e0['status'](0xc8)[_0x448579(0x1be)](_0x245e00);};exports[a39_0x2a1860(0x1c4)]=store;const show=async(_0x8a79eb,_0x142a88)=>{const {id:_0x2d73be}=_0x8a79eb['params'],_0x191cd1=await(0x0,ShowTicketNoteService_1['default'])(_0x2d73be);return _0x142a88['status'](0xc8)['json'](_0x191cd1);};exports[a39_0x2a1860(0x1da)]=show;const update=async(_0x289be3,_0x13ed97)=>{const _0x21978c=a39_0x2a1860,_0x158291=_0x289be3[_0x21978c(0x1df)],_0x38a787=Yup['object']()['shape']({'note':Yup[_0x21978c(0x1ce)]()});try{await _0x38a787[_0x21978c(0x1d4)](_0x158291);}catch(_0x2450ec){throw new AppError_1[(_0x21978c(0x1a7))](_0x2450ec[_0x21978c(0x1c3)]);}const _0x376305=await(0x0,UpdateTicketNoteService_1[_0x21978c(0x1a7)])(_0x158291);return _0x13ed97[_0x21978c(0x1b8)](0xc8)[_0x21978c(0x1be)](_0x376305);};exports[a39_0x2a1860(0x1bf)]=update;function a39_0x7635(_0x1efb60,_0x17a6e4){const _0x3ef6c7=a39_0x2e83();return a39_0x7635=function(_0x4dd29a,_0x4533b4){_0x4dd29a=_0x4dd29a-0x1a5;let _0x2e8360=_0x3ef6c7[_0x4dd29a];return _0x2e8360;},a39_0x7635(_0x1efb60,_0x17a6e4);}const remove=async(_0x44da63,_0x5c2374)=>{const _0x41a0e6=a39_0x2a1860,{id:_0x18d004}=_0x44da63[_0x41a0e6(0x1d9)];if(_0x44da63[_0x41a0e6(0x1e1)][_0x41a0e6(0x1bc)]!==_0x41a0e6(0x1ae))throw new AppError_1[(_0x41a0e6(0x1a7))](_0x41a0e6(0x1b3),0x193);return await(0x0,DeleteTicketNoteService_1[_0x41a0e6(0x1a7)])(_0x18d004),_0x5c2374[_0x41a0e6(0x1b8)](0xc8)[_0x41a0e6(0x1be)]({'message':_0x41a0e6(0x1d5)});};exports[a39_0x2a1860(0x1a5)]=remove;const findFilteredList=async(_0x4cd1cf,_0x16832b)=>{const _0x1ae7df=a39_0x2a1860;try{const {contactId:_0x3baadf,ticketId:_0x2939f0}=_0x4cd1cf[_0x1ae7df(0x1cb)],_0x382e54=await(0x0,FindNotesByContactIdAndTicketId_1[_0x1ae7df(0x1a7)])({'contactId':_0x3baadf,'ticketId':_0x2939f0});return _0x16832b[_0x1ae7df(0x1b8)](0xc8)[_0x1ae7df(0x1be)](_0x382e54);}catch(_0x401ec5){return _0x16832b[_0x1ae7df(0x1b8)](0x1f4)[_0x1ae7df(0x1be)]({'message':_0x401ec5});}};exports[a39_0x2a1860(0x1ca)]=findFilteredList;