const a41_0x3ffa43=a41_0x4d4b;(function(_0x3d8e96,_0x476762){const _0x42460e=a41_0x4d4b,_0x150b40=_0x3d8e96();while(!![]){try{const _0x3d01ac=parseInt(_0x42460e(0xd5))/0x1+parseInt(_0x42460e(0x104))/0x2+parseInt(_0x42460e(0xfc))/0x3*(-parseInt(_0x42460e(0xdc))/0x4)+-parseInt(_0x42460e(0x100))/0x5*(-parseInt(_0x42460e(0xea))/0x6)+parseInt(_0x42460e(0x102))/0x7+parseInt(_0x42460e(0xee))/0x8+parseInt(_0x42460e(0x105))/0x9*(-parseInt(_0x42460e(0xf1))/0xa);if(_0x3d01ac===_0x476762)break;else _0x150b40['push'](_0x150b40['shift']());}catch(_0x2911db){_0x150b40['push'](_0x150b40['shift']());}}}(a41_0x5278,0x249de));function a41_0x4d4b(_0xe0d79,_0x346754){const _0x165bbb=a41_0x5278();return a41_0x4d4b=function(_0x28ce81,_0x51dec9){_0x28ce81=_0x28ce81-0xd3;let _0x5278bb=_0x165bbb[_0x28ce81];return _0x5278bb;},a41_0x4d4b(_0xe0d79,_0x346754);}const a41_0x51dec9=(function(){let _0x1a07db=!![];return function(_0x173a9f,_0x368b4b){const _0x2461b1=_0x1a07db?function(){const _0x4aa85e=a41_0x4d4b;if(_0x368b4b){const _0x3e2d48=_0x368b4b[_0x4aa85e(0xe7)](_0x173a9f,arguments);return _0x368b4b=null,_0x3e2d48;}}:function(){};return _0x1a07db=![],_0x2461b1;};}()),a41_0x28ce81=a41_0x51dec9(this,function(){const _0xfcc2c6=a41_0x4d4b;return a41_0x28ce81[_0xfcc2c6(0xf6)]()[_0xfcc2c6(0xd4)]('(((.+)+)+)+$')[_0xfcc2c6(0xf6)]()['constructor'](a41_0x28ce81)['search'](_0xfcc2c6(0xe6));});a41_0x28ce81();'use strict';var __createBinding=this&&this[a41_0x3ffa43(0xe9)]||(Object['create']?function(_0x3f44d0,_0x4e0b02,_0x3d0cfe,_0x462447){const _0x50eaf1=a41_0x3ffa43;if(_0x462447===undefined)_0x462447=_0x3d0cfe;var _0xb33c5f=Object['getOwnPropertyDescriptor'](_0x4e0b02,_0x3d0cfe);(!_0xb33c5f||(_0x50eaf1(0xf7)in _0xb33c5f?!_0x4e0b02[_0x50eaf1(0xdb)]:_0xb33c5f[_0x50eaf1(0xe2)]||_0xb33c5f[_0x50eaf1(0xf3)]))&&(_0xb33c5f={'enumerable':!![],'get':function(){return _0x4e0b02[_0x3d0cfe];}}),Object[_0x50eaf1(0xfd)](_0x3f44d0,_0x462447,_0xb33c5f);}:function(_0x2e0d9f,_0x410be0,_0x354621,_0x1aa540){if(_0x1aa540===undefined)_0x1aa540=_0x354621;_0x2e0d9f[_0x1aa540]=_0x410be0[_0x354621];}),__setModuleDefault=this&&this[a41_0x3ffa43(0xd3)]||(Object['create']?function(_0x1ce26c,_0x514039){const _0x17a2c1=a41_0x3ffa43;Object[_0x17a2c1(0xfd)](_0x1ce26c,_0x17a2c1(0xfa),{'enumerable':!![],'value':_0x514039});}:function(_0x39740c,_0x5b5c21){const _0x583fe2=a41_0x3ffa43;_0x39740c[_0x583fe2(0xfa)]=_0x5b5c21;}),__importStar=this&&this[a41_0x3ffa43(0xeb)]||function(_0x25c646){const _0x1b6d00=a41_0x3ffa43;if(_0x25c646&&_0x25c646['__esModule'])return _0x25c646;var _0x598430={};if(_0x25c646!=null){for(var _0x2a5f48 in _0x25c646)if(_0x2a5f48!==_0x1b6d00(0xfa)&&Object['prototype']['hasOwnProperty'][_0x1b6d00(0xe3)](_0x25c646,_0x2a5f48))__createBinding(_0x598430,_0x25c646,_0x2a5f48);}return __setModuleDefault(_0x598430,_0x25c646),_0x598430;},__importDefault=this&&this[a41_0x3ffa43(0xf2)]||function(_0x160d94){return _0x160d94&&_0x160d94['__esModule']?_0x160d94:{'default':_0x160d94};};Object[a41_0x3ffa43(0xfd)](exports,a41_0x3ffa43(0xdb),{'value':!![]}),exports[a41_0x3ffa43(0xe4)]=exports[a41_0x3ffa43(0xd6)]=exports[a41_0x3ffa43(0xef)]=exports[a41_0x3ffa43(0xda)]=exports['store']=exports[a41_0x3ffa43(0xf9)]=exports[a41_0x3ffa43(0xdf)]=void 0x0;const Yup=__importStar(require(a41_0x3ffa43(0xf5))),AppError_1=__importDefault(require(a41_0x3ffa43(0xf8))),ListTicketNotesService_1=__importDefault(require(a41_0x3ffa43(0xfe))),CreateTicketNoteService_1=__importDefault(require(a41_0x3ffa43(0xe1))),UpdateTicketNoteService_1=__importDefault(require(a41_0x3ffa43(0xec))),ShowTicketNoteService_1=__importDefault(require(a41_0x3ffa43(0x108))),FindAllTicketNotesService_1=__importDefault(require(a41_0x3ffa43(0xf0))),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x52606f,_0x1be2b2)=>{const _0x167b6d=a41_0x3ffa43,{searchParam:_0x351c7b,pageNumber:_0x5bd3ff}=_0x52606f[_0x167b6d(0xe5)],{ticketNotes:_0x42c3b7,count:_0x128539,hasMore:_0x1bdff4}=await(0x0,ListTicketNotesService_1[_0x167b6d(0xfa)])({'searchParam':_0x351c7b,'pageNumber':_0x5bd3ff});return _0x1be2b2['json']({'ticketNotes':_0x42c3b7,'count':_0x128539,'hasMore':_0x1bdff4});};exports['index']=index;const list=async(_0x5ee22c,_0x3b4f5b)=>{const _0x51cf9b=a41_0x3ffa43,_0x3c4606=await(0x0,FindAllTicketNotesService_1[_0x51cf9b(0xfa)])();return _0x3b4f5b[_0x51cf9b(0xff)](0xc8)[_0x51cf9b(0x106)](_0x3c4606);};exports[a41_0x3ffa43(0xf9)]=list;const store=async(_0x271f78,_0x5003ed)=>{const _0x30efce=a41_0x3ffa43,_0x16b5a4=_0x271f78['body'],{id:_0x12602f}=_0x271f78[_0x30efce(0xf4)],_0x4b9093=Yup[_0x30efce(0xd7)]()['shape']({'note':Yup[_0x30efce(0xdd)]()[_0x30efce(0xe8)]()});try{await _0x4b9093['validate'](_0x16b5a4);}catch(_0x12bfb2){throw new AppError_1['default'](_0x12bfb2[_0x30efce(0x103)]);}const _0x3479e3=await(0x0,CreateTicketNoteService_1[_0x30efce(0xfa)])({..._0x16b5a4,'userId':_0x12602f});return _0x5003ed[_0x30efce(0xff)](0xc8)['json'](_0x3479e3);};exports[a41_0x3ffa43(0xe0)]=store;const show=async(_0x4fecbb,_0x369972)=>{const _0x134776=a41_0x3ffa43,{id:_0x5797af}=_0x4fecbb[_0x134776(0xde)],_0x58d09a=await(0x0,ShowTicketNoteService_1[_0x134776(0xfa)])(_0x5797af);return _0x369972['status'](0xc8)[_0x134776(0x106)](_0x58d09a);};exports['show']=show;const update=async(_0xb5aa4c,_0x4c56d1)=>{const _0xc91768=a41_0x3ffa43,_0x45a780=_0xb5aa4c[_0xc91768(0x101)],_0x4e6a5c=Yup[_0xc91768(0xd7)]()['shape']({'note':Yup[_0xc91768(0xdd)]()});try{await _0x4e6a5c[_0xc91768(0x107)](_0x45a780);}catch(_0x55bcad){throw new AppError_1[(_0xc91768(0xfa))](_0x55bcad['message']);}const _0x5a6dad=await(0x0,UpdateTicketNoteService_1[_0xc91768(0xfa)])(_0x45a780);return _0x4c56d1[_0xc91768(0xff)](0xc8)[_0xc91768(0x106)](_0x5a6dad);};function a41_0x5278(){const _0x17ffba=['get','../errors/AppError','list','default','ERR_NO_PERMISSION','31227IXlBqo','defineProperty','../services/TicketNoteService/ListTicketNotesService','status','255vYdYQv','body','1263682ZUAVCf','message','144486wZiLYy','462015FDHzSh','json','validate','../services/TicketNoteService/ShowTicketNoteService','__setModuleDefault','search','67753qnbSyk','remove','object','admin','Observação\x20removida','show','__esModule','4pTZAtu','string','params','index','store','../services/TicketNoteService/CreateTicketNoteService','writable','call','findFilteredList','query','(((.+)+)+)+$','apply','required','__createBinding','29754GDVGJS','__importStar','../services/TicketNoteService/UpdateTicketNoteService','profile','1623840PgSlpN','update','../services/TicketNoteService/FindAllTicketNotesService','120YxqcDO','__importDefault','configurable','user','yup','toString'];a41_0x5278=function(){return _0x17ffba;};return a41_0x5278();}exports[a41_0x3ffa43(0xef)]=update;const remove=async(_0x5c4692,_0x4a430c)=>{const _0x3bda0c=a41_0x3ffa43,{id:_0x48a4dd}=_0x5c4692[_0x3bda0c(0xde)];if(_0x5c4692[_0x3bda0c(0xf4)][_0x3bda0c(0xed)]!==_0x3bda0c(0xd8))throw new AppError_1[(_0x3bda0c(0xfa))](_0x3bda0c(0xfb),0x193);return await(0x0,DeleteTicketNoteService_1[_0x3bda0c(0xfa)])(_0x48a4dd),_0x4a430c[_0x3bda0c(0xff)](0xc8)[_0x3bda0c(0x106)]({'message':_0x3bda0c(0xd9)});};exports[a41_0x3ffa43(0xd6)]=remove;const findFilteredList=async(_0x41293b,_0x29e028)=>{const _0x79048e=a41_0x3ffa43;try{const {contactId:_0x59e828,ticketId:_0x202448}=_0x41293b[_0x79048e(0xe5)],_0xaabe67=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x59e828,'ticketId':_0x202448});return _0x29e028[_0x79048e(0xff)](0xc8)[_0x79048e(0x106)](_0xaabe67);}catch(_0x3c1514){return _0x29e028['status'](0x1f4)[_0x79048e(0x106)]({'message':_0x3c1514});}};exports[a41_0x3ffa43(0xe4)]=findFilteredList;