'use strict';const a48_0x7ba0bc=a48_0x46d8;(function(_0x5e0623,_0x1728d9){const _0x242038=a48_0x46d8,_0x35e54c=_0x5e0623();while(!![]){try{const _0x263bb7=parseInt(_0x242038(0x13c))/0x1*(-parseInt(_0x242038(0x12c))/0x2)+parseInt(_0x242038(0x129))/0x3+-parseInt(_0x242038(0x15a))/0x4+parseInt(_0x242038(0x14c))/0x5*(parseInt(_0x242038(0x137))/0x6)+parseInt(_0x242038(0x14d))/0x7+-parseInt(_0x242038(0x12e))/0x8*(-parseInt(_0x242038(0x12a))/0x9)+parseInt(_0x242038(0x140))/0xa*(-parseInt(_0x242038(0x12b))/0xb);if(_0x263bb7===_0x1728d9)break;else _0x35e54c['push'](_0x35e54c['shift']());}catch(_0x5df325){_0x35e54c['push'](_0x35e54c['shift']());}}}(a48_0x212e,0x77c2e));var __createBinding=this&&this[a48_0x7ba0bc(0x127)]||(Object[a48_0x7ba0bc(0x156)]?function(_0x171779,_0x222954,_0x1e28f0,_0x507576){const _0x441e46=a48_0x7ba0bc;if(_0x507576===undefined)_0x507576=_0x1e28f0;var _0x4edd4d=Object['getOwnPropertyDescriptor'](_0x222954,_0x1e28f0);(!_0x4edd4d||(_0x441e46(0x151)in _0x4edd4d?!_0x222954[_0x441e46(0x126)]:_0x4edd4d[_0x441e46(0x153)]||_0x4edd4d[_0x441e46(0x159)]))&&(_0x4edd4d={'enumerable':!![],'get':function(){return _0x222954[_0x1e28f0];}}),Object[_0x441e46(0x145)](_0x171779,_0x507576,_0x4edd4d);}:function(_0xf1343,_0x122296,_0x33cf8d,_0x2b8475){if(_0x2b8475===undefined)_0x2b8475=_0x33cf8d;_0xf1343[_0x2b8475]=_0x122296[_0x33cf8d];}),__setModuleDefault=this&&this[a48_0x7ba0bc(0x149)]||(Object['create']?function(_0x2a1afb,_0x1c1194){const _0x26a25f=a48_0x7ba0bc;Object[_0x26a25f(0x145)](_0x2a1afb,_0x26a25f(0x123),{'enumerable':!![],'value':_0x1c1194});}:function(_0x3171cc,_0xc926c4){const _0x19d9de=a48_0x7ba0bc;_0x3171cc[_0x19d9de(0x123)]=_0xc926c4;}),__importStar=this&&this[a48_0x7ba0bc(0x155)]||(function(){const _0x431b25=(function(){let _0x46d91a=!![];return function(_0x4cc9d2,_0x578cf6){const _0x5aad9b=_0x46d91a?function(){if(_0x578cf6){const _0x5e05e8=_0x578cf6['apply'](_0x4cc9d2,arguments);return _0x578cf6=null,_0x5e05e8;}}:function(){};return _0x46d91a=![],_0x5aad9b;};}()),_0xf23d4e=_0x431b25(this,function(){const _0x911c41=a48_0x46d8;return _0xf23d4e[_0x911c41(0x135)]()[_0x911c41(0x132)](_0x911c41(0x15b))[_0x911c41(0x135)]()[_0x911c41(0x14a)](_0xf23d4e)[_0x911c41(0x132)]('(((.+)+)+)+$');});_0xf23d4e();var _0x419cef=function(_0x363469){const _0x4e929a=a48_0x46d8;return _0x419cef=Object[_0x4e929a(0x146)]||function(_0x2b00cb){const _0x7d08aa=_0x4e929a;var _0x2ac2ff=[];for(var _0x5155ec in _0x2b00cb)if(Object[_0x7d08aa(0x12f)]['hasOwnProperty']['call'](_0x2b00cb,_0x5155ec))_0x2ac2ff[_0x2ac2ff[_0x7d08aa(0x13d)]]=_0x5155ec;return _0x2ac2ff;},_0x419cef(_0x363469);};return function(_0x4b8516){const _0x4ca387=a48_0x46d8;if(_0x4b8516&&_0x4b8516[_0x4ca387(0x126)])return _0x4b8516;var _0x407b62={};if(_0x4b8516!=null){for(var _0x110da0=_0x419cef(_0x4b8516),_0x572121=0x0;_0x572121<_0x110da0[_0x4ca387(0x13d)];_0x572121++)if(_0x110da0[_0x572121]!==_0x4ca387(0x123))__createBinding(_0x407b62,_0x4b8516,_0x110da0[_0x572121]);}return __setModuleDefault(_0x407b62,_0x4b8516),_0x407b62;};}()),__importDefault=this&&this[a48_0x7ba0bc(0x157)]||function(_0x6fa2ce){const _0x5c83ec=a48_0x7ba0bc;return _0x6fa2ce&&_0x6fa2ce[_0x5c83ec(0x126)]?_0x6fa2ce:{'default':_0x6fa2ce};};Object[a48_0x7ba0bc(0x145)](exports,'__esModule',{'value':!![]}),exports[a48_0x7ba0bc(0x141)]=exports[a48_0x7ba0bc(0x136)]=exports[a48_0x7ba0bc(0x148)]=exports['show']=exports[a48_0x7ba0bc(0x125)]=exports[a48_0x7ba0bc(0x128)]=exports[a48_0x7ba0bc(0x152)]=void 0x0;const Yup=__importStar(require(a48_0x7ba0bc(0x147))),AppError_1=__importDefault(require(a48_0x7ba0bc(0x130))),ListTicketNotesService_1=__importDefault(require(a48_0x7ba0bc(0x158))),CreateTicketNoteService_1=__importDefault(require(a48_0x7ba0bc(0x124))),UpdateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/UpdateTicketNoteService')),ShowTicketNoteService_1=__importDefault(require(a48_0x7ba0bc(0x14b))),FindAllTicketNotesService_1=__importDefault(require('../services/TicketNoteService/FindAllTicketNotesService')),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require(a48_0x7ba0bc(0x143))),index=async(_0x3c0af4,_0x494f20)=>{const _0x214e39=a48_0x7ba0bc,{searchParam:_0x11b523,pageNumber:_0x40c77d}=_0x3c0af4[_0x214e39(0x154)],{ticketNotes:_0x13559a,count:_0x6870e6,hasMore:_0x1b15fd}=await(0x0,ListTicketNotesService_1[_0x214e39(0x123)])({'searchParam':_0x11b523,'pageNumber':_0x40c77d});return _0x494f20[_0x214e39(0x12d)]({'ticketNotes':_0x13559a,'count':_0x6870e6,'hasMore':_0x1b15fd});};exports[a48_0x7ba0bc(0x152)]=index;const list=async(_0x35c918,_0x3a8b4c)=>{const _0x5c8c4a=a48_0x7ba0bc,_0x13108a=await(0x0,FindAllTicketNotesService_1[_0x5c8c4a(0x123)])();return _0x3a8b4c[_0x5c8c4a(0x131)](0xc8)[_0x5c8c4a(0x12d)](_0x13108a);};exports[a48_0x7ba0bc(0x128)]=list;function a48_0x46d8(_0x47be91,_0x34afae){const _0x233ca9=a48_0x212e();return a48_0x46d8=function(_0x2753ba,_0x97fee6){_0x2753ba=_0x2753ba-0x123;let _0x212ec0=_0x233ca9[_0x2753ba];return _0x212ec0;},a48_0x46d8(_0x47be91,_0x34afae);}const store=async(_0x5badd4,_0x4a9f40)=>{const _0x4472c1=a48_0x7ba0bc,_0x16d306=_0x5badd4[_0x4472c1(0x13e)],{id:_0xb0f8f8}=_0x5badd4[_0x4472c1(0x13f)],_0x3d9d3d=Yup[_0x4472c1(0x133)]()['shape']({'note':Yup[_0x4472c1(0x134)]()[_0x4472c1(0x13b)]()});try{await _0x3d9d3d[_0x4472c1(0x139)](_0x16d306);}catch(_0x383d9e){throw new AppError_1[(_0x4472c1(0x123))](_0x383d9e[_0x4472c1(0x144)]);}const _0x37d9d9=await(0x0,CreateTicketNoteService_1['default'])({..._0x16d306,'userId':Number[_0x4472c1(0x150)](_0xb0f8f8,0xa)});return _0x4a9f40[_0x4472c1(0x131)](0xc8)['json'](_0x37d9d9);};exports[a48_0x7ba0bc(0x125)]=store;function a48_0x212e(){const _0x42eeb3=['6341125RYqNxt','Observação\x20removida','admin','parseInt','get','index','writable','query','__importStar','create','__importDefault','../services/TicketNoteService/ListTicketNotesService','configurable','2812616orGWis','(((.+)+)+)+$','default','../services/TicketNoteService/CreateTicketNoteService','store','__esModule','__createBinding','list','1897107xdCqaf','1063143PPVSIs','385DXBFMl','26SEWeoP','json','40MagOLh','prototype','../errors/AppError','status','search','object','string','toString','remove','6sYLakt','show','validate','ERR_NO_PERMISSION','required','26855nNkdSm','length','body','user','289410WUCNdy','findFilteredList','params','../services/TicketNoteService/FindNotesByContactIdAndTicketId','message','defineProperty','getOwnPropertyNames','yup','update','__setModuleDefault','constructor','../services/TicketNoteService/ShowTicketNoteService','2134335xwncJH'];a48_0x212e=function(){return _0x42eeb3;};return a48_0x212e();}const show=async(_0xfbd03d,_0x9d52d4)=>{const _0x2e2679=a48_0x7ba0bc,{id:_0xf14891}=_0xfbd03d[_0x2e2679(0x142)],_0x25570a=await(0x0,ShowTicketNoteService_1[_0x2e2679(0x123)])(_0xf14891);return _0x9d52d4['status'](0xc8)[_0x2e2679(0x12d)](_0x25570a);};exports[a48_0x7ba0bc(0x138)]=show;const update=async(_0x1002ba,_0x2cf5a1)=>{const _0x272c71=a48_0x7ba0bc,_0x107375=_0x1002ba[_0x272c71(0x13e)],_0x13a13a=Yup['object']()['shape']({'note':Yup['string']()});try{await _0x13a13a[_0x272c71(0x139)](_0x107375);}catch(_0xc76e1c){throw new AppError_1[(_0x272c71(0x123))](_0xc76e1c[_0x272c71(0x144)]);}const _0x17ec94=await(0x0,UpdateTicketNoteService_1[_0x272c71(0x123)])(_0x107375);return _0x2cf5a1['status'](0xc8)[_0x272c71(0x12d)](_0x17ec94);};exports[a48_0x7ba0bc(0x148)]=update;const remove=async(_0x1b0a89,_0x18d0e0)=>{const _0x46edaf=a48_0x7ba0bc,{id:_0x3c839c}=_0x1b0a89['params'];if(_0x1b0a89['user']['profile']!==_0x46edaf(0x14f))throw new AppError_1['default'](_0x46edaf(0x13a),0x193);return await(0x0,DeleteTicketNoteService_1[_0x46edaf(0x123)])(_0x3c839c),_0x18d0e0[_0x46edaf(0x131)](0xc8)[_0x46edaf(0x12d)]({'message':_0x46edaf(0x14e)});};exports[a48_0x7ba0bc(0x136)]=remove;const findFilteredList=async(_0x185eb4,_0x90632c)=>{const _0x1a8104=a48_0x7ba0bc;try{const {contactId:_0x1d2b2d,ticketId:_0x5a1c1d}=_0x185eb4[_0x1a8104(0x154)],_0x3a727a=await(0x0,FindNotesByContactIdAndTicketId_1[_0x1a8104(0x123)])({'contactId':_0x1d2b2d,'ticketId':_0x5a1c1d});return _0x90632c[_0x1a8104(0x131)](0xc8)[_0x1a8104(0x12d)](_0x3a727a);}catch(_0x2aa2e3){return _0x90632c[_0x1a8104(0x131)](0x1f4)['json']({'message':_0x2aa2e3});}};exports['findFilteredList']=findFilteredList;