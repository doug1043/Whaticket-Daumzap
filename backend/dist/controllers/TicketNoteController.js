'use strict';const a39_0x145832=a39_0x1ce0;function a39_0x4082(){const _0x4c1e4a=['show','get','../services/TicketNoteService/UpdateTicketNoteService','12985029CZjigk','length','49339360pfnlMe','hasOwnProperty','../services/TicketNoteService/FindAllTicketNotesService','__createBinding','../services/TicketNoteService/DeleteTicketNoteService','required','message','parseInt','index','67480tIhkrN','findFilteredList','__esModule','../services/TicketNoteService/FindNotesByContactIdAndTicketId','search','store','Observação\x20removida','prototype','586187dfktzD','admin','ERR_NO_PERMISSION','56bCRNgx','body','status','../services/TicketNoteService/ListTicketNotesService','params','5RIWQBR','create','object','5321742imPVut','yup','query','defineProperty','../services/TicketNoteService/ShowTicketNoteService','__importDefault','list','configurable','1871277PmlwGC','apply','update','toString','__importStar','profile','shape','6MPxkXa','681536bfmyAa','constructor','../services/TicketNoteService/CreateTicketNoteService','getOwnPropertyDescriptor','user','remove','(((.+)+)+)+$','string','call','validate','default','json'];a39_0x4082=function(){return _0x4c1e4a;};return a39_0x4082();}(function(_0x1d87df,_0x381052){const _0x273d05=a39_0x1ce0,_0x4fb38a=_0x1d87df();while(!![]){try{const _0x171ebc=-parseInt(_0x273d05(0x121))/0x1+-parseInt(_0x273d05(0x129))/0x2+-parseInt(_0x273d05(0x128))/0x3*(parseInt(_0x273d05(0x106))/0x4)+-parseInt(_0x273d05(0x116))/0x5*(parseInt(_0x273d05(0x119))/0x6)+parseInt(_0x273d05(0x10e))/0x7*(parseInt(_0x273d05(0x111))/0x8)+-parseInt(_0x273d05(0xfb))/0x9+parseInt(_0x273d05(0xfd))/0xa;if(_0x171ebc===_0x381052)break;else _0x4fb38a['push'](_0x4fb38a['shift']());}catch(_0x2464a3){_0x4fb38a['push'](_0x4fb38a['shift']());}}}(a39_0x4082,0xe69d8));var __createBinding=this&&this[a39_0x145832(0x100)]||(Object[a39_0x145832(0x117)]?function(_0x40c2a2,_0x3a3c87,_0x43d97d,_0x117693){const _0x1a6955=a39_0x145832;if(_0x117693===undefined)_0x117693=_0x43d97d;var _0x407df8=Object[_0x1a6955(0x12c)](_0x3a3c87,_0x43d97d);(!_0x407df8||(_0x1a6955(0xf9)in _0x407df8?!_0x3a3c87[_0x1a6955(0x108)]:_0x407df8['writable']||_0x407df8[_0x1a6955(0x120)]))&&(_0x407df8={'enumerable':!![],'get':function(){return _0x3a3c87[_0x43d97d];}}),Object[_0x1a6955(0x11c)](_0x40c2a2,_0x117693,_0x407df8);}:function(_0x2865d6,_0x4fa3de,_0x4be4aa,_0x564c3b){if(_0x564c3b===undefined)_0x564c3b=_0x4be4aa;_0x2865d6[_0x564c3b]=_0x4fa3de[_0x4be4aa];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a39_0x145832(0x117)]?function(_0x5e34fe,_0x44ad56){const _0x25f05a=a39_0x145832;Object[_0x25f05a(0x11c)](_0x5e34fe,_0x25f05a(0x133),{'enumerable':!![],'value':_0x44ad56});}:function(_0x34b906,_0x34f14b){const _0xb45a9b=a39_0x145832;_0x34b906[_0xb45a9b(0x133)]=_0x34f14b;}),__importStar=this&&this[a39_0x145832(0x125)]||(function(){const _0x11a98d=(function(){let _0x156a60=!![];return function(_0x1757b3,_0x6a163e){const _0x1cdb05=_0x156a60?function(){const _0x19b627=a39_0x1ce0;if(_0x6a163e){const _0xa6dd4c=_0x6a163e[_0x19b627(0x122)](_0x1757b3,arguments);return _0x6a163e=null,_0xa6dd4c;}}:function(){};return _0x156a60=![],_0x1cdb05;};}()),_0x442eb4=_0x11a98d(this,function(){const _0x55f567=a39_0x1ce0;return _0x442eb4[_0x55f567(0x124)]()[_0x55f567(0x10a)](_0x55f567(0x12f))['toString']()[_0x55f567(0x12a)](_0x442eb4)[_0x55f567(0x10a)]('(((.+)+)+)+$');});_0x442eb4();var _0xe78c3e=function(_0x4e13f2){return _0xe78c3e=Object['getOwnPropertyNames']||function(_0x4b564e){const _0x134dec=a39_0x1ce0;var _0x183d92=[];for(var _0x23ecaf in _0x4b564e)if(Object[_0x134dec(0x10d)][_0x134dec(0xfe)][_0x134dec(0x131)](_0x4b564e,_0x23ecaf))_0x183d92[_0x183d92[_0x134dec(0xfc)]]=_0x23ecaf;return _0x183d92;},_0xe78c3e(_0x4e13f2);};return function(_0x3b8520){const _0xf0b8b2=a39_0x1ce0;if(_0x3b8520&&_0x3b8520['__esModule'])return _0x3b8520;var _0x1fdc2a={};if(_0x3b8520!=null){for(var _0x1997a5=_0xe78c3e(_0x3b8520),_0x2d6382=0x0;_0x2d6382<_0x1997a5[_0xf0b8b2(0xfc)];_0x2d6382++)if(_0x1997a5[_0x2d6382]!==_0xf0b8b2(0x133))__createBinding(_0x1fdc2a,_0x3b8520,_0x1997a5[_0x2d6382]);}return __setModuleDefault(_0x1fdc2a,_0x3b8520),_0x1fdc2a;};}()),__importDefault=this&&this[a39_0x145832(0x11e)]||function(_0x1d295e){const _0x392d00=a39_0x145832;return _0x1d295e&&_0x1d295e[_0x392d00(0x108)]?_0x1d295e:{'default':_0x1d295e};};Object[a39_0x145832(0x11c)](exports,'__esModule',{'value':!![]}),exports['findFilteredList']=exports[a39_0x145832(0x12e)]=exports['update']=exports[a39_0x145832(0x135)]=exports[a39_0x145832(0x10b)]=exports[a39_0x145832(0x11f)]=exports[a39_0x145832(0x105)]=void 0x0;const Yup=__importStar(require(a39_0x145832(0x11a))),AppError_1=__importDefault(require('../errors/AppError')),ListTicketNotesService_1=__importDefault(require(a39_0x145832(0x114))),CreateTicketNoteService_1=__importDefault(require(a39_0x145832(0x12b))),UpdateTicketNoteService_1=__importDefault(require(a39_0x145832(0xfa))),ShowTicketNoteService_1=__importDefault(require(a39_0x145832(0x11d))),FindAllTicketNotesService_1=__importDefault(require(a39_0x145832(0xff))),DeleteTicketNoteService_1=__importDefault(require(a39_0x145832(0x101))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a39_0x145832(0x109))),index=async(_0x1488ee,_0x6a4e7f)=>{const _0x4f1e8c=a39_0x145832,{searchParam:_0x26a86a,pageNumber:_0x1c5c74}=_0x1488ee[_0x4f1e8c(0x11b)],{ticketNotes:_0x7dd6dd,count:_0x536063,hasMore:_0x8e693f}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x26a86a,'pageNumber':_0x1c5c74});return _0x6a4e7f['json']({'ticketNotes':_0x7dd6dd,'count':_0x536063,'hasMore':_0x8e693f});};exports['index']=index;const list=async(_0x18a9d0,_0x5666f2)=>{const _0x5026e4=a39_0x145832,_0x37354a=await(0x0,FindAllTicketNotesService_1[_0x5026e4(0x133)])();return _0x5666f2[_0x5026e4(0x113)](0xc8)[_0x5026e4(0x134)](_0x37354a);};exports[a39_0x145832(0x11f)]=list;const store=async(_0x596738,_0x7914c2)=>{const _0xa4891a=a39_0x145832,_0x1aa6c6=_0x596738[_0xa4891a(0x112)],{id:_0x1d8860}=_0x596738[_0xa4891a(0x12d)],_0x502852=Yup[_0xa4891a(0x118)]()['shape']({'note':Yup[_0xa4891a(0x130)]()[_0xa4891a(0x102)]()});try{await _0x502852[_0xa4891a(0x132)](_0x1aa6c6);}catch(_0x521e67){throw new AppError_1['default'](_0x521e67['message']);}const _0x1e95ce=await(0x0,CreateTicketNoteService_1[_0xa4891a(0x133)])({..._0x1aa6c6,'userId':Number[_0xa4891a(0x104)](_0x1d8860,0xa)});return _0x7914c2[_0xa4891a(0x113)](0xc8)[_0xa4891a(0x134)](_0x1e95ce);};function a39_0x1ce0(_0x73739a,_0x302d1f){const _0x3237d4=a39_0x4082();return a39_0x1ce0=function(_0xc7ddb1,_0x28560a){_0xc7ddb1=_0xc7ddb1-0xf9;let _0x4082d6=_0x3237d4[_0xc7ddb1];return _0x4082d6;},a39_0x1ce0(_0x73739a,_0x302d1f);}exports['store']=store;const show=async(_0x57785a,_0x12f4e9)=>{const _0x520d74=a39_0x145832,{id:_0x52a3e1}=_0x57785a[_0x520d74(0x115)],_0x56e255=await(0x0,ShowTicketNoteService_1[_0x520d74(0x133)])(_0x52a3e1);return _0x12f4e9['status'](0xc8)[_0x520d74(0x134)](_0x56e255);};exports[a39_0x145832(0x135)]=show;const update=async(_0x139d64,_0x13e9d5)=>{const _0x5279e8=a39_0x145832,_0x47f6ed=_0x139d64[_0x5279e8(0x112)],_0x96b5da=Yup[_0x5279e8(0x118)]()[_0x5279e8(0x127)]({'note':Yup['string']()});try{await _0x96b5da[_0x5279e8(0x132)](_0x47f6ed);}catch(_0x3bf7c7){throw new AppError_1['default'](_0x3bf7c7[_0x5279e8(0x103)]);}const _0xb83400=await(0x0,UpdateTicketNoteService_1[_0x5279e8(0x133)])(_0x47f6ed);return _0x13e9d5[_0x5279e8(0x113)](0xc8)[_0x5279e8(0x134)](_0xb83400);};exports[a39_0x145832(0x123)]=update;const remove=async(_0x1a0a42,_0x35bbed)=>{const _0x345afe=a39_0x145832,{id:_0x488996}=_0x1a0a42[_0x345afe(0x115)];if(_0x1a0a42['user'][_0x345afe(0x126)]!==_0x345afe(0x10f))throw new AppError_1['default'](_0x345afe(0x110),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x488996),_0x35bbed['status'](0xc8)[_0x345afe(0x134)]({'message':_0x345afe(0x10c)});};exports[a39_0x145832(0x12e)]=remove;const findFilteredList=async(_0x429ab5,_0x4a7396)=>{const _0x24fcb7=a39_0x145832;try{const {contactId:_0x4fd4be,ticketId:_0x3dab72}=_0x429ab5[_0x24fcb7(0x11b)],_0x4c4df0=await(0x0,FindNotesByContactIdAndTicketId_1[_0x24fcb7(0x133)])({'contactId':_0x4fd4be,'ticketId':_0x3dab72});return _0x4a7396[_0x24fcb7(0x113)](0xc8)[_0x24fcb7(0x134)](_0x4c4df0);}catch(_0x4cdd04){return _0x4a7396[_0x24fcb7(0x113)](0x1f4)[_0x24fcb7(0x134)]({'message':_0x4cdd04});}};exports[a39_0x145832(0x107)]=findFilteredList;