const a41_0x10caf9=a41_0x40f1;(function(_0x1f9619,_0x4e442e){const _0x5d09ff=a41_0x40f1,_0x4796e1=_0x1f9619();while(!![]){try{const _0x4967be=-parseInt(_0x5d09ff(0xa7))/0x1+-parseInt(_0x5d09ff(0xa4))/0x2*(-parseInt(_0x5d09ff(0xa2))/0x3)+-parseInt(_0x5d09ff(0x8f))/0x4+-parseInt(_0x5d09ff(0x9c))/0x5*(-parseInt(_0x5d09ff(0xc1))/0x6)+parseInt(_0x5d09ff(0xbd))/0x7*(-parseInt(_0x5d09ff(0xaf))/0x8)+-parseInt(_0x5d09ff(0xc0))/0x9*(parseInt(_0x5d09ff(0x96))/0xa)+-parseInt(_0x5d09ff(0x97))/0xb*(-parseInt(_0x5d09ff(0xa5))/0xc);if(_0x4967be===_0x4e442e)break;else _0x4796e1['push'](_0x4796e1['shift']());}catch(_0x43af89){_0x4796e1['push'](_0x4796e1['shift']());}}}(a41_0x4f0b,0x8596a));const a41_0x5d73bf=(function(){let _0xd193e2=!![];return function(_0x13eb82,_0x34374b){const _0xd1d354=_0xd193e2?function(){const _0x17fa54=a41_0x40f1;if(_0x34374b){const _0x588cc3=_0x34374b[_0x17fa54(0xaa)](_0x13eb82,arguments);return _0x34374b=null,_0x588cc3;}}:function(){};return _0xd193e2=![],_0xd1d354;};}()),a41_0x8e543e=a41_0x5d73bf(this,function(){const _0x4f43d3=a41_0x40f1;return a41_0x8e543e[_0x4f43d3(0xb2)]()[_0x4f43d3(0xb8)]('(((.+)+)+)+$')[_0x4f43d3(0xb2)]()[_0x4f43d3(0x90)](a41_0x8e543e)[_0x4f43d3(0xb8)](_0x4f43d3(0x9a));});a41_0x8e543e();'use strict';var __createBinding=this&&this[a41_0x10caf9(0xb4)]||(Object[a41_0x10caf9(0xbb)]?function(_0x56963e,_0x33a258,_0x5e584d,_0x21ec03){const _0x4b97bc=a41_0x10caf9;if(_0x21ec03===undefined)_0x21ec03=_0x5e584d;var _0xcf3e28=Object[_0x4b97bc(0xa9)](_0x33a258,_0x5e584d);(!_0xcf3e28||(_0x4b97bc(0xb9)in _0xcf3e28?!_0x33a258['__esModule']:_0xcf3e28['writable']||_0xcf3e28[_0x4b97bc(0x8e)]))&&(_0xcf3e28={'enumerable':!![],'get':function(){return _0x33a258[_0x5e584d];}}),Object['defineProperty'](_0x56963e,_0x21ec03,_0xcf3e28);}:function(_0x5c333f,_0x2bf6aa,_0xb42c67,_0x28b642){if(_0x28b642===undefined)_0x28b642=_0xb42c67;_0x5c333f[_0x28b642]=_0x2bf6aa[_0xb42c67];}),__setModuleDefault=this&&this[a41_0x10caf9(0xac)]||(Object[a41_0x10caf9(0xbb)]?function(_0x70005e,_0x23f6cc){const _0x5451b3=a41_0x10caf9;Object[_0x5451b3(0x9f)](_0x70005e,'default',{'enumerable':!![],'value':_0x23f6cc});}:function(_0x1207c6,_0x33c46d){_0x1207c6['default']=_0x33c46d;}),__importStar=this&&this[a41_0x10caf9(0xc2)]||function(_0x43f592){const _0xb5b2c3=a41_0x10caf9;if(_0x43f592&&_0x43f592['__esModule'])return _0x43f592;var _0x2c6aa3={};if(_0x43f592!=null){for(var _0x1c74d9 in _0x43f592)if(_0x1c74d9!=='default'&&Object[_0xb5b2c3(0xa3)][_0xb5b2c3(0xae)][_0xb5b2c3(0xbc)](_0x43f592,_0x1c74d9))__createBinding(_0x2c6aa3,_0x43f592,_0x1c74d9);}return __setModuleDefault(_0x2c6aa3,_0x43f592),_0x2c6aa3;},__importDefault=this&&this['__importDefault']||function(_0x1e9bb3){const _0x4229a4=a41_0x10caf9;return _0x1e9bb3&&_0x1e9bb3[_0x4229a4(0xba)]?_0x1e9bb3:{'default':_0x1e9bb3};};Object[a41_0x10caf9(0x9f)](exports,a41_0x10caf9(0xba),{'value':!![]}),exports[a41_0x10caf9(0xc3)]=exports[a41_0x10caf9(0x99)]=exports[a41_0x10caf9(0x98)]=exports[a41_0x10caf9(0x91)]=exports[a41_0x10caf9(0x94)]=exports[a41_0x10caf9(0xa6)]=exports['index']=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a41_0x10caf9(0xbf))),ListTicketNotesService_1=__importDefault(require(a41_0x10caf9(0x93))),CreateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/CreateTicketNoteService')),UpdateTicketNoteService_1=__importDefault(require(a41_0x10caf9(0xa1))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require('../services/TicketNoteService/FindAllTicketNotesService')),DeleteTicketNoteService_1=__importDefault(require(a41_0x10caf9(0x9e))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x10caf9(0xb3))),index=async(_0x78372e,_0x2b5d36)=>{const _0x57e19e=a41_0x10caf9,{searchParam:_0x34613f,pageNumber:_0x1f5333}=_0x78372e[_0x57e19e(0xbe)],{ticketNotes:_0x521c85,count:_0x1aea3b,hasMore:_0x3a2004}=await(0x0,ListTicketNotesService_1[_0x57e19e(0xa0)])({'searchParam':_0x34613f,'pageNumber':_0x1f5333});return _0x2b5d36[_0x57e19e(0xb5)]({'ticketNotes':_0x521c85,'count':_0x1aea3b,'hasMore':_0x3a2004});};exports[a41_0x10caf9(0xad)]=index;const list=async(_0x431c13,_0x2b2774)=>{const _0x44eb6c=a41_0x10caf9,_0x591bd2=await(0x0,FindAllTicketNotesService_1['default'])();return _0x2b2774['status'](0xc8)[_0x44eb6c(0xb5)](_0x591bd2);};exports[a41_0x10caf9(0xa6)]=list;const store=async(_0x19f8dc,_0xe87660)=>{const _0x39bdea=a41_0x10caf9,_0xb9552d=_0x19f8dc[_0x39bdea(0x9b)],{id:_0x7939b2}=_0x19f8dc[_0x39bdea(0xb6)],_0x1da0f1=Yup[_0x39bdea(0xa8)]()[_0x39bdea(0x8d)]({'note':Yup[_0x39bdea(0x9d)]()[_0x39bdea(0xab)]()});try{await _0x1da0f1[_0x39bdea(0x92)](_0xb9552d);}catch(_0x5295a5){throw new AppError_1[(_0x39bdea(0xa0))](_0x5295a5[_0x39bdea(0x8c)]);}const _0x21502f=await(0x0,CreateTicketNoteService_1[_0x39bdea(0xa0)])({..._0xb9552d,'userId':_0x7939b2});return _0xe87660[_0x39bdea(0xb1)](0xc8)[_0x39bdea(0xb5)](_0x21502f);};function a41_0x4f0b(){const _0x2dd9ce=['defineProperty','default','../services/TicketNoteService/UpdateTicketNoteService','33wOLNSJ','prototype','70942znAnlT','2187708xRuLrk','list','87401OporZY','object','getOwnPropertyDescriptor','apply','required','__setModuleDefault','index','hasOwnProperty','83472FUZAHo','admin','status','toString','../services/TicketNoteService/FindNotesByContactIdAndTicketId','__createBinding','json','user','params','search','get','__esModule','create','call','14NCXiEX','query','../errors/AppError','1899tlGzNi','1079538RKcyEJ','__importStar','findFilteredList','message','shape','configurable','55168DIYEID','constructor','show','validate','../services/TicketNoteService/ListTicketNotesService','store','ERR_NO_PERMISSION','47030fqpGkB','55ulZnMX','update','remove','(((.+)+)+)+$','body','10eAJBby','string','../services/TicketNoteService/DeleteTicketNoteService'];a41_0x4f0b=function(){return _0x2dd9ce;};return a41_0x4f0b();}exports['store']=store;const show=async(_0x2ad017,_0x4ffeeb)=>{const _0x5b91a5=a41_0x10caf9,{id:_0x1ba283}=_0x2ad017[_0x5b91a5(0xb7)],_0x1e9c9e=await(0x0,ShowTicketNoteService_1['default'])(_0x1ba283);return _0x4ffeeb[_0x5b91a5(0xb1)](0xc8)['json'](_0x1e9c9e);};function a41_0x40f1(_0x5845ec,_0x386794){const _0x427cb4=a41_0x4f0b();return a41_0x40f1=function(_0x8e543e,_0x5d73bf){_0x8e543e=_0x8e543e-0x8c;let _0x4f0b0e=_0x427cb4[_0x8e543e];return _0x4f0b0e;},a41_0x40f1(_0x5845ec,_0x386794);}exports[a41_0x10caf9(0x91)]=show;const update=async(_0x2fdc18,_0x2bf50c)=>{const _0x5b4e19=a41_0x10caf9,_0x12bad8=_0x2fdc18[_0x5b4e19(0x9b)],_0x3f1a4c=Yup[_0x5b4e19(0xa8)]()['shape']({'note':Yup[_0x5b4e19(0x9d)]()});try{await _0x3f1a4c['validate'](_0x12bad8);}catch(_0x383abc){throw new AppError_1[(_0x5b4e19(0xa0))](_0x383abc[_0x5b4e19(0x8c)]);}const _0x15b539=await(0x0,UpdateTicketNoteService_1[_0x5b4e19(0xa0)])(_0x12bad8);return _0x2bf50c[_0x5b4e19(0xb1)](0xc8)[_0x5b4e19(0xb5)](_0x15b539);};exports[a41_0x10caf9(0x98)]=update;const remove=async(_0x38706c,_0x48558c)=>{const _0x15d18a=a41_0x10caf9,{id:_0x9b64b8}=_0x38706c[_0x15d18a(0xb7)];if(_0x38706c[_0x15d18a(0xb6)]['profile']!==_0x15d18a(0xb0))throw new AppError_1['default'](_0x15d18a(0x95),0x193);return await(0x0,DeleteTicketNoteService_1[_0x15d18a(0xa0)])(_0x9b64b8),_0x48558c['status'](0xc8)[_0x15d18a(0xb5)]({'message':'Observação\x20removida'});};exports[a41_0x10caf9(0x99)]=remove;const findFilteredList=async(_0x343913,_0x481fd4)=>{const _0x3eb875=a41_0x10caf9;try{const {contactId:_0x383725,ticketId:_0x975ac1}=_0x343913[_0x3eb875(0xbe)],_0x319e1b=await(0x0,FindNotesByContactIdAndTicketId_1[_0x3eb875(0xa0)])({'contactId':_0x383725,'ticketId':_0x975ac1});return _0x481fd4[_0x3eb875(0xb1)](0xc8)['json'](_0x319e1b);}catch(_0x40c939){return _0x481fd4[_0x3eb875(0xb1)](0x1f4)[_0x3eb875(0xb5)]({'message':_0x40c939});}};exports['findFilteredList']=findFilteredList;