const a40_0x4e3508=a40_0x590c;(function(_0x50e26c,_0x272ae8){const _0x3242f9=a40_0x590c,_0xfa69=_0x50e26c();while(!![]){try{const _0x42d9ce=parseInt(_0x3242f9(0x178))/0x1*(-parseInt(_0x3242f9(0x165))/0x2)+-parseInt(_0x3242f9(0x163))/0x3+-parseInt(_0x3242f9(0x162))/0x4*(parseInt(_0x3242f9(0x172))/0x5)+parseInt(_0x3242f9(0x16f))/0x6+-parseInt(_0x3242f9(0x181))/0x7+parseInt(_0x3242f9(0x167))/0x8*(parseInt(_0x3242f9(0x16a))/0x9)+-parseInt(_0x3242f9(0x192))/0xa*(-parseInt(_0x3242f9(0x17b))/0xb);if(_0x42d9ce===_0x272ae8)break;else _0xfa69['push'](_0xfa69['shift']());}catch(_0x2ee2a5){_0xfa69['push'](_0xfa69['shift']());}}}(a40_0x1ed3,0x4436a));const a40_0x489ce7=(function(){let _0x565a5d=!![];return function(_0x442c1a,_0x4cf893){const _0x46cbeb=_0x565a5d?function(){if(_0x4cf893){const _0x381cb3=_0x4cf893['apply'](_0x442c1a,arguments);return _0x4cf893=null,_0x381cb3;}}:function(){};return _0x565a5d=![],_0x46cbeb;};}()),a40_0x52fb8d=a40_0x489ce7(this,function(){const _0x2a44df=a40_0x590c;return a40_0x52fb8d[_0x2a44df(0x173)]()['search'](_0x2a44df(0x189))[_0x2a44df(0x173)]()[_0x2a44df(0x186)](a40_0x52fb8d)['search']('(((.+)+)+)+$');});a40_0x52fb8d();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x1effb9,_0x291d29,_0xf78daa,_0x433365){const _0x12e56d=a40_0x590c;if(_0x433365===undefined)_0x433365=_0xf78daa;var _0x482f06=Object[_0x12e56d(0x16c)](_0x291d29,_0xf78daa);(!_0x482f06||(_0x12e56d(0x188)in _0x482f06?!_0x291d29[_0x12e56d(0x161)]:_0x482f06[_0x12e56d(0x170)]||_0x482f06[_0x12e56d(0x168)]))&&(_0x482f06={'enumerable':!![],'get':function(){return _0x291d29[_0xf78daa];}}),Object['defineProperty'](_0x1effb9,_0x433365,_0x482f06);}:function(_0x211086,_0x429444,_0x2066f9,_0x31d651){if(_0x31d651===undefined)_0x31d651=_0x2066f9;_0x211086[_0x31d651]=_0x429444[_0x2066f9];}),__setModuleDefault=this&&this[a40_0x4e3508(0x16b)]||(Object[a40_0x4e3508(0x17c)]?function(_0x45b9ad,_0xa3174){const _0x33c42f=a40_0x4e3508;Object[_0x33c42f(0x187)](_0x45b9ad,_0x33c42f(0x190),{'enumerable':!![],'value':_0xa3174});}:function(_0x5ad6df,_0x3bffc5){const _0x545b0d=a40_0x4e3508;_0x5ad6df[_0x545b0d(0x190)]=_0x3bffc5;}),__importStar=this&&this['__importStar']||function(_0x4bc565){const _0x4a7fb2=a40_0x4e3508;if(_0x4bc565&&_0x4bc565['__esModule'])return _0x4bc565;var _0x10133f={};if(_0x4bc565!=null){for(var _0x4c0664 in _0x4bc565)if(_0x4c0664!==_0x4a7fb2(0x190)&&Object[_0x4a7fb2(0x185)][_0x4a7fb2(0x174)][_0x4a7fb2(0x18d)](_0x4bc565,_0x4c0664))__createBinding(_0x10133f,_0x4bc565,_0x4c0664);}return __setModuleDefault(_0x10133f,_0x4bc565),_0x10133f;},__importDefault=this&&this['__importDefault']||function(_0x56dc59){return _0x56dc59&&_0x56dc59['__esModule']?_0x56dc59:{'default':_0x56dc59};};Object[a40_0x4e3508(0x187)](exports,a40_0x4e3508(0x161),{'value':!![]}),exports[a40_0x4e3508(0x16d)]=exports['remove']=exports[a40_0x4e3508(0x166)]=exports[a40_0x4e3508(0x164)]=exports[a40_0x4e3508(0x18f)]=exports['list']=exports[a40_0x4e3508(0x17d)]=void 0x0;const Yup=__importStar(require(a40_0x4e3508(0x18a))),AppError_1=__importDefault(require(a40_0x4e3508(0x17f))),ListTicketNotesService_1=__importDefault(require(a40_0x4e3508(0x175))),CreateTicketNoteService_1=__importDefault(require(a40_0x4e3508(0x177))),UpdateTicketNoteService_1=__importDefault(require(a40_0x4e3508(0x171))),ShowTicketNoteService_1=__importDefault(require(a40_0x4e3508(0x18b))),FindAllTicketNotesService_1=__importDefault(require('../services/TicketNoteService/FindAllTicketNotesService')),DeleteTicketNoteService_1=__importDefault(require(a40_0x4e3508(0x183))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x1c93ab,_0x572220)=>{const {searchParam:_0x284259,pageNumber:_0xaeb066}=_0x1c93ab['query'],{ticketNotes:_0x816c75,count:_0x4905f9,hasMore:_0x1e0027}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x284259,'pageNumber':_0xaeb066});return _0x572220['json']({'ticketNotes':_0x816c75,'count':_0x4905f9,'hasMore':_0x1e0027});};exports[a40_0x4e3508(0x17d)]=index;const list=async(_0x46da5d,_0x5e3afd)=>{const _0x3a6a22=a40_0x4e3508,_0x5bf832=await(0x0,FindAllTicketNotesService_1[_0x3a6a22(0x190)])();return _0x5e3afd[_0x3a6a22(0x17a)](0xc8)[_0x3a6a22(0x18c)](_0x5bf832);};exports['list']=list;const store=async(_0x13ca10,_0x82e82d)=>{const _0x3d28ba=a40_0x4e3508,_0x4eec64=_0x13ca10[_0x3d28ba(0x180)],{id:_0x24add9}=_0x13ca10[_0x3d28ba(0x193)],_0x43a478=Yup[_0x3d28ba(0x176)]()['shape']({'note':Yup['string']()['required']()});try{await _0x43a478[_0x3d28ba(0x179)](_0x4eec64);}catch(_0x217cbb){throw new AppError_1[(_0x3d28ba(0x190))](_0x217cbb['message']);}const _0x4e0be0=await(0x0,CreateTicketNoteService_1[_0x3d28ba(0x190)])({..._0x4eec64,'userId':_0x24add9});return _0x82e82d['status'](0xc8)['json'](_0x4e0be0);};exports[a40_0x4e3508(0x18f)]=store;const show=async(_0x8cc879,_0x1c16e9)=>{const _0x4bb3c9=a40_0x4e3508,{id:_0x3cfb20}=_0x8cc879['params'],_0x229631=await(0x0,ShowTicketNoteService_1[_0x4bb3c9(0x190)])(_0x3cfb20);return _0x1c16e9['status'](0xc8)[_0x4bb3c9(0x18c)](_0x229631);};exports['show']=show;const update=async(_0x2d0831,_0x4ba806)=>{const _0x579d20=a40_0x4e3508,_0x415092=_0x2d0831[_0x579d20(0x180)],_0x361b5b=Yup[_0x579d20(0x176)]()[_0x579d20(0x160)]({'note':Yup[_0x579d20(0x17e)]()});try{await _0x361b5b[_0x579d20(0x179)](_0x415092);}catch(_0x4333a4){throw new AppError_1['default'](_0x4333a4[_0x579d20(0x182)]);}const _0x174235=await(0x0,UpdateTicketNoteService_1[_0x579d20(0x190)])(_0x415092);return _0x4ba806[_0x579d20(0x17a)](0xc8)[_0x579d20(0x18c)](_0x174235);};exports[a40_0x4e3508(0x166)]=update;function a40_0x1ed3(){const _0x3b30a2=['status','9631501qwgZaW','create','index','string','../errors/AppError','body','786835AiEIIB','message','../services/TicketNoteService/DeleteTicketNoteService','params','prototype','constructor','defineProperty','get','(((.+)+)+)+$','yup','../services/TicketNoteService/ShowTicketNoteService','json','call','remove','store','default','profile','10NatXYs','user','shape','__esModule','385724pKZZlH','1241394ZgLEDN','show','16ZVbtsV','update','104IDgABL','configurable','ERR_NO_PERMISSION','227745oOSCWd','__setModuleDefault','getOwnPropertyDescriptor','findFilteredList','admin','3079752LPbxOM','writable','../services/TicketNoteService/UpdateTicketNoteService','25iVVeFs','toString','hasOwnProperty','../services/TicketNoteService/ListTicketNotesService','object','../services/TicketNoteService/CreateTicketNoteService','53761cvjUjn','validate'];a40_0x1ed3=function(){return _0x3b30a2;};return a40_0x1ed3();}const remove=async(_0x554b1a,_0x175edd)=>{const _0x109a2f=a40_0x4e3508,{id:_0x3c33b7}=_0x554b1a[_0x109a2f(0x184)];if(_0x554b1a[_0x109a2f(0x193)][_0x109a2f(0x191)]!==_0x109a2f(0x16e))throw new AppError_1[(_0x109a2f(0x190))](_0x109a2f(0x169),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x3c33b7),_0x175edd['status'](0xc8)['json']({'message':'Observação\x20removida'});};exports[a40_0x4e3508(0x18e)]=remove;const findFilteredList=async(_0x2f366a,_0x1db039)=>{const _0x33e6cc=a40_0x4e3508;try{const {contactId:_0x5efd00,ticketId:_0x4be4ec}=_0x2f366a['query'],_0x35f047=await(0x0,FindNotesByContactIdAndTicketId_1[_0x33e6cc(0x190)])({'contactId':_0x5efd00,'ticketId':_0x4be4ec});return _0x1db039['status'](0xc8)[_0x33e6cc(0x18c)](_0x35f047);}catch(_0x295e69){return _0x1db039[_0x33e6cc(0x17a)](0x1f4)[_0x33e6cc(0x18c)]({'message':_0x295e69});}};function a40_0x590c(_0x24ca14,_0x584cba){const _0x35f0b8=a40_0x1ed3();return a40_0x590c=function(_0x52fb8d,_0x489ce7){_0x52fb8d=_0x52fb8d-0x160;let _0x1ed3b8=_0x35f0b8[_0x52fb8d];return _0x1ed3b8;},a40_0x590c(_0x24ca14,_0x584cba);}exports[a40_0x4e3508(0x16d)]=findFilteredList;