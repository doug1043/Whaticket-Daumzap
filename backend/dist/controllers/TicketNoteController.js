'use strict';const a39_0x498f4e=a39_0x15d9;(function(_0x490120,_0x97b261){const _0x1f3408=a39_0x15d9,_0x2268cd=_0x490120();while(!![]){try{const _0x4f38db=parseInt(_0x1f3408(0x148))/0x1+parseInt(_0x1f3408(0x164))/0x2*(parseInt(_0x1f3408(0x140))/0x3)+parseInt(_0x1f3408(0x151))/0x4*(-parseInt(_0x1f3408(0x161))/0x5)+-parseInt(_0x1f3408(0x139))/0x6*(-parseInt(_0x1f3408(0x13b))/0x7)+parseInt(_0x1f3408(0x163))/0x8+-parseInt(_0x1f3408(0x134))/0x9+-parseInt(_0x1f3408(0x15e))/0xa;if(_0x4f38db===_0x97b261)break;else _0x2268cd['push'](_0x2268cd['shift']());}catch(_0x470037){_0x2268cd['push'](_0x2268cd['shift']());}}}(a39_0x22df,0x28906));var __createBinding=this&&this[a39_0x498f4e(0x149)]||(Object[a39_0x498f4e(0x160)]?function(_0x1bea86,_0x5b9576,_0x584ed1,_0x1106a6){const _0x45eb32=a39_0x498f4e;if(_0x1106a6===undefined)_0x1106a6=_0x584ed1;var _0x3aab53=Object['getOwnPropertyDescriptor'](_0x5b9576,_0x584ed1);(!_0x3aab53||('get'in _0x3aab53?!_0x5b9576[_0x45eb32(0x14d)]:_0x3aab53[_0x45eb32(0x159)]||_0x3aab53['configurable']))&&(_0x3aab53={'enumerable':!![],'get':function(){return _0x5b9576[_0x584ed1];}}),Object['defineProperty'](_0x1bea86,_0x1106a6,_0x3aab53);}:function(_0x5698ac,_0xd5706f,_0x2e2486,_0xb1a4a9){if(_0xb1a4a9===undefined)_0xb1a4a9=_0x2e2486;_0x5698ac[_0xb1a4a9]=_0xd5706f[_0x2e2486];}),__setModuleDefault=this&&this[a39_0x498f4e(0x168)]||(Object['create']?function(_0x1bba2c,_0x3bfbe8){const _0x149f1d=a39_0x498f4e;Object[_0x149f1d(0x146)](_0x1bba2c,_0x149f1d(0x15c),{'enumerable':!![],'value':_0x3bfbe8});}:function(_0x1d684f,_0x4b7316){const _0x459def=a39_0x498f4e;_0x1d684f[_0x459def(0x15c)]=_0x4b7316;}),__importStar=this&&this['__importStar']||(function(){const _0x5c0e5d=(function(){let _0x170752=!![];return function(_0x1bc572,_0x3b0e74){const _0x5699ac=_0x170752?function(){if(_0x3b0e74){const _0x4fe3fc=_0x3b0e74['apply'](_0x1bc572,arguments);return _0x3b0e74=null,_0x4fe3fc;}}:function(){};return _0x170752=![],_0x5699ac;};}()),_0xb5c68a=_0x5c0e5d(this,function(){const _0x40e582=a39_0x15d9;return _0xb5c68a[_0x40e582(0x13d)]()[_0x40e582(0x152)](_0x40e582(0x144))['toString']()[_0x40e582(0x14a)](_0xb5c68a)['search'](_0x40e582(0x144));});_0xb5c68a();var _0x5d8fcf=function(_0x1aeb4c){return _0x5d8fcf=Object['getOwnPropertyNames']||function(_0x30d887){const _0x4ad0a9=a39_0x15d9;var _0x422503=[];for(var _0x4816ca in _0x30d887)if(Object['prototype'][_0x4ad0a9(0x14c)][_0x4ad0a9(0x13f)](_0x30d887,_0x4816ca))_0x422503[_0x422503[_0x4ad0a9(0x141)]]=_0x4816ca;return _0x422503;},_0x5d8fcf(_0x1aeb4c);};return function(_0xeab4){const _0x46e07b=a39_0x15d9;if(_0xeab4&&_0xeab4[_0x46e07b(0x14d)])return _0xeab4;var _0x24aa2a={};if(_0xeab4!=null){for(var _0x18304f=_0x5d8fcf(_0xeab4),_0x2dcaba=0x0;_0x2dcaba<_0x18304f[_0x46e07b(0x141)];_0x2dcaba++)if(_0x18304f[_0x2dcaba]!==_0x46e07b(0x15c))__createBinding(_0x24aa2a,_0xeab4,_0x18304f[_0x2dcaba]);}return __setModuleDefault(_0x24aa2a,_0xeab4),_0x24aa2a;};}()),__importDefault=this&&this['__importDefault']||function(_0x19ead5){const _0x486789=a39_0x498f4e;return _0x19ead5&&_0x19ead5[_0x486789(0x14d)]?_0x19ead5:{'default':_0x19ead5};};Object[a39_0x498f4e(0x146)](exports,a39_0x498f4e(0x14d),{'value':!![]}),exports['findFilteredList']=exports[a39_0x498f4e(0x147)]=exports[a39_0x498f4e(0x165)]=exports[a39_0x498f4e(0x154)]=exports[a39_0x498f4e(0x13a)]=exports[a39_0x498f4e(0x150)]=exports[a39_0x498f4e(0x133)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a39_0x498f4e(0x138))),ListTicketNotesService_1=__importDefault(require(a39_0x498f4e(0x135))),CreateTicketNoteService_1=__importDefault(require(a39_0x498f4e(0x15d))),UpdateTicketNoteService_1=__importDefault(require(a39_0x498f4e(0x156))),ShowTicketNoteService_1=__importDefault(require(a39_0x498f4e(0x14e))),FindAllTicketNotesService_1=__importDefault(require(a39_0x498f4e(0x137))),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require(a39_0x498f4e(0x158))),index=async(_0x466199,_0x31cd2e)=>{const _0xd8a007=a39_0x498f4e,{searchParam:_0x250166,pageNumber:_0xeaa2be}=_0x466199[_0xd8a007(0x15a)],{ticketNotes:_0x5d585b,count:_0x41e24a,hasMore:_0xbeea02}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x250166,'pageNumber':_0xeaa2be});return _0x31cd2e[_0xd8a007(0x13e)]({'ticketNotes':_0x5d585b,'count':_0x41e24a,'hasMore':_0xbeea02});};exports[a39_0x498f4e(0x133)]=index;function a39_0x22df(){const _0x5f0f54=['311532PdZbfF','__createBinding','constructor','message','hasOwnProperty','__esModule','../services/TicketNoteService/ShowTicketNoteService','shape','list','205708kYmSRw','search','Observação\x20removida','show','profile','../services/TicketNoteService/UpdateTicketNoteService','parseInt','../services/TicketNoteService/FindNotesByContactIdAndTicketId','writable','query','validate','default','../services/TicketNoteService/CreateTicketNoteService','1456910OaLXWD','status','create','15citWvJ','string','257176QikCzX','6212KTBWGX','update','object','admin','__setModuleDefault','index','2162376YNxOkD','../services/TicketNoteService/ListTicketNotesService','body','../services/TicketNoteService/FindAllTicketNotesService','../errors/AppError','402YFNgTP','store','26537yslIBI','findFilteredList','toString','json','call','105qWSBmb','length','ERR_NO_PERMISSION','params','(((.+)+)+)+$','user','defineProperty','remove'];a39_0x22df=function(){return _0x5f0f54;};return a39_0x22df();}const list=async(_0xbeb3a7,_0x41d2ea)=>{const _0xc55862=a39_0x498f4e,_0x183b7b=await(0x0,FindAllTicketNotesService_1[_0xc55862(0x15c)])();return _0x41d2ea[_0xc55862(0x15f)](0xc8)[_0xc55862(0x13e)](_0x183b7b);};exports[a39_0x498f4e(0x150)]=list;const store=async(_0x590812,_0x12d0f5)=>{const _0x2f87b2=a39_0x498f4e,_0x3b1dd7=_0x590812[_0x2f87b2(0x136)],{id:_0x2cc739}=_0x590812[_0x2f87b2(0x145)],_0x460009=Yup[_0x2f87b2(0x166)]()[_0x2f87b2(0x14f)]({'note':Yup[_0x2f87b2(0x162)]()['required']()});try{await _0x460009[_0x2f87b2(0x15b)](_0x3b1dd7);}catch(_0xd550a7){throw new AppError_1[(_0x2f87b2(0x15c))](_0xd550a7[_0x2f87b2(0x14b)]);}const _0x1927c5=await(0x0,CreateTicketNoteService_1['default'])({..._0x3b1dd7,'userId':Number[_0x2f87b2(0x157)](_0x2cc739,0xa)});return _0x12d0f5[_0x2f87b2(0x15f)](0xc8)[_0x2f87b2(0x13e)](_0x1927c5);};exports[a39_0x498f4e(0x13a)]=store;const show=async(_0x308d32,_0x3a7446)=>{const _0x179dd2=a39_0x498f4e,{id:_0x175877}=_0x308d32[_0x179dd2(0x143)],_0x5cee80=await(0x0,ShowTicketNoteService_1[_0x179dd2(0x15c)])(_0x175877);return _0x3a7446[_0x179dd2(0x15f)](0xc8)[_0x179dd2(0x13e)](_0x5cee80);};function a39_0x15d9(_0x7a60,_0x4d231f){const _0x5af51a=a39_0x22df();return a39_0x15d9=function(_0x4c89c3,_0x2ea209){_0x4c89c3=_0x4c89c3-0x133;let _0x22df5e=_0x5af51a[_0x4c89c3];return _0x22df5e;},a39_0x15d9(_0x7a60,_0x4d231f);}exports[a39_0x498f4e(0x154)]=show;const update=async(_0x3c7e4c,_0x1d4faa)=>{const _0x261572=a39_0x498f4e,_0x160347=_0x3c7e4c[_0x261572(0x136)],_0x2cd407=Yup[_0x261572(0x166)]()[_0x261572(0x14f)]({'note':Yup[_0x261572(0x162)]()});try{await _0x2cd407['validate'](_0x160347);}catch(_0x396b42){throw new AppError_1['default'](_0x396b42['message']);}const _0x4d66d1=await(0x0,UpdateTicketNoteService_1['default'])(_0x160347);return _0x1d4faa['status'](0xc8)['json'](_0x4d66d1);};exports['update']=update;const remove=async(_0x1c5ccc,_0x139adc)=>{const _0x236c9c=a39_0x498f4e,{id:_0x2d8c13}=_0x1c5ccc['params'];if(_0x1c5ccc[_0x236c9c(0x145)][_0x236c9c(0x155)]!==_0x236c9c(0x167))throw new AppError_1[(_0x236c9c(0x15c))](_0x236c9c(0x142),0x193);return await(0x0,DeleteTicketNoteService_1[_0x236c9c(0x15c)])(_0x2d8c13),_0x139adc['status'](0xc8)['json']({'message':_0x236c9c(0x153)});};exports['remove']=remove;const findFilteredList=async(_0x45386b,_0x52b572)=>{const _0x557488=a39_0x498f4e;try{const {contactId:_0x519e31,ticketId:_0x23c131}=_0x45386b['query'],_0x3c60ed=await(0x0,FindNotesByContactIdAndTicketId_1[_0x557488(0x15c)])({'contactId':_0x519e31,'ticketId':_0x23c131});return _0x52b572[_0x557488(0x15f)](0xc8)['json'](_0x3c60ed);}catch(_0x3181cf){return _0x52b572['status'](0x1f4)['json']({'message':_0x3181cf});}};exports[a39_0x498f4e(0x13c)]=findFilteredList;