const a40_0x2f32e1=a40_0x4912;function a40_0x1a8d(){const _0xd0a297=['json','toString','18nPuNjX','14648211wpLRzU','defineProperty','findAll','1506Hxjast','__importDefault','tagId','params','store','(((.+)+)+)+$','1393dnDLnM','map','status','5776OaDspH','5gWHnnj','../models/Tag','destroy','default','create','10bPtMvz','8994425BmBLLE','../models/TicketTag','remove','ticketId','60414DkRcDE','6376XYRjch','constructor','10242294ntyFmy','search','2802636IDIshI'];a40_0x1a8d=function(){return _0xd0a297;};return a40_0x1a8d();}(function(_0x124b1d,_0x109613){const _0x411c45=a40_0x4912,_0xb88096=_0x124b1d();while(!![]){try{const _0x4f122c=parseInt(_0x411c45(0x201))/0x1*(parseInt(_0x411c45(0x1f9))/0x2)+-parseInt(_0x411c45(0x1e5))/0x3*(-parseInt(_0x411c45(0x1ee))/0x4)+-parseInt(_0x411c45(0x1ef))/0x5*(-parseInt(_0x411c45(0x1fc))/0x6)+-parseInt(_0x411c45(0x1eb))/0x7*(-parseInt(_0x411c45(0x1fa))/0x8)+parseInt(_0x411c45(0x202))/0x9*(-parseInt(_0x411c45(0x1f4))/0xa)+-parseInt(_0x411c45(0x1f5))/0xb+parseInt(_0x411c45(0x1fe))/0xc;if(_0x4f122c===_0x109613)break;else _0xb88096['push'](_0xb88096['shift']());}catch(_0x18cd35){_0xb88096['push'](_0xb88096['shift']());}}}(a40_0x1a8d,0xe13c5));const a40_0x381366=(function(){let _0xab0726=!![];return function(_0x4a2340,_0x2e368b){const _0x1babb0=_0xab0726?function(){if(_0x2e368b){const _0x54a6eb=_0x2e368b['apply'](_0x4a2340,arguments);return _0x2e368b=null,_0x54a6eb;}}:function(){};return _0xab0726=![],_0x1babb0;};}()),a40_0x4ff9af=a40_0x381366(this,function(){const _0x3ecabd=a40_0x4912;return a40_0x4ff9af[_0x3ecabd(0x200)]()['search'](_0x3ecabd(0x1ea))[_0x3ecabd(0x200)]()[_0x3ecabd(0x1fb)](a40_0x4ff9af)[_0x3ecabd(0x1fd)]('(((.+)+)+)+$');});a40_0x4ff9af();'use strict';var __importDefault=this&&this[a40_0x2f32e1(0x1e6)]||function(_0x3e8fde){return _0x3e8fde&&_0x3e8fde['__esModule']?_0x3e8fde:{'default':_0x3e8fde};};Object[a40_0x2f32e1(0x203)](exports,'__esModule',{'value':!![]}),exports[a40_0x2f32e1(0x1f7)]=exports[a40_0x2f32e1(0x1e9)]=void 0x0;const TicketTag_1=__importDefault(require(a40_0x2f32e1(0x1f6))),Tag_1=__importDefault(require(a40_0x2f32e1(0x1f0))),store=async(_0x3f0b10,_0x258f79)=>{const _0x5650f4=a40_0x2f32e1,_0x1b1103=parseInt(_0x3f0b10[_0x5650f4(0x1e8)][_0x5650f4(0x1f8)],0xa),_0x4674cc=parseInt(_0x3f0b10[_0x5650f4(0x1e8)][_0x5650f4(0x1e7)],0xa);if(Number['isNaN'](_0x1b1103)||Number['isNaN'](_0x4674cc))return _0x258f79['status'](0x190)['json']({'error':'Invalid\x20ticketId\x20or\x20tagId.'});try{const _0x3e571d=await TicketTag_1[_0x5650f4(0x1f2)][_0x5650f4(0x1f3)]({'ticketId':_0x1b1103,'tagId':_0x4674cc});return _0x258f79[_0x5650f4(0x1ed)](0xc9)[_0x5650f4(0x1ff)](_0x3e571d);}catch(_0x25293b){return _0x258f79[_0x5650f4(0x1ed)](0x1f4)[_0x5650f4(0x1ff)]({'error':'Failed\x20to\x20store\x20ticket\x20tag.'});}};exports[a40_0x2f32e1(0x1e9)]=store;function a40_0x4912(_0x237b20,_0xafb544){const _0x473c67=a40_0x1a8d();return a40_0x4912=function(_0x4ff9af,_0x381366){_0x4ff9af=_0x4ff9af-0x1e5;let _0x1a8dff=_0x473c67[_0x4ff9af];return _0x1a8dff;},a40_0x4912(_0x237b20,_0xafb544);}const remove=async(_0x38eff2,_0x4d9202)=>{const _0x15836e=a40_0x2f32e1,{ticketId:_0x56ae97}=_0x38eff2['params'];try{const _0x19729e=await TicketTag_1['default']['findAll']({'where':{'ticketId':_0x56ae97}}),_0x5827fc=_0x19729e[_0x15836e(0x1ec)](_0x141ad4=>_0x141ad4[_0x15836e(0x1e7)]),_0x41c85f=await Tag_1[_0x15836e(0x1f2)][_0x15836e(0x204)]({'where':{'id':_0x5827fc,'kanban':0x1}}),_0x270a67=_0x41c85f['map'](_0x38481f=>_0x38481f['id']);return await TicketTag_1['default'][_0x15836e(0x1f1)]({'where':{'ticketId':_0x56ae97,'tagId':_0x270a67}}),_0x4d9202[_0x15836e(0x1ed)](0xc8)[_0x15836e(0x1ff)]({'message':'Ticket\x20tags\x20removed\x20successfully.'});}catch(_0x2c01f1){return _0x4d9202['status'](0x1f4)[_0x15836e(0x1ff)]({'error':'Failed\x20to\x20remove\x20ticket\x20tags.'});}};exports[a40_0x2f32e1(0x1f7)]=remove;