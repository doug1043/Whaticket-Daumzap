const a49_0x31976f=a49_0x5ddb;function a49_0x5ddb(_0x382dc9,_0x5401b8){const _0x5af6a7=a49_0xbdb4();return a49_0x5ddb=function(_0x5e9d93,_0x1e2c16){_0x5e9d93=_0x5e9d93-0x6b;let _0xbdb4e3=_0x5af6a7[_0x5e9d93];return _0xbdb4e3;},a49_0x5ddb(_0x382dc9,_0x5401b8);}(function(_0xc9963b,_0x58c619){const _0x2ade81=a49_0x5ddb,_0x527707=_0xc9963b();while(!![]){try{const _0x285f32=-parseInt(_0x2ade81(0x89))/0x1*(parseInt(_0x2ade81(0x6d))/0x2)+-parseInt(_0x2ade81(0x88))/0x3+-parseInt(_0x2ade81(0x79))/0x4+-parseInt(_0x2ade81(0x82))/0x5+parseInt(_0x2ade81(0x7c))/0x6+-parseInt(_0x2ade81(0x8b))/0x7+-parseInt(_0x2ade81(0x71))/0x8*(-parseInt(_0x2ade81(0x7b))/0x9);if(_0x285f32===_0x58c619)break;else _0x527707['push'](_0x527707['shift']());}catch(_0x412632){_0x527707['push'](_0x527707['shift']());}}}(a49_0xbdb4,0x4394d));const a49_0x1e2c16=(function(){let _0x32af68=!![];return function(_0x4afebf,_0x1b7316){const _0xc98ee7=_0x32af68?function(){const _0x198107=a49_0x5ddb;if(_0x1b7316){const _0x196af3=_0x1b7316[_0x198107(0x80)](_0x4afebf,arguments);return _0x1b7316=null,_0x196af3;}}:function(){};return _0x32af68=![],_0xc98ee7;};}()),a49_0x5e9d93=a49_0x1e2c16(this,function(){const _0x331da7=a49_0x5ddb;return a49_0x5e9d93[_0x331da7(0x74)]()[_0x331da7(0x6f)]('(((.+)+)+)+$')['toString']()[_0x331da7(0x76)](a49_0x5e9d93)[_0x331da7(0x6f)](_0x331da7(0x84));});a49_0x5e9d93();'use strict';var __importDefault=this&&this[a49_0x31976f(0x81)]||function(_0x2ed702){const _0x29d183=a49_0x31976f;return _0x2ed702&&_0x2ed702[_0x29d183(0x7e)]?_0x2ed702:{'default':_0x2ed702};};function a49_0xbdb4(){const _0x4f0d11=['11851956dqKqQa','758790NNGDZC','defineProperty','__esModule','default','apply','__importDefault','2034875YIQrqP','json','(((.+)+)+)+$','isNaN','tagId','../models/TicketTag','236274lgHVng','94OxzBnD','Ticket\x20tags\x20removed\x20successfully.','1760983lIliVN','Invalid\x20ticketId\x20or\x20tagId.','destroy','8296rqhhYj','create','search','../models/Tag','8uTisOO','map','store','toString','status','constructor','remove','params','157288GVGqRE','findAll'];a49_0xbdb4=function(){return _0x4f0d11;};return a49_0xbdb4();}Object[a49_0x31976f(0x7d)](exports,a49_0x31976f(0x7e),{'value':!![]}),exports[a49_0x31976f(0x77)]=exports[a49_0x31976f(0x73)]=void 0x0;const TicketTag_1=__importDefault(require(a49_0x31976f(0x87))),Tag_1=__importDefault(require(a49_0x31976f(0x70))),store=async(_0x2ec9bd,_0x1e5b7c)=>{const _0x3ce2b7=a49_0x31976f,_0xfcea0d=parseInt(_0x2ec9bd[_0x3ce2b7(0x78)]['ticketId'],0xa),_0x3b5ab3=parseInt(_0x2ec9bd['params']['tagId'],0xa);if(Number[_0x3ce2b7(0x85)](_0xfcea0d)||Number[_0x3ce2b7(0x85)](_0x3b5ab3))return _0x1e5b7c['status'](0x190)[_0x3ce2b7(0x83)]({'error':_0x3ce2b7(0x6b)});try{const _0x168d37=await TicketTag_1[_0x3ce2b7(0x7f)][_0x3ce2b7(0x6e)]({'ticketId':_0xfcea0d,'tagId':_0x3b5ab3});return _0x1e5b7c[_0x3ce2b7(0x75)](0xc9)[_0x3ce2b7(0x83)](_0x168d37);}catch(_0x2ce129){return _0x1e5b7c[_0x3ce2b7(0x75)](0x1f4)[_0x3ce2b7(0x83)]({'error':'Failed\x20to\x20store\x20ticket\x20tag.'});}};exports[a49_0x31976f(0x73)]=store;const remove=async(_0xc9da91,_0x10ad01)=>{const _0x25b1be=a49_0x31976f,{ticketId:_0x56cf0d}=_0xc9da91[_0x25b1be(0x78)];try{const _0x42f573=await TicketTag_1['default']['findAll']({'where':{'ticketId':_0x56cf0d}}),_0xffc0e2=_0x42f573[_0x25b1be(0x72)](_0xdce16a=>_0xdce16a[_0x25b1be(0x86)]),_0x1cea82=await Tag_1['default'][_0x25b1be(0x7a)]({'where':{'id':_0xffc0e2,'kanban':0x1}}),_0xaae96f=_0x1cea82[_0x25b1be(0x72)](_0x1e2582=>_0x1e2582['id']);return await TicketTag_1[_0x25b1be(0x7f)][_0x25b1be(0x6c)]({'where':{'ticketId':_0x56cf0d,'tagId':_0xaae96f}}),_0x10ad01[_0x25b1be(0x75)](0xc8)[_0x25b1be(0x83)]({'message':_0x25b1be(0x8a)});}catch(_0x39917d){return _0x10ad01[_0x25b1be(0x75)](0x1f4)['json']({'error':'Failed\x20to\x20remove\x20ticket\x20tags.'});}};exports[a49_0x31976f(0x77)]=remove;