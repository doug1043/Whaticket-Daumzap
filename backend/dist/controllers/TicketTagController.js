const a40_0x5b3ee7=a40_0x17c1;function a40_0x59cc(){const _0x36aa82=['tagId','__importDefault','isNaN','../models/Tag','params','map','findAll','remove','constructor','destroy','status','6169599yPMFTj','Ticket\x20tags\x20removed\x20successfully.','334386nmHJcQ','1TUwQyS','8603hdaoND','json','60eLrzKV','search','toString','1192196wIDueF','store','defineProperty','ticketId','1592SlwXjV','2459424pCrSdr','Failed\x20to\x20store\x20ticket\x20tag.','__esModule','3dfQUlV','Failed\x20to\x20remove\x20ticket\x20tags.','apply','default','(((.+)+)+)+$','1555898LACRFQ','617850cyMaKc'];a40_0x59cc=function(){return _0x36aa82;};return a40_0x59cc();}(function(_0x16f199,_0x2d5e77){const _0x7b1d24=a40_0x17c1,_0xad536d=_0x16f199();while(!![]){try{const _0x2d205a=-parseInt(_0x7b1d24(0x162))/0x1*(-parseInt(_0x7b1d24(0x175))/0x2)+parseInt(_0x7b1d24(0x170))/0x3*(-parseInt(_0x7b1d24(0x168))/0x4)+parseInt(_0x7b1d24(0x165))/0x5*(parseInt(_0x7b1d24(0x161))/0x6)+-parseInt(_0x7b1d24(0x163))/0x7*(-parseInt(_0x7b1d24(0x16c))/0x8)+-parseInt(_0x7b1d24(0x15f))/0x9+-parseInt(_0x7b1d24(0x176))/0xa+-parseInt(_0x7b1d24(0x16d))/0xb;if(_0x2d205a===_0x2d5e77)break;else _0xad536d['push'](_0xad536d['shift']());}catch(_0x18483f){_0xad536d['push'](_0xad536d['shift']());}}}(a40_0x59cc,0x671db));const a40_0x4f8fa2=(function(){let _0x1d1120=!![];return function(_0x104b2b,_0x4e1b41){const _0x4699a7=_0x1d1120?function(){const _0x3a2b03=a40_0x17c1;if(_0x4e1b41){const _0x1c0eed=_0x4e1b41[_0x3a2b03(0x172)](_0x104b2b,arguments);return _0x4e1b41=null,_0x1c0eed;}}:function(){};return _0x1d1120=![],_0x4699a7;};}()),a40_0x3406a5=a40_0x4f8fa2(this,function(){const _0x3cdf00=a40_0x17c1;return a40_0x3406a5[_0x3cdf00(0x167)]()[_0x3cdf00(0x166)](_0x3cdf00(0x174))[_0x3cdf00(0x167)]()[_0x3cdf00(0x17f)](a40_0x3406a5)[_0x3cdf00(0x166)]('(((.+)+)+)+$');});a40_0x3406a5();'use strict';var __importDefault=this&&this[a40_0x5b3ee7(0x178)]||function(_0x2d8b67){const _0x407356=a40_0x5b3ee7;return _0x2d8b67&&_0x2d8b67[_0x407356(0x16f)]?_0x2d8b67:{'default':_0x2d8b67};};Object[a40_0x5b3ee7(0x16a)](exports,a40_0x5b3ee7(0x16f),{'value':!![]}),exports['remove']=exports[a40_0x5b3ee7(0x169)]=void 0x0;function a40_0x17c1(_0x168b1d,_0x253391){const _0x13573f=a40_0x59cc();return a40_0x17c1=function(_0x3406a5,_0x4f8fa2){_0x3406a5=_0x3406a5-0x15e;let _0x59ccc6=_0x13573f[_0x3406a5];return _0x59ccc6;},a40_0x17c1(_0x168b1d,_0x253391);}const TicketTag_1=__importDefault(require('../models/TicketTag')),Tag_1=__importDefault(require(a40_0x5b3ee7(0x17a))),store=async(_0x5a2a36,_0x2e40d0)=>{const _0x2845d4=a40_0x5b3ee7,_0x12804c=parseInt(_0x5a2a36['params'][_0x2845d4(0x16b)],0xa),_0x39cb13=parseInt(_0x5a2a36[_0x2845d4(0x17b)]['tagId'],0xa);if(Number[_0x2845d4(0x179)](_0x12804c)||Number['isNaN'](_0x39cb13))return _0x2e40d0['status'](0x190)[_0x2845d4(0x164)]({'error':'Invalid\x20ticketId\x20or\x20tagId.'});try{const _0x321944=await TicketTag_1[_0x2845d4(0x173)]['create']({'ticketId':_0x12804c,'tagId':_0x39cb13});return _0x2e40d0[_0x2845d4(0x15e)](0xc9)[_0x2845d4(0x164)](_0x321944);}catch(_0x136455){return _0x2e40d0[_0x2845d4(0x15e)](0x1f4)[_0x2845d4(0x164)]({'error':_0x2845d4(0x16e)});}};exports[a40_0x5b3ee7(0x169)]=store;const remove=async(_0x119f43,_0xfb8579)=>{const _0x4683d8=a40_0x5b3ee7,{ticketId:_0xbbf2f4}=_0x119f43['params'];try{const _0x310f3c=await TicketTag_1[_0x4683d8(0x173)]['findAll']({'where':{'ticketId':_0xbbf2f4}}),_0x5660c2=_0x310f3c[_0x4683d8(0x17c)](_0x490a37=>_0x490a37[_0x4683d8(0x177)]),_0xdb3f3f=await Tag_1[_0x4683d8(0x173)][_0x4683d8(0x17d)]({'where':{'id':_0x5660c2,'kanban':0x1}}),_0x39b850=_0xdb3f3f[_0x4683d8(0x17c)](_0x333d19=>_0x333d19['id']);return await TicketTag_1[_0x4683d8(0x173)][_0x4683d8(0x180)]({'where':{'ticketId':_0xbbf2f4,'tagId':_0x39b850}}),_0xfb8579[_0x4683d8(0x15e)](0xc8)[_0x4683d8(0x164)]({'message':_0x4683d8(0x160)});}catch(_0x594500){return _0xfb8579[_0x4683d8(0x15e)](0x1f4)[_0x4683d8(0x164)]({'error':_0x4683d8(0x171)});}};exports[a40_0x5b3ee7(0x17e)]=remove;