function a40_0x1a9b(){const _0xe62c3d=['__esModule','(((.+)+)+)+$','toString','default','json','map','params','search','310304YKQfUY','2955220SpoqDg','constructor','838764BpSqhh','Ticket\x20tags\x20removed\x20successfully.','332035MoOjPC','findAll','__importDefault','9xthKGw','1809678hMXFox','5oKVsHo','ticketId','599925plYVCf','2559487UsiwVi','status','8TcflXj','tagId','apply','../models/TicketTag','remove','store'];a40_0x1a9b=function(){return _0xe62c3d;};return a40_0x1a9b();}const a40_0x4f38cd=a40_0x5508;(function(_0x4edd6a,_0x571443){const _0xd1a1fc=a40_0x5508,_0x22334c=_0x4edd6a();while(!![]){try{const _0x107fb4=-parseInt(_0xd1a1fc(0x11a))/0x1+parseInt(_0xd1a1fc(0x115))/0x2+parseInt(_0xd1a1fc(0x121))/0x3+-parseInt(_0xd1a1fc(0x118))/0x4+-parseInt(_0xd1a1fc(0x11f))/0x5*(-parseInt(_0xd1a1fc(0x11e))/0x6)+-parseInt(_0xd1a1fc(0x122))/0x7*(-parseInt(_0xd1a1fc(0x124))/0x8)+parseInt(_0xd1a1fc(0x11d))/0x9*(-parseInt(_0xd1a1fc(0x116))/0xa);if(_0x107fb4===_0x571443)break;else _0x22334c['push'](_0x22334c['shift']());}catch(_0x559dc4){_0x22334c['push'](_0x22334c['shift']());}}}(a40_0x1a9b,0x2d32d));function a40_0x5508(_0x57f680,_0x3bdf17){const _0x3d3366=a40_0x1a9b();return a40_0x5508=function(_0x2494b1,_0x495ab7){_0x2494b1=_0x2494b1-0x10e;let _0x1a9b44=_0x3d3366[_0x2494b1];return _0x1a9b44;},a40_0x5508(_0x57f680,_0x3bdf17);}const a40_0x495ab7=(function(){let _0x5ef0c9=!![];return function(_0x11074a,_0x295e57){const _0x5505ba=_0x5ef0c9?function(){const _0x42f6d8=a40_0x5508;if(_0x295e57){const _0x2b79c9=_0x295e57[_0x42f6d8(0x126)](_0x11074a,arguments);return _0x295e57=null,_0x2b79c9;}}:function(){};return _0x5ef0c9=![],_0x5505ba;};}()),a40_0x2494b1=a40_0x495ab7(this,function(){const _0x401cbc=a40_0x5508;return a40_0x2494b1[_0x401cbc(0x10f)]()[_0x401cbc(0x114)](_0x401cbc(0x10e))[_0x401cbc(0x10f)]()[_0x401cbc(0x117)](a40_0x2494b1)[_0x401cbc(0x114)](_0x401cbc(0x10e));});a40_0x2494b1();'use strict';var __importDefault=this&&this[a40_0x4f38cd(0x11c)]||function(_0x449055){const _0x1004f6=a40_0x4f38cd;return _0x449055&&_0x449055[_0x1004f6(0x12a)]?_0x449055:{'default':_0x449055};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a40_0x4f38cd(0x128)]=exports[a40_0x4f38cd(0x129)]=void 0x0;const TicketTag_1=__importDefault(require(a40_0x4f38cd(0x127))),Tag_1=__importDefault(require('../models/Tag')),store=async(_0x48c1ed,_0x4aa84a)=>{const _0x5eaea6=a40_0x4f38cd,_0x17ae3c=parseInt(_0x48c1ed['params'][_0x5eaea6(0x120)],0xa),_0x520211=parseInt(_0x48c1ed[_0x5eaea6(0x113)][_0x5eaea6(0x125)],0xa);if(Number['isNaN'](_0x17ae3c)||Number['isNaN'](_0x520211))return _0x4aa84a[_0x5eaea6(0x123)](0x190)[_0x5eaea6(0x111)]({'error':'Invalid\x20ticketId\x20or\x20tagId.'});try{const _0x374071=await TicketTag_1['default']['create']({'ticketId':_0x17ae3c,'tagId':_0x520211});return _0x4aa84a[_0x5eaea6(0x123)](0xc9)['json'](_0x374071);}catch(_0x1a1060){return _0x4aa84a[_0x5eaea6(0x123)](0x1f4)[_0x5eaea6(0x111)]({'error':'Failed\x20to\x20store\x20ticket\x20tag.'});}};exports['store']=store;const remove=async(_0x3c3b2a,_0x4332c6)=>{const _0x4e4ba0=a40_0x4f38cd,{ticketId:_0x38280d}=_0x3c3b2a[_0x4e4ba0(0x113)];try{const _0x33fade=await TicketTag_1['default'][_0x4e4ba0(0x11b)]({'where':{'ticketId':_0x38280d}}),_0x25cbf3=_0x33fade[_0x4e4ba0(0x112)](_0x4d0763=>_0x4d0763['tagId']),_0x15a4e6=await Tag_1[_0x4e4ba0(0x110)][_0x4e4ba0(0x11b)]({'where':{'id':_0x25cbf3,'kanban':0x1}}),_0x27065e=_0x15a4e6['map'](_0x7f6fdb=>_0x7f6fdb['id']);return await TicketTag_1[_0x4e4ba0(0x110)]['destroy']({'where':{'ticketId':_0x38280d,'tagId':_0x27065e}}),_0x4332c6[_0x4e4ba0(0x123)](0xc8)[_0x4e4ba0(0x111)]({'message':_0x4e4ba0(0x119)});}catch(_0x124a68){return _0x4332c6[_0x4e4ba0(0x123)](0x1f4)[_0x4e4ba0(0x111)]({'error':'Failed\x20to\x20remove\x20ticket\x20tags.'});}};exports[a40_0x4f38cd(0x128)]=remove;