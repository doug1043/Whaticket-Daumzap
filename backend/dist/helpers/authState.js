const a269_0x580cf4=a269_0x4b39;(function(_0x50718d,_0x29ddaf){const _0x20f375=a269_0x4b39,_0x5d34dd=_0x50718d();while(!![]){try{const _0x17cc1c=-parseInt(_0x20f375(0x15b))/0x1*(parseInt(_0x20f375(0x18a))/0x2)+parseInt(_0x20f375(0x169))/0x3+parseInt(_0x20f375(0x17e))/0x4*(parseInt(_0x20f375(0x177))/0x5)+-parseInt(_0x20f375(0x160))/0x6+-parseInt(_0x20f375(0x152))/0x7+-parseInt(_0x20f375(0x159))/0x8*(parseInt(_0x20f375(0x176))/0x9)+-parseInt(_0x20f375(0x172))/0xa*(-parseInt(_0x20f375(0x15a))/0xb);if(_0x17cc1c===_0x29ddaf)break;else _0x5d34dd['push'](_0x5d34dd['shift']());}catch(_0x5e6cdb){_0x5d34dd['push'](_0x5d34dd['shift']());}}}(a269_0x27ed,0xc1d94));function a269_0x27ed(){const _0x560497=['BufferJSON','defineProperty','logger','creds','@whiskeysockets/baileys','parse','Storing\x20key\x20whatsappId:\x20','session','update','toString','4gjpFbB','9663360AiSVer','Setting\x20pre-keys','all','fromObject','destroy','proto','\x20key:\x20','2256376aRsTQE','377630ybbmCf','597787PpMBbH','(((.+)+)+)+$','keys','debug','default','8841006gfMrHS','reviver','error','findOne','push','\x20Counter:\x20','stringify','Deleting\x20key\x20whatsappId:\x20','replacer','581787XiWxxU','initAuthCreds','info','app-state-sync-key','__esModule','Keys\x20retrieved:\x20whatsappId:\x20','search','value','authState\x20(69)\x20->\x20error:\x20','1230VdxtWn','stack','log','\x20type:\x20','18jtMNdG','765RQtjiu','upsert','pre-key','Key\x20not\x20found\x20whatsappId:\x20','authState\x20(72)\x20->\x20stack:\x20','length','../utils/logger','25912cclabD','constructor'];a269_0x27ed=function(){return _0x560497;};return a269_0x27ed();}function a269_0x4b39(_0x561ac3,_0x3b6887){const _0x554f35=a269_0x27ed();return a269_0x4b39=function(_0x30fbb6,_0x47ac30){_0x30fbb6=_0x30fbb6-0x152;let _0x27ed40=_0x554f35[_0x30fbb6];return _0x27ed40;},a269_0x4b39(_0x561ac3,_0x3b6887);}const a269_0x47ac30=(function(){let _0x2615fe=!![];return function(_0x4d40ed,_0x364877){const _0x26cb49=_0x2615fe?function(){if(_0x364877){const _0x69e927=_0x364877['apply'](_0x4d40ed,arguments);return _0x364877=null,_0x69e927;}}:function(){};return _0x2615fe=![],_0x26cb49;};}()),a269_0x30fbb6=a269_0x47ac30(this,function(){const _0x54d41b=a269_0x4b39;return a269_0x30fbb6[_0x54d41b(0x189)]()['search'](_0x54d41b(0x15c))[_0x54d41b(0x189)]()[_0x54d41b(0x17f)](a269_0x30fbb6)[_0x54d41b(0x16f)]('(((.+)+)+)+$');});a269_0x30fbb6();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4b1ea7){const _0x17f08d=a269_0x4b39;return _0x4b1ea7&&_0x4b1ea7[_0x17f08d(0x16d)]?_0x4b1ea7:{'default':_0x4b1ea7};};Object[a269_0x580cf4(0x181)](exports,a269_0x580cf4(0x16d),{'value':!![]});const baileys_1=require(a269_0x580cf4(0x184)),BaileysKeys_1=__importDefault(require('../models/BaileysKeys')),logger_1=require(a269_0x580cf4(0x17d)),authState=async _0x388a36=>{const _0x436bb8=a269_0x580cf4;let _0x5cbc6c;const _0x59ff1d=_0x388a36['id'],_0x54efa6=async(_0x5be4ec,_0x170775,_0x4efda3)=>{const _0x5227b9=a269_0x4b39;return logger_1[_0x5227b9(0x182)]['debug'](_0x5227b9(0x186)+_0x59ff1d+_0x5227b9(0x175)+_0x5be4ec+_0x5227b9(0x158)+_0x170775),BaileysKeys_1[_0x5227b9(0x15f)][_0x5227b9(0x178)]({'whatsappId':_0x59ff1d,'type':_0x5be4ec,'key':_0x170775,'value':JSON[_0x5227b9(0x166)](_0x4efda3)});},_0x5678d0=async(_0xd3eb57,_0x5f4306)=>{const _0x4d0ebe=a269_0x4b39,_0x24498e=await BaileysKeys_1[_0x4d0ebe(0x15f)][_0x4d0ebe(0x163)]({'where':{'whatsappId':_0x59ff1d,'type':_0xd3eb57,'key':_0x5f4306}});return!_0x24498e&&logger_1[_0x4d0ebe(0x182)][_0x4d0ebe(0x15e)](_0x4d0ebe(0x17a)+_0x59ff1d+_0x4d0ebe(0x175)+_0xd3eb57+_0x4d0ebe(0x158)+_0x5f4306),_0x24498e?.[_0x4d0ebe(0x170)]?JSON['parse'](_0x24498e[_0x4d0ebe(0x170)]):null;},_0x34f418=async(_0x1f7413,_0x1b5eda)=>{const _0x31db44=a269_0x4b39;return logger_1[_0x31db44(0x182)][_0x31db44(0x15e)](_0x31db44(0x167)+_0x59ff1d+_0x31db44(0x175)+_0x1f7413+_0x31db44(0x158)+_0x1b5eda),BaileysKeys_1[_0x31db44(0x15f)][_0x31db44(0x156)]({'where':{'whatsappId':_0x59ff1d,'type':_0x1f7413,'key':_0x1b5eda}});},_0x2f01b5=async()=>{const _0x3ace32=a269_0x4b39;try{await _0x388a36[_0x3ace32(0x188)]({'session':JSON[_0x3ace32(0x166)]({'creds':_0x5cbc6c,'keys':{}},baileys_1['BufferJSON'][_0x3ace32(0x168)],0x0)});}catch(_0x1b4de3){console[_0x3ace32(0x174)](_0x1b4de3);}};if(_0x388a36[_0x436bb8(0x187)]&&_0x388a36[_0x436bb8(0x187)]!==null){const _0x2f836a=JSON[_0x436bb8(0x185)](_0x388a36[_0x436bb8(0x187)],baileys_1[_0x436bb8(0x180)][_0x436bb8(0x161)]);_0x5cbc6c=_0x2f836a[_0x436bb8(0x183)];const {keys:_0x5b3cfa}=_0x2f836a;Object[_0x436bb8(0x15d)](_0x5b3cfa)[_0x436bb8(0x17c)]&&(logger_1[_0x436bb8(0x182)][_0x436bb8(0x16b)]('Clearing\x20old\x20format\x20session\x20keys\x20data'),_0x2f01b5());}else _0x5cbc6c=(0x0,baileys_1[_0x436bb8(0x16a)])();return{'state':{'creds':_0x5cbc6c,'keys':{'get':async(_0x15af57,_0x4067b0)=>{const _0x168063=_0x436bb8,_0x217e39={};let _0x18c924=0x0;for await(const _0x175a18 of _0x4067b0){try{let _0x588358=await _0x5678d0(_0x15af57,_0x175a18);_0x588358&&_0x15af57===_0x168063(0x16c)&&(_0x588358=baileys_1[_0x168063(0x157)]['Message']['AppStateSyncKeyData'][_0x168063(0x155)](_0x588358)),_0x217e39[_0x175a18]=_0x588358,_0x588358&&(_0x18c924+=0x1);}catch(_0x36acba){logger_1['logger']['error'](_0x168063(0x171)+_0x36acba['message']),logger_1[_0x168063(0x182)][_0x168063(0x162)](_0x168063(0x17b)+_0x36acba[_0x168063(0x173)]);}}return logger_1[_0x168063(0x182)][_0x168063(0x15e)](_0x168063(0x16e)+_0x59ff1d+'\x20type:\x20'+_0x15af57+_0x168063(0x165)+_0x18c924+'/'+_0x4067b0[_0x168063(0x17c)]),_0x217e39;},'set':async _0x121708=>{const _0x10ba9f=_0x436bb8,_0x57dc41=[];for(const _0x33e1bc in _0x121708){_0x33e1bc===_0x10ba9f(0x179)&&logger_1[_0x10ba9f(0x182)][_0x10ba9f(0x16b)]({'category':_0x121708[_0x33e1bc]},_0x10ba9f(0x153));for(const _0x53277c in _0x121708[_0x33e1bc]){const _0x4f7d8b=_0x121708[_0x33e1bc][_0x53277c];_0x57dc41[_0x10ba9f(0x164)](_0x4f7d8b?_0x54efa6(_0x33e1bc,_0x53277c,_0x4f7d8b):_0x34f418(_0x33e1bc,_0x53277c));}}await Promise[_0x10ba9f(0x154)](_0x57dc41);}}},'saveState':_0x2f01b5};};exports['default']=authState;