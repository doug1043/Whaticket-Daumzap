const a269_0x21441c=a269_0x34bf;(function(_0x298d68,_0x21341a){const _0x36c2a2=a269_0x34bf,_0x2829f5=_0x298d68();while(!![]){try{const _0x21f1bf=parseInt(_0x36c2a2(0x204))/0x1*(-parseInt(_0x36c2a2(0x1e7))/0x2)+-parseInt(_0x36c2a2(0x1e4))/0x3+-parseInt(_0x36c2a2(0x20a))/0x4+-parseInt(_0x36c2a2(0x20b))/0x5+-parseInt(_0x36c2a2(0x1f2))/0x6+parseInt(_0x36c2a2(0x1e2))/0x7+parseInt(_0x36c2a2(0x20c))/0x8;if(_0x21f1bf===_0x21341a)break;else _0x2829f5['push'](_0x2829f5['shift']());}catch(_0x2027ab){_0x2829f5['push'](_0x2829f5['shift']());}}}(a269_0x17ca,0x5c2e7));const a269_0x32e4ad=(function(){let _0x109ff2=!![];return function(_0x4d8b5b,_0x24960b){const _0x59b2eb=_0x109ff2?function(){if(_0x24960b){const _0xda75b2=_0x24960b['apply'](_0x4d8b5b,arguments);return _0x24960b=null,_0xda75b2;}}:function(){};return _0x109ff2=![],_0x59b2eb;};}()),a269_0x53ca2b=a269_0x32e4ad(this,function(){const _0x513672=a269_0x34bf;return a269_0x53ca2b[_0x513672(0x1fa)]()['search'](_0x513672(0x1ff))['toString']()[_0x513672(0x1f7)](a269_0x53ca2b)['search']('(((.+)+)+)+$');});function a269_0x17ca(){const _0xbdea5=['reviver','toString','\x20Counter:\x20','length','keys','error','(((.+)+)+)+$','update','all','AppStateSyncKeyData','parse','65vJBXMe','pre-key','../models/BaileysKeys','stringify','\x20key:\x20','log','1545664zEPRDw','2528795vlFfQr','14534696ywnbZz','fromObject','__importDefault','message','info','BufferJSON','3203655pglkQt','upsert','521982alzOyI','logger','@whiskeysockets/baileys','21176EgxdEH','__esModule','session','../utils/logger','\x20type:\x20','defineProperty','push','initAuthCreds','stack','creds','Setting\x20pre-keys','855228TXhckn','findOne','destroy','value','authState\x20(72)\x20->\x20stack:\x20','constructor','debug'];a269_0x17ca=function(){return _0xbdea5;};return a269_0x17ca();}a269_0x53ca2b();'use strict';function a269_0x34bf(_0x59cb06,_0xd06431){const _0x498694=a269_0x17ca();return a269_0x34bf=function(_0x53ca2b,_0x32e4ad){_0x53ca2b=_0x53ca2b-0x1e2;let _0x17ca62=_0x498694[_0x53ca2b];return _0x17ca62;},a269_0x34bf(_0x59cb06,_0xd06431);}var __importDefault=this&&this[a269_0x21441c(0x20e)]||function(_0x182525){const _0x519544=a269_0x21441c;return _0x182525&&_0x182525[_0x519544(0x1e8)]?_0x182525:{'default':_0x182525};};Object[a269_0x21441c(0x1ec)](exports,a269_0x21441c(0x1e8),{'value':!![]});const baileys_1=require(a269_0x21441c(0x1e6)),BaileysKeys_1=__importDefault(require(a269_0x21441c(0x206))),logger_1=require(a269_0x21441c(0x1ea)),authState=async _0x4145ae=>{const _0x2a08f7=a269_0x21441c;let _0x472eea;const _0x20005b=_0x4145ae['id'],_0x186543=async(_0x179596,_0x3a5b4b,_0x30a524)=>{const _0x58b6e1=a269_0x34bf;return logger_1[_0x58b6e1(0x1e5)][_0x58b6e1(0x1f8)]('Storing\x20key\x20whatsappId:\x20'+_0x20005b+_0x58b6e1(0x1eb)+_0x179596+'\x20key:\x20'+_0x3a5b4b),BaileysKeys_1['default'][_0x58b6e1(0x1e3)]({'whatsappId':_0x20005b,'type':_0x179596,'key':_0x3a5b4b,'value':JSON[_0x58b6e1(0x207)](_0x30a524)});},_0x416430=async(_0xd32052,_0x5875dd)=>{const _0x4caee6=a269_0x34bf,_0xaeb95a=await BaileysKeys_1['default'][_0x4caee6(0x1f3)]({'where':{'whatsappId':_0x20005b,'type':_0xd32052,'key':_0x5875dd}});return!_0xaeb95a&&logger_1['logger'][_0x4caee6(0x1f8)]('Key\x20not\x20found\x20whatsappId:\x20'+_0x20005b+'\x20type:\x20'+_0xd32052+_0x4caee6(0x208)+_0x5875dd),_0xaeb95a?.[_0x4caee6(0x1f5)]?JSON[_0x4caee6(0x203)](_0xaeb95a[_0x4caee6(0x1f5)]):null;},_0x689a08=async(_0x4f988a,_0x22a43a)=>{const _0x1e3f9e=a269_0x34bf;return logger_1['logger'][_0x1e3f9e(0x1f8)]('Deleting\x20key\x20whatsappId:\x20'+_0x20005b+_0x1e3f9e(0x1eb)+_0x4f988a+'\x20key:\x20'+_0x22a43a),BaileysKeys_1['default'][_0x1e3f9e(0x1f4)]({'where':{'whatsappId':_0x20005b,'type':_0x4f988a,'key':_0x22a43a}});},_0x21ee12=async()=>{const _0x5e4bde=a269_0x34bf;try{await _0x4145ae[_0x5e4bde(0x200)]({'session':JSON['stringify']({'creds':_0x472eea,'keys':{}},baileys_1[_0x5e4bde(0x211)]['replacer'],0x0)});}catch(_0x3e096a){console[_0x5e4bde(0x209)](_0x3e096a);}};if(_0x4145ae[_0x2a08f7(0x1e9)]&&_0x4145ae[_0x2a08f7(0x1e9)]!==null){const _0x576e4b=JSON[_0x2a08f7(0x203)](_0x4145ae['session'],baileys_1[_0x2a08f7(0x211)][_0x2a08f7(0x1f9)]);_0x472eea=_0x576e4b[_0x2a08f7(0x1f0)];const {keys:_0x1f8c7d}=_0x576e4b;Object[_0x2a08f7(0x1fd)](_0x1f8c7d)[_0x2a08f7(0x1fc)]&&(logger_1[_0x2a08f7(0x1e5)][_0x2a08f7(0x210)]('Clearing\x20old\x20format\x20session\x20keys\x20data'),_0x21ee12());}else _0x472eea=(0x0,baileys_1[_0x2a08f7(0x1ee)])();return{'state':{'creds':_0x472eea,'keys':{'get':async(_0x296aef,_0xd0ac86)=>{const _0x45e3d0=_0x2a08f7,_0x49b6fd={};let _0x208c90=0x0;for await(const _0x55ab32 of _0xd0ac86){try{let _0x4be61a=await _0x416430(_0x296aef,_0x55ab32);_0x4be61a&&_0x296aef==='app-state-sync-key'&&(_0x4be61a=baileys_1['proto']['Message'][_0x45e3d0(0x202)][_0x45e3d0(0x20d)](_0x4be61a)),_0x49b6fd[_0x55ab32]=_0x4be61a,_0x4be61a&&(_0x208c90+=0x1);}catch(_0xea4a3c){logger_1['logger']['error']('authState\x20(69)\x20->\x20error:\x20'+_0xea4a3c[_0x45e3d0(0x20f)]),logger_1[_0x45e3d0(0x1e5)][_0x45e3d0(0x1fe)](_0x45e3d0(0x1f6)+_0xea4a3c[_0x45e3d0(0x1ef)]);}}return logger_1[_0x45e3d0(0x1e5)][_0x45e3d0(0x1f8)]('Keys\x20retrieved:\x20whatsappId:\x20'+_0x20005b+_0x45e3d0(0x1eb)+_0x296aef+_0x45e3d0(0x1fb)+_0x208c90+'/'+_0xd0ac86[_0x45e3d0(0x1fc)]),_0x49b6fd;},'set':async _0x44a1a5=>{const _0xa768b0=_0x2a08f7,_0x1105f2=[];for(const _0x49ea30 in _0x44a1a5){_0x49ea30===_0xa768b0(0x205)&&logger_1[_0xa768b0(0x1e5)][_0xa768b0(0x210)]({'category':_0x44a1a5[_0x49ea30]},_0xa768b0(0x1f1));for(const _0x13205f in _0x44a1a5[_0x49ea30]){const _0x140a57=_0x44a1a5[_0x49ea30][_0x13205f];_0x1105f2[_0xa768b0(0x1ed)](_0x140a57?_0x186543(_0x49ea30,_0x13205f,_0x140a57):_0x689a08(_0x49ea30,_0x13205f));}}await Promise[_0xa768b0(0x201)](_0x1105f2);}}},'saveState':_0x21ee12};};exports['default']=authState;