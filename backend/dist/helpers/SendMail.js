const a281_0x263412=a281_0x14fa;(function(_0x493244,_0x1b7df6){const _0x1f3c23=a281_0x14fa,_0x15a48a=_0x493244();while(!![]){try{const _0x22e56d=parseInt(_0x1f3c23(0x1b7))/0x1*(-parseInt(_0x1f3c23(0x1bc))/0x2)+-parseInt(_0x1f3c23(0x1b4))/0x3+parseInt(_0x1f3c23(0x1a4))/0x4*(-parseInt(_0x1f3c23(0x1bf))/0x5)+-parseInt(_0x1f3c23(0x1bd))/0x6+-parseInt(_0x1f3c23(0x1b6))/0x7+parseInt(_0x1f3c23(0x1ac))/0x8+parseInt(_0x1f3c23(0x1ae))/0x9;if(_0x22e56d===_0x1b7df6)break;else _0x15a48a['push'](_0x15a48a['shift']());}catch(_0x43d235){_0x15a48a['push'](_0x15a48a['shift']());}}}(a281_0x4698,0x19cc3));const a281_0x1b9aa2=(function(){let _0x1a7063=!![];return function(_0x501777,_0x41779a){const _0x5196e5=_0x1a7063?function(){const _0x1d6ff1=a281_0x14fa;if(_0x41779a){const _0x2ada77=_0x41779a[_0x1d6ff1(0x1b8)](_0x501777,arguments);return _0x41779a=null,_0x2ada77;}}:function(){};return _0x1a7063=![],_0x5196e5;};}()),a281_0x5bea8a=a281_0x1b9aa2(this,function(){const _0x48a741=a281_0x14fa;return a281_0x5bea8a[_0x48a741(0x1ab)]()[_0x48a741(0x1c0)](_0x48a741(0x1a8))[_0x48a741(0x1ab)]()[_0x48a741(0x1be)](a281_0x5bea8a)[_0x48a741(0x1c0)]('(((.+)+)+)+$');});a281_0x5bea8a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x51cdc1){const _0x4a2eb1=a281_0x14fa;return _0x51cdc1&&_0x51cdc1[_0x4a2eb1(0x1bb)]?_0x51cdc1:{'default':_0x51cdc1};};Object[a281_0x263412(0x1ba)](exports,a281_0x263412(0x1bb),{'value':!![]}),exports[a281_0x263412(0x1b0)]=SendMail;function a281_0x14fa(_0x6b0d7,_0x19fc1f){const _0x306d5a=a281_0x4698();return a281_0x14fa=function(_0x5bea8a,_0x1b9aa2){_0x5bea8a=_0x5bea8a-0x1a3;let _0x469809=_0x306d5a[_0x5bea8a];return _0x469809;},a281_0x14fa(_0x6b0d7,_0x19fc1f);}const nodemailer_1=__importDefault(require('nodemailer')),Setting_1=__importDefault(require(a281_0x263412(0x1ad))),companyId=0x1;async function loadSmtpSettings(_0x2b712c){const _0x566edc=a281_0x263412,[_0x3b9b53,_0x534c71,_0x40722f,_0x8e5f4a]=await Promise['all']([Setting_1[_0x566edc(0x1b5)][_0x566edc(0x1b9)]({'where':{'companyId':_0x2b712c,'key':_0x566edc(0x1b2)}}),Setting_1[_0x566edc(0x1b5)][_0x566edc(0x1b9)]({'where':{'companyId':_0x2b712c,'key':_0x566edc(0x1b3)}}),Setting_1[_0x566edc(0x1b5)][_0x566edc(0x1b9)]({'where':{'companyId':_0x2b712c,'key':'clientsecretsmtpauth'}}),Setting_1[_0x566edc(0x1b5)][_0x566edc(0x1b9)]({'where':{'companyId':_0x2b712c,'key':_0x566edc(0x1a3)}})]);return{'urlSmtp':_0x3b9b53?.[_0x566edc(0x1a6)],'userSmtp':_0x534c71?.[_0x566edc(0x1a6)],'passwordSmtp':_0x40722f?.['value'],'portSmtp':_0x8e5f4a?.[_0x566edc(0x1a6)]};}async function SendMail(_0x4a12f8){const _0x5b61aa=a281_0x263412,{urlSmtp:_0x458feb,userSmtp:_0x20298b,passwordSmtp:_0x4e4823,portSmtp:_0x2d297e}=await loadSmtpSettings(companyId),_0x1433a8=nodemailer_1[_0x5b61aa(0x1b5)][_0x5b61aa(0x1aa)]({'host':_0x458feb,'port':Number(_0x2d297e),'secure':![],'auth':{'user':_0x20298b,'pass':_0x4e4823}});let _0x19fd29=_0x1433a8[_0x5b61aa(0x1af)]({'from':_0x20298b,'to':_0x4a12f8['to'],'subject':_0x4a12f8[_0x5b61aa(0x1b1)],'text':_0x4a12f8[_0x5b61aa(0x1a9)],'html':_0x4a12f8['html']||_0x4a12f8[_0x5b61aa(0x1a9)]});console[_0x5b61aa(0x1a5)](_0x5b61aa(0x1a7),_0x19fd29);}function a281_0x4698(){const _0x136fb9=['sendMail','SendMail','subject','smtpauth','usersmtpauth','425211uHHJsh','default','361242mvZPvj','116491OviSTA','apply','findOne','defineProperty','__esModule','2WSVdmY','166134NKOatQ','constructor','45945pYrUJW','search','smtpport','64RhJVdk','log','value','Message\x20sent:\x20%s','(((.+)+)+)+$','text','createTransport','toString','306392NykMfr','../models/Setting','4967235fzIHGK'];a281_0x4698=function(){return _0x136fb9;};return a281_0x4698();}