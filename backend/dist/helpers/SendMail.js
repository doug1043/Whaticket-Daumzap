function a244_0x30c2(){const _0x2a4c8f=['2989105WGkjNS','__importDefault','smtpauth','log','nodemailer','Message\x20sent:\x20%s','search','10KvNrjO','findOne','usersmtpauth','2287392PFCyWA','394319jEvjwN','7wdvKfO','toString','2WwsgCM','text','9fkSruD','1763836zhFVqJ','SendMail','../models/Setting','(((.+)+)+)+$','smtpport','__esModule','3ROXGQD','value','createTransport','all','5259072ZRPnNE','default','4860560yYxMEN','subject','3191947LqkVvg','sendMail'];a244_0x30c2=function(){return _0x2a4c8f;};return a244_0x30c2();}const a244_0x403d7a=a244_0x158e;(function(_0x55a26e,_0x1d230c){const _0x1e10c8=a244_0x158e,_0x5581d2=_0x55a26e();while(!![]){try{const _0x53a8d3=parseInt(_0x1e10c8(0x1e0))/0x1*(parseInt(_0x1e10c8(0x1e3))/0x2)+-parseInt(_0x1e10c8(0x1ec))/0x3*(-parseInt(_0x1e10c8(0x1e6))/0x4)+-parseInt(_0x1e10c8(0x1f6))/0x5+parseInt(_0x1e10c8(0x1df))/0x6*(-parseInt(_0x1e10c8(0x1e1))/0x7)+parseInt(_0x1e10c8(0x1f2))/0x8*(parseInt(_0x1e10c8(0x1e5))/0x9)+parseInt(_0x1e10c8(0x1fd))/0xa*(parseInt(_0x1e10c8(0x1f4))/0xb)+-parseInt(_0x1e10c8(0x1f0))/0xc;if(_0x53a8d3===_0x1d230c)break;else _0x5581d2['push'](_0x5581d2['shift']());}catch(_0x3b8a4d){_0x5581d2['push'](_0x5581d2['shift']());}}}(a244_0x30c2,0x4d144));const a244_0x4d7189=(function(){let _0x2d2076=!![];return function(_0x54b6cb,_0x2e3930){const _0x2eb520=_0x2d2076?function(){if(_0x2e3930){const _0x14fa8d=_0x2e3930['apply'](_0x54b6cb,arguments);return _0x2e3930=null,_0x14fa8d;}}:function(){};return _0x2d2076=![],_0x2eb520;};}()),a244_0x2f159a=a244_0x4d7189(this,function(){const _0x3c0e69=a244_0x158e;return a244_0x2f159a['toString']()[_0x3c0e69(0x1fc)](_0x3c0e69(0x1e9))[_0x3c0e69(0x1e2)]()['constructor'](a244_0x2f159a)['search']('(((.+)+)+)+$');});a244_0x2f159a();'use strict';var __importDefault=this&&this[a244_0x403d7a(0x1f7)]||function(_0x19424d){const _0x3f8eac=a244_0x403d7a;return _0x19424d&&_0x19424d[_0x3f8eac(0x1eb)]?_0x19424d:{'default':_0x19424d};};Object['defineProperty'](exports,a244_0x403d7a(0x1eb),{'value':!![]}),exports[a244_0x403d7a(0x1e7)]=void 0x0;function a244_0x158e(_0xd12620,_0x5b1a1b){const _0x5ed599=a244_0x30c2();return a244_0x158e=function(_0x2f159a,_0x4d7189){_0x2f159a=_0x2f159a-0x1dd;let _0x30c2d5=_0x5ed599[_0x2f159a];return _0x30c2d5;},a244_0x158e(_0xd12620,_0x5b1a1b);}const nodemailer_1=__importDefault(require(a244_0x403d7a(0x1fa))),Setting_1=__importDefault(require(a244_0x403d7a(0x1e8))),companyId=0x1;async function loadSmtpSettings(_0x549fa9){const _0x137764=a244_0x403d7a,[_0x51dc10,_0x15ef08,_0x2f8310,_0x3a30f9]=await Promise[_0x137764(0x1ef)]([Setting_1[_0x137764(0x1f1)]['findOne']({'where':{'companyId':_0x549fa9,'key':_0x137764(0x1f8)}}),Setting_1[_0x137764(0x1f1)][_0x137764(0x1dd)]({'where':{'companyId':_0x549fa9,'key':_0x137764(0x1de)}}),Setting_1[_0x137764(0x1f1)][_0x137764(0x1dd)]({'where':{'companyId':_0x549fa9,'key':'clientsecretsmtpauth'}}),Setting_1[_0x137764(0x1f1)][_0x137764(0x1dd)]({'where':{'companyId':_0x549fa9,'key':_0x137764(0x1ea)}})]);return{'urlSmtp':_0x51dc10?.['value'],'userSmtp':_0x15ef08?.[_0x137764(0x1ed)],'passwordSmtp':_0x2f8310?.[_0x137764(0x1ed)],'portSmtp':_0x3a30f9?.[_0x137764(0x1ed)]};}async function SendMail(_0xb6f674){const _0x57c518=a244_0x403d7a,{urlSmtp:_0xf3c939,userSmtp:_0x251a03,passwordSmtp:_0x40fed1,portSmtp:_0x2b6a9f}=await loadSmtpSettings(companyId),_0x2d144e=nodemailer_1[_0x57c518(0x1f1)][_0x57c518(0x1ee)]({'host':_0xf3c939,'port':Number(_0x2b6a9f),'secure':![],'auth':{'user':_0x251a03,'pass':_0x40fed1}});let _0x398707=_0x2d144e[_0x57c518(0x1f5)]({'from':_0x251a03,'to':_0xb6f674['to'],'subject':_0xb6f674[_0x57c518(0x1f3)],'text':_0xb6f674[_0x57c518(0x1e4)],'html':_0xb6f674['html']||_0xb6f674['text']});console[_0x57c518(0x1f9)](_0x57c518(0x1fb),_0x398707);}exports[a244_0x403d7a(0x1e7)]=SendMail;