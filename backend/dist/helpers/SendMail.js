const a244_0x576261=a244_0x546a;(function(_0x483ee2,_0x5a11cd){const _0x1f458f=a244_0x546a,_0x3a79=_0x483ee2();while(!![]){try{const _0x4d2117=parseInt(_0x1f458f(0x107))/0x1*(-parseInt(_0x1f458f(0x10d))/0x2)+-parseInt(_0x1f458f(0x10c))/0x3*(-parseInt(_0x1f458f(0xfe))/0x4)+parseInt(_0x1f458f(0x108))/0x5+-parseInt(_0x1f458f(0x114))/0x6+parseInt(_0x1f458f(0x110))/0x7+parseInt(_0x1f458f(0x105))/0x8*(-parseInt(_0x1f458f(0xfd))/0x9)+parseInt(_0x1f458f(0x101))/0xa;if(_0x4d2117===_0x5a11cd)break;else _0x3a79['push'](_0x3a79['shift']());}catch(_0x1c8b65){_0x3a79['push'](_0x3a79['shift']());}}}(a244_0x1c7f,0x87566));function a244_0x546a(_0x18d863,_0x524132){const _0x2808ec=a244_0x1c7f();return a244_0x546a=function(_0x14eafd,_0x248a11){_0x14eafd=_0x14eafd-0xf7;let _0x1c7f33=_0x2808ec[_0x14eafd];return _0x1c7f33;},a244_0x546a(_0x18d863,_0x524132);}const a244_0x248a11=(function(){let _0x458332=!![];return function(_0x549746,_0x34cd1e){const _0x215b6a=_0x458332?function(){const _0x22a41e=a244_0x546a;if(_0x34cd1e){const _0x2fe50d=_0x34cd1e[_0x22a41e(0xfa)](_0x549746,arguments);return _0x34cd1e=null,_0x2fe50d;}}:function(){};return _0x458332=![],_0x215b6a;};}()),a244_0x14eafd=a244_0x248a11(this,function(){const _0x292fbe=a244_0x546a;return a244_0x14eafd[_0x292fbe(0x10e)]()[_0x292fbe(0xf7)](_0x292fbe(0x111))[_0x292fbe(0x10e)]()[_0x292fbe(0x10b)](a244_0x14eafd)[_0x292fbe(0xf7)]('(((.+)+)+)+$');});a244_0x14eafd();'use strict';var __importDefault=this&&this[a244_0x576261(0x104)]||function(_0x50f1e7){const _0x3320e3=a244_0x576261;return _0x50f1e7&&_0x50f1e7[_0x3320e3(0x10f)]?_0x50f1e7:{'default':_0x50f1e7};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a244_0x576261(0x106)]=void 0x0;const nodemailer_1=__importDefault(require(a244_0x576261(0x103))),Setting_1=__importDefault(require('../models/Setting')),companyId=0x1;async function loadSmtpSettings(_0x1758a0){const _0x7f1c05=a244_0x576261,[_0x2eadc0,_0x48368d,_0x50ddd7,_0x5c586d]=await Promise[_0x7f1c05(0x112)]([Setting_1[_0x7f1c05(0xf9)][_0x7f1c05(0x113)]({'where':{'companyId':_0x1758a0,'key':'smtpauth'}}),Setting_1[_0x7f1c05(0xf9)][_0x7f1c05(0x113)]({'where':{'companyId':_0x1758a0,'key':'usersmtpauth'}}),Setting_1['default']['findOne']({'where':{'companyId':_0x1758a0,'key':'clientsecretsmtpauth'}}),Setting_1[_0x7f1c05(0xf9)]['findOne']({'where':{'companyId':_0x1758a0,'key':_0x7f1c05(0xff)}})]);return{'urlSmtp':_0x2eadc0?.[_0x7f1c05(0xfc)],'userSmtp':_0x48368d?.[_0x7f1c05(0xfc)],'passwordSmtp':_0x50ddd7?.['value'],'portSmtp':_0x5c586d?.[_0x7f1c05(0xfc)]};}async function SendMail(_0x4c3624){const _0x1ada72=a244_0x576261,{urlSmtp:_0x1f6aa7,userSmtp:_0x20f9d7,passwordSmtp:_0x1bcddd,portSmtp:_0x49f5b0}=await loadSmtpSettings(companyId),_0x5dbf98=nodemailer_1[_0x1ada72(0xf9)][_0x1ada72(0x10a)]({'host':_0x1f6aa7,'port':Number(_0x49f5b0),'secure':![],'auth':{'user':_0x20f9d7,'pass':_0x1bcddd}});let _0x99f9dc=_0x5dbf98[_0x1ada72(0x100)]({'from':_0x20f9d7,'to':_0x4c3624['to'],'subject':_0x4c3624['subject'],'text':_0x4c3624['text'],'html':_0x4c3624[_0x1ada72(0x102)]||_0x4c3624[_0x1ada72(0xfb)]});console[_0x1ada72(0x109)](_0x1ada72(0xf8),_0x99f9dc);}exports[a244_0x576261(0x106)]=SendMail;function a244_0x1c7f(){const _0x56f2e2=['findOne','6606570fGJSrn','search','Message\x20sent:\x20%s','default','apply','text','value','9EwWGdD','4dltxYn','smtpport','sendMail','5626390AHXFaO','html','nodemailer','__importDefault','492488VfQSik','SendMail','846499BlehoM','5437175WeCJGe','log','createTransport','constructor','2778DZTvkZ','2bVNyfG','toString','__esModule','6387479sjzTiL','(((.+)+)+)+$','all'];a244_0x1c7f=function(){return _0x56f2e2;};return a244_0x1c7f();}