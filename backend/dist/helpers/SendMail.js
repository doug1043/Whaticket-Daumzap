const a347_0x46f0e3=a347_0x4689;(function(_0xc95a5d,_0x115403){const _0x2d2fa7=a347_0x4689,_0x49c09c=_0xc95a5d();while(!![]){try{const _0x205195=-parseInt(_0x2d2fa7(0xdc))/0x1*(-parseInt(_0x2d2fa7(0xe3))/0x2)+parseInt(_0x2d2fa7(0xdd))/0x3+parseInt(_0x2d2fa7(0xda))/0x4+-parseInt(_0x2d2fa7(0xe5))/0x5+-parseInt(_0x2d2fa7(0xd6))/0x6*(parseInt(_0x2d2fa7(0xcb))/0x7)+-parseInt(_0x2d2fa7(0xc9))/0x8+parseInt(_0x2d2fa7(0xcf))/0x9;if(_0x205195===_0x115403)break;else _0x49c09c['push'](_0x49c09c['shift']());}catch(_0x5a601a){_0x49c09c['push'](_0x49c09c['shift']());}}}(a347_0x499e,0xccc64));const a347_0x66785e=(function(){let _0x4396e9=!![];return function(_0x3e280e,_0x126c8f){const _0x5cc2a6=_0x4396e9?function(){if(_0x126c8f){const _0x47e6aa=_0x126c8f['apply'](_0x3e280e,arguments);return _0x126c8f=null,_0x47e6aa;}}:function(){};return _0x4396e9=![],_0x5cc2a6;};}()),a347_0x120871=a347_0x66785e(this,function(){const _0x358c83=a347_0x4689;return a347_0x120871[_0x358c83(0xd2)]()[_0x358c83(0xe0)]('(((.+)+)+)+$')['toString']()['constructor'](a347_0x120871)[_0x358c83(0xe0)](_0x358c83(0xc8));});function a347_0x4689(_0x52ed79,_0x2b0bb5){const _0x12d4bf=a347_0x499e();return a347_0x4689=function(_0x120871,_0x66785e){_0x120871=_0x120871-0xc7;let _0x499e79=_0x12d4bf[_0x120871];return _0x499e79;},a347_0x4689(_0x52ed79,_0x2b0bb5);}a347_0x120871();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x17fa20){const _0x59e840=a347_0x4689;return _0x17fa20&&_0x17fa20[_0x59e840(0xcc)]?_0x17fa20:{'default':_0x17fa20};};function a347_0x499e(){const _0x3735a3=['smtpport','defineProperty','search','Message\x20sent:\x20%s','value','214838AYMtnF','createTransport','3449660qOjBuZ','html','(((.+)+)+)+$','13013672ZTLACr','usersmtpauth','15533azlIQW','__esModule','smtpauth','SendMail','22887801kGnIOo','subject','sendMail','toString','default','../models/Setting','all','3732CsAMhP','findOne','clientsecretsmtpauth','text','329784vVnOJc','nodemailer','4AdbVTP','4441212wgFpOb'];a347_0x499e=function(){return _0x3735a3;};return a347_0x499e();}Object[a347_0x46f0e3(0xdf)](exports,a347_0x46f0e3(0xcc),{'value':!![]}),exports[a347_0x46f0e3(0xce)]=SendMail;const nodemailer_1=__importDefault(require(a347_0x46f0e3(0xdb))),Setting_1=__importDefault(require(a347_0x46f0e3(0xd4))),companyId=0x1;async function loadSmtpSettings(_0x332aed){const _0x42fecd=a347_0x46f0e3,[_0x2360ab,_0x5426f8,_0x141135,_0x533213]=await Promise[_0x42fecd(0xd5)]([Setting_1[_0x42fecd(0xd3)]['findOne']({'where':{'companyId':_0x332aed,'key':_0x42fecd(0xcd)}}),Setting_1['default']['findOne']({'where':{'companyId':_0x332aed,'key':_0x42fecd(0xca)}}),Setting_1[_0x42fecd(0xd3)][_0x42fecd(0xd7)]({'where':{'companyId':_0x332aed,'key':_0x42fecd(0xd8)}}),Setting_1['default'][_0x42fecd(0xd7)]({'where':{'companyId':_0x332aed,'key':_0x42fecd(0xde)}})]);return{'urlSmtp':_0x2360ab?.[_0x42fecd(0xe2)],'userSmtp':_0x5426f8?.[_0x42fecd(0xe2)],'passwordSmtp':_0x141135?.[_0x42fecd(0xe2)],'portSmtp':_0x533213?.[_0x42fecd(0xe2)]};}async function SendMail(_0x49a12f){const _0x39126a=a347_0x46f0e3,{urlSmtp:_0x4eb1f9,userSmtp:_0x43debe,passwordSmtp:_0x4b90db,portSmtp:_0x2f6615}=await loadSmtpSettings(companyId),_0x7ba66f=nodemailer_1[_0x39126a(0xd3)][_0x39126a(0xe4)]({'host':_0x4eb1f9,'port':Number(_0x2f6615),'secure':![],'auth':{'user':_0x43debe,'pass':_0x4b90db}});let _0x1a8c28=_0x7ba66f[_0x39126a(0xd1)]({'from':_0x43debe,'to':_0x49a12f['to'],'subject':_0x49a12f[_0x39126a(0xd0)],'text':_0x49a12f['text'],'html':_0x49a12f[_0x39126a(0xc7)]||_0x49a12f[_0x39126a(0xd9)]});console['log'](_0x39126a(0xe1),_0x1a8c28);}