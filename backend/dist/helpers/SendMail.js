const a275_0x24cf95=a275_0x1133;function a275_0x1133(_0x3deae9,_0x29ed47){const _0x328c65=a275_0x1efe();return a275_0x1133=function(_0x12d40a,_0x314151){_0x12d40a=_0x12d40a-0x150;let _0x1efeda=_0x328c65[_0x12d40a];return _0x1efeda;},a275_0x1133(_0x3deae9,_0x29ed47);}(function(_0x4d2c82,_0x55a192){const _0x4a9a48=a275_0x1133,_0x33c62c=_0x4d2c82();while(!![]){try{const _0x567fde=-parseInt(_0x4a9a48(0x15f))/0x1*(parseInt(_0x4a9a48(0x165))/0x2)+parseInt(_0x4a9a48(0x16a))/0x3*(parseInt(_0x4a9a48(0x168))/0x4)+-parseInt(_0x4a9a48(0x152))/0x5*(parseInt(_0x4a9a48(0x172))/0x6)+parseInt(_0x4a9a48(0x15a))/0x7*(parseInt(_0x4a9a48(0x167))/0x8)+-parseInt(_0x4a9a48(0x16d))/0x9*(-parseInt(_0x4a9a48(0x166))/0xa)+-parseInt(_0x4a9a48(0x153))/0xb*(parseInt(_0x4a9a48(0x15b))/0xc)+parseInt(_0x4a9a48(0x15c))/0xd;if(_0x567fde===_0x55a192)break;else _0x33c62c['push'](_0x33c62c['shift']());}catch(_0x3c4dd9){_0x33c62c['push'](_0x33c62c['shift']());}}}(a275_0x1efe,0xebd5a));function a275_0x1efe(){const _0x51b6d7=['default','9eOQrUT','findOne','(((.+)+)+)+$','text','defineProperty','9347142lfoTfS','search','nodemailer','5XBPoiv','11yojdfv','all','createTransport','__importDefault','log','smtpauth','__esModule','1044085vjizMp','10287168NrZyfT','31320822UqPhvB','usersmtpauth','html','1oVwXSW','subject','SendMail','Message\x20sent:\x20%s','apply','value','1438238UWcDxN','12171860OHpbST','24sZZgSp','172FSYRGL','clientsecretsmtpauth','1833PeKpAl','toString'];a275_0x1efe=function(){return _0x51b6d7;};return a275_0x1efe();}const a275_0x314151=(function(){let _0x158dd2=!![];return function(_0x4a352b,_0x52f2da){const _0x31ec04=_0x158dd2?function(){const _0x139a4f=a275_0x1133;if(_0x52f2da){const _0x3d2db9=_0x52f2da[_0x139a4f(0x163)](_0x4a352b,arguments);return _0x52f2da=null,_0x3d2db9;}}:function(){};return _0x158dd2=![],_0x31ec04;};}()),a275_0x12d40a=a275_0x314151(this,function(){const _0x13878f=a275_0x1133;return a275_0x12d40a[_0x13878f(0x16b)]()['search'](_0x13878f(0x16f))[_0x13878f(0x16b)]()['constructor'](a275_0x12d40a)[_0x13878f(0x150)](_0x13878f(0x16f));});a275_0x12d40a();'use strict';var __importDefault=this&&this[a275_0x24cf95(0x156)]||function(_0x504097){const _0x1d92f5=a275_0x24cf95;return _0x504097&&_0x504097[_0x1d92f5(0x159)]?_0x504097:{'default':_0x504097};};Object[a275_0x24cf95(0x171)](exports,a275_0x24cf95(0x159),{'value':!![]}),exports[a275_0x24cf95(0x161)]=SendMail;const nodemailer_1=__importDefault(require(a275_0x24cf95(0x151))),Setting_1=__importDefault(require('../models/Setting')),companyId=0x1;async function loadSmtpSettings(_0x481a94){const _0xa818fa=a275_0x24cf95,[_0x1ddaaa,_0x1bc5c9,_0x1a07e6,_0x2523e9]=await Promise[_0xa818fa(0x154)]([Setting_1[_0xa818fa(0x16c)][_0xa818fa(0x16e)]({'where':{'companyId':_0x481a94,'key':_0xa818fa(0x158)}}),Setting_1[_0xa818fa(0x16c)][_0xa818fa(0x16e)]({'where':{'companyId':_0x481a94,'key':_0xa818fa(0x15d)}}),Setting_1['default'][_0xa818fa(0x16e)]({'where':{'companyId':_0x481a94,'key':_0xa818fa(0x169)}}),Setting_1[_0xa818fa(0x16c)][_0xa818fa(0x16e)]({'where':{'companyId':_0x481a94,'key':'smtpport'}})]);return{'urlSmtp':_0x1ddaaa?.[_0xa818fa(0x164)],'userSmtp':_0x1bc5c9?.[_0xa818fa(0x164)],'passwordSmtp':_0x1a07e6?.[_0xa818fa(0x164)],'portSmtp':_0x2523e9?.[_0xa818fa(0x164)]};}async function SendMail(_0x2b6248){const _0x3cb473=a275_0x24cf95,{urlSmtp:_0x37a469,userSmtp:_0x32eb37,passwordSmtp:_0x5f5391,portSmtp:_0x1d0d8f}=await loadSmtpSettings(companyId),_0x514e21=nodemailer_1['default'][_0x3cb473(0x155)]({'host':_0x37a469,'port':Number(_0x1d0d8f),'secure':![],'auth':{'user':_0x32eb37,'pass':_0x5f5391}});let _0x30090f=_0x514e21['sendMail']({'from':_0x32eb37,'to':_0x2b6248['to'],'subject':_0x2b6248[_0x3cb473(0x160)],'text':_0x2b6248[_0x3cb473(0x170)],'html':_0x2b6248[_0x3cb473(0x15e)]||_0x2b6248['text']});console[_0x3cb473(0x157)](_0x3cb473(0x162),_0x30090f);}