const a279_0x33ae52=a279_0x29c5;function a279_0x29c5(_0x31d003,_0x5519f6){const _0x26f56d=a279_0x138d();return a279_0x29c5=function(_0xb69beb,_0x366296){_0xb69beb=_0xb69beb-0x71;let _0x138dac=_0x26f56d[_0xb69beb];return _0x138dac;},a279_0x29c5(_0x31d003,_0x5519f6);}(function(_0x33a62a,_0x4bcd90){const _0x511ba0=a279_0x29c5,_0x50175b=_0x33a62a();while(!![]){try{const _0x2c9ebb=-parseInt(_0x511ba0(0x75))/0x1*(parseInt(_0x511ba0(0x86))/0x2)+parseInt(_0x511ba0(0x74))/0x3+-parseInt(_0x511ba0(0x8a))/0x4+parseInt(_0x511ba0(0x79))/0x5*(-parseInt(_0x511ba0(0x73))/0x6)+-parseInt(_0x511ba0(0x88))/0x7+-parseInt(_0x511ba0(0x89))/0x8*(parseInt(_0x511ba0(0x84))/0x9)+-parseInt(_0x511ba0(0x83))/0xa*(-parseInt(_0x511ba0(0x8e))/0xb);if(_0x2c9ebb===_0x4bcd90)break;else _0x50175b['push'](_0x50175b['shift']());}catch(_0x5631cd){_0x50175b['push'](_0x50175b['shift']());}}}(a279_0x138d,0x7ebaa));const a279_0x366296=(function(){let _0x49a363=!![];return function(_0xcebb3a,_0x33f85e){const _0x135c82=_0x49a363?function(){if(_0x33f85e){const _0x54ccad=_0x33f85e['apply'](_0xcebb3a,arguments);return _0x33f85e=null,_0x54ccad;}}:function(){};return _0x49a363=![],_0x135c82;};}()),a279_0xb69beb=a279_0x366296(this,function(){const _0x2644cd=a279_0x29c5;return a279_0xb69beb['toString']()[_0x2644cd(0x71)]('(((.+)+)+)+$')[_0x2644cd(0x7a)]()['constructor'](a279_0xb69beb)[_0x2644cd(0x71)](_0x2644cd(0x80));});a279_0xb69beb();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2727cd){return _0x2727cd&&_0x2727cd['__esModule']?_0x2727cd:{'default':_0x2727cd};};Object[a279_0x33ae52(0x85)](exports,a279_0x33ae52(0x78),{'value':!![]}),exports[a279_0x33ae52(0x81)]=SendMail;const nodemailer_1=__importDefault(require(a279_0x33ae52(0x7d))),Setting_1=__importDefault(require('../models/Setting')),companyId=0x1;async function loadSmtpSettings(_0x2108ec){const _0x267743=a279_0x33ae52,[_0x1f4178,_0x525530,_0x32f123,_0x488486]=await Promise['all']([Setting_1[_0x267743(0x8d)][_0x267743(0x8f)]({'where':{'companyId':_0x2108ec,'key':_0x267743(0x82)}}),Setting_1[_0x267743(0x8d)][_0x267743(0x8f)]({'where':{'companyId':_0x2108ec,'key':_0x267743(0x7f)}}),Setting_1[_0x267743(0x8d)][_0x267743(0x8f)]({'where':{'companyId':_0x2108ec,'key':'clientsecretsmtpauth'}}),Setting_1['default']['findOne']({'where':{'companyId':_0x2108ec,'key':_0x267743(0x76)}})]);return{'urlSmtp':_0x1f4178?.['value'],'userSmtp':_0x525530?.[_0x267743(0x72)],'passwordSmtp':_0x32f123?.[_0x267743(0x72)],'portSmtp':_0x488486?.['value']};}function a279_0x138d(){const _0x1d8853=['search','value','54KKTdFm','1496745IcqWqX','305886wuJRzt','smtpport','createTransport','__esModule','446935MCQvfF','toString','html','sendMail','nodemailer','text','usersmtpauth','(((.+)+)+)+$','SendMail','smtpauth','17890uyuOhz','26118hLDGaf','defineProperty','2pdBBjW','subject','6259428ZEnoIx','2096YtpCJR','1862196nexwKi','Message\x20sent:\x20%s','log','default','19987uYEEID','findOne'];a279_0x138d=function(){return _0x1d8853;};return a279_0x138d();}async function SendMail(_0x147572){const _0x57f409=a279_0x33ae52,{urlSmtp:_0x386319,userSmtp:_0x41b19a,passwordSmtp:_0x1bc944,portSmtp:_0x2bb37c}=await loadSmtpSettings(companyId),_0x22fa20=nodemailer_1['default'][_0x57f409(0x77)]({'host':_0x386319,'port':Number(_0x2bb37c),'secure':![],'auth':{'user':_0x41b19a,'pass':_0x1bc944}});let _0x45ed37=_0x22fa20[_0x57f409(0x7c)]({'from':_0x41b19a,'to':_0x147572['to'],'subject':_0x147572[_0x57f409(0x87)],'text':_0x147572['text'],'html':_0x147572[_0x57f409(0x7b)]||_0x147572[_0x57f409(0x7e)]});console[_0x57f409(0x8c)](_0x57f409(0x8b),_0x45ed37);}