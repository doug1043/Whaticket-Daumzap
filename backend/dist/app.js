const a0_0x118005=a0_0x477a;function a0_0x477a(_0x21c218,_0x47175e){const _0x89f8b=a0_0x1be2();return a0_0x477a=function(_0x12d2ab,_0x9b510d){_0x12d2ab=_0x12d2ab-0x151;let _0x1be251=_0x89f8b[_0x12d2ab];return _0x1be251;},a0_0x477a(_0x21c218,_0x47175e);}(function(_0x1b994d,_0x257764){const _0x550186=a0_0x477a,_0x3fe487=_0x1b994d();while(!![]){try{const _0x4d0e8d=-parseInt(_0x550186(0x154))/0x1+parseInt(_0x550186(0x17e))/0x2+parseInt(_0x550186(0x187))/0x3+-parseInt(_0x550186(0x157))/0x4*(-parseInt(_0x550186(0x16d))/0x5)+parseInt(_0x550186(0x179))/0x6*(parseInt(_0x550186(0x153))/0x7)+-parseInt(_0x550186(0x169))/0x8+parseInt(_0x550186(0x175))/0x9;if(_0x4d0e8d===_0x257764)break;else _0x3fe487['push'](_0x3fe487['shift']());}catch(_0x2a5b8c){_0x3fe487['push'](_0x3fe487['shift']());}}}(a0_0x1be2,0xe79f6));const a0_0x9b510d=(function(){let _0x20acae=!![];return function(_0x5eed0b,_0x1e5814){const _0x30c643=_0x20acae?function(){if(_0x1e5814){const _0x47e8d4=_0x1e5814['apply'](_0x5eed0b,arguments);return _0x1e5814=null,_0x47e8d4;}}:function(){};return _0x20acae=![],_0x30c643;};}()),a0_0x12d2ab=a0_0x9b510d(this,function(){const _0x2084ba=a0_0x477a;return a0_0x12d2ab['toString']()[_0x2084ba(0x15d)](_0x2084ba(0x178))[_0x2084ba(0x18d)]()[_0x2084ba(0x172)](a0_0x12d2ab)[_0x2084ba(0x15d)](_0x2084ba(0x178));});a0_0x12d2ab();'use strict';var __createBinding=this&&this[a0_0x118005(0x152)]||(Object['create']?function(_0x29526a,_0x923f,_0x206d6a,_0x465073){const _0x47a62b=a0_0x118005;if(_0x465073===undefined)_0x465073=_0x206d6a;var _0x4df4ec=Object[_0x47a62b(0x158)](_0x923f,_0x206d6a);(!_0x4df4ec||(_0x47a62b(0x16c)in _0x4df4ec?!_0x923f['__esModule']:_0x4df4ec['writable']||_0x4df4ec[_0x47a62b(0x18b)]))&&(_0x4df4ec={'enumerable':!![],'get':function(){return _0x923f[_0x206d6a];}}),Object['defineProperty'](_0x29526a,_0x465073,_0x4df4ec);}:function(_0x3e6f3f,_0x2663b0,_0x4c914c,_0x33c73b){if(_0x33c73b===undefined)_0x33c73b=_0x4c914c;_0x3e6f3f[_0x33c73b]=_0x2663b0[_0x4c914c];}),__setModuleDefault=this&&this[a0_0x118005(0x168)]||(Object['create']?function(_0x369fc1,_0x16ba54){const _0x42e570=a0_0x118005;Object[_0x42e570(0x156)](_0x369fc1,_0x42e570(0x165),{'enumerable':!![],'value':_0x16ba54});}:function(_0x291149,_0x4e5e4b){const _0x381399=a0_0x118005;_0x291149[_0x381399(0x165)]=_0x4e5e4b;}),__importStar=this&&this[a0_0x118005(0x17b)]||function(_0x31d876){const _0x2ca6d8=a0_0x118005;if(_0x31d876&&_0x31d876['__esModule'])return _0x31d876;var _0x29cec1={};if(_0x31d876!=null){for(var _0x12eed1 in _0x31d876)if(_0x12eed1!==_0x2ca6d8(0x165)&&Object[_0x2ca6d8(0x171)][_0x2ca6d8(0x17a)]['call'](_0x31d876,_0x12eed1))__createBinding(_0x29cec1,_0x31d876,_0x12eed1);}return __setModuleDefault(_0x29cec1,_0x31d876),_0x29cec1;},__importDefault=this&&this[a0_0x118005(0x16b)]||function(_0x56d0f1){const _0xb0b718=a0_0x118005;return _0x56d0f1&&_0x56d0f1[_0xb0b718(0x181)]?_0x56d0f1:{'default':_0x56d0f1};};Object['defineProperty'](exports,a0_0x118005(0x181),{'value':!![]}),require(a0_0x118005(0x189)),require('reflect-metadata'),require(a0_0x118005(0x163));const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x118005(0x161))),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require(a0_0x118005(0x17f)));require(a0_0x118005(0x162));function a0_0x1be2(){const _0x47af68=['./routes','./queues','referer','prototype','constructor','init','use','11730006ALgJei','messageQueue','./config/upload','(((.+)+)+)+$','2400954qokuuM','hasOwnProperty','__importStar','logger','env','606940eSDOqL','@sentry/node','message','__esModule','SENTRY_DSN','set','statusCode','warn','FRONTEND_URL','1377531PtaBDH','errorHandler','./bootstrap','static','configurable','DEBUG_TRACE','toString','directory','__createBinding','7mvIyWP','1369482BIDFzG','uncaughtException','defineProperty','756PzpcCr','getOwnPropertyDescriptor','./errors/AppError','stack','false','Uncaught\x20Exception:\x20','search','status','json','50mb','cors','./database','express-async-errors','Internal\x20server\x20error','default','startsWith','queues','__setModuleDefault','4290616yacOKZ','trace','__importDefault','get','10275jqINpL'];a0_0x1be2=function(){return _0x47af68;};return a0_0x1be2();}const upload_1=__importDefault(require(a0_0x118005(0x177))),AppError_1=__importDefault(require(a0_0x118005(0x159))),routes_1=__importDefault(require(a0_0x118005(0x16e))),logger_1=require('./utils/logger'),queues_1=require(a0_0x118005(0x16f));Sentry[a0_0x118005(0x173)]({'dsn':process[a0_0x118005(0x17d)][a0_0x118005(0x182)]});process[a0_0x118005(0x17d)][a0_0x118005(0x18c)]==a0_0x118005(0x15b)&&(console[a0_0x118005(0x16a)]=function(){return;});const app=(0x0,express_1[a0_0x118005(0x165)])();process['on'](a0_0x118005(0x155),_0x5c0304=>{const _0x1d14c7=a0_0x118005;logger_1[_0x1d14c7(0x17c)]['error'](_0x1d14c7(0x15c)+_0x5c0304[_0x1d14c7(0x180)]),logger_1['logger']['error'](_0x5c0304[_0x1d14c7(0x15a)]);}),app[a0_0x118005(0x183)](a0_0x118005(0x167),{'messageQueue':queues_1[a0_0x118005(0x176)]}),app['use']((0x0,cors_1[a0_0x118005(0x165)])({'credentials':!![],'origin':process[a0_0x118005(0x17d)][a0_0x118005(0x186)]})),app[a0_0x118005(0x174)](express_1[a0_0x118005(0x165)][a0_0x118005(0x15f)]({'limit':a0_0x118005(0x160)})),app[a0_0x118005(0x174)](express_1[a0_0x118005(0x165)]['urlencoded']({'limit':'50mb','extended':!![]})),app[a0_0x118005(0x174)]((0x0,cookie_parser_1[a0_0x118005(0x165)])()),app[a0_0x118005(0x174)](Sentry['Handlers']['requestHandler']()),app['use']('/public',async(_0x3afbaf,_0x8347c0,_0x366e90)=>{const _0x4bbafa=a0_0x118005,_0x229c8a=_0x3afbaf['headers'][_0x4bbafa(0x170)],_0x43dd2a=process[_0x4bbafa(0x17d)]['FRONTEND_URL'];if(_0x229c8a&&_0x229c8a[_0x4bbafa(0x166)](_0x43dd2a))return express_1[_0x4bbafa(0x165)][_0x4bbafa(0x18a)](upload_1['default'][_0x4bbafa(0x151)])(_0x3afbaf,_0x8347c0,_0x366e90);return _0x8347c0[_0x4bbafa(0x15e)](0x193)[_0x4bbafa(0x15f)]({'error':'Acesso\x20proibido'});}),app[a0_0x118005(0x174)](routes_1[a0_0x118005(0x165)]),app[a0_0x118005(0x174)](Sentry['Handlers'][a0_0x118005(0x188)]()),app['use'](async(_0x5d62b0,_0xc93b7b,_0x45b3e8,_0xa51b28)=>{const _0x164a90=a0_0x118005;if(_0x5d62b0 instanceof AppError_1[_0x164a90(0x165)])return logger_1[_0x164a90(0x17c)][_0x164a90(0x185)](_0x5d62b0),_0x45b3e8[_0x164a90(0x15e)](_0x5d62b0[_0x164a90(0x184)])['json']({'error':_0x5d62b0[_0x164a90(0x180)]});return logger_1[_0x164a90(0x17c)]['error'](_0x5d62b0),_0x45b3e8[_0x164a90(0x15e)](0x1f4)[_0x164a90(0x15f)]({'error':_0x164a90(0x164)});}),exports[a0_0x118005(0x165)]=app;