'use strict';const a0_0x5c8a30=a0_0x3b59;(function(_0x4fff0d,_0x29fc23){const _0x4206db=a0_0x3b59,_0x1766c9=_0x4fff0d();while(!![]){try{const _0x2bc84f=parseInt(_0x4206db(0x170))/0x1+-parseInt(_0x4206db(0x172))/0x2+-parseInt(_0x4206db(0x171))/0x3*(-parseInt(_0x4206db(0x169))/0x4)+parseInt(_0x4206db(0x161))/0x5+-parseInt(_0x4206db(0x16e))/0x6*(-parseInt(_0x4206db(0x166))/0x7)+parseInt(_0x4206db(0x17d))/0x8*(parseInt(_0x4206db(0x15a))/0x9)+-parseInt(_0x4206db(0x177))/0xa;if(_0x2bc84f===_0x29fc23)break;else _0x1766c9['push'](_0x1766c9['shift']());}catch(_0x36b713){_0x1766c9['push'](_0x1766c9['shift']());}}}(a0_0x5605,0xa6109));var __createBinding=this&&this[a0_0x5c8a30(0x162)]||(Object[a0_0x5c8a30(0x164)]?function(_0x2a0680,_0x20dba1,_0x13051a,_0x13512d){const _0x472851=a0_0x5c8a30;if(_0x13512d===undefined)_0x13512d=_0x13051a;var _0x38aaf0=Object[_0x472851(0x14e)](_0x20dba1,_0x13051a);(!_0x38aaf0||(_0x472851(0x179)in _0x38aaf0?!_0x20dba1[_0x472851(0x168)]:_0x38aaf0[_0x472851(0x150)]||_0x38aaf0[_0x472851(0x155)]))&&(_0x38aaf0={'enumerable':!![],'get':function(){return _0x20dba1[_0x13051a];}}),Object[_0x472851(0x183)](_0x2a0680,_0x13512d,_0x38aaf0);}:function(_0x5823b4,_0x5e000a,_0x179c42,_0x1b312e){if(_0x1b312e===undefined)_0x1b312e=_0x179c42;_0x5823b4[_0x1b312e]=_0x5e000a[_0x179c42];}),__setModuleDefault=this&&this[a0_0x5c8a30(0x153)]||(Object[a0_0x5c8a30(0x164)]?function(_0x10a7e0,_0x14f9a7){const _0x1c28a0=a0_0x5c8a30;Object[_0x1c28a0(0x183)](_0x10a7e0,_0x1c28a0(0x15d),{'enumerable':!![],'value':_0x14f9a7});}:function(_0x1faab3,_0x476925){const _0x1a3b39=a0_0x5c8a30;_0x1faab3[_0x1a3b39(0x15d)]=_0x476925;}),__importStar=this&&this[a0_0x5c8a30(0x173)]||(function(){const _0xd27d=(function(){let _0x1e57d6=!![];return function(_0x533864,_0x11f981){const _0x18fe58=_0x1e57d6?function(){const _0x301322=a0_0x3b59;if(_0x11f981){const _0x596f36=_0x11f981[_0x301322(0x17f)](_0x533864,arguments);return _0x11f981=null,_0x596f36;}}:function(){};return _0x1e57d6=![],_0x18fe58;};}()),_0x2ab8f7=_0xd27d(this,function(){const _0x288238=a0_0x3b59;return _0x2ab8f7[_0x288238(0x17a)]()['search'](_0x288238(0x15e))[_0x288238(0x17a)]()[_0x288238(0x180)](_0x2ab8f7)[_0x288238(0x17c)](_0x288238(0x15e));});_0x2ab8f7();var _0xd72bfa=function(_0x5da235){const _0x28059a=a0_0x3b59;return _0xd72bfa=Object[_0x28059a(0x178)]||function(_0x3268a1){const _0x326262=_0x28059a;var _0x26b583=[];for(var _0x301449 in _0x3268a1)if(Object['prototype']['hasOwnProperty'][_0x326262(0x157)](_0x3268a1,_0x301449))_0x26b583[_0x26b583[_0x326262(0x17b)]]=_0x301449;return _0x26b583;},_0xd72bfa(_0x5da235);};return function(_0x494542){const _0x3b79bd=a0_0x3b59;if(_0x494542&&_0x494542[_0x3b79bd(0x168)])return _0x494542;var _0x16bfe2={};if(_0x494542!=null){for(var _0x10d499=_0xd72bfa(_0x494542),_0xe6c701=0x0;_0xe6c701<_0x10d499['length'];_0xe6c701++)if(_0x10d499[_0xe6c701]!==_0x3b79bd(0x15d))__createBinding(_0x16bfe2,_0x494542,_0x10d499[_0xe6c701]);}return __setModuleDefault(_0x16bfe2,_0x494542),_0x16bfe2;};}()),__importDefault=this&&this[a0_0x5c8a30(0x185)]||function(_0x3b779e){const _0x435626=a0_0x5c8a30;return _0x3b779e&&_0x3b779e[_0x435626(0x168)]?_0x3b779e:{'default':_0x3b779e};};Object[a0_0x5c8a30(0x183)](exports,a0_0x5c8a30(0x168),{'value':!![]}),require('./bootstrap'),require(a0_0x5c8a30(0x175)),require(a0_0x5c8a30(0x16f));function a0_0x3b59(_0x5e01ad,_0x4c7bf7){const _0x43231c=a0_0x5605();return a0_0x3b59=function(_0x228a4c,_0x472a52){_0x228a4c=_0x228a4c-0x14a;let _0x56057a=_0x43231c[_0x228a4c];return _0x56057a;},a0_0x3b59(_0x5e01ad,_0x4c7bf7);}const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x5c8a30(0x154))),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require(a0_0x5c8a30(0x163))),path_1=__importDefault(require(a0_0x5c8a30(0x159)));require(a0_0x5c8a30(0x16a));const upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require(a0_0x5c8a30(0x174))),routes_1=__importDefault(require(a0_0x5c8a30(0x14b))),logger_1=require(a0_0x5c8a30(0x158)),queues_1=require(a0_0x5c8a30(0x16c));function a0_0x5605(){const _0x1d3f27=['cors','configurable','Internal\x20server\x20error','call','./utils/logger','path','160911YgBCQA','env','error','default','(((.+)+)+)+$','Handlers','level','4352710lcCOeg','__createBinding','@sentry/node','create','directory','7637xgfaLr','media','__esModule','11732QhqvYQ','./database','use','./queues','join','1410eLJqRG','express-async-errors','138962iJNquX','1299emTvOO','148086utXNJv','__importStar','./errors/AppError','reflect-metadata','status','30510430ywZeGa','getOwnPropertyNames','get','toString','length','search','568MvBBvs','sendScheduledMessages','apply','constructor','init','logger','defineProperty','FRONTEND_URL','__importDefault','messageQueue','./routes','json','queues','getOwnPropertyDescriptor','/media','writable','function','/public','__setModuleDefault'];a0_0x5605=function(){return _0x1d3f27;};return a0_0x5605();}Sentry[a0_0x5c8a30(0x181)]({'dsn':process[a0_0x5c8a30(0x15b)]['SENTRY_DSN']});const app=(0x0,express_1[a0_0x5c8a30(0x15d)])();app['set'](a0_0x5c8a30(0x14d),{'messageQueue':queues_1[a0_0x5c8a30(0x14a)],'sendScheduledMessages':queues_1[a0_0x5c8a30(0x17e)]}),app['use']((0x0,cors_1[a0_0x5c8a30(0x15d)])({'credentials':!![],'origin':process[a0_0x5c8a30(0x15b)][a0_0x5c8a30(0x184)]})),app[a0_0x5c8a30(0x16b)]((0x0,cookie_parser_1[a0_0x5c8a30(0x15d)])()),app[a0_0x5c8a30(0x16b)](express_1[a0_0x5c8a30(0x15d)]['json']()),app['use'](Sentry[a0_0x5c8a30(0x15f)]['requestHandler']()),app['use'](a0_0x5c8a30(0x152),express_1[a0_0x5c8a30(0x15d)]['static'](upload_1['default'][a0_0x5c8a30(0x165)])),app[a0_0x5c8a30(0x16b)](a0_0x5c8a30(0x14f),express_1['default']['static'](path_1[a0_0x5c8a30(0x15d)][a0_0x5c8a30(0x16d)](upload_1[a0_0x5c8a30(0x15d)][a0_0x5c8a30(0x165)],a0_0x5c8a30(0x167)))),app[a0_0x5c8a30(0x16b)](routes_1[a0_0x5c8a30(0x15d)]),app[a0_0x5c8a30(0x16b)](Sentry['Handlers']['errorHandler']()),app[a0_0x5c8a30(0x16b)](async(_0x44a398,_0x576ee9,_0x188f4d,_0x49fcd7)=>{const _0x12abec=a0_0x5c8a30;if(_0x44a398 instanceof AppError_1[_0x12abec(0x15d)]){const _0x471ccd=_0x44a398[_0x12abec(0x160)]||_0x12abec(0x15c);return typeof logger_1[_0x12abec(0x182)][_0x471ccd]===_0x12abec(0x151)?logger_1[_0x12abec(0x182)][_0x471ccd](_0x44a398):logger_1[_0x12abec(0x182)]['error'](_0x44a398),_0x188f4d['status'](_0x44a398['statusCode'])[_0x12abec(0x14c)]({'error':_0x44a398['message']});}return logger_1[_0x12abec(0x182)][_0x12abec(0x15c)](_0x44a398),_0x188f4d[_0x12abec(0x176)](0x1f4)[_0x12abec(0x14c)]({'error':_0x12abec(0x156)});}),exports[a0_0x5c8a30(0x15d)]=app;