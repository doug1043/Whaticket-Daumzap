const a0_0x3bb480=a0_0x1beb;(function(_0xc82a31,_0x16538e){const _0x10febf=a0_0x1beb,_0x176d95=_0xc82a31();while(!![]){try{const _0x5d6301=-parseInt(_0x10febf(0x120))/0x1+-parseInt(_0x10febf(0x148))/0x2*(parseInt(_0x10febf(0x131))/0x3)+parseInt(_0x10febf(0x154))/0x4*(parseInt(_0x10febf(0x128))/0x5)+parseInt(_0x10febf(0x151))/0x6+-parseInt(_0x10febf(0x156))/0x7*(parseInt(_0x10febf(0x146))/0x8)+parseInt(_0x10febf(0x132))/0x9+-parseInt(_0x10febf(0x125))/0xa;if(_0x5d6301===_0x16538e)break;else _0x176d95['push'](_0x176d95['shift']());}catch(_0x27bde7){_0x176d95['push'](_0x176d95['shift']());}}}(a0_0x1d34,0x5cb37));const a0_0x3f7ed5=(function(){let _0x15b2d6=!![];return function(_0x4ba3ed,_0x2e734e){const _0x54119d=_0x15b2d6?function(){const _0x3154aa=a0_0x1beb;if(_0x2e734e){const _0x5f4170=_0x2e734e[_0x3154aa(0x147)](_0x4ba3ed,arguments);return _0x2e734e=null,_0x5f4170;}}:function(){};return _0x15b2d6=![],_0x54119d;};}()),a0_0xa355b=a0_0x3f7ed5(this,function(){const _0x8e4769=a0_0x1beb;return a0_0xa355b[_0x8e4769(0x142)]()[_0x8e4769(0x15a)](_0x8e4769(0x141))[_0x8e4769(0x142)]()[_0x8e4769(0x155)](a0_0xa355b)[_0x8e4769(0x15a)](_0x8e4769(0x141));});a0_0xa355b();function a0_0x1d34(){const _0x16c19b=['configurable','Internal\x20server\x20error','8mUsHny','apply','1446058WxgRVv','messageQueue','prototype','express-async-errors','false','message','Handlers','env','startsWith','4452492YHDUgE','create','@sentry/node','215732Mpxpjp','constructor','2666559pQhpSW','Uncaught\x20Exception:\x20','default','__esModule','search','DEBUG_TRACE','referer','trace','statusCode','50mb','urlencoded','21715NTuQIe','./database','errorHandler','json','error','2255180ERzzcc','./errors/AppError','writable','35MjXJIp','logger','directory','cors','/public','reflect-metadata','__importDefault','__setModuleDefault','./bootstrap','3lFdCex','5501601jUlJRH','./config/upload','set','stack','call','./routes','./utils/logger','warn','Acesso\x20proibido','SENTRY_DSN','queues','status','getOwnPropertyDescriptor','use','__importStar','(((.+)+)+)+$','toString','defineProperty'];a0_0x1d34=function(){return _0x16c19b;};return a0_0x1d34();}function a0_0x1beb(_0x39a44b,_0xdc10a3){const _0x580e8e=a0_0x1d34();return a0_0x1beb=function(_0xa355b,_0x3f7ed5){_0xa355b=_0xa355b-0x11d;let _0x1d3485=_0x580e8e[_0xa355b];return _0x1d3485;},a0_0x1beb(_0x39a44b,_0xdc10a3);}'use strict';var __createBinding=this&&this['__createBinding']||(Object[a0_0x3bb480(0x152)]?function(_0x157431,_0x4fcfec,_0x34d8a7,_0x8fe1f1){const _0x5d0fcf=a0_0x3bb480;if(_0x8fe1f1===undefined)_0x8fe1f1=_0x34d8a7;var _0x461112=Object[_0x5d0fcf(0x13e)](_0x4fcfec,_0x34d8a7);(!_0x461112||('get'in _0x461112?!_0x4fcfec['__esModule']:_0x461112[_0x5d0fcf(0x127)]||_0x461112[_0x5d0fcf(0x144)]))&&(_0x461112={'enumerable':!![],'get':function(){return _0x4fcfec[_0x34d8a7];}}),Object[_0x5d0fcf(0x143)](_0x157431,_0x8fe1f1,_0x461112);}:function(_0x4d271e,_0x38a665,_0x4fd140,_0x594ba3){if(_0x594ba3===undefined)_0x594ba3=_0x4fd140;_0x4d271e[_0x594ba3]=_0x38a665[_0x4fd140];}),__setModuleDefault=this&&this[a0_0x3bb480(0x12f)]||(Object['create']?function(_0x2c4b5b,_0x5ad551){const _0x37b6eb=a0_0x3bb480;Object['defineProperty'](_0x2c4b5b,_0x37b6eb(0x158),{'enumerable':!![],'value':_0x5ad551});}:function(_0x3601d7,_0xdd6e56){const _0x1d249d=a0_0x3bb480;_0x3601d7[_0x1d249d(0x158)]=_0xdd6e56;}),__importStar=this&&this[a0_0x3bb480(0x140)]||function(_0x3d1152){const _0x28c3f9=a0_0x3bb480;if(_0x3d1152&&_0x3d1152[_0x28c3f9(0x159)])return _0x3d1152;var _0x6a55ee={};if(_0x3d1152!=null){for(var _0x2b41fb in _0x3d1152)if(_0x2b41fb!==_0x28c3f9(0x158)&&Object[_0x28c3f9(0x14a)]['hasOwnProperty'][_0x28c3f9(0x136)](_0x3d1152,_0x2b41fb))__createBinding(_0x6a55ee,_0x3d1152,_0x2b41fb);}return __setModuleDefault(_0x6a55ee,_0x3d1152),_0x6a55ee;},__importDefault=this&&this[a0_0x3bb480(0x12e)]||function(_0x174433){const _0xf4f2c0=a0_0x3bb480;return _0x174433&&_0x174433[_0xf4f2c0(0x159)]?_0x174433:{'default':_0x174433};};Object[a0_0x3bb480(0x143)](exports,'__esModule',{'value':!![]}),require(a0_0x3bb480(0x130)),require(a0_0x3bb480(0x12d)),require(a0_0x3bb480(0x14b));const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x3bb480(0x12b))),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require(a0_0x3bb480(0x153)));require(a0_0x3bb480(0x121));const upload_1=__importDefault(require(a0_0x3bb480(0x133))),AppError_1=__importDefault(require(a0_0x3bb480(0x126))),routes_1=__importDefault(require(a0_0x3bb480(0x137))),logger_1=require(a0_0x3bb480(0x138)),queues_1=require('./queues');Sentry['init']({'dsn':process['env'][a0_0x3bb480(0x13b)]});process[a0_0x3bb480(0x14f)][a0_0x3bb480(0x15b)]==a0_0x3bb480(0x14c)&&(console[a0_0x3bb480(0x15d)]=function(){return;});const app=(0x0,express_1['default'])();process['on']('uncaughtException',_0x46a1de=>{const _0x3cd9c2=a0_0x3bb480;logger_1[_0x3cd9c2(0x129)][_0x3cd9c2(0x124)](_0x3cd9c2(0x157)+_0x46a1de[_0x3cd9c2(0x14d)]),logger_1[_0x3cd9c2(0x129)][_0x3cd9c2(0x124)](_0x46a1de[_0x3cd9c2(0x135)]);}),app[a0_0x3bb480(0x134)](a0_0x3bb480(0x13c),{'messageQueue':queues_1[a0_0x3bb480(0x149)]}),app[a0_0x3bb480(0x13f)]((0x0,cors_1['default'])({'credentials':!![],'origin':process[a0_0x3bb480(0x14f)]['FRONTEND_URL']})),app['use'](express_1[a0_0x3bb480(0x158)][a0_0x3bb480(0x123)]({'limit':'50mb'})),app[a0_0x3bb480(0x13f)](express_1[a0_0x3bb480(0x158)][a0_0x3bb480(0x11f)]({'limit':a0_0x3bb480(0x11e),'extended':!![]})),app[a0_0x3bb480(0x13f)]((0x0,cookie_parser_1[a0_0x3bb480(0x158)])()),app[a0_0x3bb480(0x13f)](Sentry[a0_0x3bb480(0x14e)]['requestHandler']()),app[a0_0x3bb480(0x13f)](a0_0x3bb480(0x12c),async(_0x380ae9,_0x3a636b,_0x1dfba7)=>{const _0x16e8df=a0_0x3bb480,_0x468b57=_0x380ae9['headers'][_0x16e8df(0x15c)],_0x7cd2d4=process[_0x16e8df(0x14f)]['FRONTEND_URL'];if(_0x468b57&&_0x468b57[_0x16e8df(0x150)](_0x7cd2d4))return express_1[_0x16e8df(0x158)]['static'](upload_1[_0x16e8df(0x158)][_0x16e8df(0x12a)])(_0x380ae9,_0x3a636b,_0x1dfba7);return _0x3a636b['status'](0x193)[_0x16e8df(0x123)]({'error':_0x16e8df(0x13a)});}),app[a0_0x3bb480(0x13f)](routes_1[a0_0x3bb480(0x158)]),app[a0_0x3bb480(0x13f)](Sentry[a0_0x3bb480(0x14e)][a0_0x3bb480(0x122)]()),app['use'](async(_0x3cfeaa,_0x2ac1d9,_0x9c52b9,_0x433d11)=>{const _0x6f60c=a0_0x3bb480;if(_0x3cfeaa instanceof AppError_1[_0x6f60c(0x158)])return logger_1[_0x6f60c(0x129)][_0x6f60c(0x139)](_0x3cfeaa),_0x9c52b9[_0x6f60c(0x13d)](_0x3cfeaa[_0x6f60c(0x11d)])[_0x6f60c(0x123)]({'error':_0x3cfeaa['message']});return logger_1[_0x6f60c(0x129)][_0x6f60c(0x124)](_0x3cfeaa),_0x9c52b9[_0x6f60c(0x13d)](0x1f4)[_0x6f60c(0x123)]({'error':_0x6f60c(0x145)});}),exports[a0_0x3bb480(0x158)]=app;