const a0_0x1f50b7=a0_0x5eab;(function(_0xbcc270,_0x2ec3fc){const _0x247e33=a0_0x5eab,_0x1c4038=_0xbcc270();while(!![]){try{const _0x1d1988=-parseInt(_0x247e33(0x1a4))/0x1*(-parseInt(_0x247e33(0x198))/0x2)+-parseInt(_0x247e33(0x1c8))/0x3+parseInt(_0x247e33(0x1b2))/0x4*(parseInt(_0x247e33(0x1b9))/0x5)+parseInt(_0x247e33(0x197))/0x6*(parseInt(_0x247e33(0x1b1))/0x7)+parseInt(_0x247e33(0x1ba))/0x8+parseInt(_0x247e33(0x1b8))/0x9*(parseInt(_0x247e33(0x1d0))/0xa)+-parseInt(_0x247e33(0x1ae))/0xb;if(_0x1d1988===_0x2ec3fc)break;else _0x1c4038['push'](_0x1c4038['shift']());}catch(_0x834e92){_0x1c4038['push'](_0x1c4038['shift']());}}}(a0_0x2196,0xe473a));const a0_0x2a2577=(function(){let _0xb71fbe=!![];return function(_0x2da533,_0x2f4446){const _0x13d1a5=_0xb71fbe?function(){const _0x15802e=a0_0x5eab;if(_0x2f4446){const _0x55ea47=_0x2f4446[_0x15802e(0x1cd)](_0x2da533,arguments);return _0x2f4446=null,_0x55ea47;}}:function(){};return _0xb71fbe=![],_0x13d1a5;};}()),a0_0x4eeafd=a0_0x2a2577(this,function(){const _0x30505a=a0_0x5eab;return a0_0x4eeafd[_0x30505a(0x1a6)]()[_0x30505a(0x1c6)](_0x30505a(0x19a))[_0x30505a(0x1a6)]()['constructor'](a0_0x4eeafd)[_0x30505a(0x1c6)](_0x30505a(0x19a));});a0_0x4eeafd();'use strict';var __createBinding=this&&this[a0_0x1f50b7(0x199)]||(Object[a0_0x1f50b7(0x1a1)]?function(_0x3ce743,_0xaca55e,_0x1c3b18,_0x436a1b){const _0x3bb581=a0_0x1f50b7;if(_0x436a1b===undefined)_0x436a1b=_0x1c3b18;var _0x31df61=Object[_0x3bb581(0x194)](_0xaca55e,_0x1c3b18);(!_0x31df61||(_0x3bb581(0x1a9)in _0x31df61?!_0xaca55e['__esModule']:_0x31df61['writable']||_0x31df61[_0x3bb581(0x1ca)]))&&(_0x31df61={'enumerable':!![],'get':function(){return _0xaca55e[_0x1c3b18];}}),Object[_0x3bb581(0x19d)](_0x3ce743,_0x436a1b,_0x31df61);}:function(_0x5b9a91,_0xb322eb,_0x5545b1,_0x17526a){if(_0x17526a===undefined)_0x17526a=_0x5545b1;_0x5b9a91[_0x17526a]=_0xb322eb[_0x5545b1];}),__setModuleDefault=this&&this[a0_0x1f50b7(0x195)]||(Object[a0_0x1f50b7(0x1a1)]?function(_0x254c0b,_0x584681){const _0x2a3def=a0_0x1f50b7;Object[_0x2a3def(0x19d)](_0x254c0b,'default',{'enumerable':!![],'value':_0x584681});}:function(_0x250901,_0x36e71f){const _0x5ef84a=a0_0x1f50b7;_0x250901[_0x5ef84a(0x191)]=_0x36e71f;}),__importStar=this&&this[a0_0x1f50b7(0x1ac)]||function(_0x4235b6){const _0x758bf=a0_0x1f50b7;if(_0x4235b6&&_0x4235b6[_0x758bf(0x19f)])return _0x4235b6;var _0x242cd0={};if(_0x4235b6!=null){for(var _0x4afb45 in _0x4235b6)if(_0x4afb45!==_0x758bf(0x191)&&Object[_0x758bf(0x1c1)]['hasOwnProperty'][_0x758bf(0x1bc)](_0x4235b6,_0x4afb45))__createBinding(_0x242cd0,_0x4235b6,_0x4afb45);}return __setModuleDefault(_0x242cd0,_0x4235b6),_0x242cd0;},__importDefault=this&&this['__importDefault']||function(_0x22aefc){const _0x4915b9=a0_0x1f50b7;return _0x22aefc&&_0x22aefc[_0x4915b9(0x19f)]?_0x22aefc:{'default':_0x22aefc};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),require(a0_0x1f50b7(0x1b0)),require(a0_0x1f50b7(0x1ad)),require('express-async-errors');function a0_0x5eab(_0x402df6,_0x32eb8c){const _0x4d64c6=a0_0x2196();return a0_0x5eab=function(_0x4eeafd,_0x2a2577){_0x4eeafd=_0x4eeafd-0x190;let _0x2196ca=_0x4d64c6[_0x4eeafd];return _0x2196ca;},a0_0x5eab(_0x402df6,_0x32eb8c);}const express_1=__importDefault(require(a0_0x1f50b7(0x1cf))),cors_1=__importDefault(require('cors')),cookie_parser_1=__importDefault(require(a0_0x1f50b7(0x1c9))),Sentry=__importStar(require('@sentry/node'));require(a0_0x1f50b7(0x1d1));function a0_0x2196(){const _0x1ca9a9=['116qIBguv','static','toString','Acesso\x20proibido','messageQueue','get','./utils/logger','Handlers','__importStar','reflect-metadata','16754408BTMsnK','FRONTEND_URL','./bootstrap','14TnELLv','848qYMMKQ','message','startsWith','warn','json','queues','23949kxhqXb','34915KxOelz','947088sfMkSs','statusCode','call','directory','SENTRY_DSN','./routes','./config/upload','prototype','error','use','uncaughtException','false','search','env','5263419nfxXVA','cookie-parser','configurable','set','urlencoded','apply','logger','express','2750hHXSbA','./database','status','default','Internal\x20server\x20error','init','getOwnPropertyDescriptor','__setModuleDefault','errorHandler','130458pHGbpP','31712ITSOFQ','__createBinding','(((.+)+)+)+$','DEBUG_TRACE','stack','defineProperty','requestHandler','__esModule','headers','create','50mb','./errors/AppError'];a0_0x2196=function(){return _0x1ca9a9;};return a0_0x2196();}const upload_1=__importDefault(require(a0_0x1f50b7(0x1c0))),AppError_1=__importDefault(require(a0_0x1f50b7(0x1a3))),routes_1=__importDefault(require(a0_0x1f50b7(0x1bf))),logger_1=require(a0_0x1f50b7(0x1aa)),queues_1=require('./queues');Sentry[a0_0x1f50b7(0x193)]({'dsn':process['env'][a0_0x1f50b7(0x1be)]});process[a0_0x1f50b7(0x1c7)][a0_0x1f50b7(0x19b)]==a0_0x1f50b7(0x1c5)&&(console['trace']=function(){return;});const app=(0x0,express_1[a0_0x1f50b7(0x191)])();process['on'](a0_0x1f50b7(0x1c4),_0x33b85a=>{const _0x1ff7d5=a0_0x1f50b7;logger_1['logger'][_0x1ff7d5(0x1c2)]('Uncaught\x20Exception:\x20'+_0x33b85a[_0x1ff7d5(0x1b3)]),logger_1[_0x1ff7d5(0x1ce)][_0x1ff7d5(0x1c2)](_0x33b85a[_0x1ff7d5(0x19c)]);}),app[a0_0x1f50b7(0x1cb)](a0_0x1f50b7(0x1b7),{'messageQueue':queues_1[a0_0x1f50b7(0x1a8)]}),app[a0_0x1f50b7(0x1c3)]((0x0,cors_1[a0_0x1f50b7(0x191)])({'credentials':!![],'origin':process[a0_0x1f50b7(0x1c7)][a0_0x1f50b7(0x1af)]})),app['use'](express_1[a0_0x1f50b7(0x191)][a0_0x1f50b7(0x1b6)]({'limit':'50mb'})),app[a0_0x1f50b7(0x1c3)](express_1[a0_0x1f50b7(0x191)][a0_0x1f50b7(0x1cc)]({'limit':a0_0x1f50b7(0x1a2),'extended':!![]})),app[a0_0x1f50b7(0x1c3)]((0x0,cookie_parser_1[a0_0x1f50b7(0x191)])()),app[a0_0x1f50b7(0x1c3)](Sentry[a0_0x1f50b7(0x1ab)][a0_0x1f50b7(0x19e)]()),app[a0_0x1f50b7(0x1c3)]('/public',async(_0x444294,_0x221a84,_0x5f1d6b)=>{const _0x2a79a2=a0_0x1f50b7,_0x4078a7=_0x444294[_0x2a79a2(0x1a0)]['referer'],_0x2d06f3=process[_0x2a79a2(0x1c7)]['FRONTEND_URL'];if(_0x4078a7&&_0x4078a7[_0x2a79a2(0x1b4)](_0x2d06f3))return express_1[_0x2a79a2(0x191)][_0x2a79a2(0x1a5)](upload_1['default'][_0x2a79a2(0x1bd)])(_0x444294,_0x221a84,_0x5f1d6b);return _0x221a84[_0x2a79a2(0x190)](0x193)[_0x2a79a2(0x1b6)]({'error':_0x2a79a2(0x1a7)});}),app[a0_0x1f50b7(0x1c3)](routes_1['default']),app[a0_0x1f50b7(0x1c3)](Sentry['Handlers'][a0_0x1f50b7(0x196)]()),app['use'](async(_0x1bb20a,_0x1fdb67,_0x1521e7,_0x3de81c)=>{const _0x2e7453=a0_0x1f50b7;if(_0x1bb20a instanceof AppError_1[_0x2e7453(0x191)])return logger_1[_0x2e7453(0x1ce)][_0x2e7453(0x1b5)](_0x1bb20a),_0x1521e7[_0x2e7453(0x190)](_0x1bb20a[_0x2e7453(0x1bb)])['json']({'error':_0x1bb20a[_0x2e7453(0x1b3)]});return logger_1[_0x2e7453(0x1ce)][_0x2e7453(0x1c2)](_0x1bb20a),_0x1521e7[_0x2e7453(0x190)](0x1f4)[_0x2e7453(0x1b6)]({'error':_0x2e7453(0x192)});}),exports[a0_0x1f50b7(0x191)]=app;