'use strict';var a0_0xe1a0d5=a0_0x1e40;(function(_0x3e6d3c,_0x22b2ef){var _0x554e05=a0_0x1e40,_0xd13d95=_0x3e6d3c();while(!![]){try{var _0x57c45b=parseInt(_0x554e05(0x15b))/0x1*(-parseInt(_0x554e05(0x122))/0x2)+parseInt(_0x554e05(0x157))/0x3+-parseInt(_0x554e05(0x133))/0x4*(parseInt(_0x554e05(0x131))/0x5)+parseInt(_0x554e05(0x12b))/0x6*(-parseInt(_0x554e05(0x129))/0x7)+parseInt(_0x554e05(0x125))/0x8*(-parseInt(_0x554e05(0x13a))/0x9)+parseInt(_0x554e05(0x13c))/0xa*(-parseInt(_0x554e05(0x138))/0xb)+parseInt(_0x554e05(0x12c))/0xc*(parseInt(_0x554e05(0x14e))/0xd);if(_0x57c45b===_0x22b2ef)break;else _0xd13d95['push'](_0xd13d95['shift']());}catch(_0x114c3b){_0xd13d95['push'](_0xd13d95['shift']());}}}(a0_0x1d09,0xcee39));var __createBinding=this&&this[a0_0xe1a0d5(0x130)]||(Object[a0_0xe1a0d5(0x149)]?function(_0x336a3e,_0x384e6e,_0x4135df,_0x3adea4){var _0x519c35=a0_0xe1a0d5;if(_0x3adea4===undefined)_0x3adea4=_0x4135df;var _0x576c6d=Object['getOwnPropertyDescriptor'](_0x384e6e,_0x4135df);(!_0x576c6d||(_0x519c35(0x148)in _0x576c6d?!_0x384e6e[_0x519c35(0x128)]:_0x576c6d['writable']||_0x576c6d['configurable']))&&(_0x576c6d={'enumerable':!![],'get':function(){return _0x384e6e[_0x4135df];}}),Object['defineProperty'](_0x336a3e,_0x3adea4,_0x576c6d);}:function(_0x51316a,_0xd96e39,_0x18fcb7,_0x4a3f6b){if(_0x4a3f6b===undefined)_0x4a3f6b=_0x18fcb7;_0x51316a[_0x4a3f6b]=_0xd96e39[_0x18fcb7];}),__setModuleDefault=this&&this[a0_0xe1a0d5(0x144)]||(Object[a0_0xe1a0d5(0x149)]?function(_0x2a03db,_0x124631){var _0x38c7b6=a0_0xe1a0d5;Object[_0x38c7b6(0x13e)](_0x2a03db,'default',{'enumerable':!![],'value':_0x124631});}:function(_0x389a35,_0x2d84d9){var _0x46dfe8=a0_0xe1a0d5;_0x389a35[_0x46dfe8(0x139)]=_0x2d84d9;}),__importStar=this&&this[a0_0xe1a0d5(0x124)]||(function(){var _0xe0e2c2=(function(){var _0x3116e0=!![];return function(_0x5bc191,_0x39beee){var _0xc49cba=_0x3116e0?function(){var _0x77ce02=a0_0x1e40;if(_0x39beee){var _0x3c1ab7=_0x39beee[_0x77ce02(0x145)](_0x5bc191,arguments);return _0x39beee=null,_0x3c1ab7;}}:function(){};return _0x3116e0=![],_0xc49cba;};}()),_0x1dc46a=_0xe0e2c2(this,function(){var _0x5a93f7=a0_0x1e40;return _0x1dc46a[_0x5a93f7(0x13b)]()[_0x5a93f7(0x155)](_0x5a93f7(0x150))[_0x5a93f7(0x13b)]()[_0x5a93f7(0x11e)](_0x1dc46a)[_0x5a93f7(0x155)](_0x5a93f7(0x150));});_0x1dc46a();var _0x2744ba=function(_0x8d8cb1){var _0x3fbf7b=a0_0x1e40;return _0x2744ba=Object[_0x3fbf7b(0x126)]||function(_0x5a5b88){var _0x352af5=_0x3fbf7b,_0x36d49b=[];for(var _0x3fb4bb in _0x5a5b88)if(Object['prototype'][_0x352af5(0x123)][_0x352af5(0x120)](_0x5a5b88,_0x3fb4bb))_0x36d49b[_0x36d49b[_0x352af5(0x14b)]]=_0x3fb4bb;return _0x36d49b;},_0x2744ba(_0x8d8cb1);};return function(_0x3a613c){var _0x1caa61=a0_0x1e40;if(_0x3a613c&&_0x3a613c[_0x1caa61(0x128)])return _0x3a613c;var _0x2178b0={};if(_0x3a613c!=null){for(var _0x23f159=_0x2744ba(_0x3a613c),_0x1d3400=0x0;_0x1d3400<_0x23f159['length'];_0x1d3400++)if(_0x23f159[_0x1d3400]!=='default')__createBinding(_0x2178b0,_0x3a613c,_0x23f159[_0x1d3400]);}return __setModuleDefault(_0x2178b0,_0x3a613c),_0x2178b0;};}()),__importDefault=this&&this[a0_0xe1a0d5(0x146)]||function(_0xc21a2b){var _0x49d72b=a0_0xe1a0d5;return _0xc21a2b&&_0xc21a2b[_0x49d72b(0x128)]?_0xc21a2b:{'default':_0xc21a2b};};Object[a0_0xe1a0d5(0x13e)](exports,a0_0xe1a0d5(0x128),{'value':!![]}),require(a0_0xe1a0d5(0x12e)),require('reflect-metadata'),require(a0_0xe1a0d5(0x143));function a0_0x1d09(){var _0x1b767c=['queues','init','sendScheduledMessages','json','express-async-errors','__setModuleDefault','apply','__importDefault','requestHandler','get','create','message','length','error','env','196365KEtLrx','./routes','(((.+)+)+)+$','directory','cors','express','./database','search','level','430158uJdrkb','static','logger','messageQueue','1vQaqVZ','cookie-parser','statusCode','constructor','SENTRY_DSN','call','./errors/AppError','37834jWsUAc','hasOwnProperty','__importStar','5032REbIIG','getOwnPropertyNames','errorHandler','__esModule','621411fIWNKz','./utils/logger','6QGlCbP','2892rDaEKM','FRONTEND_URL','./bootstrap','@sentry/node','__createBinding','15IcPmwN','/public','1368388nEtTVa','status','Internal\x20server\x20error','./queues','Handlers','66zJNwux','default','12249MGLtuP','toString','1577040ofJogA','use','defineProperty'];a0_0x1d09=function(){return _0x1b767c;};return a0_0x1d09();}const express_1=__importDefault(require(a0_0xe1a0d5(0x153))),cors_1=__importDefault(require(a0_0xe1a0d5(0x152))),cookie_parser_1=__importDefault(require(a0_0xe1a0d5(0x15c))),Sentry=__importStar(require(a0_0xe1a0d5(0x12f)));function a0_0x1e40(_0x48b3f9,_0x374e70){var _0x590770=a0_0x1d09();return a0_0x1e40=function(_0x14a06a,_0x2c1401){_0x14a06a=_0x14a06a-0x11e;var _0x1d0966=_0x590770[_0x14a06a];return _0x1d0966;},a0_0x1e40(_0x48b3f9,_0x374e70);}require(a0_0xe1a0d5(0x154));const upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require(a0_0xe1a0d5(0x121))),routes_1=__importDefault(require(a0_0xe1a0d5(0x14f))),logger_1=require(a0_0xe1a0d5(0x12a)),queues_1=require(a0_0xe1a0d5(0x136));Sentry[a0_0xe1a0d5(0x140)]({'dsn':process[a0_0xe1a0d5(0x14d)][a0_0xe1a0d5(0x11f)]});const app=(0x0,express_1['default'])();app['set'](a0_0xe1a0d5(0x13f),{'messageQueue':queues_1[a0_0xe1a0d5(0x15a)],'sendScheduledMessages':queues_1[a0_0xe1a0d5(0x141)]}),app[a0_0xe1a0d5(0x13d)]((0x0,cors_1['default'])({'credentials':!![],'origin':process['env'][a0_0xe1a0d5(0x12d)]})),app['use']((0x0,cookie_parser_1[a0_0xe1a0d5(0x139)])()),app[a0_0xe1a0d5(0x13d)](express_1[a0_0xe1a0d5(0x139)][a0_0xe1a0d5(0x142)]()),app[a0_0xe1a0d5(0x13d)](Sentry[a0_0xe1a0d5(0x137)][a0_0xe1a0d5(0x147)]()),app[a0_0xe1a0d5(0x13d)](a0_0xe1a0d5(0x132),express_1[a0_0xe1a0d5(0x139)][a0_0xe1a0d5(0x158)](upload_1[a0_0xe1a0d5(0x139)][a0_0xe1a0d5(0x151)])),app[a0_0xe1a0d5(0x13d)](routes_1[a0_0xe1a0d5(0x139)]),app[a0_0xe1a0d5(0x13d)](Sentry[a0_0xe1a0d5(0x137)][a0_0xe1a0d5(0x127)]()),app[a0_0xe1a0d5(0x13d)](async(_0x2185d1,_0x3b60da,_0x1c5166,_0x37bdaa)=>{var _0x1bb9a0=a0_0xe1a0d5;if(_0x2185d1 instanceof AppError_1[_0x1bb9a0(0x139)])return logger_1['logger'][_0x2185d1[_0x1bb9a0(0x156)]](_0x2185d1),_0x1c5166[_0x1bb9a0(0x134)](_0x2185d1[_0x1bb9a0(0x15d)])[_0x1bb9a0(0x142)]({'error':_0x2185d1[_0x1bb9a0(0x14a)]});return logger_1[_0x1bb9a0(0x159)][_0x1bb9a0(0x14c)](_0x2185d1),_0x1c5166['status'](0x1f4)['json']({'error':_0x1bb9a0(0x135)});}),exports[a0_0xe1a0d5(0x139)]=app;