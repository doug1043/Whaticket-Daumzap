const a0_0x4c1fc4=a0_0xe02d;(function(_0x454c6b,_0x5d615b){const _0x1fea74=a0_0xe02d,_0x593f06=_0x454c6b();while(!![]){try{const _0x3e9c4f=-parseInt(_0x1fea74(0x1f2))/0x1*(-parseInt(_0x1fea74(0x1cd))/0x2)+-parseInt(_0x1fea74(0x1fb))/0x3+parseInt(_0x1fea74(0x1c1))/0x4*(parseInt(_0x1fea74(0x1cf))/0x5)+parseInt(_0x1fea74(0x1e6))/0x6*(parseInt(_0x1fea74(0x1c8))/0x7)+parseInt(_0x1fea74(0x1e7))/0x8+parseInt(_0x1fea74(0x1bf))/0x9*(-parseInt(_0x1fea74(0x1d1))/0xa)+parseInt(_0x1fea74(0x1e4))/0xb*(-parseInt(_0x1fea74(0x1f7))/0xc);if(_0x3e9c4f===_0x5d615b)break;else _0x593f06['push'](_0x593f06['shift']());}catch(_0x1c5e44){_0x593f06['push'](_0x593f06['shift']());}}}(a0_0x3c10,0x34235));const a0_0x506c3e=(function(){let _0x56a29b=!![];return function(_0x11cf73,_0x41ed31){const _0x4d74cc=_0x56a29b?function(){if(_0x41ed31){const _0x281c03=_0x41ed31['apply'](_0x11cf73,arguments);return _0x41ed31=null,_0x281c03;}}:function(){};return _0x56a29b=![],_0x4d74cc;};}()),a0_0x18c45e=a0_0x506c3e(this,function(){const _0x38875e=a0_0xe02d;return a0_0x18c45e[_0x38875e(0x1e2)]()[_0x38875e(0x1ce)](_0x38875e(0x1e1))['toString']()['constructor'](a0_0x18c45e)[_0x38875e(0x1ce)]('(((.+)+)+)+$');});a0_0x18c45e();'use strict';function a0_0x3c10(){const _0x2f1705=['50mb','express-async-errors','./utils/logger','prototype','2440IpEzFp','search','595430sZXgjD','__createBinding','10xZAPAI','logger','uncaughtException','statusCode','Uncaught\x20Exception:\x20','SENTRY_DSN','./bootstrap','env','init','set','express','FRONTEND_URL','message','trace','errorHandler','stack','(((.+)+)+)+$','toString','json','3756412NCwmxS','getOwnPropertyDescriptor','138bAlyhj','697896gsQozf','configurable','urlencoded','static','Handlers','./errors/AppError','defineProperty','__importDefault','startsWith','false','@sentry/node','334yBEhbC','error','__esModule','directory','DEBUG_TRACE','24qQrXzl','queues','call','status','345615lClkqL','./queues','hasOwnProperty','__setModuleDefault','referer','use','__importStar','1748826AjvIQq','Internal\x20server\x20error','12DZgIpQ','messageQueue','create','get','cookie-parser','writable','default','107765DJKALL'];a0_0x3c10=function(){return _0x2f1705;};return a0_0x3c10();}function a0_0xe02d(_0x340828,_0x31e1c4){const _0x459e7c=a0_0x3c10();return a0_0xe02d=function(_0x18c45e,_0x506c3e){_0x18c45e=_0x18c45e-0x1bb;let _0x3c10e8=_0x459e7c[_0x18c45e];return _0x3c10e8;},a0_0xe02d(_0x340828,_0x31e1c4);}var __createBinding=this&&this[a0_0x4c1fc4(0x1d0)]||(Object[a0_0x4c1fc4(0x1c3)]?function(_0x5a88f0,_0x841671,_0x5aae17,_0x52334e){const _0x14d1a9=a0_0x4c1fc4;if(_0x52334e===undefined)_0x52334e=_0x5aae17;var _0x398cf5=Object[_0x14d1a9(0x1e5)](_0x841671,_0x5aae17);(!_0x398cf5||(_0x14d1a9(0x1c4)in _0x398cf5?!_0x841671['__esModule']:_0x398cf5[_0x14d1a9(0x1c6)]||_0x398cf5[_0x14d1a9(0x1e8)]))&&(_0x398cf5={'enumerable':!![],'get':function(){return _0x841671[_0x5aae17];}}),Object[_0x14d1a9(0x1ed)](_0x5a88f0,_0x52334e,_0x398cf5);}:function(_0x146826,_0x3e2e4a,_0x4139c0,_0x2ad596){if(_0x2ad596===undefined)_0x2ad596=_0x4139c0;_0x146826[_0x2ad596]=_0x3e2e4a[_0x4139c0];}),__setModuleDefault=this&&this[a0_0x4c1fc4(0x1bb)]||(Object['create']?function(_0x2d339d,_0xe61bc4){const _0x3df8de=a0_0x4c1fc4;Object['defineProperty'](_0x2d339d,_0x3df8de(0x1c7),{'enumerable':!![],'value':_0xe61bc4});}:function(_0x250ee,_0x569891){_0x250ee['default']=_0x569891;}),__importStar=this&&this[a0_0x4c1fc4(0x1be)]||function(_0x41a683){const _0x3e4904=a0_0x4c1fc4;if(_0x41a683&&_0x41a683[_0x3e4904(0x1f4)])return _0x41a683;var _0x5308f3={};if(_0x41a683!=null){for(var _0x3e5747 in _0x41a683)if(_0x3e5747!==_0x3e4904(0x1c7)&&Object[_0x3e4904(0x1cc)][_0x3e4904(0x1fd)][_0x3e4904(0x1f9)](_0x41a683,_0x3e5747))__createBinding(_0x5308f3,_0x41a683,_0x3e5747);}return __setModuleDefault(_0x5308f3,_0x41a683),_0x5308f3;},__importDefault=this&&this[a0_0x4c1fc4(0x1ee)]||function(_0x445606){const _0x9c5f98=a0_0x4c1fc4;return _0x445606&&_0x445606[_0x9c5f98(0x1f4)]?_0x445606:{'default':_0x445606};};Object[a0_0x4c1fc4(0x1ed)](exports,a0_0x4c1fc4(0x1f4),{'value':!![]}),require(a0_0x4c1fc4(0x1d7)),require('reflect-metadata'),require(a0_0x4c1fc4(0x1ca));const express_1=__importDefault(require(a0_0x4c1fc4(0x1db))),cors_1=__importDefault(require('cors')),cookie_parser_1=__importDefault(require(a0_0x4c1fc4(0x1c5))),Sentry=__importStar(require(a0_0x4c1fc4(0x1f1)));require('./database');const upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require(a0_0x4c1fc4(0x1ec))),routes_1=__importDefault(require('./routes')),logger_1=require(a0_0x4c1fc4(0x1cb)),queues_1=require(a0_0x4c1fc4(0x1fc));Sentry[a0_0x4c1fc4(0x1d9)]({'dsn':process[a0_0x4c1fc4(0x1d8)][a0_0x4c1fc4(0x1d6)]});process[a0_0x4c1fc4(0x1d8)][a0_0x4c1fc4(0x1f6)]==a0_0x4c1fc4(0x1f0)&&(console[a0_0x4c1fc4(0x1de)]=function(){return;});const app=(0x0,express_1[a0_0x4c1fc4(0x1c7)])();process['on'](a0_0x4c1fc4(0x1d3),_0x27dcaf=>{const _0x3f14bc=a0_0x4c1fc4;logger_1[_0x3f14bc(0x1d2)][_0x3f14bc(0x1f3)](_0x3f14bc(0x1d5)+_0x27dcaf[_0x3f14bc(0x1dd)]),logger_1['logger'][_0x3f14bc(0x1f3)](_0x27dcaf[_0x3f14bc(0x1e0)]);}),app[a0_0x4c1fc4(0x1da)](a0_0x4c1fc4(0x1f8),{'messageQueue':queues_1[a0_0x4c1fc4(0x1c2)]}),app[a0_0x4c1fc4(0x1bd)]((0x0,cors_1[a0_0x4c1fc4(0x1c7)])({'credentials':!![],'origin':process[a0_0x4c1fc4(0x1d8)]['FRONTEND_URL']})),app[a0_0x4c1fc4(0x1bd)](express_1['default']['json']({'limit':'50mb'})),app[a0_0x4c1fc4(0x1bd)](express_1[a0_0x4c1fc4(0x1c7)][a0_0x4c1fc4(0x1e9)]({'limit':a0_0x4c1fc4(0x1c9),'extended':!![]})),app[a0_0x4c1fc4(0x1bd)]((0x0,cookie_parser_1[a0_0x4c1fc4(0x1c7)])()),app[a0_0x4c1fc4(0x1bd)](Sentry[a0_0x4c1fc4(0x1eb)]['requestHandler']()),app['use']('/public',async(_0x4d7787,_0x258d5c,_0x21ff4c)=>{const _0x179eeb=a0_0x4c1fc4,_0x53e3cc=_0x4d7787['headers'][_0x179eeb(0x1bc)],_0xa26bfe=process[_0x179eeb(0x1d8)][_0x179eeb(0x1dc)];if(_0x53e3cc&&_0x53e3cc[_0x179eeb(0x1ef)](_0xa26bfe))return express_1[_0x179eeb(0x1c7)][_0x179eeb(0x1ea)](upload_1[_0x179eeb(0x1c7)][_0x179eeb(0x1f5)])(_0x4d7787,_0x258d5c,_0x21ff4c);return _0x258d5c[_0x179eeb(0x1fa)](0x193)[_0x179eeb(0x1e3)]({'error':'Acesso\x20proibido'});}),app[a0_0x4c1fc4(0x1bd)](routes_1[a0_0x4c1fc4(0x1c7)]),app[a0_0x4c1fc4(0x1bd)](Sentry[a0_0x4c1fc4(0x1eb)][a0_0x4c1fc4(0x1df)]()),app['use'](async(_0xb7c663,_0x2940b0,_0x372824,_0xd341f)=>{const _0x11b8b4=a0_0x4c1fc4;if(_0xb7c663 instanceof AppError_1[_0x11b8b4(0x1c7)])return logger_1[_0x11b8b4(0x1d2)]['warn'](_0xb7c663),_0x372824['status'](_0xb7c663[_0x11b8b4(0x1d4)])[_0x11b8b4(0x1e3)]({'error':_0xb7c663['message']});return logger_1[_0x11b8b4(0x1d2)][_0x11b8b4(0x1f3)](_0xb7c663),_0x372824['status'](0x1f4)[_0x11b8b4(0x1e3)]({'error':_0x11b8b4(0x1c0)});}),exports['default']=app;