function a388_0x50e1(_0x272721,_0x577789){const _0xc59e2f=a388_0x408f();return a388_0x50e1=function(_0x4caede,_0x44efad){_0x4caede=_0x4caede-0x1a2;let _0x408f79=_0xc59e2f[_0x4caede];return _0x408f79;},a388_0x50e1(_0x272721,_0x577789);}const a388_0xa91b90=a388_0x50e1;function a388_0x408f(){const _0xb81ad=['Uncaught\x20Exception:\x20','516czGTLd','826567zRdiat','41450HrqZgu','listen','SIGINT\x20SIGTERM','StartAllWhatsAppsSessions','default','unhandledRejection','initIO','\x20-\x20','./workers/licenseChecker','./app','2985380XtWLIJ','5259915WraUko','./models/Company','./services/WbotServices/StartAllWhatsAppsSessions','PORT','checkOpenInvoices','__importDefault','11nZzaUv','Server\x20started\x20on\x20port:\x20','./utils/logger','all','275010KugShY','constructor','logger','./libs/socket','error','__esModule','115737GXSAyu','(((.+)+)+)+$','debug','Server\x20has\x20shut\x20down.','defineProperty','info','369860SVSSrF','8tLxTpb','map','startQueueProcess','exit','PORT\x20environment\x20variable\x20is\x20not\x20set.','./services/PaymentGatewayServices/PaymentGatewayServices','./queues','3uuAzLM','code','Started\x20WhatsApp\x20session\x20for\x20company\x20ID:\x20','search','startLicenseChecker','env','Shutdown\x20initiated.\x20Cleaning\x20up...','ERR_OSSL_BAD_DECRYPT','findAll','payGatewayInitialize','uncaughtException','Error\x20starting\x20WhatsApp\x20session\x20for\x20company\x20ID:\x20','message'];a388_0x408f=function(){return _0xb81ad;};return a388_0x408f();}(function(_0x1b96b0,_0x2104ba){const _0x554690=a388_0x50e1,_0x50ac47=_0x1b96b0();while(!![]){try{const _0x3cd688=-parseInt(_0x554690(0x1a9))/0x1*(parseInt(_0x554690(0x1ce))/0x2)+parseInt(_0x554690(0x1d4))/0x3+parseInt(_0x554690(0x1c3))/0x4+-parseInt(_0x554690(0x1b9))/0x5*(parseInt(_0x554690(0x1b7))/0x6)+parseInt(_0x554690(0x1b8))/0x7*(parseInt(_0x554690(0x1a2))/0x8)+parseInt(_0x554690(0x1c4))/0x9+-parseInt(_0x554690(0x1da))/0xa*(-parseInt(_0x554690(0x1ca))/0xb);if(_0x3cd688===_0x2104ba)break;else _0x50ac47['push'](_0x50ac47['shift']());}catch(_0x54bb72){_0x50ac47['push'](_0x50ac47['shift']());}}}(a388_0x408f,0x6167b));const a388_0x44efad=(function(){let _0x116821=!![];return function(_0x5be72a,_0x599336){const _0x2dc9e5=_0x116821?function(){if(_0x599336){const _0x5c7337=_0x599336['apply'](_0x5be72a,arguments);return _0x599336=null,_0x5c7337;}}:function(){};return _0x116821=![],_0x2dc9e5;};}()),a388_0x4caede=a388_0x44efad(this,function(){const _0x2b1d7e=a388_0x50e1;return a388_0x4caede['toString']()[_0x2b1d7e(0x1ac)](_0x2b1d7e(0x1d5))['toString']()[_0x2b1d7e(0x1cf)](a388_0x4caede)[_0x2b1d7e(0x1ac)](_0x2b1d7e(0x1d5));});a388_0x4caede();'use strict';var __importDefault=this&&this[a388_0xa91b90(0x1c9)]||function(_0x5193a9){const _0x34427a=a388_0xa91b90;return _0x5193a9&&_0x5193a9[_0x34427a(0x1d3)]?_0x5193a9:{'default':_0x5193a9};};Object[a388_0xa91b90(0x1d8)](exports,a388_0xa91b90(0x1d3),{'value':!![]});const http_graceful_shutdown_1=__importDefault(require('http-graceful-shutdown')),app_1=__importDefault(require(a388_0xa91b90(0x1c2))),socket_1=require(a388_0xa91b90(0x1d1)),logger_1=require(a388_0xa91b90(0x1cc)),StartAllWhatsAppsSessions_1=require(a388_0xa91b90(0x1c6)),Company_1=__importDefault(require(a388_0xa91b90(0x1c5))),queues_1=require(a388_0xa91b90(0x1a8)),PaymentGatewayServices_1=require(a388_0xa91b90(0x1a7)),licenseChecker_1=require(a388_0xa91b90(0x1c1));!process[a388_0xa91b90(0x1ae)]['PORT']&&(logger_1[a388_0xa91b90(0x1d0)][a388_0xa91b90(0x1d2)](a388_0xa91b90(0x1a6)),process[a388_0xa91b90(0x1a5)](0x1));async function startServer(){const _0x41d9f5=a388_0xa91b90;try{await(0x0,licenseChecker_1[_0x41d9f5(0x1ad)])();const _0x1463c5=await Company_1[_0x41d9f5(0x1bd)][_0x41d9f5(0x1b1)](),_0x5c8064=_0x1463c5[_0x41d9f5(0x1a3)](async _0xfc1d0c=>{const _0x6ac364=_0x41d9f5;try{await(0x0,StartAllWhatsAppsSessions_1[_0x6ac364(0x1bc)])(_0xfc1d0c['id']),logger_1[_0x6ac364(0x1d0)][_0x6ac364(0x1d9)](_0x6ac364(0x1ab)+_0xfc1d0c['id']);}catch(_0x4fd9e0){logger_1[_0x6ac364(0x1d0)][_0x6ac364(0x1d2)](_0x6ac364(0x1b4)+_0xfc1d0c['id']+_0x6ac364(0x1c0)+_0x4fd9e0[_0x6ac364(0x1b5)]);}});await Promise[_0x41d9f5(0x1cd)](_0x5c8064),(0x0,queues_1[_0x41d9f5(0x1a4)])(),logger_1[_0x41d9f5(0x1d0)]['info'](_0x41d9f5(0x1cb)+process[_0x41d9f5(0x1ae)][_0x41d9f5(0x1c7)]);try{await(0x0,PaymentGatewayServices_1[_0x41d9f5(0x1b2)])();}catch(_0xeee44a){logger_1['logger'][_0x41d9f5(0x1d2)]('Error\x20initializing\x20payment\x20gateway:\x20'+_0xeee44a[_0x41d9f5(0x1b5)]);}(0x0,PaymentGatewayServices_1[_0x41d9f5(0x1c8)])();}catch(_0x347678){logger_1[_0x41d9f5(0x1d0)][_0x41d9f5(0x1d2)]('Error\x20during\x20server\x20startup:\x20'+_0x347678[_0x41d9f5(0x1b5)]),process[_0x41d9f5(0x1a5)](0x1);}}const server=app_1[a388_0xa91b90(0x1bd)][a388_0xa91b90(0x1ba)](process[a388_0xa91b90(0x1ae)][a388_0xa91b90(0x1c7)],async()=>{const _0xe94cce=a388_0xa91b90;logger_1[_0xe94cce(0x1d0)][_0xe94cce(0x1d9)]('Server\x20is\x20listening\x20on\x20port:\x20'+process[_0xe94cce(0x1ae)]['PORT']),await startServer();});(0x0,socket_1[a388_0xa91b90(0x1bf)])(server),(0x0,http_graceful_shutdown_1[a388_0xa91b90(0x1bd)])(server,{'signals':a388_0xa91b90(0x1bb),'timeout':0x7530,'onShutdown':async()=>{const _0x3eda71=a388_0xa91b90;logger_1[_0x3eda71(0x1d0)][_0x3eda71(0x1d9)](_0x3eda71(0x1af));},'finally':()=>{const _0x341041=a388_0xa91b90;logger_1[_0x341041(0x1d0)][_0x341041(0x1d9)](_0x341041(0x1d7));}}),process['on'](a388_0xa91b90(0x1b3),_0x491a53=>{const _0x4a617e=a388_0xa91b90;logger_1[_0x4a617e(0x1d0)][_0x4a617e(0x1d2)]({'err':_0x491a53},_0x4a617e(0x1b6)+_0x491a53[_0x4a617e(0x1b5)]);if(_0x491a53[_0x4a617e(0x1aa)]===_0x4a617e(0x1b0))return;process[_0x4a617e(0x1a5)](0x1);}),process['on'](a388_0xa91b90(0x1be),(_0x480ca8,_0x33f5df)=>{const _0xf3900a=a388_0xa91b90;logger_1['logger'][_0xf3900a(0x1d6)]({'promise':_0x33f5df,'reason':_0x480ca8},'Unhandled\x20Rejection');});