'use strict';const a349_0x580df6=a349_0x405c;(function(_0x44958a,_0x298fd6){const _0x59969d=a349_0x405c,_0x515e2a=_0x44958a();while(!![]){try{const _0x3d6042=-parseInt(_0x59969d(0xbf))/0x1+-parseInt(_0x59969d(0xb7))/0x2+parseInt(_0x59969d(0xca))/0x3*(parseInt(_0x59969d(0xb8))/0x4)+-parseInt(_0x59969d(0xb1))/0x5+parseInt(_0x59969d(0xa6))/0x6*(parseInt(_0x59969d(0xd1))/0x7)+-parseInt(_0x59969d(0xbc))/0x8+-parseInt(_0x59969d(0xc8))/0x9*(-parseInt(_0x59969d(0xa9))/0xa);if(_0x3d6042===_0x298fd6)break;else _0x515e2a['push'](_0x515e2a['shift']());}catch(_0x1b586e){_0x515e2a['push'](_0x515e2a['shift']());}}}(a349_0x3a80,0x83321));var __importDefault=this&&this['__importDefault']||function(_0x119e04){const _0x1cbed9=a349_0x405c;return _0x119e04&&_0x119e04[_0x1cbed9(0xce)]?_0x119e04:{'default':_0x119e04};};function a349_0x405c(_0x370492,_0x374b41){const _0x4f2754=a349_0x3a80();return a349_0x405c=function(_0x16d1ce,_0x1696f2){_0x16d1ce=_0x16d1ce-0xa1;let _0x3a8007=_0x4f2754[_0x16d1ce];return _0x3a8007;},a349_0x405c(_0x370492,_0x374b41);}Object[a349_0x580df6(0xb3)](exports,'__esModule',{'value':!![]});const http_graceful_shutdown_1=__importDefault(require('http-graceful-shutdown')),app_1=__importDefault(require(a349_0x580df6(0xbb))),socket_1=require(a349_0x580df6(0xae)),logger_1=require(a349_0x580df6(0xc0)),StartAllWhatsAppsSessions_1=require('./services/WbotServices/StartAllWhatsAppsSessions'),Company_1=__importDefault(require(a349_0x580df6(0xc3))),queues_1=require(a349_0x580df6(0xba)),PaymentGatewayServices_1=require(a349_0x580df6(0xc7)),useRedisAuthState_1=require(a349_0x580df6(0xa4)),licenseChecker_1=require(a349_0x580df6(0xa5));function a349_0x3a80(){const _0x133056=['then','checkOpenInvoices','2009080eZlBZt','findAll','flushdb','exit','toUTCString','./libs/socket','\x20unhandledRejection:','search','2397535LlEBVn','toString','defineProperty','Server\x20started\x20on\x20port:\x20','Failed\x20to\x20start\x20the\x20server:','catch','720294isdZbv','4jBOqUN','PORT','./queues','./app','1193296SpMOxw','all','Error\x20initializing\x20payment\x20gateway:\x20','504391NCzZMd','./utils/logger','error','\x20uncaughtException:','./models/Company','unhandledRejection','(((.+)+)+)+$','env','./services/PaymentGatewayServices/PaymentGatewayServices','18jEgZlC','StartAllWhatsAppsSessions','3215514jWLDxH','listen','apply','map','__esModule','FLUSH_REDIS_ON_START','default','779702JKNEkk','payGatewayInitialize','info','logger','./helpers/useRedisAuthState','./workers/licenseChecker','30hVuAKO'];a349_0x3a80=function(){return _0x133056;};return a349_0x3a80();}async function startServer(){const _0x1ca15a=a349_0x580df6,_0x3a7b78=(function(){let _0x24ef53=!![];return function(_0x1ee79a,_0x2587f8){const _0x597626=_0x24ef53?function(){const _0x22d294=a349_0x405c;if(_0x2587f8){const _0x1f9a0=_0x2587f8[_0x22d294(0xcc)](_0x1ee79a,arguments);return _0x2587f8=null,_0x1f9a0;}}:function(){};return _0x24ef53=![],_0x597626;};}()),_0x1d2113=_0x3a7b78(this,function(){const _0x324adf=a349_0x405c;return _0x1d2113[_0x324adf(0xb2)]()['search'](_0x324adf(0xc5))[_0x324adf(0xb2)]()['constructor'](_0x1d2113)[_0x324adf(0xb0)](_0x324adf(0xc5));});_0x1d2113();try{await(0x0,licenseChecker_1['startLicenseChecker'])();const _0xc6d959=app_1['default'][_0x1ca15a(0xcb)](process[_0x1ca15a(0xc6)][_0x1ca15a(0xb9)],async()=>{const _0x472df5=_0x1ca15a;if(process['env'][_0x472df5(0xcf)]=='true')await useRedisAuthState_1['redis'][_0x472df5(0xab)]();const _0x3f7d96=await Company_1[_0x472df5(0xd0)][_0x472df5(0xaa)]({'where':{'status':!![]}}),_0x426332=[];_0x3f7d96[_0x472df5(0xcd)](async _0x274ab9=>{const _0x9c1129=_0x472df5,_0x31203c=(0x0,StartAllWhatsAppsSessions_1[_0x9c1129(0xc9)])(_0x274ab9['id']);_0x426332['push'](_0x31203c);}),Promise[_0x472df5(0xbd)](_0x426332)[_0x472df5(0xa7)](async()=>{await(0x0,queues_1['startQueueProcess'])();}),logger_1[_0x472df5(0xa3)][_0x472df5(0xa2)](_0x472df5(0xb4)+process[_0x472df5(0xc6)][_0x472df5(0xb9)]),(0x0,PaymentGatewayServices_1[_0x472df5(0xa1)])()[_0x472df5(0xb6)](_0x4cc63b=>{const _0x53f3d2=_0x472df5;logger_1['logger'][_0x53f3d2(0xc1)](_0x53f3d2(0xbe)+_0x4cc63b['message']);}),_0x3f7d96['map'](async _0x3fa2a9=>{const _0x5cb6bb=_0x472df5,_0x375281=(0x0,PaymentGatewayServices_1[_0x5cb6bb(0xa8)])(_0x3fa2a9['id']);_0x426332['push'](_0x375281);});});(0x0,socket_1['initIO'])(_0xc6d959),(0x0,http_graceful_shutdown_1[_0x1ca15a(0xd0)])(_0xc6d959),process['on']('uncaughtException',_0x2bfdb9=>{const _0x51b3d7=_0x1ca15a;console['error'](new Date()['toUTCString']()+_0x51b3d7(0xc2),_0x2bfdb9['message']),console['error'](_0x2bfdb9['stack']);}),process['on'](_0x1ca15a(0xc4),(_0x144c60,_0x2e0270)=>{const _0x4b09c1=_0x1ca15a;console['error'](new Date()[_0x4b09c1(0xad)]()+_0x4b09c1(0xaf),_0x144c60,_0x2e0270);});}catch(_0x3a94e2){logger_1[_0x1ca15a(0xa3)][_0x1ca15a(0xc1)](_0x1ca15a(0xb5),_0x3a94e2),process[_0x1ca15a(0xac)](0x1);}}startServer();