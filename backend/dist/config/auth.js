'use strict';function a2_0x1a79(_0x48cbc7,_0x275e02){const _0x17a704=a2_0x157b();return a2_0x1a79=function(_0x4bfefd,_0x150ece){_0x4bfefd=_0x4bfefd-0xb0;let _0x157b5d=_0x17a704[_0x4bfefd];return _0x157b5d;},a2_0x1a79(_0x48cbc7,_0x275e02);}const a2_0x132a32=a2_0x1a79;(function(_0x54a7fd,_0x223d56){const _0x1b9e6d=a2_0x1a79,_0xf40438=_0x54a7fd();while(!![]){try{const _0x13e73e=parseInt(_0x1b9e6d(0xbe))/0x1+parseInt(_0x1b9e6d(0xb5))/0x2*(-parseInt(_0x1b9e6d(0xbc))/0x3)+-parseInt(_0x1b9e6d(0xca))/0x4+parseInt(_0x1b9e6d(0xb1))/0x5*(parseInt(_0x1b9e6d(0xb9))/0x6)+parseInt(_0x1b9e6d(0xd0))/0x7+-parseInt(_0x1b9e6d(0xcc))/0x8+-parseInt(_0x1b9e6d(0xba))/0x9*(-parseInt(_0x1b9e6d(0xc0))/0xa);if(_0x13e73e===_0x223d56)break;else _0xf40438['push'](_0xf40438['shift']());}catch(_0x28e3a8){_0xf40438['push'](_0xf40438['shift']());}}}(a2_0x157b,0x8f323));Object[a2_0x132a32(0xc5)](exports,a2_0x132a32(0xc7),{'value':!![]});const cache_1=require(a2_0x132a32(0xb0)),logger_1=require(a2_0x132a32(0xcd)),CACHE_KEY_JWT_SECRET=a2_0x132a32(0xb8),CACHE_KEY_JWT_REFRESH_SECRET=a2_0x132a32(0xcb);function generateSecret(_0x1470ff){const _0x3fd663=a2_0x132a32,_0x28f12d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+';let _0x14d4c9='';for(let _0x3dacbe=0x0;_0x3dacbe<_0x1470ff;_0x3dacbe+=0x1){const _0x101351=Math[_0x3fd663(0xb2)](Math[_0x3fd663(0xbf)]()*_0x28f12d['length']);_0x14d4c9+=_0x28f12d[_0x101351];}return _0x14d4c9;}function a2_0x157b(){const _0x1821b2=['97551FGMzXI','random','830xlQnPG','constructor','(((.+)+)+)+$','secret','all','defineProperty','default','__esModule','logger','toString','3080880pcJQLX','TICKETZ_JWT_REFRESH_SECRET','1249712ZNshQN','../utils/logger','cacheLayer','[auth.ts]\x20Loaded\x20','5919424wiTCGi','../libs/cache','2345MbeyoH','floor','refreshSecret','15m','322OWJXjc','search','debug','TICKETZ_JWT_SECRET','10818hnAnDM','24228HNhwjS','[auth.ts]\x20Generated\x20','9303blvKwY','then'];a2_0x157b=function(){return _0x1821b2;};return a2_0x157b();}async function generateSecretIfNotExists(_0x51b139){const _0x1b3deb=a2_0x132a32,_0x2823f3=(function(){let _0x65d482=!![];return function(_0x3f2683,_0x49c89e){const _0x22b356=_0x65d482?function(){if(_0x49c89e){const _0x1d26cb=_0x49c89e['apply'](_0x3f2683,arguments);return _0x49c89e=null,_0x1d26cb;}}:function(){};return _0x65d482=![],_0x22b356;};}()),_0x1cd500=_0x2823f3(this,function(){const _0x48b61a=a2_0x1a79;return _0x1cd500[_0x48b61a(0xc9)]()[_0x48b61a(0xb6)]('(((.+)+)+)+$')[_0x48b61a(0xc9)]()[_0x48b61a(0xc1)](_0x1cd500)['search'](_0x48b61a(0xc2));});_0x1cd500();let _0x3b95f4=await cache_1[_0x1b3deb(0xce)]['get'](_0x51b139);return!_0x3b95f4?(_0x3b95f4=generateSecret(0x20),await cache_1[_0x1b3deb(0xce)]['set'](_0x51b139,_0x3b95f4),logger_1[_0x1b3deb(0xc8)]['debug'](_0x1b3deb(0xbb)+_0x51b139+':\x20'+_0x3b95f4)):logger_1['logger'][_0x1b3deb(0xb7)](_0x1b3deb(0xcf)+_0x51b139+':\x20'+_0x3b95f4),_0x3b95f4;}const jwtConfig={'secret':null,'expiresIn':a2_0x132a32(0xb4),'refreshSecret':null,'refreshExpiresIn':'7d'},secretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_SECRET),refreshSecretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_REFRESH_SECRET);Promise[a2_0x132a32(0xc4)]([secretPromise,refreshSecretPromise])[a2_0x132a32(0xbd)](([_0x24d21b,_0x34ef81])=>{const _0x94fe82=a2_0x132a32;jwtConfig[_0x94fe82(0xc3)]=_0x24d21b,jwtConfig[_0x94fe82(0xb3)]=_0x34ef81;}),exports[a2_0x132a32(0xc6)]=jwtConfig;