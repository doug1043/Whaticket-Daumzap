'use strict';const a2_0x9adaec=a2_0x5c50;(function(_0x43d1eb,_0x2936f1){const _0x55f310=a2_0x5c50,_0x40e474=_0x43d1eb();while(!![]){try{const _0x51bb7f=-parseInt(_0x55f310(0xa1))/0x1*(-parseInt(_0x55f310(0x95))/0x2)+parseInt(_0x55f310(0x90))/0x3+-parseInt(_0x55f310(0xa7))/0x4+parseInt(_0x55f310(0x8d))/0x5*(parseInt(_0x55f310(0x98))/0x6)+parseInt(_0x55f310(0x99))/0x7+parseInt(_0x55f310(0x96))/0x8+-parseInt(_0x55f310(0x91))/0x9;if(_0x51bb7f===_0x2936f1)break;else _0x40e474['push'](_0x40e474['shift']());}catch(_0x4e64ba){_0x40e474['push'](_0x40e474['shift']());}}}(a2_0x5c3a,0xb9a2b));Object[a2_0x9adaec(0x8f)](exports,a2_0x9adaec(0x9e),{'value':!![]});function a2_0x5c3a(){const _0xc3d434=['logger','cacheLayer','__esModule','then','toString','1iLIIOK','[auth.ts]\x20Loaded\x20','get','secret','debug','apply','2231628wmHYBX','abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+','TICKETZ_JWT_SECRET','constructor','15m','230fgBvYh','(((.+)+)+)+$','defineProperty','2068836uwIACK','24377958KhuZep','floor','refreshSecret','../libs/cache','3022394gXdbPD','1065312BQuXwS','search','132018FWmftg','4765747dBsFUc','default','all'];a2_0x5c3a=function(){return _0xc3d434;};return a2_0x5c3a();}const cache_1=require(a2_0x9adaec(0x94)),logger_1=require('../utils/logger'),CACHE_KEY_JWT_SECRET=a2_0x9adaec(0x8a),CACHE_KEY_JWT_REFRESH_SECRET='TICKETZ_JWT_REFRESH_SECRET';function a2_0x5c50(_0x3d5900,_0x31a29d){const _0x3c4f0b=a2_0x5c3a();return a2_0x5c50=function(_0x5b635e,_0x4b6095){_0x5b635e=_0x5b635e-0x89;let _0x5c3a48=_0x3c4f0b[_0x5b635e];return _0x5c3a48;},a2_0x5c50(_0x3d5900,_0x31a29d);}function generateSecret(_0x331bb2){const _0x7db673=a2_0x9adaec,_0x50e6df=_0x7db673(0x89);let _0x19ba7a='';for(let _0x57a01b=0x0;_0x57a01b<_0x331bb2;_0x57a01b+=0x1){const _0x13b3fc=Math[_0x7db673(0x92)](Math['random']()*_0x50e6df['length']);_0x19ba7a+=_0x50e6df[_0x13b3fc];}return _0x19ba7a;}async function generateSecretIfNotExists(_0x5c96e8){const _0x4239b4=a2_0x9adaec,_0x18761a=(function(){let _0x4d0b91=!![];return function(_0x193f6e,_0x32bac3){const _0x2d25d0=_0x4d0b91?function(){const _0x5e5ed8=a2_0x5c50;if(_0x32bac3){const _0xb60025=_0x32bac3[_0x5e5ed8(0xa6)](_0x193f6e,arguments);return _0x32bac3=null,_0xb60025;}}:function(){};return _0x4d0b91=![],_0x2d25d0;};}()),_0x2f19f3=_0x18761a(this,function(){const _0x3aba46=a2_0x5c50;return _0x2f19f3[_0x3aba46(0xa0)]()[_0x3aba46(0x97)](_0x3aba46(0x8e))[_0x3aba46(0xa0)]()[_0x3aba46(0x8b)](_0x2f19f3)[_0x3aba46(0x97)](_0x3aba46(0x8e));});_0x2f19f3();let _0x18a5a9=await cache_1['cacheLayer'][_0x4239b4(0xa3)](_0x5c96e8);return!_0x18a5a9?(_0x18a5a9=generateSecret(0x20),await cache_1[_0x4239b4(0x9d)]['set'](_0x5c96e8,_0x18a5a9),logger_1[_0x4239b4(0x9c)][_0x4239b4(0xa5)]('[auth.ts]\x20Generated\x20'+_0x5c96e8+':\x20'+_0x18a5a9)):logger_1[_0x4239b4(0x9c)][_0x4239b4(0xa5)](_0x4239b4(0xa2)+_0x5c96e8+':\x20'+_0x18a5a9),_0x18a5a9;}const jwtConfig={'secret':null,'expiresIn':a2_0x9adaec(0x8c),'refreshSecret':null,'refreshExpiresIn':'7d'},secretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_SECRET),refreshSecretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_REFRESH_SECRET);Promise[a2_0x9adaec(0x9b)]([secretPromise,refreshSecretPromise])[a2_0x9adaec(0x9f)](([_0x5e398e,_0x34f519])=>{const _0x2e180b=a2_0x9adaec;jwtConfig[_0x2e180b(0xa4)]=_0x5e398e,jwtConfig[_0x2e180b(0x93)]=_0x34f519;}),exports[a2_0x9adaec(0x9a)]=jwtConfig;