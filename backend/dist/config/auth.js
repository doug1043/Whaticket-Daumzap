'use strict';const a2_0x22d0fb=a2_0x1569;(function(_0x5a8517,_0x59f6ea){const _0x1fc8d3=a2_0x1569,_0x330bf1=_0x5a8517();while(!![]){try{const _0xf1969a=parseInt(_0x1fc8d3(0x124))/0x1+-parseInt(_0x1fc8d3(0x126))/0x2+parseInt(_0x1fc8d3(0x125))/0x3+parseInt(_0x1fc8d3(0x123))/0x4*(parseInt(_0x1fc8d3(0x13d))/0x5)+parseInt(_0x1fc8d3(0x130))/0x6+-parseInt(_0x1fc8d3(0x132))/0x7+parseInt(_0x1fc8d3(0x131))/0x8*(-parseInt(_0x1fc8d3(0x128))/0x9);if(_0xf1969a===_0x59f6ea)break;else _0x330bf1['push'](_0x330bf1['shift']());}catch(_0x336931){_0x330bf1['push'](_0x330bf1['shift']());}}}(a2_0x1520,0x24acc));Object[a2_0x22d0fb(0x11e)](exports,a2_0x22d0fb(0x121),{'value':!![]});function a2_0x1520(){const _0x2fea14=['set','then','(((.+)+)+)+$','secret','[auth.ts]\x20Generated\x20','constructor','default','abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+','515PzziHF','TICKETZ_JWT_REFRESH_SECRET','refreshSecret','defineProperty','search','cacheLayer','__esModule','logger','8348JjiUuA','244113ShBKPm','890031iYqlKJ','175266DqDbjv','apply','4197393TEsKVS','[auth.ts]\x20Loaded\x20','random','toString','15m','TICKETZ_JWT_SECRET','debug','../utils/logger','1074912ziXFqC','8IxHvWK','1614711CecRUC','all','floor'];a2_0x1520=function(){return _0x2fea14;};return a2_0x1520();}const cache_1=require('../libs/cache'),logger_1=require(a2_0x22d0fb(0x12f)),CACHE_KEY_JWT_SECRET=a2_0x22d0fb(0x12d),CACHE_KEY_JWT_REFRESH_SECRET=a2_0x22d0fb(0x13e);function generateSecret(_0x2a9994){const _0xe19ff7=a2_0x22d0fb,_0x1e4abc=_0xe19ff7(0x13c);let _0xafbf54='';for(let _0x3e3042=0x0;_0x3e3042<_0x2a9994;_0x3e3042+=0x1){const _0x209d43=Math[_0xe19ff7(0x134)](Math[_0xe19ff7(0x12a)]()*_0x1e4abc['length']);_0xafbf54+=_0x1e4abc[_0x209d43];}return _0xafbf54;}async function generateSecretIfNotExists(_0x2a25c5){const _0x20fe46=a2_0x22d0fb,_0x28da51=(function(){let _0x1ffb59=!![];return function(_0x4c6be1,_0x53af30){const _0x393977=_0x1ffb59?function(){const _0x33b6b7=a2_0x1569;if(_0x53af30){const _0x2e3f17=_0x53af30[_0x33b6b7(0x127)](_0x4c6be1,arguments);return _0x53af30=null,_0x2e3f17;}}:function(){};return _0x1ffb59=![],_0x393977;};}()),_0x5efe55=_0x28da51(this,function(){const _0xa8f2c4=a2_0x1569;return _0x5efe55[_0xa8f2c4(0x12b)]()[_0xa8f2c4(0x11f)](_0xa8f2c4(0x137))['toString']()[_0xa8f2c4(0x13a)](_0x5efe55)[_0xa8f2c4(0x11f)](_0xa8f2c4(0x137));});_0x5efe55();let _0x21f300=await cache_1['cacheLayer']['get'](_0x2a25c5);return!_0x21f300?(_0x21f300=generateSecret(0x20),await cache_1[_0x20fe46(0x120)][_0x20fe46(0x135)](_0x2a25c5,_0x21f300),logger_1[_0x20fe46(0x122)]['debug'](_0x20fe46(0x139)+_0x2a25c5+':\x20'+_0x21f300)):logger_1[_0x20fe46(0x122)][_0x20fe46(0x12e)](_0x20fe46(0x129)+_0x2a25c5+':\x20'+_0x21f300),_0x21f300;}function a2_0x1569(_0xd88811,_0xb4473c){const _0x229265=a2_0x1520();return a2_0x1569=function(_0x123d3e,_0x420623){_0x123d3e=_0x123d3e-0x11e;let _0x15204d=_0x229265[_0x123d3e];return _0x15204d;},a2_0x1569(_0xd88811,_0xb4473c);}const jwtConfig={'secret':null,'expiresIn':a2_0x22d0fb(0x12c),'refreshSecret':null,'refreshExpiresIn':'7d'},secretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_SECRET),refreshSecretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_REFRESH_SECRET);Promise[a2_0x22d0fb(0x133)]([secretPromise,refreshSecretPromise])[a2_0x22d0fb(0x136)](([_0x1e6fd6,_0x26697f])=>{const _0x5aad5a=a2_0x22d0fb;jwtConfig[_0x5aad5a(0x138)]=_0x1e6fd6,jwtConfig[_0x5aad5a(0x13f)]=_0x26697f;}),exports[a2_0x22d0fb(0x13b)]=jwtConfig;