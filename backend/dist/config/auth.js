'use strict';const a2_0x4a50e9=a2_0x1e99;(function(_0x12c11,_0x38cd2d){const _0x35750e=a2_0x1e99,_0x219494=_0x12c11();while(!![]){try{const _0x4d87b0=-parseInt(_0x35750e(0x167))/0x1*(-parseInt(_0x35750e(0x16c))/0x2)+parseInt(_0x35750e(0x163))/0x3*(-parseInt(_0x35750e(0x169))/0x4)+parseInt(_0x35750e(0x176))/0x5+-parseInt(_0x35750e(0x15b))/0x6+-parseInt(_0x35750e(0x15f))/0x7+-parseInt(_0x35750e(0x16a))/0x8*(parseInt(_0x35750e(0x160))/0x9)+parseInt(_0x35750e(0x172))/0xa;if(_0x4d87b0===_0x38cd2d)break;else _0x219494['push'](_0x219494['shift']());}catch(_0x45f785){_0x219494['push'](_0x219494['shift']());}}}(a2_0x32dc,0xbb26b));Object[a2_0x4a50e9(0x15e)](exports,a2_0x4a50e9(0x165),{'value':!![]});function a2_0x1e99(_0x373656,_0x13faca){const _0x356fea=a2_0x32dc();return a2_0x1e99=function(_0x412afa,_0x391229){_0x412afa=_0x412afa-0x15a;let _0x32dc11=_0x356fea[_0x412afa];return _0x32dc11;},a2_0x1e99(_0x373656,_0x13faca);}const cache_1=require('../libs/cache'),logger_1=require(a2_0x4a50e9(0x16e)),CACHE_KEY_JWT_SECRET=a2_0x4a50e9(0x15c),CACHE_KEY_JWT_REFRESH_SECRET=a2_0x4a50e9(0x17a);function generateSecret(_0x27ceee){const _0x1282b9=a2_0x4a50e9,_0x578e76=_0x1282b9(0x166);let _0x4d2a70='';for(let _0x5b65d8=0x0;_0x5b65d8<_0x27ceee;_0x5b65d8+=0x1){const _0x56d93a=Math[_0x1282b9(0x168)](Math[_0x1282b9(0x16b)]()*_0x578e76[_0x1282b9(0x174)]);_0x4d2a70+=_0x578e76[_0x56d93a];}return _0x4d2a70;}function a2_0x32dc(){const _0x5eaba4=['then','(((.+)+)+)+$','31384510zXRTnR','all','length','search','65360fNEpcW','constructor','cacheLayer','secret','TICKETZ_JWT_REFRESH_SECRET','logger','8384724JJTbIy','TICKETZ_JWT_SECRET','apply','defineProperty','5812352xTGBQr','639JPrfIG','refreshSecret','[auth.ts]\x20Loaded\x20','15THTcTo','default','__esModule','abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+','12593sgiXdZ','floor','851892jjiAjk','50968ZEqsdH','random','216tGMRKk','15m','../utils/logger','get'];a2_0x32dc=function(){return _0x5eaba4;};return a2_0x32dc();}async function generateSecretIfNotExists(_0x2cfd7d){const _0x1efb44=a2_0x4a50e9,_0x34a7c6=(function(){let _0x47a708=!![];return function(_0x354c90,_0x57ec86){const _0x4dc353=_0x47a708?function(){const _0x1ad521=a2_0x1e99;if(_0x57ec86){const _0x4d73ca=_0x57ec86[_0x1ad521(0x15d)](_0x354c90,arguments);return _0x57ec86=null,_0x4d73ca;}}:function(){};return _0x47a708=![],_0x4dc353;};}()),_0x1bbcb1=_0x34a7c6(this,function(){const _0x183d7a=a2_0x1e99;return _0x1bbcb1['toString']()['search'](_0x183d7a(0x171))['toString']()[_0x183d7a(0x177)](_0x1bbcb1)[_0x183d7a(0x175)](_0x183d7a(0x171));});_0x1bbcb1();let _0x434060=await cache_1[_0x1efb44(0x178)][_0x1efb44(0x16f)](_0x2cfd7d);return!_0x434060?(_0x434060=generateSecret(0x20),await cache_1['cacheLayer']['set'](_0x2cfd7d,_0x434060),logger_1[_0x1efb44(0x15a)]['debug']('[auth.ts]\x20Generated\x20'+_0x2cfd7d+':\x20'+_0x434060)):logger_1[_0x1efb44(0x15a)]['debug'](_0x1efb44(0x162)+_0x2cfd7d+':\x20'+_0x434060),_0x434060;}const jwtConfig={'secret':null,'expiresIn':a2_0x4a50e9(0x16d),'refreshSecret':null,'refreshExpiresIn':'7d'},secretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_SECRET),refreshSecretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_REFRESH_SECRET);Promise[a2_0x4a50e9(0x173)]([secretPromise,refreshSecretPromise])[a2_0x4a50e9(0x170)](([_0x19356e,_0x21ba32])=>{const _0x258afc=a2_0x4a50e9;jwtConfig[_0x258afc(0x179)]=_0x19356e,jwtConfig[_0x258afc(0x161)]=_0x21ba32;}),exports[a2_0x4a50e9(0x164)]=jwtConfig;