'use strict';const a2_0x4eb7ef=a2_0x4fa2;(function(_0x2b1286,_0x20341a){const _0x301191=a2_0x4fa2,_0x3199aa=_0x2b1286();while(!![]){try{const _0x2202d2=parseInt(_0x301191(0xce))/0x1*(parseInt(_0x301191(0xc0))/0x2)+parseInt(_0x301191(0xc6))/0x3+parseInt(_0x301191(0xc5))/0x4+parseInt(_0x301191(0xb6))/0x5+-parseInt(_0x301191(0xcd))/0x6+-parseInt(_0x301191(0xc1))/0x7*(-parseInt(_0x301191(0xbb))/0x8)+-parseInt(_0x301191(0xb7))/0x9*(parseInt(_0x301191(0xbe))/0xa);if(_0x2202d2===_0x20341a)break;else _0x3199aa['push'](_0x3199aa['shift']());}catch(_0x5610b7){_0x3199aa['push'](_0x3199aa['shift']());}}}(a2_0x280c,0x9f82a));function a2_0x4fa2(_0x5f54f0,_0x9ef319){const _0x3a54ef=a2_0x280c();return a2_0x4fa2=function(_0x451c61,_0x5c02a2){_0x451c61=_0x451c61-0xb6;let _0x280c14=_0x3a54ef[_0x451c61];return _0x280c14;},a2_0x4fa2(_0x5f54f0,_0x9ef319);}Object[a2_0x4eb7ef(0xc8)](exports,a2_0x4eb7ef(0xc3),{'value':!![]});const cache_1=require('../libs/cache'),logger_1=require(a2_0x4eb7ef(0xcc)),CACHE_KEY_JWT_SECRET='TICKETZ_JWT_SECRET',CACHE_KEY_JWT_REFRESH_SECRET=a2_0x4eb7ef(0xd5);function generateSecret(_0x10fa37){const _0x2046e0=a2_0x4eb7ef,_0x3e6c41=_0x2046e0(0xcb);let _0x510f0f='';for(let _0x575507=0x0;_0x575507<_0x10fa37;_0x575507+=0x1){const _0x2f91eb=Math[_0x2046e0(0xba)](Math[_0x2046e0(0xd4)]()*_0x3e6c41[_0x2046e0(0xc2)]);_0x510f0f+=_0x3e6c41[_0x2f91eb];}return _0x510f0f;}function a2_0x280c(){const _0x23244e=['abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+','../utils/logger','6981498juuTHt','556219PusZDv','then','cacheLayer','constructor','apply','refreshSecret','random','TICKETZ_JWT_REFRESH_SECRET','4305680kEKQia','9wyucuV','get','logger','floor','1576gCTEWH','debug','all','15388140HwxtfO','toString','2lCdOJg','20664WxxvQb','length','__esModule','search','1815856beWewP','2708664QZRcqb','secret','defineProperty','15m','(((.+)+)+)+$'];a2_0x280c=function(){return _0x23244e;};return a2_0x280c();}async function generateSecretIfNotExists(_0x38e765){const _0x4efd08=a2_0x4eb7ef,_0x4eb21b=(function(){let _0x24b754=!![];return function(_0x30bf43,_0x1a6f1a){const _0x5b4f5a=_0x24b754?function(){const _0x1e3172=a2_0x4fa2;if(_0x1a6f1a){const _0x4d2f6d=_0x1a6f1a[_0x1e3172(0xd2)](_0x30bf43,arguments);return _0x1a6f1a=null,_0x4d2f6d;}}:function(){};return _0x24b754=![],_0x5b4f5a;};}()),_0x4ac650=_0x4eb21b(this,function(){const _0xd4aa6e=a2_0x4fa2;return _0x4ac650[_0xd4aa6e(0xbf)]()[_0xd4aa6e(0xc4)](_0xd4aa6e(0xca))['toString']()[_0xd4aa6e(0xd1)](_0x4ac650)[_0xd4aa6e(0xc4)](_0xd4aa6e(0xca));});_0x4ac650();let _0x4983b2=await cache_1[_0x4efd08(0xd0)][_0x4efd08(0xb8)](_0x38e765);return!_0x4983b2?(_0x4983b2=generateSecret(0x20),await cache_1[_0x4efd08(0xd0)]['set'](_0x38e765,_0x4983b2),logger_1[_0x4efd08(0xb9)][_0x4efd08(0xbc)]('[auth.ts]\x20Generated\x20'+_0x38e765+':\x20'+_0x4983b2)):logger_1['logger'][_0x4efd08(0xbc)]('[auth.ts]\x20Loaded\x20'+_0x38e765+':\x20'+_0x4983b2),_0x4983b2;}const jwtConfig={'secret':null,'expiresIn':a2_0x4eb7ef(0xc9),'refreshSecret':null,'refreshExpiresIn':'8h'},secretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_SECRET),refreshSecretPromise=generateSecretIfNotExists(CACHE_KEY_JWT_REFRESH_SECRET);Promise[a2_0x4eb7ef(0xbd)]([secretPromise,refreshSecretPromise])[a2_0x4eb7ef(0xcf)](([_0x1d9a6d,_0x2d7c8f])=>{const _0x2220c2=a2_0x4eb7ef;jwtConfig[_0x2220c2(0xc7)]=_0x1d9a6d,jwtConfig[_0x2220c2(0xd3)]=_0x2d7c8f;}),exports['default']=jwtConfig;