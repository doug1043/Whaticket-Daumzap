const a6_0x564058=a6_0xbe65;(function(_0x51de16,_0x3fd441){const _0x177b87=a6_0xbe65,_0x240346=_0x51de16();while(!![]){try{const _0xe4e541=parseInt(_0x177b87(0xba))/0x1*(parseInt(_0x177b87(0xb2))/0x2)+parseInt(_0x177b87(0xcb))/0x3*(-parseInt(_0x177b87(0xbd))/0x4)+parseInt(_0x177b87(0xd5))/0x5*(-parseInt(_0x177b87(0xc2))/0x6)+parseInt(_0x177b87(0xcc))/0x7+parseInt(_0x177b87(0xb3))/0x8+parseInt(_0x177b87(0xc8))/0x9+-parseInt(_0x177b87(0xad))/0xa;if(_0xe4e541===_0x3fd441)break;else _0x240346['push'](_0x240346['shift']());}catch(_0x4f2993){_0x240346['push'](_0x240346['shift']());}}}(a6_0x487e,0x43d76));const a6_0xc9172f=(function(){let _0x47dce0=!![];return function(_0x725a4b,_0x4072d){const _0x3bd794=_0x47dce0?function(){const _0x20b950=a6_0xbe65;if(_0x4072d){const _0x3f8cfc=_0x4072d[_0x20b950(0xd1)](_0x725a4b,arguments);return _0x4072d=null,_0x3f8cfc;}}:function(){};return _0x47dce0=![],_0x3bd794;};}()),a6_0xdc1898=a6_0xc9172f(this,function(){const _0x3a32be=a6_0xbe65;return a6_0xdc1898['toString']()[_0x3a32be(0xd4)](_0x3a32be(0xd2))[_0x3a32be(0xbf)]()[_0x3a32be(0xc0)](a6_0xdc1898)[_0x3a32be(0xd4)]('(((.+)+)+)+$');});function a6_0x487e(){const _0x28697d=['2597255hJctWq','3327500QMzkpD','public','publicFolder','__esModule','/company','1292YArhnH','2624560IbtoFX','companyId','path','diskStorage','originalname','resolve','body','517IMrytg','split','isNil','76SerOaY','defineProperty','toString','constructor','isEmpty','6KezbOQ','default','mkdirSync','headers','replace','announcements','3632049wLimBL','findOne','existsSync','76401juehbv','3838373gsDUly','lodash','authorization','multer','chmodSync','apply','(((.+)+)+)+$','user','search'];a6_0x487e=function(){return _0x28697d;};return a6_0x487e();}a6_0xdc1898();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x27c7d2){const _0x1ce2a4=a6_0xbe65;return _0x27c7d2&&_0x27c7d2[_0x1ce2a4(0xb0)]?_0x27c7d2:{'default':_0x27c7d2};};Object[a6_0x564058(0xbe)](exports,'__esModule',{'value':!![]}),exports[a6_0x564058(0xaf)]=void 0x0;const path_1=__importDefault(require(a6_0x564058(0xb5))),multer_1=__importDefault(require(a6_0x564058(0xcf))),fs_1=__importDefault(require('fs')),lodash_1=require(a6_0x564058(0xcd)),Whatsapp_1=__importDefault(require('../models/Whatsapp'));function a6_0xbe65(_0x16ce83,_0x498f7f){const _0x1d296e=a6_0x487e();return a6_0xbe65=function(_0xdc1898,_0xc9172f){_0xdc1898=_0xdc1898-0xad;let _0x487e2a=_0x1d296e[_0xdc1898];return _0x487e2a;},a6_0xbe65(_0x16ce83,_0x498f7f);}exports[a6_0x564058(0xaf)]=path_1['default'][a6_0x564058(0xb8)](__dirname,'..','..',a6_0x564058(0xae)),exports[a6_0x564058(0xc3)]={'directory':exports[a6_0x564058(0xaf)],'storage':multer_1[a6_0x564058(0xc3)][a6_0x564058(0xb6)]({'destination':async function(_0x50c841,_0x23aac1,_0x3f404a){const _0x16e975=a6_0x564058,{typeArch:_0x532079,fileId:_0x23955b}=_0x50c841[_0x16e975(0xb9)];let _0x35ed13=_0x50c841[_0x16e975(0xd3)]?.[_0x16e975(0xb4)];if(_0x35ed13===undefined&&(0x0,lodash_1[_0x16e975(0xbc)])(_0x35ed13)&&(0x0,lodash_1[_0x16e975(0xc1)])(_0x35ed13)){const _0x57bb09=_0x50c841[_0x16e975(0xc5)][_0x16e975(0xce)],[,_0x5815d6]=_0x57bb09[_0x16e975(0xbb)]('\x20'),_0xd8001=await Whatsapp_1[_0x16e975(0xc3)][_0x16e975(0xc9)]({'where':{'token':_0x5815d6}});_0x35ed13=_0xd8001[_0x16e975(0xb4)];}let _0x1450d5=exports['publicFolder']+_0x16e975(0xb1)+_0x35ed13+'/';!fs_1[_0x16e975(0xc3)][_0x16e975(0xca)](_0x1450d5)&&(fs_1[_0x16e975(0xc3)][_0x16e975(0xc4)](_0x1450d5),fs_1[_0x16e975(0xc3)][_0x16e975(0xd0)](_0x1450d5,0x1ff));let _0x2f606e=_0x1450d5;if(_0x532079&&_0x532079!==_0x16e975(0xc7))_0x2f606e=path_1[_0x16e975(0xc3)]['resolve'](_0x1450d5,_0x532079,_0x23955b?_0x23955b:'');else _0x532079&&_0x532079===_0x16e975(0xc7)&&(_0x2f606e=path_1[_0x16e975(0xc3)][_0x16e975(0xb8)](_0x1450d5));return!fs_1['default'][_0x16e975(0xca)](_0x2f606e)&&(fs_1['default']['mkdirSync'](_0x2f606e,{'recursive':!![]}),fs_1['default'][_0x16e975(0xd0)](_0x2f606e,0x1ff)),_0x3f404a(null,_0x2f606e);},'filename'(_0x39e484,_0x5c83cc,_0x43e578){const _0x5e6d31=a6_0x564058,{typeArch:_0x1b9be0}=_0x39e484['body'],_0x3c6866=_0x1b9be0&&_0x1b9be0!=='announcements'?_0x5c83cc[_0x5e6d31(0xb7)][_0x5e6d31(0xc6)]('/','-')[_0x5e6d31(0xc6)](/ /g,'_'):new Date()['getTime']()+'_'+_0x5c83cc['originalname'][_0x5e6d31(0xc6)]('/','-')[_0x5e6d31(0xc6)](/ /g,'_');return _0x43e578(null,_0x3c6866);}})};