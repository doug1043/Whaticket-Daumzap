const a365_0x536717=a365_0x2e72;(function(_0x1ff80a,_0x1d4d03){const _0x2de038=a365_0x2e72,_0x2d1033=_0x1ff80a();while(!![]){try{const _0x2ed71e=parseInt(_0x2de038(0x121))/0x1*(parseInt(_0x2de038(0x127))/0x2)+parseInt(_0x2de038(0x122))/0x3+-parseInt(_0x2de038(0x123))/0x4*(parseInt(_0x2de038(0x12a))/0x5)+parseInt(_0x2de038(0x130))/0x6+parseInt(_0x2de038(0x13d))/0x7+-parseInt(_0x2de038(0x129))/0x8+parseInt(_0x2de038(0x137))/0x9;if(_0x2ed71e===_0x1d4d03)break;else _0x2d1033['push'](_0x2d1033['shift']());}catch(_0x1304c6){_0x2d1033['push'](_0x2d1033['shift']());}}}(a365_0x5de2,0x4b782));const a365_0xa082fb=(function(){let _0x198e46=!![];return function(_0xe086cb,_0x1e5b78){const _0x482b53=_0x198e46?function(){const _0x1bbc82=a365_0x2e72;if(_0x1e5b78){const _0x16664b=_0x1e5b78[_0x1bbc82(0x138)](_0xe086cb,arguments);return _0x1e5b78=null,_0x16664b;}}:function(){};return _0x198e46=![],_0x482b53;};}()),a365_0xfb2a2c=a365_0xa082fb(this,function(){const _0x136282=a365_0x2e72;return a365_0xfb2a2c[_0x136282(0x12e)]()[_0x136282(0x136)](_0x136282(0x12b))[_0x136282(0x12e)]()[_0x136282(0x133)](a365_0xfb2a2c)[_0x136282(0x136)](_0x136282(0x12b));});a365_0xfb2a2c();'use strict';var __importDefault=this&&this[a365_0x536717(0x13a)]||function(_0x1385c0){const _0x21c373=a365_0x536717;return _0x1385c0&&_0x1385c0[_0x21c373(0x140)]?_0x1385c0:{'default':_0x1385c0};};Object[a365_0x536717(0x125)](exports,a365_0x536717(0x140),{'value':!![]});function a365_0x2e72(_0x491ac1,_0x259eab){const _0x151509=a365_0x5de2();return a365_0x2e72=function(_0xfb2a2c,_0xa082fb){_0xfb2a2c=_0xfb2a2c-0x121;let _0x5de2a1=_0x151509[_0xfb2a2c];return _0x5de2a1;},a365_0x2e72(_0x491ac1,_0x259eab);}function a365_0x5de2(){const _0x461078=['(((.+)+)+)+$','default','getStorageUsage','toString','storageLimit','215646kvLgqz','Erro\x20ao\x20verificar\x20limite\x20de\x20armazenamento:','reduce','constructor','../errors/AppError','Limite\x20de\x20armazenamento\x20atingido\x20(','search','1963791zdwunV','apply','user','__importDefault','../services/StorageService/StorageService','file','30625mtAlOt','size','files','__esModule','4PKMeBL','1165776xNKOhl','1345580XImpIG','error','defineProperty','Libere\x20espaço\x20ou\x20faça\x20upgrade\x20do\x20plano.','188446lVguaR','canUpload','3027856CJNChO','5uBDTHU'];a365_0x5de2=function(){return _0x461078;};return a365_0x5de2();}const StorageService_1=__importDefault(require(a365_0x536717(0x13b))),AppError_1=__importDefault(require(a365_0x536717(0x134))),checkStorageLimit=async(_0x4017d6,_0x48b4d0,_0x3f8421)=>{const _0x30ab04=a365_0x536717;try{const {companyId:_0x1feca7}=_0x4017d6[_0x30ab04(0x139)];if(!_0x1feca7)return _0x3f8421();let _0x2c7e07=0x0;if(_0x4017d6['files']){const _0xb74b25=_0x4017d6[_0x30ab04(0x13f)];_0x2c7e07=_0xb74b25[_0x30ab04(0x132)]((_0xde948f,_0x1ae579)=>_0xde948f+(_0x1ae579[_0x30ab04(0x13e)]||0x0),0x0);}else _0x4017d6[_0x30ab04(0x13c)]&&(_0x2c7e07=_0x4017d6[_0x30ab04(0x13c)][_0x30ab04(0x13e)]||0x0);const _0x380deb=await StorageService_1[_0x30ab04(0x12c)][_0x30ab04(0x128)](_0x1feca7,_0x2c7e07);if(!_0x380deb){const _0x44d1b7=await StorageService_1[_0x30ab04(0x12c)][_0x30ab04(0x12d)](_0x1feca7);throw new AppError_1[(_0x30ab04(0x12c))](_0x30ab04(0x135)+_0x44d1b7['totalUsedFormatted']+'\x20de\x20'+_0x44d1b7[_0x30ab04(0x12f)]+'GB).\x20'+_0x30ab04(0x126),0x1fb);}return _0x3f8421();}catch(_0x1aaa3e){if(_0x1aaa3e instanceof AppError_1[_0x30ab04(0x12c)])throw _0x1aaa3e;return console[_0x30ab04(0x124)](_0x30ab04(0x131),_0x1aaa3e),_0x3f8421();}};exports[a365_0x536717(0x12c)]=checkStorageLimit;