const a364_0x72992f=a364_0x1c92;function a364_0x1c92(_0x4bcd75,_0x5c4467){const _0x4d9f4a=a364_0x2ea8();return a364_0x1c92=function(_0xeb4d25,_0x441198){_0xeb4d25=_0xeb4d25-0x115;let _0x2ea870=_0x4d9f4a[_0xeb4d25];return _0x2ea870;},a364_0x1c92(_0x4bcd75,_0x5c4467);}function a364_0x2ea8(){const _0x311c4d=['\x20de\x20','__importDefault','toString','213090ZPGiGN','(((.+)+)+)+$','defineProperty','constructor','364BokTTG','2166830ekCmPX','Erro\x20ao\x20verificar\x20limite\x20de\x20armazenamento:','GB).\x20','33XcwAfn','25404cAwpDO','../errors/AppError','canUpload','2336192CImLjG','search','203518FyEpRQ','2636850cpjift','default','totalUsedFormatted','file','__esModule','18CmQcPs','4IxajJO','2023893YVneYD','Limite\x20de\x20armazenamento\x20atingido\x20(','files','user'];a364_0x2ea8=function(){return _0x311c4d;};return a364_0x2ea8();}(function(_0x49854c,_0x146051){const _0x525d4d=a364_0x1c92,_0x394ac3=_0x49854c();while(!![]){try{const _0x403226=-parseInt(_0x525d4d(0x12e))/0x1+-parseInt(_0x525d4d(0x120))/0x2+parseInt(_0x525d4d(0x119))/0x3+parseInt(_0x525d4d(0x118))/0x4*(-parseInt(_0x525d4d(0x125))/0x5)+parseInt(_0x525d4d(0x129))/0x6*(parseInt(_0x525d4d(0x124))/0x7)+-parseInt(_0x525d4d(0x12c))/0x8*(parseInt(_0x525d4d(0x117))/0x9)+parseInt(_0x525d4d(0x12f))/0xa*(parseInt(_0x525d4d(0x128))/0xb);if(_0x403226===_0x146051)break;else _0x394ac3['push'](_0x394ac3['shift']());}catch(_0x1bc244){_0x394ac3['push'](_0x394ac3['shift']());}}}(a364_0x2ea8,0x577e9));const a364_0x441198=(function(){let _0x57ca52=!![];return function(_0x30b1db,_0x725bc2){const _0x28a4ba=_0x57ca52?function(){if(_0x725bc2){const _0xb2f57f=_0x725bc2['apply'](_0x30b1db,arguments);return _0x725bc2=null,_0xb2f57f;}}:function(){};return _0x57ca52=![],_0x28a4ba;};}()),a364_0xeb4d25=a364_0x441198(this,function(){const _0x2db2ba=a364_0x1c92;return a364_0xeb4d25[_0x2db2ba(0x11f)]()[_0x2db2ba(0x12d)](_0x2db2ba(0x121))[_0x2db2ba(0x11f)]()[_0x2db2ba(0x123)](a364_0xeb4d25)[_0x2db2ba(0x12d)](_0x2db2ba(0x121));});a364_0xeb4d25();'use strict';var __importDefault=this&&this[a364_0x72992f(0x11e)]||function(_0x3805da){const _0x348a5e=a364_0x72992f;return _0x3805da&&_0x3805da[_0x348a5e(0x116)]?_0x3805da:{'default':_0x3805da};};Object[a364_0x72992f(0x122)](exports,'__esModule',{'value':!![]});const StorageService_1=__importDefault(require('../services/StorageService/StorageService')),AppError_1=__importDefault(require(a364_0x72992f(0x12a))),checkStorageLimit=async(_0x4e94cb,_0x1ed52f,_0x1c5378)=>{const _0x27d549=a364_0x72992f;try{const {companyId:_0x441e5d}=_0x4e94cb[_0x27d549(0x11c)];if(!_0x441e5d)return _0x1c5378();let _0x22ced1=0x0;if(_0x4e94cb[_0x27d549(0x11b)]){const _0x7f752f=_0x4e94cb[_0x27d549(0x11b)];_0x22ced1=_0x7f752f['reduce']((_0x19086e,_0x3a2a78)=>_0x19086e+(_0x3a2a78['size']||0x0),0x0);}else _0x4e94cb[_0x27d549(0x115)]&&(_0x22ced1=_0x4e94cb[_0x27d549(0x115)]['size']||0x0);const _0x1a8cdb=await StorageService_1['default'][_0x27d549(0x12b)](_0x441e5d,_0x22ced1);if(!_0x1a8cdb){const _0x44abb8=await StorageService_1[_0x27d549(0x130)]['getStorageUsage'](_0x441e5d);throw new AppError_1['default'](_0x27d549(0x11a)+_0x44abb8[_0x27d549(0x131)]+_0x27d549(0x11d)+_0x44abb8['storageLimit']+_0x27d549(0x127)+'Libere\x20espaço\x20ou\x20faça\x20upgrade\x20do\x20plano.',0x1fb);}return _0x1c5378();}catch(_0x35e3d3){if(_0x35e3d3 instanceof AppError_1[_0x27d549(0x130)])throw _0x35e3d3;return console['error'](_0x27d549(0x126),_0x35e3d3),_0x1c5378();}};exports[a364_0x72992f(0x130)]=checkStorageLimit;