const a365_0x2c13d6=a365_0x2a19;(function(_0x257cb2,_0x5bdf32){const _0x1e7bb8=a365_0x2a19,_0x38f83f=_0x257cb2();while(!![]){try{const _0x3acac5=-parseInt(_0x1e7bb8(0x1ed))/0x1*(parseInt(_0x1e7bb8(0x1e4))/0x2)+parseInt(_0x1e7bb8(0x1df))/0x3+-parseInt(_0x1e7bb8(0x1e0))/0x4*(-parseInt(_0x1e7bb8(0x1d2))/0x5)+parseInt(_0x1e7bb8(0x1ef))/0x6*(-parseInt(_0x1e7bb8(0x1e6))/0x7)+-parseInt(_0x1e7bb8(0x1de))/0x8*(parseInt(_0x1e7bb8(0x1d3))/0x9)+parseInt(_0x1e7bb8(0x1e2))/0xa+parseInt(_0x1e7bb8(0x1d5))/0xb;if(_0x3acac5===_0x5bdf32)break;else _0x38f83f['push'](_0x38f83f['shift']());}catch(_0x3f2e65){_0x38f83f['push'](_0x38f83f['shift']());}}}(a365_0x2498,0x78a5a));function a365_0x2498(){const _0x206727=['1015987nvrnwz','toString','file','../errors/AppError','Libere\x20espaço\x20ou\x20faça\x20upgrade\x20do\x20plano.','constructor','\x20de\x20','5hAaqYe','size','12nMcBQO','__importDefault','storageLimit','search','5UPRlNE','162JfiXlN','default','7278810ielJKt','reduce','defineProperty','apply','files','__esModule','canUpload','Limite\x20de\x20armazenamento\x20atingido\x20(','getStorageUsage','280584nWtMLW','1335258RcPEIc','1099364asGWGo','(((.+)+)+)+$','7586240YBoCsv','user','289798OTCuTS','totalUsedFormatted'];a365_0x2498=function(){return _0x206727;};return a365_0x2498();}const a365_0x1b0fb9=(function(){let _0x71e85a=!![];return function(_0x2a438d,_0x28b467){const _0x1042d9=_0x71e85a?function(){const _0x1bdea1=a365_0x2a19;if(_0x28b467){const _0x2a7e08=_0x28b467[_0x1bdea1(0x1d8)](_0x2a438d,arguments);return _0x28b467=null,_0x2a7e08;}}:function(){};return _0x71e85a=![],_0x1042d9;};}()),a365_0x36978f=a365_0x1b0fb9(this,function(){const _0x1a5af7=a365_0x2a19;return a365_0x36978f[_0x1a5af7(0x1e7)]()[_0x1a5af7(0x1f2)](_0x1a5af7(0x1e1))['toString']()[_0x1a5af7(0x1eb)](a365_0x36978f)[_0x1a5af7(0x1f2)](_0x1a5af7(0x1e1));});a365_0x36978f();function a365_0x2a19(_0x5a1acb,_0x4e3a49){const _0x58e559=a365_0x2498();return a365_0x2a19=function(_0x36978f,_0x1b0fb9){_0x36978f=_0x36978f-0x1d2;let _0x2498ae=_0x58e559[_0x36978f];return _0x2498ae;},a365_0x2a19(_0x5a1acb,_0x4e3a49);}'use strict';var __importDefault=this&&this[a365_0x2c13d6(0x1f0)]||function(_0x47af94){const _0x4155a5=a365_0x2c13d6;return _0x47af94&&_0x47af94[_0x4155a5(0x1da)]?_0x47af94:{'default':_0x47af94};};Object[a365_0x2c13d6(0x1d7)](exports,a365_0x2c13d6(0x1da),{'value':!![]});const StorageService_1=__importDefault(require('../services/StorageService/StorageService')),AppError_1=__importDefault(require(a365_0x2c13d6(0x1e9))),checkStorageLimit=async(_0x566cd8,_0xf8cc1f,_0x301219)=>{const _0x370505=a365_0x2c13d6;try{const {companyId:_0x4d0b8a}=_0x566cd8[_0x370505(0x1e3)];if(!_0x4d0b8a)return _0x301219();let _0x6549bd=0x0;if(_0x566cd8['files']){const _0x10e7a2=_0x566cd8[_0x370505(0x1d9)];_0x6549bd=_0x10e7a2[_0x370505(0x1d6)]((_0x1933dc,_0x39d362)=>_0x1933dc+(_0x39d362['size']||0x0),0x0);}else _0x566cd8[_0x370505(0x1e8)]&&(_0x6549bd=_0x566cd8[_0x370505(0x1e8)][_0x370505(0x1ee)]||0x0);const _0x4d0a3c=await StorageService_1[_0x370505(0x1d4)][_0x370505(0x1db)](_0x4d0b8a,_0x6549bd);if(!_0x4d0a3c){const _0x358f17=await StorageService_1[_0x370505(0x1d4)][_0x370505(0x1dd)](_0x4d0b8a);throw new AppError_1['default'](_0x370505(0x1dc)+_0x358f17[_0x370505(0x1e5)]+_0x370505(0x1ec)+_0x358f17[_0x370505(0x1f1)]+'GB).\x20'+_0x370505(0x1ea),0x1fb);}return _0x301219();}catch(_0x56317a){if(_0x56317a instanceof AppError_1[_0x370505(0x1d4)])throw _0x56317a;return console['error']('Erro\x20ao\x20verificar\x20limite\x20de\x20armazenamento:',_0x56317a),_0x301219();}};exports[a365_0x2c13d6(0x1d4)]=checkStorageLimit;