function a259_0x44bc(_0x5e3d6c,_0x383b28){const _0x2e27e1=a259_0x2dde();return a259_0x44bc=function(_0x3af636,_0x19dac2){_0x3af636=_0x3af636-0x1d7;let _0x2dded6=_0x2e27e1[_0x3af636];return _0x2dded6;},a259_0x44bc(_0x5e3d6c,_0x383b28);}const a259_0x5dcdb6=a259_0x44bc;(function(_0x299fff,_0x7870dc){const _0x13b066=a259_0x44bc,_0x14519b=_0x299fff();while(!![]){try{const _0x2654e3=parseInt(_0x13b066(0x1ef))/0x1+parseInt(_0x13b066(0x1e1))/0x2+-parseInt(_0x13b066(0x1dd))/0x3+-parseInt(_0x13b066(0x1e2))/0x4*(-parseInt(_0x13b066(0x1d8))/0x5)+-parseInt(_0x13b066(0x1f1))/0x6+-parseInt(_0x13b066(0x1da))/0x7+parseInt(_0x13b066(0x1e6))/0x8;if(_0x2654e3===_0x7870dc)break;else _0x14519b['push'](_0x14519b['shift']());}catch(_0x5f3f69){_0x14519b['push'](_0x14519b['shift']());}}}(a259_0x2dde,0xaf696));const a259_0x19dac2=(function(){let _0x50e0ec=!![];return function(_0x1487f1,_0x569e2f){const _0x48572f=_0x50e0ec?function(){const _0x27bee5=a259_0x44bc;if(_0x569e2f){const _0x1afa8f=_0x569e2f[_0x27bee5(0x1f0)](_0x1487f1,arguments);return _0x569e2f=null,_0x1afa8f;}}:function(){};return _0x50e0ec=![],_0x48572f;};}()),a259_0x3af636=a259_0x19dac2(this,function(){const _0x980c78=a259_0x44bc;return a259_0x3af636['toString']()[_0x980c78(0x1db)](_0x980c78(0x1e5))[_0x980c78(0x1ed)]()['constructor'](a259_0x3af636)[_0x980c78(0x1db)](_0x980c78(0x1e5));});a259_0x3af636();function a259_0x2dde(){const _0x21e12c=['7560750jpCjhe','defineProperty','640YFOqQK','headers','5802923lGYnVI','search','profile','2986617pLAPcE','apiToken','authorization','__esModule','943412bFAdEN','1412Nrloxm','default','__importDefault','(((.+)+)+)+$','19300168PFDYUV','../errors/AppError','Bearer\x20','replace','Token\x20invÃ¡lido','../models/Setting','companyId','toString','findOne','873728khXBKJ','apply'];a259_0x2dde=function(){return _0x21e12c;};return a259_0x2dde();}'use strict';var __importDefault=this&&this[a259_0x5dcdb6(0x1e4)]||function(_0x163853){const _0x17244e=a259_0x5dcdb6;return _0x163853&&_0x163853[_0x17244e(0x1e0)]?_0x163853:{'default':_0x163853};};Object[a259_0x5dcdb6(0x1d7)](exports,a259_0x5dcdb6(0x1e0),{'value':!![]});const AppError_1=__importDefault(require(a259_0x5dcdb6(0x1e7))),User_1=__importDefault(require('../models/User')),Setting_1=__importDefault(require(a259_0x5dcdb6(0x1eb))),apiTokenAuth=async(_0x5e3584,_0x259233,_0x3923c4)=>{const _0x42c0db=a259_0x5dcdb6;try{const _0x4c89f1=_0x5e3584[_0x42c0db(0x1d9)][_0x42c0db(0x1df)][_0x42c0db(0x1e9)](_0x42c0db(0x1e8),'');if(!_0x4c89f1)return _0x3923c4();const _0x4d15a5=await Setting_1['default'][_0x42c0db(0x1ee)]({'where':{'key':_0x42c0db(0x1de),'value':_0x4c89f1}});if(!_0x4d15a5)return _0x3923c4();const _0x36b1f8=await User_1[_0x42c0db(0x1e3)][_0x42c0db(0x1ee)]({'where':{'profile':'admin','companyId':_0x4d15a5['companyId']}});return _0x36b1f8&&(_0x5e3584['user']={'id':''+_0x36b1f8['id'],'profile':_0x36b1f8[_0x42c0db(0x1dc)],'isSuper':![],'companyId':_0x4d15a5[_0x42c0db(0x1ec)]}),_0x3923c4();}catch(_0x173a12){console['log'](_0x173a12);}throw new AppError_1[(_0x42c0db(0x1e3))](_0x42c0db(0x1ea),0x193);};exports[a259_0x5dcdb6(0x1e3)]=apiTokenAuth;