const a258_0x12cf70=a258_0x3b26;(function(_0x5541fa,_0x9c4bc9){const _0x3f552d=a258_0x3b26,_0x524db1=_0x5541fa();while(!![]){try{const _0x3ad158=-parseInt(_0x3f552d(0x142))/0x1+-parseInt(_0x3f552d(0x14c))/0x2*(parseInt(_0x3f552d(0x149))/0x3)+parseInt(_0x3f552d(0x143))/0x4+-parseInt(_0x3f552d(0x13f))/0x5+-parseInt(_0x3f552d(0x159))/0x6+-parseInt(_0x3f552d(0x14d))/0x7*(parseInt(_0x3f552d(0x140))/0x8)+parseInt(_0x3f552d(0x14f))/0x9*(parseInt(_0x3f552d(0x14e))/0xa);if(_0x3ad158===_0x9c4bc9)break;else _0x524db1['push'](_0x524db1['shift']());}catch(_0xdc67ca){_0x524db1['push'](_0x524db1['shift']());}}}(a258_0x4288,0x202ac));const a258_0xc99d82=(function(){let _0x228354=!![];return function(_0x444c3b,_0x34b2cc){const _0x190b16=_0x228354?function(){const _0x476808=a258_0x3b26;if(_0x34b2cc){const _0x320bfd=_0x34b2cc[_0x476808(0x147)](_0x444c3b,arguments);return _0x34b2cc=null,_0x320bfd;}}:function(){};return _0x228354=![],_0x190b16;};}()),a258_0x4303a4=a258_0xc99d82(this,function(){const _0x163296=a258_0x3b26;return a258_0x4303a4[_0x163296(0x153)]()[_0x163296(0x146)](_0x163296(0x150))[_0x163296(0x153)]()[_0x163296(0x145)](a258_0x4303a4)[_0x163296(0x146)](_0x163296(0x150));});function a258_0x4288(){const _0x29d114=['admin','replace','../errors/AppError','294030EriLyu','headers','companyId','392105DFkMQe','8Rkyijo','__importDefault','85640NLWXFS','75700OdzDWA','Bearer\x20','constructor','search','apply','__esModule','14853zJyccz','findOne','apiToken','58TMCSEs','1154503YxYPZv','9050kZGUfc','6309buFwFK','(((.+)+)+)+$','../models/Setting','profile','toString','../models/User','default'];a258_0x4288=function(){return _0x29d114;};return a258_0x4288();}a258_0x4303a4();'use strict';var __importDefault=this&&this[a258_0x12cf70(0x141)]||function(_0x462cfe){const _0x1dd62e=a258_0x12cf70;return _0x462cfe&&_0x462cfe[_0x1dd62e(0x148)]?_0x462cfe:{'default':_0x462cfe};};Object['defineProperty'](exports,a258_0x12cf70(0x148),{'value':!![]});const AppError_1=__importDefault(require(a258_0x12cf70(0x158))),User_1=__importDefault(require(a258_0x12cf70(0x154))),Setting_1=__importDefault(require(a258_0x12cf70(0x151))),apiTokenAuth=async(_0x3ec4e5,_0x2e837e,_0x4aee47)=>{const _0x52d479=a258_0x12cf70;try{const _0x6cf1a4=_0x3ec4e5[_0x52d479(0x15a)]['authorization'][_0x52d479(0x157)](_0x52d479(0x144),'');if(!_0x6cf1a4)return _0x4aee47();const _0x2a6005=await Setting_1[_0x52d479(0x155)][_0x52d479(0x14a)]({'where':{'key':_0x52d479(0x14b),'value':_0x6cf1a4}});if(!_0x2a6005)return _0x4aee47();const _0x5d540a=await User_1[_0x52d479(0x155)]['findOne']({'where':{'profile':_0x52d479(0x156),'companyId':_0x2a6005[_0x52d479(0x15b)]}});return _0x5d540a&&(_0x3ec4e5['user']={'id':''+_0x5d540a['id'],'profile':_0x5d540a[_0x52d479(0x152)],'isSuper':![],'companyId':_0x2a6005[_0x52d479(0x15b)]}),_0x4aee47();}catch(_0x2967b6){console['log'](_0x2967b6);}throw new AppError_1[(_0x52d479(0x155))]('Token\x20inv√°lido',0x193);};function a258_0x3b26(_0x2a2d9f,_0x3f1f69){const _0x400f95=a258_0x4288();return a258_0x3b26=function(_0x4303a4,_0xc99d82){_0x4303a4=_0x4303a4-0x13f;let _0x428899=_0x400f95[_0x4303a4];return _0x428899;},a258_0x3b26(_0x2a2d9f,_0x3f1f69);}exports['default']=apiTokenAuth;