const a256_0x3872b0=a256_0x308a;(function(_0x41fa8d,_0x5c42d1){const _0x2dfb03=a256_0x308a,_0x3d57b8=_0x41fa8d();while(!![]){try{const _0x15720f=-parseInt(_0x2dfb03(0xba))/0x1+-parseInt(_0x2dfb03(0xd2))/0x2+-parseInt(_0x2dfb03(0xca))/0x3*(-parseInt(_0x2dfb03(0xc4))/0x4)+-parseInt(_0x2dfb03(0xd3))/0x5+parseInt(_0x2dfb03(0xc2))/0x6+parseInt(_0x2dfb03(0xcf))/0x7+-parseInt(_0x2dfb03(0xd1))/0x8*(parseInt(_0x2dfb03(0xb8))/0x9);if(_0x15720f===_0x5c42d1)break;else _0x3d57b8['push'](_0x3d57b8['shift']());}catch(_0x2dfd9f){_0x3d57b8['push'](_0x3d57b8['shift']());}}}(a256_0x1456,0x1e555));function a256_0x1456(){const _0xab998c=['373602fgJVTO','377390xOmAlI','log','Token\x20invÃ¡lido','profile','99cDdtGi','constructor','93401NjSjfH','apiToken','../models/User','defineProperty','__esModule','(((.+)+)+)+$','../errors/AppError','../models/Setting','267192oCiNNs','replace','916988TziALz','apply','search','findOne','__importDefault','user','3SkcMjD','toString','headers','admin','default','1620045lrEcsR','companyId','18392oOGcxp'];a256_0x1456=function(){return _0xab998c;};return a256_0x1456();}const a256_0x2fc980=(function(){let _0x5a5c82=!![];return function(_0xc5bb7a,_0x495611){const _0x3981e6=_0x5a5c82?function(){const _0x3c3f98=a256_0x308a;if(_0x495611){const _0x501ee0=_0x495611[_0x3c3f98(0xc5)](_0xc5bb7a,arguments);return _0x495611=null,_0x501ee0;}}:function(){};return _0x5a5c82=![],_0x3981e6;};}()),a256_0x7eff0b=a256_0x2fc980(this,function(){const _0x2e8c12=a256_0x308a;return a256_0x7eff0b[_0x2e8c12(0xcb)]()[_0x2e8c12(0xc6)](_0x2e8c12(0xbf))[_0x2e8c12(0xcb)]()[_0x2e8c12(0xb9)](a256_0x7eff0b)[_0x2e8c12(0xc6)](_0x2e8c12(0xbf));});a256_0x7eff0b();'use strict';var __importDefault=this&&this[a256_0x3872b0(0xc8)]||function(_0x42a734){const _0x19376f=a256_0x3872b0;return _0x42a734&&_0x42a734[_0x19376f(0xbe)]?_0x42a734:{'default':_0x42a734};};function a256_0x308a(_0xac2692,_0x34ba14){const _0x3d2806=a256_0x1456();return a256_0x308a=function(_0x7eff0b,_0x2fc980){_0x7eff0b=_0x7eff0b-0xb7;let _0x145646=_0x3d2806[_0x7eff0b];return _0x145646;},a256_0x308a(_0xac2692,_0x34ba14);}Object[a256_0x3872b0(0xbd)](exports,a256_0x3872b0(0xbe),{'value':!![]});const AppError_1=__importDefault(require(a256_0x3872b0(0xc0))),User_1=__importDefault(require(a256_0x3872b0(0xbc))),Setting_1=__importDefault(require(a256_0x3872b0(0xc1))),apiTokenAuth=async(_0x1d16d2,_0x41269a,_0x40e582)=>{const _0x3e0770=a256_0x3872b0;try{const _0x5b4f31=_0x1d16d2[_0x3e0770(0xcc)]['authorization'][_0x3e0770(0xc3)]('Bearer\x20','');if(!_0x5b4f31)return _0x40e582();const _0x95976e=await Setting_1[_0x3e0770(0xce)][_0x3e0770(0xc7)]({'where':{'key':_0x3e0770(0xbb),'value':_0x5b4f31}});if(!_0x95976e)return _0x40e582();const _0x3bb54c=await User_1[_0x3e0770(0xce)]['findOne']({'where':{'profile':_0x3e0770(0xcd),'companyId':_0x95976e[_0x3e0770(0xd0)]}});return _0x3bb54c&&(_0x1d16d2[_0x3e0770(0xc9)]={'id':''+_0x3bb54c['id'],'profile':_0x3bb54c[_0x3e0770(0xb7)],'isSuper':![],'companyId':_0x95976e[_0x3e0770(0xd0)]}),_0x40e582();}catch(_0x420749){console[_0x3e0770(0xd4)](_0x420749);}throw new AppError_1[(_0x3e0770(0xce))](_0x3e0770(0xd5),0x193);};exports[a256_0x3872b0(0xce)]=apiTokenAuth;