const a362_0x4dd4c1=a362_0xe5f4;(function(_0x4d09bb,_0x344fce){const _0x29197b=a362_0xe5f4,_0x27b683=_0x4d09bb();while(!![]){try{const _0x100870=-parseInt(_0x29197b(0x1b9))/0x1*(-parseInt(_0x29197b(0x1b8))/0x2)+-parseInt(_0x29197b(0x1ad))/0x3*(parseInt(_0x29197b(0x1c3))/0x4)+parseInt(_0x29197b(0x1bf))/0x5*(parseInt(_0x29197b(0x1a7))/0x6)+parseInt(_0x29197b(0x1b7))/0x7+-parseInt(_0x29197b(0x1b3))/0x8+parseInt(_0x29197b(0x1c2))/0x9*(parseInt(_0x29197b(0x1a9))/0xa)+parseInt(_0x29197b(0x1ab))/0xb;if(_0x100870===_0x344fce)break;else _0x27b683['push'](_0x27b683['shift']());}catch(_0x4b882b){_0x27b683['push'](_0x27b683['shift']());}}}(a362_0x3662,0xea08b));const a362_0x1720c1=(function(){let _0x1cbae5=!![];return function(_0x1f72b7,_0x366516){const _0x5195ce=_0x1cbae5?function(){const _0x4d0d9e=a362_0xe5f4;if(_0x366516){const _0x4419e4=_0x366516[_0x4d0d9e(0x1a8)](_0x1f72b7,arguments);return _0x366516=null,_0x4419e4;}}:function(){};return _0x1cbae5=![],_0x5195ce;};}()),a362_0x3cbb21=a362_0x1720c1(this,function(){const _0x194d3f=a362_0xe5f4;return a362_0x3cbb21[_0x194d3f(0x1ae)]()['search'](_0x194d3f(0x1ac))[_0x194d3f(0x1ae)]()[_0x194d3f(0x1c0)](a362_0x3cbb21)[_0x194d3f(0x1a6)](_0x194d3f(0x1ac));});function a362_0x3662(){const _0x101a76=['9kqbEhn','toString','__importDefault','../models/Setting','companyId','Bearer\x20','15073408otsxDp','__esModule','findOne','apiToken','10137771TkkYPM','10TIUyDa','344257nnRvmX','../errors/AppError','defineProperty','default','../models/User','admin','170uVWJxW','constructor','headers','678222gFXUkm','1793556cdaJBg','search','93066FFKnwJ','apply','40kZwWMp','replace','2085622wuwxWl','(((.+)+)+)+$'];a362_0x3662=function(){return _0x101a76;};return a362_0x3662();}a362_0x3cbb21();'use strict';function a362_0xe5f4(_0x22c13e,_0x4be448){const _0x49066d=a362_0x3662();return a362_0xe5f4=function(_0x3cbb21,_0x1720c1){_0x3cbb21=_0x3cbb21-0x1a6;let _0x3662c0=_0x49066d[_0x3cbb21];return _0x3662c0;},a362_0xe5f4(_0x22c13e,_0x4be448);}var __importDefault=this&&this[a362_0x4dd4c1(0x1af)]||function(_0x454957){const _0x4328b4=a362_0x4dd4c1;return _0x454957&&_0x454957[_0x4328b4(0x1b4)]?_0x454957:{'default':_0x454957};};Object[a362_0x4dd4c1(0x1bb)](exports,a362_0x4dd4c1(0x1b4),{'value':!![]});const AppError_1=__importDefault(require(a362_0x4dd4c1(0x1ba))),User_1=__importDefault(require(a362_0x4dd4c1(0x1bd))),Setting_1=__importDefault(require(a362_0x4dd4c1(0x1b0))),apiTokenAuth=async(_0xffd9a0,_0x3d413c,_0x45cc1b)=>{const _0x5b78d4=a362_0x4dd4c1;try{const _0x19d500=_0xffd9a0[_0x5b78d4(0x1c1)]['authorization'][_0x5b78d4(0x1aa)](_0x5b78d4(0x1b2),'');if(!_0x19d500)return _0x45cc1b();const _0xbcc8ca=await Setting_1[_0x5b78d4(0x1bc)][_0x5b78d4(0x1b5)]({'where':{'key':_0x5b78d4(0x1b6),'value':_0x19d500}});if(!_0xbcc8ca)return _0x45cc1b();const _0x39439a=await User_1['default'][_0x5b78d4(0x1b5)]({'where':{'profile':_0x5b78d4(0x1be),'companyId':_0xbcc8ca[_0x5b78d4(0x1b1)]}});return _0x39439a&&(_0xffd9a0['user']={'id':''+_0x39439a['id'],'profile':_0x39439a['profile'],'isSuper':![],'companyId':_0xbcc8ca[_0x5b78d4(0x1b1)]}),_0x45cc1b();}catch(_0x1e6123){console['log'](_0x1e6123);}throw new AppError_1[(_0x5b78d4(0x1bc))]('Token\x20inv√°lido',0x193);};exports['default']=apiTokenAuth;