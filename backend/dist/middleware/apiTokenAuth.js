const a296_0x8fafcf=a296_0x53dc;(function(_0x229db5,_0x34399e){const _0x5b0da5=a296_0x53dc,_0x225de6=_0x229db5();while(!![]){try{const _0x341181=-parseInt(_0x5b0da5(0x141))/0x1*(parseInt(_0x5b0da5(0x13f))/0x2)+parseInt(_0x5b0da5(0x13e))/0x3*(parseInt(_0x5b0da5(0x13d))/0x4)+parseInt(_0x5b0da5(0x133))/0x5*(-parseInt(_0x5b0da5(0x13c))/0x6)+parseInt(_0x5b0da5(0x137))/0x7*(parseInt(_0x5b0da5(0x140))/0x8)+-parseInt(_0x5b0da5(0x128))/0x9+-parseInt(_0x5b0da5(0x143))/0xa+parseInt(_0x5b0da5(0x139))/0xb;if(_0x341181===_0x34399e)break;else _0x225de6['push'](_0x225de6['shift']());}catch(_0x5c541c){_0x225de6['push'](_0x225de6['shift']());}}}(a296_0x13be,0xe72cf));const a296_0x38a275=(function(){let _0x2f01ed=!![];return function(_0x342103,_0x23a49c){const _0x140b4e=_0x2f01ed?function(){const _0x820008=a296_0x53dc;if(_0x23a49c){const _0x8cf41d=_0x23a49c[_0x820008(0x12a)](_0x342103,arguments);return _0x23a49c=null,_0x8cf41d;}}:function(){};return _0x2f01ed=![],_0x140b4e;};}()),a296_0x47df30=a296_0x38a275(this,function(){const _0x25890a=a296_0x53dc;return a296_0x47df30[_0x25890a(0x130)]()[_0x25890a(0x12e)](_0x25890a(0x12d))[_0x25890a(0x130)]()['constructor'](a296_0x47df30)[_0x25890a(0x12e)](_0x25890a(0x12d));});a296_0x47df30();'use strict';var __importDefault=this&&this[a296_0x8fafcf(0x142)]||function(_0x2534b4){return _0x2534b4&&_0x2534b4['__esModule']?_0x2534b4:{'default':_0x2534b4};};function a296_0x53dc(_0x2b379,_0x1f287a){const _0x469cd7=a296_0x13be();return a296_0x53dc=function(_0x47df30,_0x38a275){_0x47df30=_0x47df30-0x128;let _0x13be8c=_0x469cd7[_0x47df30];return _0x13be8c;},a296_0x53dc(_0x2b379,_0x1f287a);}function a296_0x13be(){const _0xe4d4a=['__importDefault','10806470GXYaIM','default','13025727CaNgQi','../models/Setting','apply','replace','__esModule','(((.+)+)+)+$','search','admin','toString','apiToken','Bearer\x20','3635435cezcZp','Token\x20invÃ¡lido','profile','user','47194aVRfhs','findOne','30683730XlJSlE','log','companyId','12PytUbv','12EQFQcv','789387ykGlxD','6rURBwv','1832FrtADY','64572PvVNkx'];a296_0x13be=function(){return _0xe4d4a;};return a296_0x13be();}Object['defineProperty'](exports,a296_0x8fafcf(0x12c),{'value':!![]});const AppError_1=__importDefault(require('../errors/AppError')),User_1=__importDefault(require('../models/User')),Setting_1=__importDefault(require(a296_0x8fafcf(0x129))),apiTokenAuth=async(_0x4b0f09,_0x1273cc,_0x29d7c6)=>{const _0x5ba74f=a296_0x8fafcf;try{const _0x576693=_0x4b0f09['headers']['authorization'][_0x5ba74f(0x12b)](_0x5ba74f(0x132),'');if(!_0x576693)return _0x29d7c6();const _0xa52cbf=await Setting_1[_0x5ba74f(0x144)][_0x5ba74f(0x138)]({'where':{'key':_0x5ba74f(0x131),'value':_0x576693}});if(!_0xa52cbf)return _0x29d7c6();const _0xd51497=await User_1[_0x5ba74f(0x144)][_0x5ba74f(0x138)]({'where':{'profile':_0x5ba74f(0x12f),'companyId':_0xa52cbf[_0x5ba74f(0x13b)]}});return _0xd51497&&(_0x4b0f09[_0x5ba74f(0x136)]={'id':''+_0xd51497['id'],'profile':_0xd51497[_0x5ba74f(0x135)],'isSuper':![],'companyId':_0xa52cbf[_0x5ba74f(0x13b)]}),_0x29d7c6();}catch(_0xdf9898){console[_0x5ba74f(0x13a)](_0xdf9898);}throw new AppError_1[(_0x5ba74f(0x144))](_0x5ba74f(0x134),0x193);};exports[a296_0x8fafcf(0x144)]=apiTokenAuth;