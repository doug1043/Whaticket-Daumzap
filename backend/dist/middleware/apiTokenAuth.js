function a260_0xc55b(_0x5db825,_0x5776ee){const _0x2c8dae=a260_0x1f77();return a260_0xc55b=function(_0x279bb1,_0x5d88a0){_0x279bb1=_0x279bb1-0x16c;let _0x1f772c=_0x2c8dae[_0x279bb1];return _0x1f772c;},a260_0xc55b(_0x5db825,_0x5776ee);}const a260_0x1cce89=a260_0xc55b;function a260_0x1f77(){const _0x5d88e5=['395WzynaQ','6840056VfVigh','45366amKCBm','authorization','3879156wirtft','2PYzNCz','replace','log','default','companyId','__importDefault','toString','(((.+)+)+)+$','298556qdwvAb','apply','190IzJwaP','Token\x20invÃ¡lido','1404975wsUUGy','4648554BspumX','user','__esModule','7WbVDRJ','search','findOne','admin','../models/User','Bearer\x20','constructor','profile','676653deyWHY'];a260_0x1f77=function(){return _0x5d88e5;};return a260_0x1f77();}(function(_0x2a7f87,_0x39c258){const _0x44acdd=a260_0xc55b,_0x3ba857=_0x2a7f87();while(!![]){try{const _0x1a6bee=parseInt(_0x44acdd(0x16f))/0x1*(-parseInt(_0x44acdd(0x185))/0x2)+-parseInt(_0x44acdd(0x17f))/0x3+parseInt(_0x44acdd(0x184))/0x4+parseInt(_0x44acdd(0x180))/0x5*(-parseInt(_0x44acdd(0x182))/0x6)+parseInt(_0x44acdd(0x177))/0x7*(-parseInt(_0x44acdd(0x181))/0x8)+-parseInt(_0x44acdd(0x174))/0x9+parseInt(_0x44acdd(0x171))/0xa*(parseInt(_0x44acdd(0x173))/0xb);if(_0x1a6bee===_0x39c258)break;else _0x3ba857['push'](_0x3ba857['shift']());}catch(_0x2798c6){_0x3ba857['push'](_0x3ba857['shift']());}}}(a260_0x1f77,0xdc9c9));const a260_0x5d88a0=(function(){let _0x3956f6=!![];return function(_0x418f5b,_0x46f879){const _0x472f90=_0x3956f6?function(){const _0x514d66=a260_0xc55b;if(_0x46f879){const _0x44a6fd=_0x46f879[_0x514d66(0x170)](_0x418f5b,arguments);return _0x46f879=null,_0x44a6fd;}}:function(){};return _0x3956f6=![],_0x472f90;};}()),a260_0x279bb1=a260_0x5d88a0(this,function(){const _0x1dc274=a260_0xc55b;return a260_0x279bb1['toString']()['search']('(((.+)+)+)+$')[_0x1dc274(0x16d)]()[_0x1dc274(0x17d)](a260_0x279bb1)[_0x1dc274(0x178)](_0x1dc274(0x16e));});a260_0x279bb1();'use strict';var __importDefault=this&&this[a260_0x1cce89(0x16c)]||function(_0x2f4bd7){const _0x2252de=a260_0x1cce89;return _0x2f4bd7&&_0x2f4bd7[_0x2252de(0x176)]?_0x2f4bd7:{'default':_0x2f4bd7};};Object['defineProperty'](exports,a260_0x1cce89(0x176),{'value':!![]});const AppError_1=__importDefault(require('../errors/AppError')),User_1=__importDefault(require(a260_0x1cce89(0x17b))),Setting_1=__importDefault(require('../models/Setting')),apiTokenAuth=async(_0x21aa89,_0x12ec35,_0x33224e)=>{const _0x1d1cda=a260_0x1cce89;try{const _0x3d2d50=_0x21aa89['headers'][_0x1d1cda(0x183)][_0x1d1cda(0x186)](_0x1d1cda(0x17c),'');if(!_0x3d2d50)return _0x33224e();const _0x2e6b4c=await Setting_1[_0x1d1cda(0x188)][_0x1d1cda(0x179)]({'where':{'key':'apiToken','value':_0x3d2d50}});if(!_0x2e6b4c)return _0x33224e();const _0x2c12b1=await User_1['default'][_0x1d1cda(0x179)]({'where':{'profile':_0x1d1cda(0x17a),'companyId':_0x2e6b4c[_0x1d1cda(0x189)]}});return _0x2c12b1&&(_0x21aa89[_0x1d1cda(0x175)]={'id':''+_0x2c12b1['id'],'profile':_0x2c12b1[_0x1d1cda(0x17e)],'isSuper':![],'companyId':_0x2e6b4c['companyId']}),_0x33224e();}catch(_0x5b878a){console[_0x1d1cda(0x187)](_0x5b878a);}throw new AppError_1[(_0x1d1cda(0x188))](_0x1d1cda(0x172),0x193);};exports[a260_0x1cce89(0x188)]=apiTokenAuth;