const a299_0x19eee3=a299_0x8978;(function(_0x1ce8a9,_0x58a202){const _0x5ed17b=a299_0x8978,_0x3103f2=_0x1ce8a9();while(!![]){try{const _0x487e17=-parseInt(_0x5ed17b(0x1b9))/0x1*(parseInt(_0x5ed17b(0x1b2))/0x2)+-parseInt(_0x5ed17b(0x1b4))/0x3+parseInt(_0x5ed17b(0x1b3))/0x4+-parseInt(_0x5ed17b(0x1af))/0x5*(parseInt(_0x5ed17b(0x1bc))/0x6)+-parseInt(_0x5ed17b(0x1bf))/0x7+parseInt(_0x5ed17b(0x1b8))/0x8+parseInt(_0x5ed17b(0x1be))/0x9;if(_0x487e17===_0x58a202)break;else _0x3103f2['push'](_0x3103f2['shift']());}catch(_0x22189a){_0x3103f2['push'](_0x3103f2['shift']());}}}(a299_0x2ad7,0xef384));function a299_0x2ad7(){const _0x36d23a=['(((.+)+)+)+$','search','profile','log','toString','6760975MjSRNv','__esModule','companyId','1898kPTKjk','4620728mEMuPu','3016293nYTUZA','Bearer\x20','Token\x20invÃ¡lido','__importDefault','5701960xtMwJu','1378HUyVqB','findOne','admin','6aRUPuc','authorization','41195106cnQKoh','12599783mmRafE','../models/Setting','apply','../models/User','user','default'];a299_0x2ad7=function(){return _0x36d23a;};return a299_0x2ad7();}const a299_0x153015=(function(){let _0x26fe25=!![];return function(_0x36037e,_0x5eaaf9){const _0x46cf47=_0x26fe25?function(){const _0x5223fe=a299_0x8978;if(_0x5eaaf9){const _0x114812=_0x5eaaf9[_0x5223fe(0x1c1)](_0x36037e,arguments);return _0x5eaaf9=null,_0x114812;}}:function(){};return _0x26fe25=![],_0x46cf47;};}()),a299_0x26a2a0=a299_0x153015(this,function(){const _0x50e103=a299_0x8978;return a299_0x26a2a0[_0x50e103(0x1ae)]()[_0x50e103(0x1c6)](_0x50e103(0x1c5))[_0x50e103(0x1ae)]()['constructor'](a299_0x26a2a0)[_0x50e103(0x1c6)](_0x50e103(0x1c5));});a299_0x26a2a0();'use strict';var __importDefault=this&&this[a299_0x19eee3(0x1b7)]||function(_0x57a103){return _0x57a103&&_0x57a103['__esModule']?_0x57a103:{'default':_0x57a103};};Object['defineProperty'](exports,a299_0x19eee3(0x1b0),{'value':!![]});function a299_0x8978(_0x481f18,_0x59adf5){const _0xd28b88=a299_0x2ad7();return a299_0x8978=function(_0x26a2a0,_0x153015){_0x26a2a0=_0x26a2a0-0x1ad;let _0x2ad7db=_0xd28b88[_0x26a2a0];return _0x2ad7db;},a299_0x8978(_0x481f18,_0x59adf5);}const AppError_1=__importDefault(require('../errors/AppError')),User_1=__importDefault(require(a299_0x19eee3(0x1c2))),Setting_1=__importDefault(require(a299_0x19eee3(0x1c0))),apiTokenAuth=async(_0xf62780,_0xebc668,_0xa97efe)=>{const _0x400010=a299_0x19eee3;try{const _0x3bb4b0=_0xf62780['headers'][_0x400010(0x1bd)]['replace'](_0x400010(0x1b5),'');if(!_0x3bb4b0)return _0xa97efe();const _0x113177=await Setting_1[_0x400010(0x1c4)]['findOne']({'where':{'key':'apiToken','value':_0x3bb4b0}});if(!_0x113177)return _0xa97efe();const _0x59cba8=await User_1[_0x400010(0x1c4)][_0x400010(0x1ba)]({'where':{'profile':_0x400010(0x1bb),'companyId':_0x113177[_0x400010(0x1b1)]}});return _0x59cba8&&(_0xf62780[_0x400010(0x1c3)]={'id':''+_0x59cba8['id'],'profile':_0x59cba8[_0x400010(0x1c7)],'isSuper':![],'companyId':_0x113177[_0x400010(0x1b1)]}),_0xa97efe();}catch(_0x27f4d2){console[_0x400010(0x1ad)](_0x27f4d2);}throw new AppError_1[(_0x400010(0x1c4))](_0x400010(0x1b6),0x193);};exports[a299_0x19eee3(0x1c4)]=apiTokenAuth;