const a251_0x1e0c29=a251_0x2d85;(function(_0x414da0,_0x5c59b4){const _0x13acd7=a251_0x2d85,_0x2a95af=_0x414da0();while(!![]){try{const _0x36e434=parseInt(_0x13acd7(0x1a4))/0x1*(-parseInt(_0x13acd7(0x19c))/0x2)+-parseInt(_0x13acd7(0x1a9))/0x3+-parseInt(_0x13acd7(0x1bc))/0x4*(-parseInt(_0x13acd7(0x19a))/0x5)+parseInt(_0x13acd7(0x1b6))/0x6+-parseInt(_0x13acd7(0x19d))/0x7*(parseInt(_0x13acd7(0x1af))/0x8)+-parseInt(_0x13acd7(0x198))/0x9+parseInt(_0x13acd7(0x1ac))/0xa*(parseInt(_0x13acd7(0x1aa))/0xb);if(_0x36e434===_0x5c59b4)break;else _0x2a95af['push'](_0x2a95af['shift']());}catch(_0x1f2191){_0x2a95af['push'](_0x2a95af['shift']());}}}(a251_0x335b,0xf1c68));const a251_0x45f52f=(function(){let _0x207057=!![];return function(_0x531280,_0x501230){const _0x2ce09b=_0x207057?function(){const _0xf08838=a251_0x2d85;if(_0x501230){const _0x5807bc=_0x501230[_0xf08838(0x1b1)](_0x531280,arguments);return _0x501230=null,_0x5807bc;}}:function(){};return _0x207057=![],_0x2ce09b;};}()),a251_0x38e4aa=a251_0x45f52f(this,function(){const _0x3f5935=a251_0x2d85;return a251_0x38e4aa[_0x3f5935(0x1a2)]()['search'](_0x3f5935(0x1be))['toString']()['constructor'](a251_0x38e4aa)[_0x3f5935(0x1b5)](_0x3f5935(0x1be));});a251_0x38e4aa();function a251_0x2d85(_0x5335b7,_0x53bd8a){const _0xeb72a2=a251_0x335b();return a251_0x2d85=function(_0x38e4aa,_0x45f52f){_0x38e4aa=_0x38e4aa-0x198;let _0x335bd2=_0xeb72a2[_0x38e4aa];return _0x335bd2;},a251_0x2d85(_0x5335b7,_0x53bd8a);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1c2fed){return _0x1c2fed&&_0x1c2fed['__esModule']?_0x1c2fed:{'default':_0x1c2fed};};function a251_0x335b(){const _0x5ad648=['bind','32nYSayF','set','(((.+)+)+)+$','5165595xNfzXc','default','145305HiqTbq','delFromPattern','382MAAMKD','13818609FJzQPT','redis','all','get','promisify','toString','getRedisInstance','4322sidmiG','crypto-js/enc-base64','stringify','__esModule','encryptParams','2240064IwXkQq','2637107wudCao','map','190MNusYl','defineProperty','getInstance','8TVsKtc','connect','apply','error','keys','del','search','1938318CSsnhf','REDIS_URI_CONNECTION','crypto-js/hmac-sha512','getKeys','instance'];a251_0x335b=function(){return _0x5ad648;};return a251_0x335b();}Object[a251_0x1e0c29(0x1ad)](exports,a251_0x1e0c29(0x1a7),{'value':!![]});const util_1=__importDefault(require('util')),ioredis_1=__importDefault(require('ioredis')),hmac_sha512_1=__importDefault(require(a251_0x1e0c29(0x1b8))),enc_base64_1=__importDefault(require(a251_0x1e0c29(0x1a5))),redis_1=require('../config/redis');class CacheSingleton{constructor(_0x2a1db4){const _0x474c7d=a251_0x1e0c29;this[_0x474c7d(0x19e)]=_0x2a1db4,this[_0x474c7d(0x1bd)]=util_1[_0x474c7d(0x199)]['promisify'](this['redis']['set'])[_0x474c7d(0x1bb)](this[_0x474c7d(0x19e)]),this[_0x474c7d(0x1a0)]=util_1['default'][_0x474c7d(0x1a1)](this[_0x474c7d(0x19e)][_0x474c7d(0x1a0)])[_0x474c7d(0x1bb)](this[_0x474c7d(0x19e)]),this[_0x474c7d(0x1b3)]=util_1['default'][_0x474c7d(0x1a1)](this[_0x474c7d(0x19e)]['keys'])['bind'](this[_0x474c7d(0x19e)]),this['del']=util_1[_0x474c7d(0x199)][_0x474c7d(0x1a1)](this[_0x474c7d(0x19e)][_0x474c7d(0x1b4)])[_0x474c7d(0x1bb)](this[_0x474c7d(0x19e)]);}static['getInstance'](_0xe4b077){const _0x399d7a=a251_0x1e0c29;return!CacheSingleton[_0x399d7a(0x1ba)]&&(CacheSingleton['instance']=new CacheSingleton(_0xe4b077)),CacheSingleton[_0x399d7a(0x1ba)];}static['encryptParams'](_0x3826a5){const _0x17f3e0=a251_0x1e0c29,_0xea9d27=JSON[_0x17f3e0(0x1a6)](_0x3826a5),_0xa0502=enc_base64_1['default'][_0x17f3e0(0x1a6)]((0x0,hmac_sha512_1['default'])(_0x3826a5,_0xea9d27));return _0xa0502;}async[a251_0x1e0c29(0x1bd)](_0x24ef2c,_0x2eab4d,_0x168683,_0xd5f3ae){const _0x184ca0=a251_0x1e0c29,_0x20d34c=util_1[_0x184ca0(0x199)]['promisify'](this['redis']['set'])['bind'](this['redis']);if(_0x168683!==undefined&&_0xd5f3ae!==undefined)return _0x20d34c(_0x24ef2c,_0x2eab4d,_0x168683,_0xd5f3ae);return _0x20d34c(_0x24ef2c,_0x2eab4d);}async[a251_0x1e0c29(0x1a0)](_0x4111fa){const _0x5b675c=a251_0x1e0c29,_0x2ad830=util_1[_0x5b675c(0x199)][_0x5b675c(0x1a1)](this[_0x5b675c(0x19e)][_0x5b675c(0x1a0)])[_0x5b675c(0x1bb)](this[_0x5b675c(0x19e)]);return _0x2ad830(_0x4111fa);}async[a251_0x1e0c29(0x1b9)](_0x246696){const _0x3ecd89=a251_0x1e0c29,_0x1ea14f=util_1[_0x3ecd89(0x199)][_0x3ecd89(0x1a1)](this[_0x3ecd89(0x19e)][_0x3ecd89(0x1b3)])[_0x3ecd89(0x1bb)](this[_0x3ecd89(0x19e)]);return _0x1ea14f(_0x246696);}async[a251_0x1e0c29(0x1b4)](_0x5284c0){const _0x78b88=a251_0x1e0c29,_0x49bf26=util_1[_0x78b88(0x199)][_0x78b88(0x1a1)](this[_0x78b88(0x19e)][_0x78b88(0x1b4)])[_0x78b88(0x1bb)](this[_0x78b88(0x19e)]);return _0x49bf26(_0x5284c0);}async[a251_0x1e0c29(0x19b)](_0xe76ac9){const _0x55f408=a251_0x1e0c29,_0x1abf65=await this[_0x55f408(0x1b9)](_0xe76ac9);await Promise[_0x55f408(0x19f)](_0x1abf65[_0x55f408(0x1ab)](_0x4af033=>this[_0x55f408(0x1b4)](_0x4af033)));}async['setFromParams'](_0x38a867,_0x4ffcd7,_0x5b997e,_0x51fa33,_0x170e92){const _0x45a083=a251_0x1e0c29,_0x17b165=_0x38a867+':'+CacheSingleton[_0x45a083(0x1a8)](_0x4ffcd7);if(_0x51fa33!==undefined&&_0x170e92!==undefined)return this['set'](_0x17b165,_0x5b997e,_0x51fa33,_0x170e92);return this[_0x45a083(0x1bd)](_0x17b165,_0x5b997e);}async['getFromParams'](_0x899a8b,_0x48a18e){const _0x6b7948=a251_0x1e0c29,_0x46c407=_0x899a8b+':'+CacheSingleton[_0x6b7948(0x1a8)](_0x48a18e);return this[_0x6b7948(0x1a0)](_0x46c407);}async['delFromParams'](_0x23d839,_0x19af78){const _0x5592e7=_0x23d839+':'+CacheSingleton['encryptParams'](_0x19af78);return this['del'](_0x5592e7);}[a251_0x1e0c29(0x1a3)](){const _0x406a87=a251_0x1e0c29;return this[_0x406a87(0x19e)];}}const redisInstance=new ioredis_1[(a251_0x1e0c29(0x199))](redis_1[a251_0x1e0c29(0x1b7)]);redisInstance['on'](a251_0x1e0c29(0x1b0),()=>{console['log']('Connected\x20to\x20Redis');}),redisInstance['on'](a251_0x1e0c29(0x1b2),_0x367eb0=>{const _0x3a5ac4=a251_0x1e0c29;console[_0x3a5ac4(0x1b2)]('Redis\x20Client\x20Error:',_0x367eb0);}),exports[a251_0x1e0c29(0x199)]=CacheSingleton[a251_0x1e0c29(0x1ae)](redisInstance);