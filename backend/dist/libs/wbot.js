const a257_0x558950=a257_0x5599;(function(_0x528fe3,_0x56ac13){const _0x330063=a257_0x5599,_0x465a76=_0x528fe3();while(!![]){try{const _0xd1e0f7=parseInt(_0x330063(0x163))/0x1+-parseInt(_0x330063(0x14c))/0x2+parseInt(_0x330063(0x157))/0x3*(parseInt(_0x330063(0x16a))/0x4)+-parseInt(_0x330063(0x11a))/0x5*(-parseInt(_0x330063(0x138))/0x6)+parseInt(_0x330063(0x162))/0x7*(-parseInt(_0x330063(0x150))/0x8)+parseInt(_0x330063(0x176))/0x9+-parseInt(_0x330063(0x109))/0xa*(parseInt(_0x330063(0x16f))/0xb);if(_0xd1e0f7===_0x56ac13)break;else _0x465a76['push'](_0x465a76['shift']());}catch(_0x574119){_0x465a76['push'](_0x465a76['shift']());}}}(a257_0x551a,0x97615));const a257_0x277e5e=(function(){let _0x47f02e=!![];return function(_0x481305,_0x599a12){const _0x724e0c=_0x47f02e?function(){const _0x5c2963=a257_0x5599;if(_0x599a12){const _0x2ba736=_0x599a12[_0x5c2963(0x14b)](_0x481305,arguments);return _0x599a12=null,_0x2ba736;}}:function(){};return _0x47f02e=![],_0x724e0c;};}()),a257_0x1c0d97=a257_0x277e5e(this,function(){const _0x26021f=a257_0x5599;return a257_0x1c0d97[_0x26021f(0x149)]()[_0x26021f(0x172)](_0x26021f(0x11f))[_0x26021f(0x149)]()[_0x26021f(0x16d)](a257_0x1c0d97)['search'](_0x26021f(0x11f));});function a257_0x551a(){const _0x5b3437=['delete','Running','listMessage','logout','__setModuleDefault','type','level','toString','-whatsappSession','apply','1827698MWckIz','importOldMessages','env','makeCacheableSignalKeyStore','2837840Jluwkh','log','importMessages-','__esModule','keys','-mainchannel','hasOwnProperty','7851FsRSLV','default','\x20Connection\x20Update\x20','Message','../models/Contact','creds.update','BROWSER_CLIENT','importRecentMessages','remoteJid','ListType','findOne','7NcAscc','475046jQvEeA','messages','proto','CONNECTED','logger','loggedOut','restartWbot','524UADdDa','getIO','create','constructor','presence.update','957yGvONv','call','deviceSentMessage','search','map','connection.update','bind','7941240FpDVHR','isJidBroadcast','listType','__createBinding','parse','PENDING','statusCode','defineProperty','Chrome','PRODUCT_LIST','ListMessage','child','getTime','floor','makeInMemoryStore','emit','output','unshift','Session\x20QRCode\x20Generate\x20','error','includes','initWASocket','__importDefault','103210loPsGg','Daumzap','debug','findIndex','message','ERR_WAPP_NOT_INITIALIZED','@sentry/node','push','silent','removeWbot','../services/WbotServices/wbotMessageListener','get','whatsappSession','user','DisconnectReason','./socket','add','5431630WpPRBn','forEach','creds','open','../utils/logger','(((.+)+)+)+$','__importStar','../errors/AppError','../models/Whatsapp','companyId','update','StartWhatsAppSession','node-cache','fetchLatestBaileysVersion','SINGLE_SELECT','Starting\x20session\x20','findAll','statusImportMessages','info','close','[wbot.ts]\x20getMessage:\x20result\x20of\x20recovering\x20message\x20','key','newsletter','split','g.us','importOldMessagesGroups','getWbot','dataMessages','configurable','Socket\x20\x20','6fXleIW','date-fns','stringify','messageTimestamp','company-',',\x20isLatest:\x20','reload','../services/WbotServices/StartWhatsAppSession','isValidMsg','../services/BaileysServices/DeleteBaileysService'];a257_0x551a=function(){return _0x5b3437;};return a257_0x551a();}a257_0x1c0d97();'use strict';var __createBinding=this&&this[a257_0x558950(0x179)]||(Object['create']?function(_0x171ab6,_0x267c22,_0xd91ec0,_0xabd5e9){const _0x28293d=a257_0x558950;if(_0xabd5e9===undefined)_0xabd5e9=_0xd91ec0;var _0x3fc0f1=Object['getOwnPropertyDescriptor'](_0x267c22,_0xd91ec0);(!_0x3fc0f1||(_0x28293d(0x114)in _0x3fc0f1?!_0x267c22[_0x28293d(0x153)]:_0x3fc0f1['writable']||_0x3fc0f1[_0x28293d(0x136)]))&&(_0x3fc0f1={'enumerable':!![],'get':function(){return _0x267c22[_0xd91ec0];}}),Object[_0x28293d(0x17d)](_0x171ab6,_0xabd5e9,_0x3fc0f1);}:function(_0x3dcdd1,_0x3afc36,_0x3e6e5f,_0xe05dc9){if(_0xe05dc9===undefined)_0xe05dc9=_0x3e6e5f;_0x3dcdd1[_0xe05dc9]=_0x3afc36[_0x3e6e5f];}),__setModuleDefault=this&&this[a257_0x558950(0x146)]||(Object[a257_0x558950(0x16c)]?function(_0x31d7f3,_0x283121){const _0x1d197e=a257_0x558950;Object['defineProperty'](_0x31d7f3,_0x1d197e(0x158),{'enumerable':!![],'value':_0x283121});}:function(_0x39be9a,_0x1fc1c7){const _0x56e0dc=a257_0x558950;_0x39be9a[_0x56e0dc(0x158)]=_0x1fc1c7;}),__importStar=this&&this[a257_0x558950(0x120)]||function(_0x31819e){const _0x3c7d62=a257_0x558950;if(_0x31819e&&_0x31819e[_0x3c7d62(0x153)])return _0x31819e;var _0x2fddcd={};if(_0x31819e!=null){for(var _0x5ede0b in _0x31819e)if(_0x5ede0b!==_0x3c7d62(0x158)&&Object['prototype'][_0x3c7d62(0x156)][_0x3c7d62(0x170)](_0x31819e,_0x5ede0b))__createBinding(_0x2fddcd,_0x31819e,_0x5ede0b);}return __setModuleDefault(_0x2fddcd,_0x31819e),_0x2fddcd;},__importDefault=this&&this[a257_0x558950(0x108)]||function(_0x25d250){const _0x3b900d=a257_0x558950;return _0x25d250&&_0x25d250[_0x3b900d(0x153)]?_0x25d250:{'default':_0x25d250};};Object[a257_0x558950(0x17d)](exports,a257_0x558950(0x153),{'value':!![]}),exports[a257_0x558950(0x107)]=exports[a257_0x558950(0x135)]=exports[a257_0x558950(0x169)]=exports[a257_0x558950(0x112)]=exports[a257_0x558950(0x134)]=void 0x0;const Sentry=__importStar(require(a257_0x558950(0x10f))),baileys_1=__importStar(require('@whiskeysockets/baileys')),Whatsapp_1=__importDefault(require(a257_0x558950(0x122))),Contact_1=__importDefault(require(a257_0x558950(0x15b))),logger_1=require(a257_0x558950(0x11e)),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),authState_1=__importDefault(require('../helpers/authState')),AppError_1=__importDefault(require(a257_0x558950(0x121))),socket_1=require(a257_0x558950(0x118)),StartWhatsAppSession_1=require(a257_0x558950(0x13f)),DeleteBaileysService_1=__importDefault(require(a257_0x558950(0x141))),node_cache_1=__importDefault(require(a257_0x558950(0x126))),date_fns_1=require(a257_0x558950(0x139)),wbotMessageListener_1=require(a257_0x558950(0x113)),ImportWhatsAppMessageService_1=__importDefault(require('../services/WhatsappService/ImportWhatsAppMessageService')),loggerBaileys=logger_2[a257_0x558950(0x158)][a257_0x558950(0x181)]({});loggerBaileys[a257_0x558950(0x148)]=a257_0x558950(0x111);const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x5d91a5=>{const _0x122676=a257_0x558950,_0x2ed545=sessions[_0x122676(0x10c)](_0x192306=>_0x192306['id']===_0x5d91a5);if(_0x2ed545===-0x1)throw new AppError_1[(_0x122676(0x158))](_0x122676(0x10e));return sessions[_0x2ed545];};exports[a257_0x558950(0x134)]=getWbot;const removeWbot=async(_0x1d0e76,_0x114bc1=!![])=>{const _0x4774e8=a257_0x558950;try{const _0x425a18=sessions[_0x4774e8(0x10c)](_0x2583fa=>_0x2583fa['id']===_0x1d0e76);_0x425a18!==-0x1&&(_0x114bc1&&(sessions[_0x425a18][_0x4774e8(0x145)](),sessions[_0x425a18]['ws'][_0x4774e8(0x12d)]()),sessions['splice'](_0x425a18,0x1));}catch(_0x5b1b4a){logger_1['logger'][_0x4774e8(0x105)](_0x5b1b4a);}};exports['removeWbot']=removeWbot;const restartWbot=async(_0x546226,_0x2a17b8)=>{const _0x56ad26=a257_0x558950;try{const _0x3de7dd={'where':{'companyId':_0x546226},'attributes':['id']},_0x2c914a=await Whatsapp_1[_0x56ad26(0x158)][_0x56ad26(0x12a)](_0x3de7dd);_0x2c914a[_0x56ad26(0x173)](async _0x193342=>{const _0x2c3fe=sessions['findIndex'](_0x424c6e=>_0x424c6e['id']===_0x193342['id']);_0x2c3fe!==-0x1&&sessions[_0x2c3fe]['ws']['close']();});}catch(_0x4f09a8){logger_1[_0x56ad26(0x167)][_0x56ad26(0x105)](_0x4f09a8);}};exports[a257_0x558950(0x169)]=restartWbot,exports[a257_0x558950(0x135)]=[];function a257_0x5599(_0xe74bac,_0x304331){const _0xc215cc=a257_0x551a();return a257_0x5599=function(_0x1c0d97,_0x277e5e){_0x1c0d97=_0x1c0d97-0xff;let _0x551ad6=_0xc215cc[_0x1c0d97];return _0x551ad6;},a257_0x5599(_0xe74bac,_0x304331);}const initWASocket=async _0x1fa279=>{return new Promise(async(_0x26f82e,_0x4b4037)=>{const _0x45bd2e=a257_0x5599;try{await((async()=>{const _0x73d49a=a257_0x5599,_0x8a8b59=(0x0,socket_1[_0x73d49a(0x16b)])(),_0x26cbeb=await Whatsapp_1[_0x73d49a(0x158)][_0x73d49a(0x161)]({'where':{'id':_0x1fa279['id']}});if(!_0x26cbeb)return;const {id:_0xf49448,name:_0x53af09,provider:_0x12423d}=_0x26cbeb,{version:_0x4a9b85,isLatest:_0x2cd06f}=await(0x0,baileys_1[_0x73d49a(0x127)])(),_0x5b0715=_0x12423d==='stable'?!![]:![];logger_1[_0x73d49a(0x167)][_0x73d49a(0x12c)]('using\x20WA\x20v'+_0x4a9b85['join']('.')+_0x73d49a(0x13d)+_0x2cd06f),logger_1[_0x73d49a(0x167)]['info']('isLegacy:\x20'+_0x5b0715),logger_1[_0x73d49a(0x167)][_0x73d49a(0x12c)](_0x73d49a(0x129)+_0x53af09);let _0x49baf2=0x0,_0x55ae1a=null;const _0x103558=(0x0,baileys_1[_0x73d49a(0x100)])({'logger':loggerBaileys});async function _0x46e1db(_0xa8716d){const _0x185e99=_0x73d49a;if(_0x103558){const _0xca0565=await _0x103558['loadMessage'](_0xa8716d[_0x185e99(0x15f)],_0xa8716d['id']);return logger_1['logger'][_0x185e99(0x10b)]({'key':_0xa8716d,'message':JSON['stringify'](_0xca0565)},_0x185e99(0x12e)+_0xa8716d['remoteJid']+'\x20'+_0xa8716d['id']),_0xca0565?.[_0x185e99(0x10d)]||undefined;}return baileys_1[_0x185e99(0x165)][_0x185e99(0x15a)]['fromObject']({});}const {state:_0x2278da,saveState:_0x3f0bf5}=await(0x0,authState_1['default'])(_0x1fa279),_0x97d0d1=new node_cache_1[(_0x73d49a(0x158))]();_0x55ae1a=(0x0,baileys_1[_0x73d49a(0x158)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':[process['env'][_0x73d49a(0x15d)]||_0x73d49a(0x10a),process[_0x73d49a(0x14e)]['BROWSER_NAME']||_0x73d49a(0x17e),process[_0x73d49a(0x14e)]['BROWSER_VERSION']||'10.0'],'auth':{'creds':_0x2278da[_0x73d49a(0x11c)],'keys':(0x0,baileys_1[_0x73d49a(0x14f)])(_0x2278da[_0x73d49a(0x154)],loggerBaileys)},'msgRetryCounterCache':_0x97d0d1,'getMessage':_0x46e1db,'shouldIgnoreJid':_0x44bb8f=>{const _0x534a38=_0x73d49a;return(0x0,baileys_1[_0x534a38(0x177)])(_0x44bb8f)||_0x44bb8f[_0x534a38(0x106)](_0x534a38(0x130));},'version':[0x2,0xbb8,0x3c8d6c7b],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending'(_0x1ae33d){const _0x55d0fa=_0x73d49a;return _0x1ae33d[_0x55d0fa(0x171)]?.[_0x55d0fa(0x10d)]?.['listMessage']?.[_0x55d0fa(0x178)]===baileys_1[_0x55d0fa(0x165)][_0x55d0fa(0x15a)][_0x55d0fa(0x180)][_0x55d0fa(0x160)]['PRODUCT_LIST']&&(_0x1ae33d=JSON[_0x55d0fa(0x17a)](JSON['stringify'](_0x1ae33d)),_0x1ae33d[_0x55d0fa(0x171)][_0x55d0fa(0x10d)][_0x55d0fa(0x144)][_0x55d0fa(0x178)]=baileys_1['proto'][_0x55d0fa(0x15a)]['ListMessage'][_0x55d0fa(0x160)][_0x55d0fa(0x128)]),_0x1ae33d['listMessage']?.[_0x55d0fa(0x178)]==baileys_1['proto'][_0x55d0fa(0x15a)][_0x55d0fa(0x180)]['ListType'][_0x55d0fa(0x17f)]&&(_0x1ae33d=JSON[_0x55d0fa(0x17a)](JSON[_0x55d0fa(0x13a)](_0x1ae33d)),_0x1ae33d[_0x55d0fa(0x144)]['listType']=baileys_1[_0x55d0fa(0x165)][_0x55d0fa(0x15a)]['ListMessage']['ListType'][_0x55d0fa(0x128)]),_0x1ae33d;}});if(_0x26cbeb?.[_0x73d49a(0x14d)]){let _0x4b6266=new Date(_0x26cbeb[_0x73d49a(0x14d)])['getTime'](),_0x298b8a=_0x26cbeb[_0x73d49a(0x15e)]!=''?new Date(_0x26cbeb[_0x73d49a(0x15e)])[_0x73d49a(0x182)]():new Date()[_0x73d49a(0x182)]();console[_0x73d49a(0x151)]('Importando\x20whtasapp!');const _0x315d41=new Date()[_0x73d49a(0x182)]();await _0x26cbeb[_0x73d49a(0x124)]({'statusImportMessages':_0x315d41}),_0x55ae1a['ev']['on']('messaging-history.set',async _0x59d0e0=>{const _0x52e1f6=_0x73d49a,_0x26e809=new Date()[_0x52e1f6(0x182)]();await _0x26cbeb[_0x52e1f6(0x124)]({'statusImportMessages':_0x26e809});const _0x27fab9=_0x1fa279['id'];let _0x3952b0=_0x59d0e0[_0x52e1f6(0x164)],_0x53823a=[];_0x3952b0[_0x52e1f6(0x11b)](_0xed08fe=>{const _0x910788=_0x52e1f6,_0x6095af=Math[_0x910788(0xff)](_0xed08fe[_0x910788(0x13b)]*0x3e8);(0x0,wbotMessageListener_1[_0x910788(0x140)])(_0xed08fe)&&(_0x4b6266<=_0x6095af&&_0x298b8a>=_0x6095af&&(_0xed08fe[_0x910788(0x12f)]?.['remoteJid'][_0x910788(0x131)]('@')[0x1]!=_0x910788(0x132)?_0x53823a['push'](_0xed08fe):_0x26cbeb?.[_0x910788(0x133)]&&_0x53823a[_0x910788(0x110)](_0xed08fe)));}),!exports[_0x52e1f6(0x135)]?.[_0x27fab9]&&(exports[_0x52e1f6(0x135)][_0x27fab9]=[]),exports[_0x52e1f6(0x135)][_0x27fab9][_0x52e1f6(0x103)](..._0x53823a),setTimeout(async()=>{const _0x1a768c=_0x52e1f6;_0x8a8b59['to'](_0x1a768c(0x13c)+_0x26cbeb[_0x1a768c(0x123)]+_0x1a768c(0x155))['emit'](_0x1a768c(0x152)+_0x26cbeb[_0x1a768c(0x123)],{'action':_0x1a768c(0x124),'status':{'this':-0x1,'all':-0x1}}),_0x8a8b59['to']('company-'+_0x26cbeb['companyId']+_0x1a768c(0x155))[_0x1a768c(0x101)]('whatsappSession',{'action':_0x1a768c(0x124),'session':_0x26cbeb});},0x1f4),setTimeout(async()=>{const _0x49ac62=_0x52e1f6;let _0x20c8b1=!isNaN(new Date(Math['floor'](parseInt(_0x26cbeb?.[_0x49ac62(0x12b)])))[_0x49ac62(0x182)]());if(_0x20c8b1){const _0x3cbb3a=new Date(Math['floor'](parseInt(_0x26cbeb?.[_0x49ac62(0x12b)])))[_0x49ac62(0x182)](),_0x987645=+(0x0,date_fns_1[_0x49ac62(0x119)])(_0x3cbb3a,{'seconds':+0x2d})[_0x49ac62(0x182)]();_0x987645<new Date()['getTime']()&&(await(0x0,ImportWhatsAppMessageService_1['default'])(_0x26cbeb),_0x26cbeb[_0x49ac62(0x124)]({'statusImportMessages':_0x49ac62(0x143)}));}_0x8a8b59['to'](_0x49ac62(0x13c)+_0x26cbeb[_0x49ac62(0x123)]+_0x49ac62(0x155))[_0x49ac62(0x101)](_0x49ac62(0x115),{'action':_0x49ac62(0x124),'session':_0x26cbeb});},0xafc8);});}_0x55ae1a['ev']['on'](_0x73d49a(0x174),async({connection:_0x58f7c5,lastDisconnect:_0xfc4850,qr:_0x2cf7ba})=>{const _0x2d56fc=_0x73d49a;logger_1[_0x2d56fc(0x167)][_0x2d56fc(0x12c)](_0x2d56fc(0x137)+_0x53af09+_0x2d56fc(0x159)+(_0x58f7c5||'')+'\x20'+(_0xfc4850||''));if(_0x55ae1a&&_0x55ae1a['ev']){_0x58f7c5===_0x2d56fc(0x12d)&&(_0xfc4850?.['error']?.[_0x2d56fc(0x102)]?.['statusCode']===0x193&&(await _0x1fa279[_0x2d56fc(0x124)]({'status':_0x2d56fc(0x17b),'session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x2d56fc(0x158)])(_0x1fa279['id']),_0x8a8b59['to'](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+_0x2d56fc(0x155))[_0x2d56fc(0x101)]('company-'+_0x1fa279['companyId']+_0x2d56fc(0x14a),{'action':_0x2d56fc(0x124),'session':_0x1fa279}),await(0x0,exports[_0x2d56fc(0x112)])(_0xf49448,![])),_0xfc4850?.[_0x2d56fc(0x105)]?.[_0x2d56fc(0x102)]?.[_0x2d56fc(0x17c)]!==baileys_1[_0x2d56fc(0x117)][_0x2d56fc(0x168)]?(await(0x0,exports[_0x2d56fc(0x112)])(_0xf49448,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x2d56fc(0x125)])(_0x1fa279,_0x1fa279[_0x2d56fc(0x123)]),0x7d0)):(await _0x1fa279['update']({'status':_0x2d56fc(0x17b),'session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x2d56fc(0x158)])(_0x1fa279['id']),_0x8a8b59['to'](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+'-mainchannel')[_0x2d56fc(0x101)](_0x2d56fc(0x13c)+_0x1fa279['companyId']+_0x2d56fc(0x14a),{'action':_0x2d56fc(0x124),'session':_0x1fa279}),await(0x0,exports['removeWbot'])(_0xf49448,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x2d56fc(0x125)])(_0x1fa279,_0x1fa279[_0x2d56fc(0x123)]),0x7d0)));if(_0x58f7c5===_0x2d56fc(0x11d)){await _0x1fa279[_0x2d56fc(0x124)]({'status':_0x2d56fc(0x166),'qrcode':'','retries':0x0,'number':_0x55ae1a[_0x2d56fc(0x147)]==='md'?(0x0,baileys_1['jidNormalizedUser'])(_0x55ae1a[_0x2d56fc(0x116)]['id'])[_0x2d56fc(0x131)]('@')[0x0]:'-'}),_0x8a8b59['to'](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+_0x2d56fc(0x155))['emit'](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+_0x2d56fc(0x14a),{'action':'update','session':_0x1fa279});const _0x381b59=sessions[_0x2d56fc(0x10c)](_0x2c9a77=>_0x2c9a77['id']===_0x1fa279['id']);_0x381b59===-0x1&&(_0x55ae1a['id']=_0x1fa279['id'],sessions[_0x2d56fc(0x110)](_0x55ae1a)),_0x26f82e(_0x55ae1a);}if(_0x2cf7ba!==undefined){if(retriesQrCodeMap[_0x2d56fc(0x114)](_0xf49448)&&retriesQrCodeMap[_0x2d56fc(0x114)](_0xf49448)>=0x3)await _0x26cbeb[_0x2d56fc(0x124)]({'status':'DISCONNECTED','qrcode':''}),await(0x0,DeleteBaileysService_1['default'])(_0x26cbeb['id']),_0x8a8b59['to'](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+_0x2d56fc(0x155))[_0x2d56fc(0x101)](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+'-whatsappSession',{'action':_0x2d56fc(0x124),'session':_0x26cbeb}),_0x55ae1a['ev']['removeAllListeners'](_0x2d56fc(0x174)),_0x55ae1a['ws']['close'](),_0x55ae1a=null,retriesQrCodeMap[_0x2d56fc(0x142)](_0xf49448);else{logger_1[_0x2d56fc(0x167)][_0x2d56fc(0x12c)](_0x2d56fc(0x104)+_0x53af09),retriesQrCodeMap['set'](_0xf49448,_0x49baf2+=0x1),await _0x1fa279[_0x2d56fc(0x124)]({'qrcode':_0x2cf7ba,'status':'qrcode','retries':0x0,'number':''});const _0x4693fb=sessions['findIndex'](_0xfe57cd=>_0xfe57cd['id']===_0x1fa279['id']);_0x4693fb===-0x1&&(_0x55ae1a['id']=_0x1fa279['id'],sessions[_0x2d56fc(0x110)](_0x55ae1a)),_0x8a8b59['to'](_0x2d56fc(0x13c)+_0x1fa279['companyId']+'-mainchannel')[_0x2d56fc(0x101)](_0x2d56fc(0x13c)+_0x1fa279[_0x2d56fc(0x123)]+_0x2d56fc(0x14a),{'action':_0x2d56fc(0x124),'session':_0x1fa279});}}}else console[_0x2d56fc(0x151)]('wsocket\x20or\x20wsocket.ev\x20is\x20null.');}),_0x55ae1a['ev']['on'](_0x73d49a(0x15c),_0x3f0bf5),_0x55ae1a['ev']['on'](_0x73d49a(0x16e),async({id:_0x2b542f,presences:_0x56ff6d})=>{const _0x2e717d=_0x73d49a;try{const _0x2108ab=await Contact_1[_0x2e717d(0x158)][_0x2e717d(0x161)]({'where':{'number':_0x2b542f['replace'](/\D/g,''),'companyId':_0x1fa279[_0x2e717d(0x123)]}});await _0x2108ab[_0x2e717d(0x124)]({'presence':_0x56ff6d[_0x2b542f]['lastKnownPresence']}),await _0x2108ab[_0x2e717d(0x13e)](),_0x8a8b59['to'](_0x2e717d(0x13c)+_0x1fa279['companyId']+_0x2e717d(0x155))[_0x2e717d(0x101)](_0x2e717d(0x13c)+_0x1fa279['companyId']+'-contact',{'action':'update','contact':_0x2108ab});}catch(_0x32e502){}}),_0x103558[_0x73d49a(0x175)](_0x55ae1a['ev']);})());}catch(_0x249159){Sentry['captureException'](_0x249159),console[_0x45bd2e(0x151)](_0x249159),_0x4b4037(_0x249159);}});};exports[a257_0x558950(0x107)]=initWASocket;