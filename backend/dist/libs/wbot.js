const a256_0x4e581a=a256_0x4d9b;(function(_0x5f1502,_0x12ab2d){const _0x5e99e1=a256_0x4d9b,_0x2939f0=_0x5f1502();while(!![]){try{const _0x2fe0ff=parseInt(_0x5e99e1(0x197))/0x1+-parseInt(_0x5e99e1(0x18d))/0x2+-parseInt(_0x5e99e1(0x1f8))/0x3*(parseInt(_0x5e99e1(0x198))/0x4)+-parseInt(_0x5e99e1(0x1e0))/0x5+parseInt(_0x5e99e1(0x188))/0x6+parseInt(_0x5e99e1(0x1b8))/0x7+parseInt(_0x5e99e1(0x1f3))/0x8;if(_0x2fe0ff===_0x12ab2d)break;else _0x2939f0['push'](_0x2939f0['shift']());}catch(_0x1d49f5){_0x2939f0['push'](_0x2939f0['shift']());}}}(a256_0xc8bb,0x7a868));function a256_0x4d9b(_0x3bdf86,_0x185347){const _0x4af7d9=a256_0xc8bb();return a256_0x4d9b=function(_0x186fac,_0x4216fd){_0x186fac=_0x186fac-0x188;let _0xc8bb43=_0x4af7d9[_0x186fac];return _0xc8bb43;},a256_0x4d9b(_0x3bdf86,_0x185347);}const a256_0x4216fd=(function(){let _0x2a0a61=!![];return function(_0x37e9cb,_0x45a2ff){const _0x2c6f87=_0x2a0a61?function(){const _0x18d7a3=a256_0x4d9b;if(_0x45a2ff){const _0x82ccd4=_0x45a2ff[_0x18d7a3(0x20b)](_0x37e9cb,arguments);return _0x45a2ff=null,_0x82ccd4;}}:function(){};return _0x2a0a61=![],_0x2c6f87;};}()),a256_0x186fac=a256_0x4216fd(this,function(){const _0xb3cc72=a256_0x4d9b;return a256_0x186fac[_0xb3cc72(0x1b9)]()[_0xb3cc72(0x1d0)]('(((.+)+)+)+$')[_0xb3cc72(0x1b9)]()[_0xb3cc72(0x20f)](a256_0x186fac)[_0xb3cc72(0x1d0)](_0xb3cc72(0x1a4));});a256_0x186fac();function a256_0xc8bb(){const _0x4ede94=['message','emit','hasOwnProperty','lastKnownPresence','restartWbot','971332sBChLi','1629380WteGkc','forEach','removeAllListeners','logout','output','@whiskeysockets/baileys','getOwnPropertyDescriptor','captureException','whatsappSession','parse','CONNECTED','loggedOut','(((.+)+)+)+$','newsletter','listType','StartWhatsAppSession','importOldMessagesGroups','default','creds','PRODUCT_LIST','Running','ListType','../services/BaileysServices/DeleteBaileysService','BROWSER_NAME','set','@sentry/node','split','removeWbot','companyId','create','using\x20WA\x20v','level','4967837zLbuxn','toString','DISCONNECTED','push','floor','__setModuleDefault','makeCacheableSignalKeyStore','messageTimestamp','presence.update','log','statusCode','Chrome','10.0','close','type','logger','ListMessage','company-','jidNormalizedUser','__importStar','user','../services/WbotServices/wbotMessageListener','defineProperty','info','search','__esModule','deviceSentMessage','key','wsocket\x20or\x20wsocket.ev\x20is\x20null.','statusImportMessages','DisconnectReason','findIndex','qrcode','silent','messages','fetchLatestBaileysVersion','isValidMsg','getWbot','./socket','g.us','4503460uSeigT','node-cache','update','-whatsappSession','proto','error','dataMessages','Message','-contact','replace','Starting\x20session\x20','get','Importando\x20whtasapp!','\x20Connection\x20Update\x20','connection.update','../helpers/authState','__importDefault','makeInMemoryStore','../models/Whatsapp','314224zOWpuv','configurable','BROWSER_CLIENT','ERR_WAPP_NOT_INITIALIZED','../services/WbotServices/StartWhatsAppSession','6fiIsAi','remoteJid','stringify','includes','-mainchannel','isLegacy:\x20','prototype','[wbot.ts]\x20getMessage:\x20result\x20of\x20recovering\x20message\x20','isJidBroadcast','add','reload','messaging-history.set','map','writable','SINGLE_SELECT','open','unshift','creds.update','getTime','apply','__createBinding','importOldMessages','env','constructor','3202668KfPkqY','date-fns','Session\x20QRCode\x20Generate\x20','listMessage','initWASocket','73666sELjIZ','Socket\x20\x20','findOne','loadMessage','PENDING'];a256_0xc8bb=function(){return _0x4ede94;};return a256_0xc8bb();}'use strict';var __createBinding=this&&this[a256_0x4e581a(0x20c)]||(Object[a256_0x4e581a(0x1b5)]?function(_0x58516b,_0x59409b,_0x29d5f5,_0x24598c){const _0xd4a96c=a256_0x4e581a;if(_0x24598c===undefined)_0x24598c=_0x29d5f5;var _0x25b051=Object[_0xd4a96c(0x19e)](_0x59409b,_0x29d5f5);(!_0x25b051||(_0xd4a96c(0x1eb)in _0x25b051?!_0x59409b[_0xd4a96c(0x1d1)]:_0x25b051[_0xd4a96c(0x205)]||_0x25b051[_0xd4a96c(0x1f4)]))&&(_0x25b051={'enumerable':!![],'get':function(){return _0x59409b[_0x29d5f5];}}),Object[_0xd4a96c(0x1ce)](_0x58516b,_0x24598c,_0x25b051);}:function(_0x3aa637,_0x1394b6,_0x55c80a,_0x4be8cc){if(_0x4be8cc===undefined)_0x4be8cc=_0x55c80a;_0x3aa637[_0x4be8cc]=_0x1394b6[_0x55c80a];}),__setModuleDefault=this&&this[a256_0x4e581a(0x1bd)]||(Object['create']?function(_0x4e9cdc,_0x1fefc7){const _0xf9abab=a256_0x4e581a;Object[_0xf9abab(0x1ce)](_0x4e9cdc,_0xf9abab(0x1a9),{'enumerable':!![],'value':_0x1fefc7});}:function(_0x3872c1,_0x3465bf){_0x3872c1['default']=_0x3465bf;}),__importStar=this&&this[a256_0x4e581a(0x1cb)]||function(_0x4a6cbb){const _0x57e44e=a256_0x4e581a;if(_0x4a6cbb&&_0x4a6cbb[_0x57e44e(0x1d1)])return _0x4a6cbb;var _0x408333={};if(_0x4a6cbb!=null){for(var _0x8acdd in _0x4a6cbb)if(_0x8acdd!==_0x57e44e(0x1a9)&&Object[_0x57e44e(0x1fe)][_0x57e44e(0x194)]['call'](_0x4a6cbb,_0x8acdd))__createBinding(_0x408333,_0x4a6cbb,_0x8acdd);}return __setModuleDefault(_0x408333,_0x4a6cbb),_0x408333;},__importDefault=this&&this[a256_0x4e581a(0x1f0)]||function(_0x598e48){const _0x296bdf=a256_0x4e581a;return _0x598e48&&_0x598e48[_0x296bdf(0x1d1)]?_0x598e48:{'default':_0x598e48};};Object[a256_0x4e581a(0x1ce)](exports,'__esModule',{'value':!![]}),exports[a256_0x4e581a(0x18c)]=exports[a256_0x4e581a(0x1e6)]=exports[a256_0x4e581a(0x196)]=exports['removeWbot']=exports['getWbot']=void 0x0;const Sentry=__importStar(require(a256_0x4e581a(0x1b1))),baileys_1=__importStar(require(a256_0x4e581a(0x19d))),Whatsapp_1=__importDefault(require(a256_0x4e581a(0x1f2))),Contact_1=__importDefault(require('../models/Contact')),logger_1=require('../utils/logger'),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),authState_1=__importDefault(require(a256_0x4e581a(0x1ef))),AppError_1=__importDefault(require('../errors/AppError')),socket_1=require(a256_0x4e581a(0x1de)),StartWhatsAppSession_1=require(a256_0x4e581a(0x1f7)),DeleteBaileysService_1=__importDefault(require(a256_0x4e581a(0x1ae))),node_cache_1=__importDefault(require(a256_0x4e581a(0x1e1))),date_fns_1=require(a256_0x4e581a(0x189)),wbotMessageListener_1=require(a256_0x4e581a(0x1cd)),ImportWhatsAppMessageService_1=__importDefault(require('../services/WhatsappService/ImportWhatsAppMessageService')),loggerBaileys=logger_2[a256_0x4e581a(0x1a9)]['child']({});loggerBaileys[a256_0x4e581a(0x1b7)]=a256_0x4e581a(0x1d9);const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x369b15=>{const _0x5a7c50=a256_0x4e581a,_0x7c2962=sessions['findIndex'](_0x44cd85=>_0x44cd85['id']===_0x369b15);if(_0x7c2962===-0x1)throw new AppError_1[(_0x5a7c50(0x1a9))](_0x5a7c50(0x1f6));return sessions[_0x7c2962];};exports[a256_0x4e581a(0x1dd)]=getWbot;const removeWbot=async(_0x1023fa,_0x1dcffe=!![])=>{const _0x5dbcf8=a256_0x4e581a;try{const _0x340e59=sessions[_0x5dbcf8(0x1d7)](_0x5d9de0=>_0x5d9de0['id']===_0x1023fa);_0x340e59!==-0x1&&(_0x1dcffe&&(sessions[_0x340e59][_0x5dbcf8(0x19b)](),sessions[_0x340e59]['ws'][_0x5dbcf8(0x1c5)]()),sessions['splice'](_0x340e59,0x1));}catch(_0x5df2b9){logger_1[_0x5dbcf8(0x1c7)][_0x5dbcf8(0x1e5)](_0x5df2b9);}};exports[a256_0x4e581a(0x1b3)]=removeWbot;const restartWbot=async(_0x5ee732,_0xecdf57)=>{const _0x2d3e29=a256_0x4e581a;try{const _0x5b507d={'where':{'companyId':_0x5ee732},'attributes':['id']},_0x1f8c1f=await Whatsapp_1[_0x2d3e29(0x1a9)]['findAll'](_0x5b507d);_0x1f8c1f[_0x2d3e29(0x204)](async _0x35fe7e=>{const _0x4977c8=_0x2d3e29,_0x4f94fe=sessions[_0x4977c8(0x1d7)](_0x376785=>_0x376785['id']===_0x35fe7e['id']);_0x4f94fe!==-0x1&&sessions[_0x4f94fe]['ws']['close']();});}catch(_0x351e48){logger_1[_0x2d3e29(0x1c7)][_0x2d3e29(0x1e5)](_0x351e48);}};exports['restartWbot']=restartWbot,exports['dataMessages']=[];const initWASocket=async _0xc1c04f=>{return new Promise(async(_0x3a7ba9,_0x30c3ab)=>{const _0x5bb90b=a256_0x4d9b;try{await((async()=>{const _0x5d4312=a256_0x4d9b,_0x253c67=(0x0,socket_1['getIO'])(),_0x46b7d5=await Whatsapp_1[_0x5d4312(0x1a9)][_0x5d4312(0x18f)]({'where':{'id':_0xc1c04f['id']}});if(!_0x46b7d5)return;const {id:_0xd25321,name:_0x48b289,provider:_0x5abcee}=_0x46b7d5,{version:_0xc1182d,isLatest:_0x33c082}=await(0x0,baileys_1[_0x5d4312(0x1db)])(),_0x353cb5=_0x5abcee==='stable'?!![]:![];logger_1[_0x5d4312(0x1c7)]['info'](_0x5d4312(0x1b6)+_0xc1182d['join']('.')+',\x20isLatest:\x20'+_0x33c082),logger_1[_0x5d4312(0x1c7)]['info'](_0x5d4312(0x1fd)+_0x353cb5),logger_1['logger']['info'](_0x5d4312(0x1ea)+_0x48b289);let _0x202185=0x0,_0x12ee87=null;const _0x54dbbc=(0x0,baileys_1[_0x5d4312(0x1f1)])({'logger':loggerBaileys});async function _0x4516b5(_0x2397bd){const _0x371346=_0x5d4312;if(_0x54dbbc){const _0x100b7b=await _0x54dbbc[_0x371346(0x190)](_0x2397bd[_0x371346(0x1f9)],_0x2397bd['id']);return logger_1[_0x371346(0x1c7)]['debug']({'key':_0x2397bd,'message':JSON[_0x371346(0x1fa)](_0x100b7b)},_0x371346(0x1ff)+_0x2397bd[_0x371346(0x1f9)]+'\x20'+_0x2397bd['id']),_0x100b7b?.[_0x371346(0x192)]||undefined;}return baileys_1[_0x371346(0x1e4)][_0x371346(0x1e7)]['fromObject']({});}const {state:_0x90ace3,saveState:_0x28013b}=await(0x0,authState_1[_0x5d4312(0x1a9)])(_0xc1c04f),_0xb77087=new node_cache_1[(_0x5d4312(0x1a9))]();_0x12ee87=(0x0,baileys_1[_0x5d4312(0x1a9)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':[process[_0x5d4312(0x20e)][_0x5d4312(0x1f5)]||'Daumzap',process['env'][_0x5d4312(0x1af)]||_0x5d4312(0x1c3),process[_0x5d4312(0x20e)]['BROWSER_VERSION']||_0x5d4312(0x1c4)],'auth':{'creds':_0x90ace3[_0x5d4312(0x1aa)],'keys':(0x0,baileys_1[_0x5d4312(0x1be)])(_0x90ace3['keys'],loggerBaileys)},'msgRetryCounterCache':_0xb77087,'getMessage':_0x4516b5,'shouldIgnoreJid':_0x40eab4=>{const _0x226f82=_0x5d4312;return(0x0,baileys_1[_0x226f82(0x200)])(_0x40eab4)||_0x40eab4[_0x226f82(0x1fb)](_0x226f82(0x1a5));},'version':[0x2,0xbb8,0x3c8d6c7b],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending'(_0x575d79){const _0x4ee608=_0x5d4312;return _0x575d79[_0x4ee608(0x1d2)]?.[_0x4ee608(0x192)]?.['listMessage']?.[_0x4ee608(0x1a6)]===baileys_1[_0x4ee608(0x1e4)][_0x4ee608(0x1e7)][_0x4ee608(0x1c8)][_0x4ee608(0x1ad)][_0x4ee608(0x1ab)]&&(_0x575d79=JSON[_0x4ee608(0x1a1)](JSON[_0x4ee608(0x1fa)](_0x575d79)),_0x575d79[_0x4ee608(0x1d2)][_0x4ee608(0x192)]['listMessage']['listType']=baileys_1['proto']['Message']['ListMessage'][_0x4ee608(0x1ad)][_0x4ee608(0x206)]),_0x575d79[_0x4ee608(0x18b)]?.['listType']==baileys_1[_0x4ee608(0x1e4)][_0x4ee608(0x1e7)][_0x4ee608(0x1c8)]['ListType'][_0x4ee608(0x1ab)]&&(_0x575d79=JSON['parse'](JSON[_0x4ee608(0x1fa)](_0x575d79)),_0x575d79[_0x4ee608(0x18b)][_0x4ee608(0x1a6)]=baileys_1[_0x4ee608(0x1e4)][_0x4ee608(0x1e7)][_0x4ee608(0x1c8)]['ListType'][_0x4ee608(0x206)]),_0x575d79;}});if(_0x46b7d5?.[_0x5d4312(0x20d)]){let _0x59cf62=new Date(_0x46b7d5[_0x5d4312(0x20d)])['getTime'](),_0x54e655=_0x46b7d5['importRecentMessages']!=''?new Date(_0x46b7d5['importRecentMessages'])[_0x5d4312(0x20a)]():new Date()[_0x5d4312(0x20a)]();console[_0x5d4312(0x1c1)](_0x5d4312(0x1ec));const _0x1a4d24=new Date()[_0x5d4312(0x20a)]();await _0x46b7d5[_0x5d4312(0x1e2)]({'statusImportMessages':_0x1a4d24}),_0x12ee87['ev']['on'](_0x5d4312(0x203),async _0x5c9bc6=>{const _0x1e9cd0=_0x5d4312,_0x365cc0=new Date()[_0x1e9cd0(0x20a)]();await _0x46b7d5[_0x1e9cd0(0x1e2)]({'statusImportMessages':_0x365cc0});const _0x5055f5=_0xc1c04f['id'];let _0x1b7086=_0x5c9bc6[_0x1e9cd0(0x1da)],_0x43b3b5=[];_0x1b7086[_0x1e9cd0(0x199)](_0x467632=>{const _0x24c0bb=_0x1e9cd0,_0x4c5f13=Math['floor'](_0x467632[_0x24c0bb(0x1bf)]*0x3e8);(0x0,wbotMessageListener_1[_0x24c0bb(0x1dc)])(_0x467632)&&(_0x59cf62<=_0x4c5f13&&_0x54e655>=_0x4c5f13&&(_0x467632[_0x24c0bb(0x1d3)]?.[_0x24c0bb(0x1f9)][_0x24c0bb(0x1b2)]('@')[0x1]!=_0x24c0bb(0x1df)?_0x43b3b5['push'](_0x467632):_0x46b7d5?.[_0x24c0bb(0x1a8)]&&_0x43b3b5[_0x24c0bb(0x1bb)](_0x467632)));}),!exports[_0x1e9cd0(0x1e6)]?.[_0x5055f5]&&(exports[_0x1e9cd0(0x1e6)][_0x5055f5]=[]),exports[_0x1e9cd0(0x1e6)][_0x5055f5][_0x1e9cd0(0x208)](..._0x43b3b5),setTimeout(async()=>{const _0x17ae22=_0x1e9cd0;_0x253c67['to']('company-'+_0x46b7d5['companyId']+_0x17ae22(0x1fc))[_0x17ae22(0x193)]('importMessages-'+_0x46b7d5[_0x17ae22(0x1b4)],{'action':_0x17ae22(0x1e2),'status':{'this':-0x1,'all':-0x1}}),_0x253c67['to']('company-'+_0x46b7d5['companyId']+'-mainchannel')[_0x17ae22(0x193)](_0x17ae22(0x1a0),{'action':_0x17ae22(0x1e2),'session':_0x46b7d5});},0x1f4),setTimeout(async()=>{const _0x2496db=_0x1e9cd0;let _0x11f43b=!isNaN(new Date(Math['floor'](parseInt(_0x46b7d5?.[_0x2496db(0x1d5)])))[_0x2496db(0x20a)]());if(_0x11f43b){const _0x5722eb=new Date(Math[_0x2496db(0x1bc)](parseInt(_0x46b7d5?.['statusImportMessages'])))[_0x2496db(0x20a)](),_0x271410=+(0x0,date_fns_1[_0x2496db(0x201)])(_0x5722eb,{'seconds':+0x2d})[_0x2496db(0x20a)]();_0x271410<new Date()[_0x2496db(0x20a)]()&&(await(0x0,ImportWhatsAppMessageService_1[_0x2496db(0x1a9)])(_0x46b7d5),_0x46b7d5[_0x2496db(0x1e2)]({'statusImportMessages':_0x2496db(0x1ac)}));}_0x253c67['to'](_0x2496db(0x1c9)+_0x46b7d5['companyId']+_0x2496db(0x1fc))[_0x2496db(0x193)](_0x2496db(0x1a0),{'action':_0x2496db(0x1e2),'session':_0x46b7d5});},0xafc8);});}_0x12ee87['ev']['on']('connection.update',async({connection:_0x4e9dad,lastDisconnect:_0x4ed555,qr:_0x41a802})=>{const _0x23ee55=_0x5d4312;logger_1[_0x23ee55(0x1c7)][_0x23ee55(0x1cf)](_0x23ee55(0x18e)+_0x48b289+_0x23ee55(0x1ed)+(_0x4e9dad||'')+'\x20'+(_0x4ed555||''));if(_0x12ee87&&_0x12ee87['ev']){_0x4e9dad==='close'&&(_0x4ed555?.[_0x23ee55(0x1e5)]?.[_0x23ee55(0x19c)]?.[_0x23ee55(0x1c2)]===0x193&&(await _0xc1c04f[_0x23ee55(0x1e2)]({'status':_0x23ee55(0x191),'session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x23ee55(0x1a9)])(_0xc1c04f['id']),_0x253c67['to'](_0x23ee55(0x1c9)+_0xc1c04f[_0x23ee55(0x1b4)]+'-mainchannel')[_0x23ee55(0x193)](_0x23ee55(0x1c9)+_0xc1c04f[_0x23ee55(0x1b4)]+_0x23ee55(0x1e3),{'action':_0x23ee55(0x1e2),'session':_0xc1c04f}),await(0x0,exports[_0x23ee55(0x1b3)])(_0xd25321,![])),_0x4ed555?.[_0x23ee55(0x1e5)]?.[_0x23ee55(0x19c)]?.[_0x23ee55(0x1c2)]!==baileys_1[_0x23ee55(0x1d6)][_0x23ee55(0x1a3)]?(await(0x0,exports[_0x23ee55(0x1b3)])(_0xd25321,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x23ee55(0x1a7)])(_0xc1c04f,_0xc1c04f[_0x23ee55(0x1b4)]),0x7d0)):(await _0xc1c04f[_0x23ee55(0x1e2)]({'status':_0x23ee55(0x191),'session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x23ee55(0x1a9)])(_0xc1c04f['id']),_0x253c67['to'](_0x23ee55(0x1c9)+_0xc1c04f[_0x23ee55(0x1b4)]+'-mainchannel')[_0x23ee55(0x193)](_0x23ee55(0x1c9)+_0xc1c04f['companyId']+_0x23ee55(0x1e3),{'action':_0x23ee55(0x1e2),'session':_0xc1c04f}),await(0x0,exports[_0x23ee55(0x1b3)])(_0xd25321,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1['StartWhatsAppSession'])(_0xc1c04f,_0xc1c04f['companyId']),0x7d0)));if(_0x4e9dad===_0x23ee55(0x207)){await _0xc1c04f[_0x23ee55(0x1e2)]({'status':_0x23ee55(0x1a2),'qrcode':'','retries':0x0,'number':_0x12ee87[_0x23ee55(0x1c6)]==='md'?(0x0,baileys_1[_0x23ee55(0x1ca)])(_0x12ee87[_0x23ee55(0x1cc)]['id'])[_0x23ee55(0x1b2)]('@')[0x0]:'-'}),_0x253c67['to'](_0x23ee55(0x1c9)+_0xc1c04f[_0x23ee55(0x1b4)]+_0x23ee55(0x1fc))[_0x23ee55(0x193)](_0x23ee55(0x1c9)+_0xc1c04f['companyId']+_0x23ee55(0x1e3),{'action':_0x23ee55(0x1e2),'session':_0xc1c04f});const _0x1798e3=sessions['findIndex'](_0x4f5561=>_0x4f5561['id']===_0xc1c04f['id']);_0x1798e3===-0x1&&(_0x12ee87['id']=_0xc1c04f['id'],sessions[_0x23ee55(0x1bb)](_0x12ee87)),_0x3a7ba9(_0x12ee87);}if(_0x41a802!==undefined){if(retriesQrCodeMap[_0x23ee55(0x1eb)](_0xd25321)&&retriesQrCodeMap[_0x23ee55(0x1eb)](_0xd25321)>=0x3)await _0x46b7d5[_0x23ee55(0x1e2)]({'status':_0x23ee55(0x1ba),'qrcode':''}),await(0x0,DeleteBaileysService_1['default'])(_0x46b7d5['id']),_0x253c67['to'](_0x23ee55(0x1c9)+_0xc1c04f['companyId']+_0x23ee55(0x1fc))[_0x23ee55(0x193)](_0x23ee55(0x1c9)+_0xc1c04f[_0x23ee55(0x1b4)]+'-whatsappSession',{'action':_0x23ee55(0x1e2),'session':_0x46b7d5}),_0x12ee87['ev'][_0x23ee55(0x19a)](_0x23ee55(0x1ee)),_0x12ee87['ws'][_0x23ee55(0x1c5)](),_0x12ee87=null,retriesQrCodeMap['delete'](_0xd25321);else{logger_1[_0x23ee55(0x1c7)][_0x23ee55(0x1cf)](_0x23ee55(0x18a)+_0x48b289),retriesQrCodeMap[_0x23ee55(0x1b0)](_0xd25321,_0x202185+=0x1),await _0xc1c04f['update']({'qrcode':_0x41a802,'status':_0x23ee55(0x1d8),'retries':0x0,'number':''});const _0xc9fb9=sessions[_0x23ee55(0x1d7)](_0x56bd37=>_0x56bd37['id']===_0xc1c04f['id']);_0xc9fb9===-0x1&&(_0x12ee87['id']=_0xc1c04f['id'],sessions[_0x23ee55(0x1bb)](_0x12ee87)),_0x253c67['to'](_0x23ee55(0x1c9)+_0xc1c04f['companyId']+_0x23ee55(0x1fc))[_0x23ee55(0x193)]('company-'+_0xc1c04f[_0x23ee55(0x1b4)]+_0x23ee55(0x1e3),{'action':'update','session':_0xc1c04f});}}}else console[_0x23ee55(0x1c1)](_0x23ee55(0x1d4));}),_0x12ee87['ev']['on'](_0x5d4312(0x209),_0x28013b),_0x12ee87['ev']['on'](_0x5d4312(0x1c0),async({id:_0x2f119e,presences:_0x27c432})=>{const _0x52a822=_0x5d4312;try{const _0x2d9b42=await Contact_1[_0x52a822(0x1a9)]['findOne']({'where':{'number':_0x2f119e[_0x52a822(0x1e9)](/\D/g,''),'companyId':_0xc1c04f[_0x52a822(0x1b4)]}});await _0x2d9b42[_0x52a822(0x1e2)]({'presence':_0x27c432[_0x2f119e][_0x52a822(0x195)]}),await _0x2d9b42[_0x52a822(0x202)](),_0x253c67['to'](_0x52a822(0x1c9)+_0xc1c04f[_0x52a822(0x1b4)]+'-mainchannel')[_0x52a822(0x193)](_0x52a822(0x1c9)+_0xc1c04f[_0x52a822(0x1b4)]+_0x52a822(0x1e8),{'action':'update','contact':_0x2d9b42});}catch(_0x2a1e90){}}),_0x54dbbc['bind'](_0x12ee87['ev']);})());}catch(_0x27a057){Sentry[_0x5bb90b(0x19f)](_0x27a057),console[_0x5bb90b(0x1c1)](_0x27a057),_0x30c3ab(_0x27a057);}});};exports[a256_0x4e581a(0x18c)]=initWASocket;