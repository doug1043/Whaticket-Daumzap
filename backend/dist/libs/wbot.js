const a256_0x775d04=a256_0x26c8;(function(_0x3ba17a,_0x2e3014){const _0x40a1e4=a256_0x26c8,_0x2699a8=_0x3ba17a();while(!![]){try{const _0x5e10cb=parseInt(_0x40a1e4(0x136))/0x1*(-parseInt(_0x40a1e4(0x15e))/0x2)+-parseInt(_0x40a1e4(0x154))/0x3*(parseInt(_0x40a1e4(0x14e))/0x4)+parseInt(_0x40a1e4(0x181))/0x5*(parseInt(_0x40a1e4(0x12b))/0x6)+parseInt(_0x40a1e4(0x135))/0x7+-parseInt(_0x40a1e4(0x12f))/0x8+parseInt(_0x40a1e4(0x127))/0x9*(-parseInt(_0x40a1e4(0x173))/0xa)+-parseInt(_0x40a1e4(0x148))/0xb*(-parseInt(_0x40a1e4(0x19b))/0xc);if(_0x5e10cb===_0x2e3014)break;else _0x2699a8['push'](_0x2699a8['shift']());}catch(_0x156b7f){_0x2699a8['push'](_0x2699a8['shift']());}}}(a256_0x585b,0xe7645));function a256_0x585b(){const _0x27068d=['ListMessage','(((.+)+)+)+$','../services/WbotServices/wbotMessageListener','g.us','date-fns','prototype','user','env','loggedOut','@whiskeysockets/baileys','update','delete','getIO','__importStar','writable','listType','child','../models/Whatsapp','call','fetchLatestBaileysVersion','12WmvOIE','level','initWASocket','presence.update','SINGLE_SELECT','default','splice','messageTimestamp','stringify','whatsappSession','findIndex','../services/BaileysServices/DeleteBaileysService','configurable','getTime','../services/WhatsappService/ImportWhatsAppMessageService','message','1164222nNPSYN','parse','create','StartWhatsAppSession','14370rVUvWP','floor','connection.update','split','11707768pAtLMS','wsocket\x20or\x20wsocket.ev\x20is\x20null.','dataMessages','add','creds','Importando\x20whtasapp!','8862266hKLDEI','976qlyaEj','importRecentMessages','node-cache','jidNormalizedUser','10.0','importOldMessages','logout','__setModuleDefault','-mainchannel','forEach','stable','../services/WbotServices/StartWhatsAppSession','emit','Chrome','type','__createBinding','reload','PENDING','47363833BCfMcR','deviceSentMessage','replace',',\x20isLatest:\x20','keys','search','576436EdJWPI','getWbot','-whatsappSession','companyId','DisconnectReason','statusCode','15TAjhMI','remoteJid','findOne','join','isJidBroadcast','log','BROWSER_CLIENT','listMessage','\x20Connection\x20Update\x20','Message','3684MckgtB','Running','map','proto','captureException','open','../helpers/authState','using\x20WA\x20v','@whiskeysockets/baileys/lib/Utils/logger','qrcode','constructor','error','PRODUCT_LIST','creds.update','__importDefault','messaging-history.set','close','logger','get','fromObject','ListType','140pevjeH','info','debug','statusImportMessages','./socket','getOwnPropertyDescriptor','-contact','apply','push','__esModule','defineProperty','lastKnownPresence','toString','company-','2440GqHVlg','unshift','isLegacy:\x20','output','findAll','removeWbot'];a256_0x585b=function(){return _0x27068d;};return a256_0x585b();}const a256_0x4d8b5c=(function(){let _0x17bb62=!![];return function(_0x100fdc,_0x9c64f2){const _0x42c28c=_0x17bb62?function(){const _0x27f038=a256_0x26c8;if(_0x9c64f2){const _0x46cff9=_0x9c64f2[_0x27f038(0x17a)](_0x100fdc,arguments);return _0x9c64f2=null,_0x46cff9;}}:function(){};return _0x17bb62=![],_0x42c28c;};}()),a256_0x5400e1=a256_0x4d8b5c(this,function(){const _0x2c49b9=a256_0x26c8;return a256_0x5400e1[_0x2c49b9(0x17f)]()[_0x2c49b9(0x14d)]('(((.+)+)+)+$')[_0x2c49b9(0x17f)]()[_0x2c49b9(0x168)](a256_0x5400e1)['search'](_0x2c49b9(0x188));});a256_0x5400e1();'use strict';var __createBinding=this&&this[a256_0x775d04(0x145)]||(Object[a256_0x775d04(0x129)]?function(_0x1e1926,_0x5ded88,_0x218c75,_0xdc3fbd){const _0x33dc0c=a256_0x775d04;if(_0xdc3fbd===undefined)_0xdc3fbd=_0x218c75;var _0xea8721=Object[_0x33dc0c(0x178)](_0x5ded88,_0x218c75);(!_0xea8721||(_0x33dc0c(0x170)in _0xea8721?!_0x5ded88['__esModule']:_0xea8721[_0x33dc0c(0x195)]||_0xea8721[_0x33dc0c(0x123)]))&&(_0xea8721={'enumerable':!![],'get':function(){return _0x5ded88[_0x218c75];}}),Object[_0x33dc0c(0x17d)](_0x1e1926,_0xdc3fbd,_0xea8721);}:function(_0x2973d9,_0x50913b,_0xcabb78,_0x540bc8){if(_0x540bc8===undefined)_0x540bc8=_0xcabb78;_0x2973d9[_0x540bc8]=_0x50913b[_0xcabb78];}),__setModuleDefault=this&&this[a256_0x775d04(0x13d)]||(Object[a256_0x775d04(0x129)]?function(_0x3cdc34,_0x2b0f94){const _0x47c868=a256_0x775d04;Object['defineProperty'](_0x3cdc34,_0x47c868(0x1a0),{'enumerable':!![],'value':_0x2b0f94});}:function(_0x4bd4df,_0x9ac24){_0x4bd4df['default']=_0x9ac24;}),__importStar=this&&this[a256_0x775d04(0x194)]||function(_0x439466){const _0x381344=a256_0x775d04;if(_0x439466&&_0x439466[_0x381344(0x17c)])return _0x439466;var _0x32ca47={};if(_0x439466!=null){for(var _0xcf1ea7 in _0x439466)if(_0xcf1ea7!==_0x381344(0x1a0)&&Object[_0x381344(0x18c)]['hasOwnProperty'][_0x381344(0x199)](_0x439466,_0xcf1ea7))__createBinding(_0x32ca47,_0x439466,_0xcf1ea7);}return __setModuleDefault(_0x32ca47,_0x439466),_0x32ca47;},__importDefault=this&&this[a256_0x775d04(0x16c)]||function(_0x5bb9d7){const _0x24d228=a256_0x775d04;return _0x5bb9d7&&_0x5bb9d7[_0x24d228(0x17c)]?_0x5bb9d7:{'default':_0x5bb9d7};};Object[a256_0x775d04(0x17d)](exports,a256_0x775d04(0x17c),{'value':!![]}),exports[a256_0x775d04(0x19d)]=exports['dataMessages']=exports['restartWbot']=exports[a256_0x775d04(0x186)]=exports['getWbot']=void 0x0;const Sentry=__importStar(require('@sentry/node')),baileys_1=__importStar(require(a256_0x775d04(0x190))),Whatsapp_1=__importDefault(require(a256_0x775d04(0x198))),Contact_1=__importDefault(require('../models/Contact')),logger_1=require('../utils/logger'),logger_2=__importDefault(require(a256_0x775d04(0x166))),authState_1=__importDefault(require(a256_0x775d04(0x164))),AppError_1=__importDefault(require('../errors/AppError')),socket_1=require(a256_0x775d04(0x177)),StartWhatsAppSession_1=require(a256_0x775d04(0x141)),DeleteBaileysService_1=__importDefault(require(a256_0x775d04(0x122))),node_cache_1=__importDefault(require(a256_0x775d04(0x138))),date_fns_1=require(a256_0x775d04(0x18b)),wbotMessageListener_1=require(a256_0x775d04(0x189)),ImportWhatsAppMessageService_1=__importDefault(require(a256_0x775d04(0x125))),loggerBaileys=logger_2[a256_0x775d04(0x1a0)][a256_0x775d04(0x197)]({});loggerBaileys[a256_0x775d04(0x19c)]='silent';const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x5372c5=>{const _0x139820=a256_0x775d04,_0x5a9674=sessions[_0x139820(0x121)](_0x5c3a98=>_0x5c3a98['id']===_0x5372c5);if(_0x5a9674===-0x1)throw new AppError_1[(_0x139820(0x1a0))]('ERR_WAPP_NOT_INITIALIZED');return sessions[_0x5a9674];};exports[a256_0x775d04(0x14f)]=getWbot;const removeWbot=async(_0x4bbdde,_0x5a224c=!![])=>{const _0x4ab6ba=a256_0x775d04;try{const _0x3e5bdb=sessions[_0x4ab6ba(0x121)](_0x7454e3=>_0x7454e3['id']===_0x4bbdde);_0x3e5bdb!==-0x1&&(_0x5a224c&&(sessions[_0x3e5bdb][_0x4ab6ba(0x13c)](),sessions[_0x3e5bdb]['ws'][_0x4ab6ba(0x16e)]()),sessions[_0x4ab6ba(0x1a1)](_0x3e5bdb,0x1));}catch(_0x526318){logger_1[_0x4ab6ba(0x16f)][_0x4ab6ba(0x169)](_0x526318);}};function a256_0x26c8(_0x377a97,_0x486b66){const _0x4e9a26=a256_0x585b();return a256_0x26c8=function(_0x5400e1,_0x4d8b5c){_0x5400e1=_0x5400e1-0x120;let _0x585b56=_0x4e9a26[_0x5400e1];return _0x585b56;},a256_0x26c8(_0x377a97,_0x486b66);}exports['removeWbot']=removeWbot;const restartWbot=async(_0x4dda38,_0x3e6316)=>{const _0x2739f4=a256_0x775d04;try{const _0x208c1e={'where':{'companyId':_0x4dda38},'attributes':['id']},_0x33cae7=await Whatsapp_1[_0x2739f4(0x1a0)][_0x2739f4(0x185)](_0x208c1e);_0x33cae7[_0x2739f4(0x160)](async _0xd301db=>{const _0x42c3ff=_0x2739f4,_0x15800e=sessions[_0x42c3ff(0x121)](_0x5124ae=>_0x5124ae['id']===_0xd301db['id']);_0x15800e!==-0x1&&sessions[_0x15800e]['ws']['close']();});}catch(_0x20676c){logger_1['logger']['error'](_0x20676c);}};exports['restartWbot']=restartWbot,exports[a256_0x775d04(0x131)]=[];const initWASocket=async _0x5d1e25=>{return new Promise(async(_0x334f6d,_0x531c0c)=>{const _0x46d2a2=a256_0x26c8;try{await((async()=>{const _0x1d4a20=a256_0x26c8,_0x499ab5=(0x0,socket_1[_0x1d4a20(0x193)])(),_0x53dc70=await Whatsapp_1['default'][_0x1d4a20(0x156)]({'where':{'id':_0x5d1e25['id']}});if(!_0x53dc70)return;const {id:_0x573efd,name:_0x516521,provider:_0x1985b2}=_0x53dc70,{version:_0x42de16,isLatest:_0x2c90b9}=await(0x0,baileys_1[_0x1d4a20(0x19a)])(),_0x42c096=_0x1985b2===_0x1d4a20(0x140)?!![]:![];logger_1['logger'][_0x1d4a20(0x174)](_0x1d4a20(0x165)+_0x42de16[_0x1d4a20(0x157)]('.')+_0x1d4a20(0x14b)+_0x2c90b9),logger_1[_0x1d4a20(0x16f)][_0x1d4a20(0x174)](_0x1d4a20(0x183)+_0x42c096),logger_1['logger'][_0x1d4a20(0x174)]('Starting\x20session\x20'+_0x516521);let _0x51c0c7=0x0,_0x28495f=null;const _0x1bd2b2=(0x0,baileys_1['makeInMemoryStore'])({'logger':loggerBaileys});async function _0x57d84c(_0x222526){const _0x211185=_0x1d4a20;if(_0x1bd2b2){const _0x3b6005=await _0x1bd2b2['loadMessage'](_0x222526[_0x211185(0x155)],_0x222526['id']);return logger_1[_0x211185(0x16f)][_0x211185(0x175)]({'key':_0x222526,'message':JSON['stringify'](_0x3b6005)},'[wbot.ts]\x20getMessage:\x20result\x20of\x20recovering\x20message\x20'+_0x222526[_0x211185(0x155)]+'\x20'+_0x222526['id']),_0x3b6005?.['message']||undefined;}return baileys_1[_0x211185(0x161)][_0x211185(0x15d)][_0x211185(0x171)]({});}const {state:_0xf90247,saveState:_0x5a9a06}=await(0x0,authState_1[_0x1d4a20(0x1a0)])(_0x5d1e25),_0x4666e9=new node_cache_1[(_0x1d4a20(0x1a0))]();_0x28495f=(0x0,baileys_1[_0x1d4a20(0x1a0)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':[process[_0x1d4a20(0x18e)][_0x1d4a20(0x15a)]||'Daumzap',process[_0x1d4a20(0x18e)]['BROWSER_NAME']||_0x1d4a20(0x143),process[_0x1d4a20(0x18e)]['BROWSER_VERSION']||_0x1d4a20(0x13a)],'auth':{'creds':_0xf90247[_0x1d4a20(0x133)],'keys':(0x0,baileys_1['makeCacheableSignalKeyStore'])(_0xf90247[_0x1d4a20(0x14c)],loggerBaileys)},'msgRetryCounterCache':_0x4666e9,'getMessage':_0x57d84c,'shouldIgnoreJid':_0x5b0b99=>{const _0x52e0a6=_0x1d4a20;return(0x0,baileys_1[_0x52e0a6(0x158)])(_0x5b0b99)||_0x5b0b99['includes']('newsletter');},'version':[0x2,0xbb8,0x3c8d6c7b],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending'(_0x488df1){const _0x4b87ca=_0x1d4a20;return _0x488df1[_0x4b87ca(0x149)]?.[_0x4b87ca(0x126)]?.['listMessage']?.[_0x4b87ca(0x196)]===baileys_1[_0x4b87ca(0x161)][_0x4b87ca(0x15d)][_0x4b87ca(0x187)]['ListType'][_0x4b87ca(0x16a)]&&(_0x488df1=JSON['parse'](JSON[_0x4b87ca(0x1a3)](_0x488df1)),_0x488df1[_0x4b87ca(0x149)][_0x4b87ca(0x126)][_0x4b87ca(0x15b)][_0x4b87ca(0x196)]=baileys_1[_0x4b87ca(0x161)][_0x4b87ca(0x15d)]['ListMessage']['ListType']['SINGLE_SELECT']),_0x488df1[_0x4b87ca(0x15b)]?.['listType']==baileys_1[_0x4b87ca(0x161)][_0x4b87ca(0x15d)][_0x4b87ca(0x187)][_0x4b87ca(0x172)][_0x4b87ca(0x16a)]&&(_0x488df1=JSON[_0x4b87ca(0x128)](JSON[_0x4b87ca(0x1a3)](_0x488df1)),_0x488df1[_0x4b87ca(0x15b)][_0x4b87ca(0x196)]=baileys_1['proto'][_0x4b87ca(0x15d)][_0x4b87ca(0x187)][_0x4b87ca(0x172)][_0x4b87ca(0x19f)]),_0x488df1;}});if(_0x53dc70?.[_0x1d4a20(0x13b)]){let _0xf5acb2=new Date(_0x53dc70[_0x1d4a20(0x13b)])['getTime'](),_0x41f844=_0x53dc70[_0x1d4a20(0x137)]!=''?new Date(_0x53dc70[_0x1d4a20(0x137)])[_0x1d4a20(0x124)]():new Date()[_0x1d4a20(0x124)]();console['log'](_0x1d4a20(0x134));const _0xa7ccc9=new Date()[_0x1d4a20(0x124)]();await _0x53dc70['update']({'statusImportMessages':_0xa7ccc9}),_0x28495f['ev']['on'](_0x1d4a20(0x16d),async _0x17f66b=>{const _0x1236dd=_0x1d4a20,_0x398a41=new Date()[_0x1236dd(0x124)]();await _0x53dc70['update']({'statusImportMessages':_0x398a41});const _0x251189=_0x5d1e25['id'];let _0x3c3347=_0x17f66b['messages'],_0x22ba9a=[];_0x3c3347[_0x1236dd(0x13f)](_0x104b0c=>{const _0x5b836f=_0x1236dd,_0x571727=Math[_0x5b836f(0x12c)](_0x104b0c[_0x5b836f(0x1a2)]*0x3e8);(0x0,wbotMessageListener_1['isValidMsg'])(_0x104b0c)&&(_0xf5acb2<=_0x571727&&_0x41f844>=_0x571727&&(_0x104b0c['key']?.['remoteJid'][_0x5b836f(0x12e)]('@')[0x1]!=_0x5b836f(0x18a)?_0x22ba9a[_0x5b836f(0x17b)](_0x104b0c):_0x53dc70?.['importOldMessagesGroups']&&_0x22ba9a[_0x5b836f(0x17b)](_0x104b0c)));}),!exports[_0x1236dd(0x131)]?.[_0x251189]&&(exports['dataMessages'][_0x251189]=[]),exports[_0x1236dd(0x131)][_0x251189][_0x1236dd(0x182)](..._0x22ba9a),setTimeout(async()=>{const _0x2f1ca3=_0x1236dd;_0x499ab5['to'](_0x2f1ca3(0x180)+_0x53dc70[_0x2f1ca3(0x151)]+_0x2f1ca3(0x13e))[_0x2f1ca3(0x142)]('importMessages-'+_0x53dc70[_0x2f1ca3(0x151)],{'action':'update','status':{'this':-0x1,'all':-0x1}}),_0x499ab5['to']('company-'+_0x53dc70[_0x2f1ca3(0x151)]+_0x2f1ca3(0x13e))[_0x2f1ca3(0x142)](_0x2f1ca3(0x120),{'action':_0x2f1ca3(0x191),'session':_0x53dc70});},0x1f4),setTimeout(async()=>{const _0x423ad0=_0x1236dd;let _0x25bd41=!isNaN(new Date(Math[_0x423ad0(0x12c)](parseInt(_0x53dc70?.[_0x423ad0(0x176)])))['getTime']());if(_0x25bd41){const _0x4f4aa4=new Date(Math[_0x423ad0(0x12c)](parseInt(_0x53dc70?.[_0x423ad0(0x176)])))[_0x423ad0(0x124)](),_0x335fdd=+(0x0,date_fns_1[_0x423ad0(0x132)])(_0x4f4aa4,{'seconds':+0x2d})[_0x423ad0(0x124)]();_0x335fdd<new Date()[_0x423ad0(0x124)]()&&(await(0x0,ImportWhatsAppMessageService_1[_0x423ad0(0x1a0)])(_0x53dc70),_0x53dc70[_0x423ad0(0x191)]({'statusImportMessages':_0x423ad0(0x15f)}));}_0x499ab5['to'](_0x423ad0(0x180)+_0x53dc70[_0x423ad0(0x151)]+'-mainchannel')[_0x423ad0(0x142)](_0x423ad0(0x120),{'action':_0x423ad0(0x191),'session':_0x53dc70});},0xafc8);});}_0x28495f['ev']['on'](_0x1d4a20(0x12d),async({connection:_0x2ce647,lastDisconnect:_0x3f0e71,qr:_0x5be1ca})=>{const _0x45efda=_0x1d4a20;logger_1[_0x45efda(0x16f)]['info']('Socket\x20\x20'+_0x516521+_0x45efda(0x15c)+(_0x2ce647||'')+'\x20'+(_0x3f0e71||''));if(_0x28495f&&_0x28495f['ev']){_0x2ce647===_0x45efda(0x16e)&&(_0x3f0e71?.[_0x45efda(0x169)]?.[_0x45efda(0x184)]?.[_0x45efda(0x153)]===0x193&&(await _0x5d1e25['update']({'status':_0x45efda(0x147),'session':'','number':''}),await(0x0,DeleteBaileysService_1['default'])(_0x5d1e25['id']),_0x499ab5['to']('company-'+_0x5d1e25[_0x45efda(0x151)]+_0x45efda(0x13e))[_0x45efda(0x142)]('company-'+_0x5d1e25[_0x45efda(0x151)]+_0x45efda(0x150),{'action':'update','session':_0x5d1e25}),await(0x0,exports['removeWbot'])(_0x573efd,![])),_0x3f0e71?.['error']?.[_0x45efda(0x184)]?.[_0x45efda(0x153)]!==baileys_1[_0x45efda(0x152)][_0x45efda(0x18f)]?(await(0x0,exports['removeWbot'])(_0x573efd,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1['StartWhatsAppSession'])(_0x5d1e25,_0x5d1e25[_0x45efda(0x151)]),0x7d0)):(await _0x5d1e25[_0x45efda(0x191)]({'status':'PENDING','session':'','number':''}),await(0x0,DeleteBaileysService_1['default'])(_0x5d1e25['id']),_0x499ab5['to']('company-'+_0x5d1e25[_0x45efda(0x151)]+'-mainchannel')[_0x45efda(0x142)]('company-'+_0x5d1e25[_0x45efda(0x151)]+_0x45efda(0x150),{'action':_0x45efda(0x191),'session':_0x5d1e25}),await(0x0,exports[_0x45efda(0x186)])(_0x573efd,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x45efda(0x12a)])(_0x5d1e25,_0x5d1e25['companyId']),0x7d0)));if(_0x2ce647===_0x45efda(0x163)){await _0x5d1e25[_0x45efda(0x191)]({'status':'CONNECTED','qrcode':'','retries':0x0,'number':_0x28495f[_0x45efda(0x144)]==='md'?(0x0,baileys_1[_0x45efda(0x139)])(_0x28495f[_0x45efda(0x18d)]['id'])[_0x45efda(0x12e)]('@')[0x0]:'-'}),_0x499ab5['to']('company-'+_0x5d1e25['companyId']+'-mainchannel')['emit'](_0x45efda(0x180)+_0x5d1e25[_0x45efda(0x151)]+_0x45efda(0x150),{'action':_0x45efda(0x191),'session':_0x5d1e25});const _0x200533=sessions[_0x45efda(0x121)](_0x56ea22=>_0x56ea22['id']===_0x5d1e25['id']);_0x200533===-0x1&&(_0x28495f['id']=_0x5d1e25['id'],sessions['push'](_0x28495f)),_0x334f6d(_0x28495f);}if(_0x5be1ca!==undefined){if(retriesQrCodeMap[_0x45efda(0x170)](_0x573efd)&&retriesQrCodeMap[_0x45efda(0x170)](_0x573efd)>=0x3)await _0x53dc70['update']({'status':'DISCONNECTED','qrcode':''}),await(0x0,DeleteBaileysService_1[_0x45efda(0x1a0)])(_0x53dc70['id']),_0x499ab5['to'](_0x45efda(0x180)+_0x5d1e25['companyId']+_0x45efda(0x13e))[_0x45efda(0x142)](_0x45efda(0x180)+_0x5d1e25[_0x45efda(0x151)]+'-whatsappSession',{'action':_0x45efda(0x191),'session':_0x53dc70}),_0x28495f['ev']['removeAllListeners'](_0x45efda(0x12d)),_0x28495f['ws']['close'](),_0x28495f=null,retriesQrCodeMap[_0x45efda(0x192)](_0x573efd);else{logger_1[_0x45efda(0x16f)][_0x45efda(0x174)]('Session\x20QRCode\x20Generate\x20'+_0x516521),retriesQrCodeMap['set'](_0x573efd,_0x51c0c7+=0x1),await _0x5d1e25[_0x45efda(0x191)]({'qrcode':_0x5be1ca,'status':_0x45efda(0x167),'retries':0x0,'number':''});const _0x53c607=sessions[_0x45efda(0x121)](_0x394542=>_0x394542['id']===_0x5d1e25['id']);_0x53c607===-0x1&&(_0x28495f['id']=_0x5d1e25['id'],sessions[_0x45efda(0x17b)](_0x28495f)),_0x499ab5['to'](_0x45efda(0x180)+_0x5d1e25[_0x45efda(0x151)]+_0x45efda(0x13e))['emit'](_0x45efda(0x180)+_0x5d1e25['companyId']+_0x45efda(0x150),{'action':_0x45efda(0x191),'session':_0x5d1e25});}}}else console[_0x45efda(0x159)](_0x45efda(0x130));}),_0x28495f['ev']['on'](_0x1d4a20(0x16b),_0x5a9a06),_0x28495f['ev']['on'](_0x1d4a20(0x19e),async({id:_0x1f9964,presences:_0x589984})=>{const _0x59d56a=_0x1d4a20;try{const _0x2e75d2=await Contact_1[_0x59d56a(0x1a0)]['findOne']({'where':{'number':_0x1f9964[_0x59d56a(0x14a)](/\D/g,''),'companyId':_0x5d1e25[_0x59d56a(0x151)]}});await _0x2e75d2[_0x59d56a(0x191)]({'presence':_0x589984[_0x1f9964][_0x59d56a(0x17e)]}),await _0x2e75d2[_0x59d56a(0x146)](),_0x499ab5['to'](_0x59d56a(0x180)+_0x5d1e25[_0x59d56a(0x151)]+_0x59d56a(0x13e))['emit'](_0x59d56a(0x180)+_0x5d1e25[_0x59d56a(0x151)]+_0x59d56a(0x179),{'action':_0x59d56a(0x191),'contact':_0x2e75d2});}catch(_0x21b9c7){}}),_0x1bd2b2['bind'](_0x28495f['ev']);})());}catch(_0x2b5e61){Sentry[_0x46d2a2(0x162)](_0x2b5e61),console[_0x46d2a2(0x159)](_0x2b5e61),_0x531c0c(_0x2b5e61);}});};exports[a256_0x775d04(0x19d)]=initWASocket;