const a259_0x8fbcd2=a259_0x4915;(function(_0x5769db,_0xa2f371){const _0x2c02c9=a259_0x4915,_0x14af3e=_0x5769db();while(!![]){try{const _0x3aa513=-parseInt(_0x2c02c9(0x1a0))/0x1*(parseInt(_0x2c02c9(0x16e))/0x2)+parseInt(_0x2c02c9(0x1a7))/0x3*(-parseInt(_0x2c02c9(0x162))/0x4)+parseInt(_0x2c02c9(0x158))/0x5*(parseInt(_0x2c02c9(0x1cb))/0x6)+parseInt(_0x2c02c9(0x150))/0x7*(parseInt(_0x2c02c9(0x169))/0x8)+parseInt(_0x2c02c9(0x14e))/0x9+parseInt(_0x2c02c9(0x175))/0xa*(parseInt(_0x2c02c9(0x1cc))/0xb)+parseInt(_0x2c02c9(0x14a))/0xc*(parseInt(_0x2c02c9(0x1bd))/0xd);if(_0x3aa513===_0xa2f371)break;else _0x14af3e['push'](_0x14af3e['shift']());}catch(_0x45a452){_0x14af3e['push'](_0x14af3e['shift']());}}}(a259_0x2e20,0x4fbe9));const a259_0x1b4cb8=(function(){let _0x3e753e=!![];return function(_0x10bc74,_0x3f8c39){const _0x5c1c0c=_0x3e753e?function(){const _0x3254c6=a259_0x4915;if(_0x3f8c39){const _0x282ec0=_0x3f8c39[_0x3254c6(0x167)](_0x10bc74,arguments);return _0x3f8c39=null,_0x282ec0;}}:function(){};return _0x3e753e=![],_0x5c1c0c;};}()),a259_0x14e11b=a259_0x1b4cb8(this,function(){const _0x4ad813=a259_0x4915;return a259_0x14e11b['toString']()[_0x4ad813(0x16c)](_0x4ad813(0x171))[_0x4ad813(0x189)]()['constructor'](a259_0x14e11b)['search'](_0x4ad813(0x171));});a259_0x14e11b();function a259_0x2e20(){const _0x40343c=['silent','message','Session\x20QRCode\x20Generate\x20','../utils/logger','ListType','get','60vDZCVB','../helpers/authState','\x20Connection\x20Update\x20','PRODUCT_LIST','1789560nmUegJ','__createBinding','203371nlYJVc','level','isJidBroadcast','creds','DISCONNECTED','BROWSER_CLIENT','./socket','fromObject','15BdqhuV','add','loadMessage','logout','log','findAll','configurable','presence.update','push','DisconnectReason','4rJNlVm','parse','g.us','statusCode','__esModule','apply','bind','16MITKQN','using\x20WA\x20v','hasOwnProperty','search','statusImportMessages','1101064HDByFL','floor','10.0','(((.+)+)+)+$','date-fns','[wbot.ts]\x20getMessage:\x20result\x20of\x20recovering\x20message\x20','set','5411370wBQbvp','logger','BROWSER_VERSION','prototype','debug','defineProperty','join','create','type','connection.update','call','remoteJid','companyId','close','qrcode','Importando\x20whtasapp!','BROWSER_NAME','child','getIO','removeWbot','toString','findIndex','__setModuleDefault','default','makeCacheableSignalKeyStore','importOldMessagesGroups','-mainchannel','stringify','env','messages','../services/WbotServices/wbotMessageListener','isLegacy:\x20','node-cache','writable','whatsappSession','-whatsappSession','-contact','emit','split','splice','PENDING','../models/Whatsapp','creds.update','1qfmZNb','../services/BaileysServices/DeleteBaileysService','../models/Contact','../services/WbotServices/StartWhatsAppSession','error','dataMessages','../services/WhatsappService/ImportWhatsAppMessageService','1341063EjTdsS','proto','restartWbot','@whiskeysockets/baileys','Message','importMessages-','findOne','unshift','replace','company-','keys','delete','includes','SINGLE_SELECT','listType','info','importRecentMessages','open','user','__importStar','StartWhatsAppSession','wsocket\x20or\x20wsocket.ev\x20is\x20null.','960817muBUdd','getTime','output','update','Running','ListMessage','messaging-history.set','deviceSentMessage','getOwnPropertyDescriptor','map','initWASocket','Starting\x20session\x20','@sentry/node','messageTimestamp','313116MSgwvt','11oWUUOu','lastKnownPresence','listMessage'];a259_0x2e20=function(){return _0x40343c;};return a259_0x2e20();}'use strict';var __createBinding=this&&this[a259_0x8fbcd2(0x14f)]||(Object[a259_0x8fbcd2(0x17c)]?function(_0x412ec0,_0x4dcdc7,_0x4ee949,_0x54548e){const _0x45954a=a259_0x8fbcd2;if(_0x54548e===undefined)_0x54548e=_0x4ee949;var _0x4c1bf6=Object[_0x45954a(0x1c5)](_0x4dcdc7,_0x4ee949);(!_0x4c1bf6||(_0x45954a(0x149)in _0x4c1bf6?!_0x4dcdc7['__esModule']:_0x4c1bf6[_0x45954a(0x196)]||_0x4c1bf6[_0x45954a(0x15e)]))&&(_0x4c1bf6={'enumerable':!![],'get':function(){return _0x4dcdc7[_0x4ee949];}}),Object[_0x45954a(0x17a)](_0x412ec0,_0x54548e,_0x4c1bf6);}:function(_0x236f7a,_0x4af4c6,_0x5aa559,_0x477702){if(_0x477702===undefined)_0x477702=_0x5aa559;_0x236f7a[_0x477702]=_0x4af4c6[_0x5aa559];}),__setModuleDefault=this&&this[a259_0x8fbcd2(0x18b)]||(Object[a259_0x8fbcd2(0x17c)]?function(_0x400792,_0x405ee5){const _0x1b6e55=a259_0x8fbcd2;Object[_0x1b6e55(0x17a)](_0x400792,'default',{'enumerable':!![],'value':_0x405ee5});}:function(_0x3425ee,_0x87f714){_0x3425ee['default']=_0x87f714;}),__importStar=this&&this[a259_0x8fbcd2(0x1ba)]||function(_0x32e354){const _0x1b55d8=a259_0x8fbcd2;if(_0x32e354&&_0x32e354[_0x1b55d8(0x166)])return _0x32e354;var _0x2a165f={};if(_0x32e354!=null){for(var _0xa6f9cc in _0x32e354)if(_0xa6f9cc!=='default'&&Object[_0x1b55d8(0x178)][_0x1b55d8(0x16b)][_0x1b55d8(0x17f)](_0x32e354,_0xa6f9cc))__createBinding(_0x2a165f,_0x32e354,_0xa6f9cc);}return __setModuleDefault(_0x2a165f,_0x32e354),_0x2a165f;},__importDefault=this&&this['__importDefault']||function(_0x2b27ae){const _0x1e6e38=a259_0x8fbcd2;return _0x2b27ae&&_0x2b27ae[_0x1e6e38(0x166)]?_0x2b27ae:{'default':_0x2b27ae};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a259_0x8fbcd2(0x1c7)]=exports['dataMessages']=exports['restartWbot']=exports[a259_0x8fbcd2(0x188)]=exports['getWbot']=void 0x0;const Sentry=__importStar(require(a259_0x8fbcd2(0x1c9))),baileys_1=__importStar(require(a259_0x8fbcd2(0x1aa))),Whatsapp_1=__importDefault(require(a259_0x8fbcd2(0x19e))),Contact_1=__importDefault(require(a259_0x8fbcd2(0x1a2))),logger_1=require(a259_0x8fbcd2(0x147)),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),authState_1=__importDefault(require(a259_0x8fbcd2(0x14b))),AppError_1=__importDefault(require('../errors/AppError')),socket_1=require(a259_0x8fbcd2(0x156)),StartWhatsAppSession_1=require(a259_0x8fbcd2(0x1a3)),DeleteBaileysService_1=__importDefault(require(a259_0x8fbcd2(0x1a1))),node_cache_1=__importDefault(require(a259_0x8fbcd2(0x195))),date_fns_1=require(a259_0x8fbcd2(0x172)),wbotMessageListener_1=require(a259_0x8fbcd2(0x193)),ImportWhatsAppMessageService_1=__importDefault(require(a259_0x8fbcd2(0x1a6))),loggerBaileys=logger_2[a259_0x8fbcd2(0x18c)][a259_0x8fbcd2(0x186)]({});loggerBaileys[a259_0x8fbcd2(0x151)]=a259_0x8fbcd2(0x144);const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x38bc26=>{const _0x1d2fab=a259_0x8fbcd2,_0xfcff4=sessions[_0x1d2fab(0x18a)](_0x5f264c=>_0x5f264c['id']===_0x38bc26);if(_0xfcff4===-0x1)throw new AppError_1['default']('ERR_WAPP_NOT_INITIALIZED');return sessions[_0xfcff4];};exports['getWbot']=getWbot;const removeWbot=async(_0x6c1f32,_0x242be7=!![])=>{const _0x336be5=a259_0x8fbcd2;try{const _0x5492f5=sessions[_0x336be5(0x18a)](_0x5cb669=>_0x5cb669['id']===_0x6c1f32);_0x5492f5!==-0x1&&(_0x242be7&&(sessions[_0x5492f5][_0x336be5(0x15b)](),sessions[_0x5492f5]['ws']['close']()),sessions[_0x336be5(0x19c)](_0x5492f5,0x1));}catch(_0x82dc38){logger_1[_0x336be5(0x176)][_0x336be5(0x1a4)](_0x82dc38);}};exports[a259_0x8fbcd2(0x188)]=removeWbot;const restartWbot=async(_0x1fec22,_0x385068)=>{const _0x1df748=a259_0x8fbcd2;try{const _0x120968={'where':{'companyId':_0x1fec22},'attributes':['id']},_0x375dc1=await Whatsapp_1[_0x1df748(0x18c)][_0x1df748(0x15d)](_0x120968);_0x375dc1[_0x1df748(0x1c6)](async _0x6b0420=>{const _0x2f2273=_0x1df748,_0x258542=sessions[_0x2f2273(0x18a)](_0x34bd20=>_0x34bd20['id']===_0x6b0420['id']);_0x258542!==-0x1&&sessions[_0x258542]['ws'][_0x2f2273(0x182)]();});}catch(_0x5dda93){logger_1[_0x1df748(0x176)]['error'](_0x5dda93);}};exports[a259_0x8fbcd2(0x1a9)]=restartWbot,exports[a259_0x8fbcd2(0x1a5)]=[];const initWASocket=async _0x3aafab=>{return new Promise(async(_0xd600d6,_0x3ce903)=>{const _0x7089ee=a259_0x4915;try{await((async()=>{const _0xcc7454=a259_0x4915,_0x5b9cdb=(0x0,socket_1[_0xcc7454(0x187)])(),_0x2a3d3f=await Whatsapp_1[_0xcc7454(0x18c)][_0xcc7454(0x1ad)]({'where':{'id':_0x3aafab['id']}});if(!_0x2a3d3f)return;const {id:_0x334cd6,name:_0x515d20,provider:_0xd7884}=_0x2a3d3f,{version:_0x1d3779,isLatest:_0x21fcbf}=await(0x0,baileys_1['fetchLatestBaileysVersion'])(),_0x46b62c=_0xd7884==='stable'?!![]:![];logger_1[_0xcc7454(0x176)][_0xcc7454(0x1b6)](_0xcc7454(0x16a)+_0x1d3779[_0xcc7454(0x17b)]('.')+',\x20isLatest:\x20'+_0x21fcbf),logger_1['logger'][_0xcc7454(0x1b6)](_0xcc7454(0x194)+_0x46b62c),logger_1[_0xcc7454(0x176)][_0xcc7454(0x1b6)](_0xcc7454(0x1c8)+_0x515d20);let _0x1ba96c=0x0,_0x4d831d=null;const _0x2d85b3=(0x0,baileys_1['makeInMemoryStore'])({'logger':loggerBaileys});async function _0x5bb1ff(_0x5a799f){const _0x59ac28=_0xcc7454;if(_0x2d85b3){const _0x5b54e3=await _0x2d85b3[_0x59ac28(0x15a)](_0x5a799f[_0x59ac28(0x180)],_0x5a799f['id']);return logger_1[_0x59ac28(0x176)][_0x59ac28(0x179)]({'key':_0x5a799f,'message':JSON['stringify'](_0x5b54e3)},_0x59ac28(0x173)+_0x5a799f[_0x59ac28(0x180)]+'\x20'+_0x5a799f['id']),_0x5b54e3?.[_0x59ac28(0x145)]||undefined;}return baileys_1[_0x59ac28(0x1a8)][_0x59ac28(0x1ab)][_0x59ac28(0x157)]({});}const {state:_0x1ff31d,saveState:_0x18368c}=await(0x0,authState_1[_0xcc7454(0x18c)])(_0x3aafab),_0x39f5c9=new node_cache_1[(_0xcc7454(0x18c))]();_0x4d831d=(0x0,baileys_1[_0xcc7454(0x18c)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':[process[_0xcc7454(0x191)][_0xcc7454(0x155)]||'Daumzap',process[_0xcc7454(0x191)][_0xcc7454(0x185)]||'Chrome',process[_0xcc7454(0x191)][_0xcc7454(0x177)]||_0xcc7454(0x170)],'auth':{'creds':_0x1ff31d[_0xcc7454(0x153)],'keys':(0x0,baileys_1[_0xcc7454(0x18d)])(_0x1ff31d[_0xcc7454(0x1b1)],loggerBaileys)},'msgRetryCounterCache':_0x39f5c9,'getMessage':_0x5bb1ff,'shouldIgnoreJid':_0x5bdc27=>{const _0x5390b4=_0xcc7454;return(0x0,baileys_1[_0x5390b4(0x152)])(_0x5bdc27)||_0x5bdc27[_0x5390b4(0x1b3)]('newsletter');},'version':[0x2,0xbb8,0x3c8d6c7b],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending'(_0xfdb532){const _0x39ce8d=_0xcc7454;return _0xfdb532[_0x39ce8d(0x1c4)]?.['message']?.[_0x39ce8d(0x143)]?.['listType']===baileys_1['proto'][_0x39ce8d(0x1ab)][_0x39ce8d(0x1c2)]['ListType'][_0x39ce8d(0x14d)]&&(_0xfdb532=JSON[_0x39ce8d(0x163)](JSON['stringify'](_0xfdb532)),_0xfdb532[_0x39ce8d(0x1c4)][_0x39ce8d(0x145)]['listMessage']['listType']=baileys_1[_0x39ce8d(0x1a8)][_0x39ce8d(0x1ab)][_0x39ce8d(0x1c2)]['ListType'][_0x39ce8d(0x1b4)]),_0xfdb532[_0x39ce8d(0x143)]?.[_0x39ce8d(0x1b5)]==baileys_1[_0x39ce8d(0x1a8)][_0x39ce8d(0x1ab)][_0x39ce8d(0x1c2)][_0x39ce8d(0x148)][_0x39ce8d(0x14d)]&&(_0xfdb532=JSON[_0x39ce8d(0x163)](JSON[_0x39ce8d(0x190)](_0xfdb532)),_0xfdb532[_0x39ce8d(0x143)]['listType']=baileys_1[_0x39ce8d(0x1a8)][_0x39ce8d(0x1ab)][_0x39ce8d(0x1c2)][_0x39ce8d(0x148)][_0x39ce8d(0x1b4)]),_0xfdb532;}});if(_0x2a3d3f?.['importOldMessages']){let _0x2877d0=new Date(_0x2a3d3f['importOldMessages'])[_0xcc7454(0x1be)](),_0x254e67=_0x2a3d3f[_0xcc7454(0x1b7)]!=''?new Date(_0x2a3d3f[_0xcc7454(0x1b7)])['getTime']():new Date()[_0xcc7454(0x1be)]();console[_0xcc7454(0x15c)](_0xcc7454(0x184));const _0x169ece=new Date()[_0xcc7454(0x1be)]();await _0x2a3d3f['update']({'statusImportMessages':_0x169ece}),_0x4d831d['ev']['on'](_0xcc7454(0x1c3),async _0x3cb355=>{const _0x4c0411=_0xcc7454,_0x27e433=new Date()[_0x4c0411(0x1be)]();await _0x2a3d3f[_0x4c0411(0x1c0)]({'statusImportMessages':_0x27e433});const _0x1c347d=_0x3aafab['id'];let _0xe3179e=_0x3cb355[_0x4c0411(0x192)],_0x51b930=[];_0xe3179e['forEach'](_0x1e1817=>{const _0x5d5ca8=_0x4c0411,_0x3a0dd8=Math[_0x5d5ca8(0x16f)](_0x1e1817[_0x5d5ca8(0x1ca)]*0x3e8);(0x0,wbotMessageListener_1['isValidMsg'])(_0x1e1817)&&(_0x2877d0<=_0x3a0dd8&&_0x254e67>=_0x3a0dd8&&(_0x1e1817['key']?.[_0x5d5ca8(0x180)][_0x5d5ca8(0x19b)]('@')[0x1]!=_0x5d5ca8(0x164)?_0x51b930['push'](_0x1e1817):_0x2a3d3f?.[_0x5d5ca8(0x18e)]&&_0x51b930[_0x5d5ca8(0x160)](_0x1e1817)));}),!exports[_0x4c0411(0x1a5)]?.[_0x1c347d]&&(exports[_0x4c0411(0x1a5)][_0x1c347d]=[]),exports[_0x4c0411(0x1a5)][_0x1c347d][_0x4c0411(0x1ae)](..._0x51b930),setTimeout(async()=>{const _0x3c4130=_0x4c0411;_0x5b9cdb['to'](_0x3c4130(0x1b0)+_0x2a3d3f[_0x3c4130(0x181)]+_0x3c4130(0x18f))[_0x3c4130(0x19a)](_0x3c4130(0x1ac)+_0x2a3d3f[_0x3c4130(0x181)],{'action':_0x3c4130(0x1c0),'status':{'this':-0x1,'all':-0x1}}),_0x5b9cdb['to'](_0x3c4130(0x1b0)+_0x2a3d3f['companyId']+_0x3c4130(0x18f))[_0x3c4130(0x19a)](_0x3c4130(0x197),{'action':_0x3c4130(0x1c0),'session':_0x2a3d3f});},0x1f4),setTimeout(async()=>{const _0x224431=_0x4c0411;let _0x72698c=!isNaN(new Date(Math[_0x224431(0x16f)](parseInt(_0x2a3d3f?.[_0x224431(0x16d)])))[_0x224431(0x1be)]());if(_0x72698c){const _0xbd44cc=new Date(Math['floor'](parseInt(_0x2a3d3f?.['statusImportMessages'])))[_0x224431(0x1be)](),_0x433054=+(0x0,date_fns_1[_0x224431(0x159)])(_0xbd44cc,{'seconds':+0x2d})[_0x224431(0x1be)]();_0x433054<new Date()[_0x224431(0x1be)]()&&(await(0x0,ImportWhatsAppMessageService_1['default'])(_0x2a3d3f),_0x2a3d3f[_0x224431(0x1c0)]({'statusImportMessages':_0x224431(0x1c1)}));}_0x5b9cdb['to']('company-'+_0x2a3d3f[_0x224431(0x181)]+_0x224431(0x18f))[_0x224431(0x19a)]('whatsappSession',{'action':'update','session':_0x2a3d3f});},0xafc8);});}_0x4d831d['ev']['on'](_0xcc7454(0x17e),async({connection:_0x10b731,lastDisconnect:_0x4493a4,qr:_0x498798})=>{const _0x36bea8=_0xcc7454;logger_1[_0x36bea8(0x176)]['info']('Socket\x20\x20'+_0x515d20+_0x36bea8(0x14c)+(_0x10b731||'')+'\x20'+(_0x4493a4||''));if(_0x4d831d&&_0x4d831d['ev']){_0x10b731==='close'&&(_0x4493a4?.[_0x36bea8(0x1a4)]?.[_0x36bea8(0x1bf)]?.[_0x36bea8(0x165)]===0x193&&(await _0x3aafab[_0x36bea8(0x1c0)]({'status':_0x36bea8(0x19d),'session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x36bea8(0x18c)])(_0x3aafab['id']),_0x5b9cdb['to'](_0x36bea8(0x1b0)+_0x3aafab[_0x36bea8(0x181)]+'-mainchannel')['emit'](_0x36bea8(0x1b0)+_0x3aafab[_0x36bea8(0x181)]+_0x36bea8(0x198),{'action':_0x36bea8(0x1c0),'session':_0x3aafab}),await(0x0,exports[_0x36bea8(0x188)])(_0x334cd6,![])),_0x4493a4?.[_0x36bea8(0x1a4)]?.[_0x36bea8(0x1bf)]?.[_0x36bea8(0x165)]!==baileys_1[_0x36bea8(0x161)]['loggedOut']?(await(0x0,exports[_0x36bea8(0x188)])(_0x334cd6,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x36bea8(0x1bb)])(_0x3aafab,_0x3aafab['companyId']),0x7d0)):(await _0x3aafab[_0x36bea8(0x1c0)]({'status':'PENDING','session':'','number':''}),await(0x0,DeleteBaileysService_1['default'])(_0x3aafab['id']),_0x5b9cdb['to']('company-'+_0x3aafab['companyId']+_0x36bea8(0x18f))[_0x36bea8(0x19a)](_0x36bea8(0x1b0)+_0x3aafab[_0x36bea8(0x181)]+_0x36bea8(0x198),{'action':'update','session':_0x3aafab}),await(0x0,exports['removeWbot'])(_0x334cd6,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x36bea8(0x1bb)])(_0x3aafab,_0x3aafab[_0x36bea8(0x181)]),0x7d0)));if(_0x10b731===_0x36bea8(0x1b8)){await _0x3aafab[_0x36bea8(0x1c0)]({'status':'CONNECTED','qrcode':'','retries':0x0,'number':_0x4d831d[_0x36bea8(0x17d)]==='md'?(0x0,baileys_1['jidNormalizedUser'])(_0x4d831d[_0x36bea8(0x1b9)]['id'])['split']('@')[0x0]:'-'}),_0x5b9cdb['to']('company-'+_0x3aafab['companyId']+'-mainchannel')[_0x36bea8(0x19a)](_0x36bea8(0x1b0)+_0x3aafab[_0x36bea8(0x181)]+_0x36bea8(0x198),{'action':_0x36bea8(0x1c0),'session':_0x3aafab});const _0x4d064e=sessions[_0x36bea8(0x18a)](_0x644507=>_0x644507['id']===_0x3aafab['id']);_0x4d064e===-0x1&&(_0x4d831d['id']=_0x3aafab['id'],sessions['push'](_0x4d831d)),_0xd600d6(_0x4d831d);}if(_0x498798!==undefined){if(retriesQrCodeMap['get'](_0x334cd6)&&retriesQrCodeMap['get'](_0x334cd6)>=0x3)await _0x2a3d3f[_0x36bea8(0x1c0)]({'status':_0x36bea8(0x154),'qrcode':''}),await(0x0,DeleteBaileysService_1[_0x36bea8(0x18c)])(_0x2a3d3f['id']),_0x5b9cdb['to'](_0x36bea8(0x1b0)+_0x3aafab[_0x36bea8(0x181)]+_0x36bea8(0x18f))[_0x36bea8(0x19a)](_0x36bea8(0x1b0)+_0x3aafab['companyId']+'-whatsappSession',{'action':_0x36bea8(0x1c0),'session':_0x2a3d3f}),_0x4d831d['ev']['removeAllListeners'](_0x36bea8(0x17e)),_0x4d831d['ws'][_0x36bea8(0x182)](),_0x4d831d=null,retriesQrCodeMap[_0x36bea8(0x1b2)](_0x334cd6);else{logger_1[_0x36bea8(0x176)][_0x36bea8(0x1b6)](_0x36bea8(0x146)+_0x515d20),retriesQrCodeMap[_0x36bea8(0x174)](_0x334cd6,_0x1ba96c+=0x1),await _0x3aafab[_0x36bea8(0x1c0)]({'qrcode':_0x498798,'status':_0x36bea8(0x183),'retries':0x0,'number':''});const _0x5dfcd0=sessions[_0x36bea8(0x18a)](_0x4168a6=>_0x4168a6['id']===_0x3aafab['id']);_0x5dfcd0===-0x1&&(_0x4d831d['id']=_0x3aafab['id'],sessions[_0x36bea8(0x160)](_0x4d831d)),_0x5b9cdb['to'](_0x36bea8(0x1b0)+_0x3aafab['companyId']+'-mainchannel')[_0x36bea8(0x19a)](_0x36bea8(0x1b0)+_0x3aafab[_0x36bea8(0x181)]+_0x36bea8(0x198),{'action':'update','session':_0x3aafab});}}}else console[_0x36bea8(0x15c)](_0x36bea8(0x1bc));}),_0x4d831d['ev']['on'](_0xcc7454(0x19f),_0x18368c),_0x4d831d['ev']['on'](_0xcc7454(0x15f),async({id:_0x551c96,presences:_0x49f9a4})=>{const _0x245461=_0xcc7454;try{const _0x5f49df=await Contact_1[_0x245461(0x18c)][_0x245461(0x1ad)]({'where':{'number':_0x551c96[_0x245461(0x1af)](/\D/g,''),'companyId':_0x3aafab[_0x245461(0x181)]}});await _0x5f49df[_0x245461(0x1c0)]({'presence':_0x49f9a4[_0x551c96][_0x245461(0x1cd)]}),await _0x5f49df['reload'](),_0x5b9cdb['to']('company-'+_0x3aafab[_0x245461(0x181)]+'-mainchannel')[_0x245461(0x19a)]('company-'+_0x3aafab[_0x245461(0x181)]+_0x245461(0x199),{'action':_0x245461(0x1c0),'contact':_0x5f49df});}catch(_0x4279a0){}}),_0x2d85b3[_0xcc7454(0x168)](_0x4d831d['ev']);})());}catch(_0x59d48b){Sentry['captureException'](_0x59d48b),console[_0x7089ee(0x15c)](_0x59d48b),_0x3ce903(_0x59d48b);}});};function a259_0x4915(_0x1ccd08,_0x4f4f82){const _0x473c60=a259_0x2e20();return a259_0x4915=function(_0x14e11b,_0x1b4cb8){_0x14e11b=_0x14e11b-0x143;let _0x2e2083=_0x473c60[_0x14e11b];return _0x2e2083;},a259_0x4915(_0x1ccd08,_0x4f4f82);}exports[a259_0x8fbcd2(0x1c7)]=initWASocket;