const a399_0x125f37=a399_0x1341;(function(_0x197946,_0x57e645){const _0x2bc2c3=a399_0x1341,_0x2009e9=_0x197946();while(!![]){try{const _0x4f62e9=parseInt(_0x2bc2c3(0x19e))/0x1+-parseInt(_0x2bc2c3(0x18b))/0x2+-parseInt(_0x2bc2c3(0x1ad))/0x3*(-parseInt(_0x2bc2c3(0x1ab))/0x4)+parseInt(_0x2bc2c3(0x1a6))/0x5*(parseInt(_0x2bc2c3(0x1ac))/0x6)+parseInt(_0x2bc2c3(0x194))/0x7*(parseInt(_0x2bc2c3(0x18c))/0x8)+parseInt(_0x2bc2c3(0x18f))/0x9+parseInt(_0x2bc2c3(0x19a))/0xa*(-parseInt(_0x2bc2c3(0x199))/0xb);if(_0x4f62e9===_0x57e645)break;else _0x2009e9['push'](_0x2009e9['shift']());}catch(_0x5361f5){_0x2009e9['push'](_0x2009e9['shift']());}}}(a399_0x107c,0xda2e2));const a399_0x30376f=(function(){let _0x5e193e=!![];return function(_0x456519,_0x3261a0){const _0x2181ce=_0x5e193e?function(){if(_0x3261a0){const _0x561732=_0x3261a0['apply'](_0x456519,arguments);return _0x3261a0=null,_0x561732;}}:function(){};return _0x5e193e=![],_0x2181ce;};}()),a399_0x551f20=a399_0x30376f(this,function(){const _0x4eeea3=a399_0x1341;return a399_0x551f20['toString']()[_0x4eeea3(0x1a1)]('(((.+)+)+)+$')['toString']()['constructor'](a399_0x551f20)[_0x4eeea3(0x1a1)]('(((.+)+)+)+$');});a399_0x551f20();'use strict';var __createBinding=this&&this[a399_0x125f37(0x18a)]||(Object['create']?function(_0x4b9d0c,_0xa36be1,_0x5346ef,_0x3d3e0b){const _0x155902=a399_0x125f37;if(_0x3d3e0b===undefined)_0x3d3e0b=_0x5346ef;var _0x59bbf8=Object['getOwnPropertyDescriptor'](_0xa36be1,_0x5346ef);(!_0x59bbf8||('get'in _0x59bbf8?!_0xa36be1[_0x155902(0x193)]:_0x59bbf8['writable']||_0x59bbf8[_0x155902(0x198)]))&&(_0x59bbf8={'enumerable':!![],'get':function(){return _0xa36be1[_0x5346ef];}}),Object['defineProperty'](_0x4b9d0c,_0x3d3e0b,_0x59bbf8);}:function(_0x12d90d,_0x567679,_0x105c64,_0x456ba4){if(_0x456ba4===undefined)_0x456ba4=_0x105c64;_0x12d90d[_0x456ba4]=_0x567679[_0x105c64];}),__setModuleDefault=this&&this[a399_0x125f37(0x19f)]||(Object[a399_0x125f37(0x1a8)]?function(_0x71ce58,_0x2e945e){const _0x3b408d=a399_0x125f37;Object['defineProperty'](_0x71ce58,_0x3b408d(0x18d),{'enumerable':!![],'value':_0x2e945e});}:function(_0x177585,_0x1b2e9e){const _0x10fe62=a399_0x125f37;_0x177585[_0x10fe62(0x18d)]=_0x1b2e9e;}),__importStar=this&&this['__importStar']||function(_0x192885){const _0x4b209a=a399_0x125f37;if(_0x192885&&_0x192885['__esModule'])return _0x192885;var _0x2f206e={};if(_0x192885!=null){for(var _0x23e062 in _0x192885)if(_0x23e062!==_0x4b209a(0x18d)&&Object[_0x4b209a(0x195)][_0x4b209a(0x19d)][_0x4b209a(0x1a7)](_0x192885,_0x23e062))__createBinding(_0x2f206e,_0x192885,_0x23e062);}return __setModuleDefault(_0x2f206e,_0x192885),_0x2f206e;},__importDefault=this&&this['__importDefault']||function(_0x6712a2){const _0x30da33=a399_0x125f37;return _0x6712a2&&_0x6712a2[_0x30da33(0x193)]?_0x6712a2:{'default':_0x6712a2};};function a399_0x1341(_0x239c98,_0x3eb763){const _0x3c8877=a399_0x107c();return a399_0x1341=function(_0x551f20,_0x30376f){_0x551f20=_0x551f20-0x189;let _0x107cd=_0x3c8877[_0x551f20];return _0x107cd;},a399_0x1341(_0x239c98,_0x3eb763);}Object['defineProperty'](exports,a399_0x125f37(0x193),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a399_0x125f37(0x18e))),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),logger_1=require('../../utils/logger'),CheckNumber_1=__importDefault(require(a399_0x125f37(0x1a3))),CreateService=async _0x3f89cb=>{const _0x551aac=a399_0x125f37,{name:_0x47cab2}=_0x3f89cb,_0x20adaf=Yup['object']()['shape']({'name':Yup[_0x551aac(0x1aa)]()['min'](0x3,_0x551aac(0x1a9))[_0x551aac(0x191)](_0x551aac(0x1a0))});try{await _0x20adaf['validate']({'name':_0x47cab2});}catch(_0x3290f9){throw new AppError_1[(_0x551aac(0x18d))](_0x3290f9[_0x551aac(0x189)]);}const [_0x46cef4]=await ContactListItem_1[_0x551aac(0x18d)]['findOrCreate']({'where':{'number':_0x3f89cb[_0x551aac(0x19b)],'companyId':_0x3f89cb[_0x551aac(0x190)],'contactListId':_0x3f89cb[_0x551aac(0x1a2)]},'defaults':_0x3f89cb});try{const _0x5b2689=await(0x0,CheckNumber_1['default'])(_0x46cef4[_0x551aac(0x19b)],_0x46cef4[_0x551aac(0x190)]);_0x46cef4['isWhatsappValid']=_0x5b2689[_0x551aac(0x1a4)];const _0x420fd1=_0x5b2689[_0x551aac(0x192)]['replace'](/\D/g,'');_0x46cef4[_0x551aac(0x19b)]=_0x420fd1,await _0x46cef4[_0x551aac(0x19c)]();}catch(_0x3de3c1){logger_1[_0x551aac(0x1a5)][_0x551aac(0x196)](_0x551aac(0x197)+_0x46cef4['number']);}return _0x46cef4;};function a399_0x107c(){const _0x406856=['configurable','110OeOaWN','2215060XCJKYJ','number','save','hasOwnProperty','780703EVcsrR','__setModuleDefault','ERR_CONTACTLISTITEM_REQUIRED','search','contactListId','../WbotServices/CheckNumber','exists','logger','10aaqfbG','call','create','ERR_CONTACTLISTITEM_INVALID_NAME','string','124276xiNclO','2406942zrCGZD','141ZJCqFg','message','__createBinding','2970766LNbyNU','834136bhwaPO','default','../../errors/AppError','13019238HPApXE','companyId','required','jid','__esModule','7YfGRny','prototype','error','Número\x20de\x20contato\x20inválido:\x20'];a399_0x107c=function(){return _0x406856;};return a399_0x107c();}exports[a399_0x125f37(0x18d)]=CreateService;