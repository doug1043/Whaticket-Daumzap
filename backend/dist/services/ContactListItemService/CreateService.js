'use strict';const a433_0x3a1413=a433_0x5e06;(function(_0x2ecb20,_0x4e4179){const _0x3fa8d2=a433_0x5e06,_0x8e9a0f=_0x2ecb20();while(!![]){try{const _0x2a691e=parseInt(_0x3fa8d2(0xf9))/0x1+parseInt(_0x3fa8d2(0xfa))/0x2+-parseInt(_0x3fa8d2(0xf1))/0x3+parseInt(_0x3fa8d2(0xed))/0x4+parseInt(_0x3fa8d2(0xf4))/0x5*(parseInt(_0x3fa8d2(0x10d))/0x6)+parseInt(_0x3fa8d2(0xff))/0x7*(parseInt(_0x3fa8d2(0xe5))/0x8)+-parseInt(_0x3fa8d2(0xf3))/0x9;if(_0x2a691e===_0x4e4179)break;else _0x8e9a0f['push'](_0x8e9a0f['shift']());}catch(_0x6f46f1){_0x8e9a0f['push'](_0x8e9a0f['shift']());}}}(a433_0x3e5a,0xb9c13));var __createBinding=this&&this[a433_0x3a1413(0xf6)]||(Object[a433_0x3a1413(0xe6)]?function(_0x406d0b,_0x4be181,_0x4dc761,_0x24ec2d){const _0x191343=a433_0x3a1413;if(_0x24ec2d===undefined)_0x24ec2d=_0x4dc761;var _0x3eb0a4=Object['getOwnPropertyDescriptor'](_0x4be181,_0x4dc761);(!_0x3eb0a4||('get'in _0x3eb0a4?!_0x4be181[_0x191343(0xf0)]:_0x3eb0a4[_0x191343(0xef)]||_0x3eb0a4[_0x191343(0x100)]))&&(_0x3eb0a4={'enumerable':!![],'get':function(){return _0x4be181[_0x4dc761];}}),Object[_0x191343(0x105)](_0x406d0b,_0x24ec2d,_0x3eb0a4);}:function(_0x346770,_0x546f54,_0x146db1,_0x2a0743){if(_0x2a0743===undefined)_0x2a0743=_0x146db1;_0x346770[_0x2a0743]=_0x546f54[_0x146db1];}),__setModuleDefault=this&&this[a433_0x3a1413(0xf7)]||(Object[a433_0x3a1413(0xe6)]?function(_0x349ce9,_0x4adda2){const _0x4f3f66=a433_0x3a1413;Object['defineProperty'](_0x349ce9,_0x4f3f66(0xfd),{'enumerable':!![],'value':_0x4adda2});}:function(_0x135ca5,_0xfb0dd){const _0x3cb999=a433_0x3a1413;_0x135ca5[_0x3cb999(0xfd)]=_0xfb0dd;}),__importStar=this&&this[a433_0x3a1413(0xf5)]||(function(){const _0x3c3d82=(function(){let _0x54254c=!![];return function(_0x19dbf4,_0x4f63c7){const _0x41d180=_0x54254c?function(){const _0x4f109f=a433_0x5e06;if(_0x4f63c7){const _0x337d4a=_0x4f63c7[_0x4f109f(0xfe)](_0x19dbf4,arguments);return _0x4f63c7=null,_0x337d4a;}}:function(){};return _0x54254c=![],_0x41d180;};}()),_0x153fda=_0x3c3d82(this,function(){const _0x64e75d=a433_0x5e06;return _0x153fda[_0x64e75d(0x106)]()[_0x64e75d(0x10b)](_0x64e75d(0x102))[_0x64e75d(0x106)]()['constructor'](_0x153fda)[_0x64e75d(0x10b)](_0x64e75d(0x102));});_0x153fda();var _0x29cf2e=function(_0xaf2b75){const _0x5aa79e=a433_0x5e06;return _0x29cf2e=Object[_0x5aa79e(0x109)]||function(_0x2ec06d){const _0x339187=_0x5aa79e;var _0x597280=[];for(var _0x2b820b in _0x2ec06d)if(Object['prototype'][_0x339187(0xe9)][_0x339187(0x104)](_0x2ec06d,_0x2b820b))_0x597280[_0x597280[_0x339187(0x103)]]=_0x2b820b;return _0x597280;},_0x29cf2e(_0xaf2b75);};return function(_0x316f8e){const _0xac55e8=a433_0x5e06;if(_0x316f8e&&_0x316f8e[_0xac55e8(0xf0)])return _0x316f8e;var _0x320efa={};if(_0x316f8e!=null){for(var _0x2cac1f=_0x29cf2e(_0x316f8e),_0x3c61a6=0x0;_0x3c61a6<_0x2cac1f[_0xac55e8(0x103)];_0x3c61a6++)if(_0x2cac1f[_0x3c61a6]!=='default')__createBinding(_0x320efa,_0x316f8e,_0x2cac1f[_0x3c61a6]);}return __setModuleDefault(_0x320efa,_0x316f8e),_0x320efa;};}()),__importDefault=this&&this['__importDefault']||function(_0x212509){const _0x56d875=a433_0x3a1413;return _0x212509&&_0x212509[_0x56d875(0xf0)]?_0x212509:{'default':_0x212509};};Object[a433_0x3a1413(0x105)](exports,'__esModule',{'value':!![]});function a433_0x5e06(_0x551f8e,_0x302a51){const _0xc54ce3=a433_0x3e5a();return a433_0x5e06=function(_0x235cd8,_0x4c1a06){_0x235cd8=_0x235cd8-0xe5;let _0x3e5a6a=_0xc54ce3[_0x235cd8];return _0x3e5a6a;},a433_0x5e06(_0x551f8e,_0x302a51);}function a433_0x3e5a(){const _0x1f4c14=['129087qlyGQY','656772zCmvqW','findOrCreate','shape','default','apply','9499777KRQHsh','configurable','Número\x20de\x20contato\x20inválido:\x20','(((.+)+)+)+$','length','call','defineProperty','toString','ERR_CONTACTLISTITEM_REQUIRED','save','getOwnPropertyNames','number','search','object','1614054oQuouW','8lnSHCY','create','string','ERR_CONTACTLISTITEM_INVALID_NAME','hasOwnProperty','../../utils/logger','message','exists','3987284pcEcQb','yup','writable','__esModule','1802424CakMkA','companyId','22732038yiGkrO','20PldJdH','__importStar','__createBinding','__setModuleDefault','required'];a433_0x3e5a=function(){return _0x1f4c14;};return a433_0x3e5a();}const Yup=__importStar(require(a433_0x3a1413(0xee))),AppError_1=__importDefault(require('../../errors/AppError')),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),logger_1=require(a433_0x3a1413(0xea)),CheckNumber_1=__importDefault(require('../WbotServices/CheckNumber')),CreateService=async _0x2f2aee=>{const _0x229b98=a433_0x3a1413,{name:_0x146303}=_0x2f2aee,_0xe44565=Yup[_0x229b98(0x10c)]()[_0x229b98(0xfc)]({'name':Yup[_0x229b98(0xe7)]()['min'](0x3,_0x229b98(0xe8))[_0x229b98(0xf8)](_0x229b98(0x107))});try{await _0xe44565['validate']({'name':_0x146303});}catch(_0x4816c8){throw new AppError_1[(_0x229b98(0xfd))](_0x4816c8[_0x229b98(0xeb)]);}const [_0x57edbd]=await ContactListItem_1[_0x229b98(0xfd)][_0x229b98(0xfb)]({'where':{'number':_0x2f2aee[_0x229b98(0x10a)],'companyId':_0x2f2aee['companyId'],'contactListId':_0x2f2aee['contactListId']},'defaults':_0x2f2aee});try{const _0x508fcb=await(0x0,CheckNumber_1[_0x229b98(0xfd)])(_0x57edbd['number'],_0x57edbd[_0x229b98(0xf2)]);_0x57edbd['isWhatsappValid']=_0x508fcb[_0x229b98(0xec)];const _0x377564=_0x508fcb['jid']['replace'](/\D/g,'');_0x57edbd['number']=_0x377564,await _0x57edbd[_0x229b98(0x108)]();}catch(_0x4fef0e){logger_1['logger']['error'](_0x229b98(0x101)+_0x57edbd[_0x229b98(0x10a)]);}return _0x57edbd;};exports[a433_0x3a1413(0xfd)]=CreateService;