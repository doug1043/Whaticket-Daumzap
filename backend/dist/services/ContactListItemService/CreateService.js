const a397_0x47e9ac=a397_0x121a;(function(_0xc233ab,_0x291381){const _0x3ae709=a397_0x121a,_0x2d44fb=_0xc233ab();while(!![]){try{const _0x5e71ba=parseInt(_0x3ae709(0x96))/0x1+parseInt(_0x3ae709(0xb8))/0x2*(parseInt(_0x3ae709(0x95))/0x3)+parseInt(_0x3ae709(0xba))/0x4+-parseInt(_0x3ae709(0xa4))/0x5+parseInt(_0x3ae709(0x93))/0x6*(-parseInt(_0x3ae709(0xa3))/0x7)+parseInt(_0x3ae709(0x9f))/0x8+-parseInt(_0x3ae709(0x9e))/0x9*(parseInt(_0x3ae709(0x9d))/0xa);if(_0x5e71ba===_0x291381)break;else _0x2d44fb['push'](_0x2d44fb['shift']());}catch(_0x3cd3c4){_0x2d44fb['push'](_0x2d44fb['shift']());}}}(a397_0x5ebb,0x8c60f));const a397_0x3a9c15=(function(){let _0x3d888a=!![];return function(_0x1d4d80,_0x23cf13){const _0x14e1e9=_0x3d888a?function(){if(_0x23cf13){const _0x57e817=_0x23cf13['apply'](_0x1d4d80,arguments);return _0x23cf13=null,_0x57e817;}}:function(){};return _0x3d888a=![],_0x14e1e9;};}()),a397_0x25b439=a397_0x3a9c15(this,function(){const _0x5e7587=a397_0x121a;return a397_0x25b439[_0x5e7587(0x9b)]()[_0x5e7587(0xb4)]('(((.+)+)+)+$')['toString']()['constructor'](a397_0x25b439)['search'](_0x5e7587(0xaf));});a397_0x25b439();'use strict';function a397_0x121a(_0x367ced,_0x49e62b){const _0x2e157b=a397_0x5ebb();return a397_0x121a=function(_0x25b439,_0x3a9c15){_0x25b439=_0x25b439-0x8f;let _0x5ebb13=_0x2e157b[_0x25b439];return _0x5ebb13;},a397_0x121a(_0x367ced,_0x49e62b);}var __createBinding=this&&this[a397_0x47e9ac(0xb3)]||(Object['create']?function(_0x12e246,_0x55afa2,_0x265640,_0x4885c7){const _0x2da1f4=a397_0x47e9ac;if(_0x4885c7===undefined)_0x4885c7=_0x265640;var _0x1c84df=Object[_0x2da1f4(0xbb)](_0x55afa2,_0x265640);(!_0x1c84df||('get'in _0x1c84df?!_0x55afa2[_0x2da1f4(0x9c)]:_0x1c84df[_0x2da1f4(0xa6)]||_0x1c84df['configurable']))&&(_0x1c84df={'enumerable':!![],'get':function(){return _0x55afa2[_0x265640];}}),Object[_0x2da1f4(0x94)](_0x12e246,_0x4885c7,_0x1c84df);}:function(_0x30a80b,_0x1badf8,_0x33a5a7,_0x330648){if(_0x330648===undefined)_0x330648=_0x33a5a7;_0x30a80b[_0x330648]=_0x1badf8[_0x33a5a7];}),__setModuleDefault=this&&this[a397_0x47e9ac(0xae)]||(Object[a397_0x47e9ac(0xa1)]?function(_0x1d65bd,_0x537b18){const _0x214d33=a397_0x47e9ac;Object['defineProperty'](_0x1d65bd,_0x214d33(0x99),{'enumerable':!![],'value':_0x537b18});}:function(_0x2f5fa6,_0x32e0ed){_0x2f5fa6['default']=_0x32e0ed;}),__importStar=this&&this['__importStar']||function(_0x3eac9b){const _0x37bd3b=a397_0x47e9ac;if(_0x3eac9b&&_0x3eac9b[_0x37bd3b(0x9c)])return _0x3eac9b;var _0x2b039a={};if(_0x3eac9b!=null){for(var _0x4b9de1 in _0x3eac9b)if(_0x4b9de1!==_0x37bd3b(0x99)&&Object[_0x37bd3b(0xb6)][_0x37bd3b(0x8f)][_0x37bd3b(0xaa)](_0x3eac9b,_0x4b9de1))__createBinding(_0x2b039a,_0x3eac9b,_0x4b9de1);}return __setModuleDefault(_0x2b039a,_0x3eac9b),_0x2b039a;},__importDefault=this&&this[a397_0x47e9ac(0xad)]||function(_0x5e1e0f){const _0x3e6709=a397_0x47e9ac;return _0x5e1e0f&&_0x5e1e0f[_0x3e6709(0x9c)]?_0x5e1e0f:{'default':_0x5e1e0f};};Object[a397_0x47e9ac(0x94)](exports,a397_0x47e9ac(0x9c),{'value':!![]});const Yup=__importStar(require(a397_0x47e9ac(0xab))),AppError_1=__importDefault(require('../../errors/AppError')),ContactListItem_1=__importDefault(require(a397_0x47e9ac(0xa7))),logger_1=require(a397_0x47e9ac(0xb1)),CheckNumber_1=__importDefault(require(a397_0x47e9ac(0xa2))),CreateService=async _0x15f9b8=>{const _0x95657=a397_0x47e9ac,{name:_0xbb0bda}=_0x15f9b8,_0x200347=Yup[_0x95657(0xb9)]()[_0x95657(0xb5)]({'name':Yup['string']()[_0x95657(0xa8)](0x3,_0x95657(0xb0))[_0x95657(0x97)](_0x95657(0x92))});try{await _0x200347['validate']({'name':_0xbb0bda});}catch(_0x296875){throw new AppError_1[(_0x95657(0x99))](_0x296875['message']);}const [_0x46223b]=await ContactListItem_1['default'][_0x95657(0xb2)]({'where':{'number':_0x15f9b8[_0x95657(0xb7)],'companyId':_0x15f9b8[_0x95657(0xac)],'contactListId':_0x15f9b8[_0x95657(0x91)]},'defaults':_0x15f9b8});try{const _0x398d90=await(0x0,CheckNumber_1[_0x95657(0x99)])(_0x46223b[_0x95657(0xb7)],_0x46223b[_0x95657(0xac)]);_0x46223b[_0x95657(0xa0)]=_0x398d90['exists'];const _0x49507c=_0x398d90[_0x95657(0x98)][_0x95657(0xa9)](/\D/g,'');_0x46223b['number']=_0x49507c,await _0x46223b[_0x95657(0xa5)]();}catch(_0x469f61){logger_1[_0x95657(0x90)]['error'](_0x95657(0x9a)+_0x46223b['number']);}return _0x46223b;};exports['default']=CreateService;function a397_0x5ebb(){const _0x3b7bc6=['__setModuleDefault','(((.+)+)+)+$','ERR_CONTACTLISTITEM_INVALID_NAME','../../utils/logger','findOrCreate','__createBinding','search','shape','prototype','number','4QgasnG','object','1420380WamSZG','getOwnPropertyDescriptor','hasOwnProperty','logger','contactListId','ERR_CONTACTLISTITEM_REQUIRED','1068xSzsTf','defineProperty','616128tpoJNM','653974dYeLsT','required','jid','default','Número\x20de\x20contato\x20inválido:\x20','toString','__esModule','20nACJBT','2623239LZnKjc','3039720ttcDRQ','isWhatsappValid','create','../WbotServices/CheckNumber','15449UonFUn','1245035nfkJGY','save','writable','../../models/ContactListItem','min','replace','call','yup','companyId','__importDefault'];a397_0x5ebb=function(){return _0x3b7bc6;};return a397_0x5ebb();}