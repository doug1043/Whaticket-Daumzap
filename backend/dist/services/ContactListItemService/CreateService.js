'use strict';const a428_0x402aea=a428_0x1639;(function(_0x43c3e6,_0x395110){const _0x224885=a428_0x1639,_0x5e5c1e=_0x43c3e6();while(!![]){try{const _0x458f28=-parseInt(_0x224885(0x20d))/0x1*(-parseInt(_0x224885(0x201))/0x2)+-parseInt(_0x224885(0x1fc))/0x3+-parseInt(_0x224885(0x1ff))/0x4*(-parseInt(_0x224885(0x1e9))/0x5)+parseInt(_0x224885(0x1fd))/0x6+parseInt(_0x224885(0x1ef))/0x7*(parseInt(_0x224885(0x20a))/0x8)+-parseInt(_0x224885(0x202))/0x9+-parseInt(_0x224885(0x20c))/0xa*(parseInt(_0x224885(0x206))/0xb);if(_0x458f28===_0x395110)break;else _0x5e5c1e['push'](_0x5e5c1e['shift']());}catch(_0x1456eb){_0x5e5c1e['push'](_0x5e5c1e['shift']());}}}(a428_0x2a06,0xc7513));var __createBinding=this&&this[a428_0x402aea(0x1f2)]||(Object[a428_0x402aea(0x1ec)]?function(_0x31722c,_0x1204c9,_0x405f75,_0x48ebee){const _0x1fca70=a428_0x402aea;if(_0x48ebee===undefined)_0x48ebee=_0x405f75;var _0xe4c681=Object[_0x1fca70(0x1ed)](_0x1204c9,_0x405f75);(!_0xe4c681||(_0x1fca70(0x20b)in _0xe4c681?!_0x1204c9[_0x1fca70(0x211)]:_0xe4c681[_0x1fca70(0x1e8)]||_0xe4c681['configurable']))&&(_0xe4c681={'enumerable':!![],'get':function(){return _0x1204c9[_0x405f75];}}),Object[_0x1fca70(0x1f1)](_0x31722c,_0x48ebee,_0xe4c681);}:function(_0x1c7290,_0x41c7f5,_0x1d2285,_0x4aa29d){if(_0x4aa29d===undefined)_0x4aa29d=_0x1d2285;_0x1c7290[_0x4aa29d]=_0x41c7f5[_0x1d2285];}),__setModuleDefault=this&&this[a428_0x402aea(0x20f)]||(Object[a428_0x402aea(0x1ec)]?function(_0x364b31,_0x3ec65c){const _0x5d1da5=a428_0x402aea;Object[_0x5d1da5(0x1f1)](_0x364b31,'default',{'enumerable':!![],'value':_0x3ec65c});}:function(_0x461bd7,_0x314017){const _0x4f099c=a428_0x402aea;_0x461bd7[_0x4f099c(0x1fe)]=_0x314017;}),__importStar=this&&this['__importStar']||(function(){const _0x2f7e9a=(function(){let _0x44a5b4=!![];return function(_0x5dcc8e,_0x1e7a6b){const _0x96b1cf=_0x44a5b4?function(){const _0x1dddfa=a428_0x1639;if(_0x1e7a6b){const _0x4099a5=_0x1e7a6b[_0x1dddfa(0x1fa)](_0x5dcc8e,arguments);return _0x1e7a6b=null,_0x4099a5;}}:function(){};return _0x44a5b4=![],_0x96b1cf;};}()),_0x1f32c6=_0x2f7e9a(this,function(){const _0x87cef=a428_0x1639;return _0x1f32c6[_0x87cef(0x1f7)]()['search'](_0x87cef(0x210))[_0x87cef(0x1f7)]()[_0x87cef(0x209)](_0x1f32c6)['search'](_0x87cef(0x210));});_0x1f32c6();var _0x550d88=function(_0x42e752){const _0x58bee6=a428_0x1639;return _0x550d88=Object[_0x58bee6(0x208)]||function(_0x41d27c){const _0x273eb5=_0x58bee6;var _0x23303f=[];for(var _0x21e9c6 in _0x41d27c)if(Object[_0x273eb5(0x215)]['hasOwnProperty']['call'](_0x41d27c,_0x21e9c6))_0x23303f[_0x23303f[_0x273eb5(0x1ea)]]=_0x21e9c6;return _0x23303f;},_0x550d88(_0x42e752);};return function(_0x39503b){const _0x4f5759=a428_0x1639;if(_0x39503b&&_0x39503b[_0x4f5759(0x211)])return _0x39503b;var _0x26e08f={};if(_0x39503b!=null){for(var _0x3379d2=_0x550d88(_0x39503b),_0x1b0b13=0x0;_0x1b0b13<_0x3379d2[_0x4f5759(0x1ea)];_0x1b0b13++)if(_0x3379d2[_0x1b0b13]!==_0x4f5759(0x1fe))__createBinding(_0x26e08f,_0x39503b,_0x3379d2[_0x1b0b13]);}return __setModuleDefault(_0x26e08f,_0x39503b),_0x26e08f;};}()),__importDefault=this&&this[a428_0x402aea(0x1fb)]||function(_0x216671){const _0x2ecfe1=a428_0x402aea;return _0x216671&&_0x216671[_0x2ecfe1(0x211)]?_0x216671:{'default':_0x216671};};function a428_0x2a06(){const _0x414392=['constructor','4536bKLPgt','get','8834870uutwfm','1607ZDfQjA','save','__setModuleDefault','(((.+)+)+)+$','__esModule','ERR_CONTACTLISTITEM_REQUIRED','validate','object','prototype','writable','5LWkjHT','length','../../utils/logger','create','getOwnPropertyDescriptor','jid','11893fSnsro','companyId','defineProperty','__createBinding','number','shape','replace','../../errors/AppError','toString','exists','logger','apply','__importDefault','2074860OmoLIa','236436RekGBc','default','4530532pAKvly','contactListId','1370bYOEOV','7601913spMhBA','string','error','yup','11CdcZbI','Número\x20de\x20contato\x20inválido:\x20','getOwnPropertyNames'];a428_0x2a06=function(){return _0x414392;};return a428_0x2a06();}Object['defineProperty'](exports,a428_0x402aea(0x211),{'value':!![]});const Yup=__importStar(require(a428_0x402aea(0x205))),AppError_1=__importDefault(require(a428_0x402aea(0x1f6))),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),logger_1=require(a428_0x402aea(0x1eb)),CheckNumber_1=__importDefault(require('../WbotServices/CheckNumber')),CreateService=async _0x3c670d=>{const _0x4a07f1=a428_0x402aea,{name:_0xe44c09}=_0x3c670d,_0x557286=Yup[_0x4a07f1(0x214)]()[_0x4a07f1(0x1f4)]({'name':Yup[_0x4a07f1(0x203)]()['min'](0x3,'ERR_CONTACTLISTITEM_INVALID_NAME')['required'](_0x4a07f1(0x212))});try{await _0x557286[_0x4a07f1(0x213)]({'name':_0xe44c09});}catch(_0x20c6aa){throw new AppError_1[(_0x4a07f1(0x1fe))](_0x20c6aa['message']);}const [_0x1bdd25]=await ContactListItem_1['default']['findOrCreate']({'where':{'number':_0x3c670d[_0x4a07f1(0x1f3)],'companyId':_0x3c670d[_0x4a07f1(0x1f0)],'contactListId':_0x3c670d[_0x4a07f1(0x200)]},'defaults':_0x3c670d});try{const _0x8e3f1e=await(0x0,CheckNumber_1[_0x4a07f1(0x1fe)])(_0x1bdd25[_0x4a07f1(0x1f3)],_0x1bdd25['companyId']);_0x1bdd25['isWhatsappValid']=_0x8e3f1e[_0x4a07f1(0x1f8)];const _0x407312=_0x8e3f1e[_0x4a07f1(0x1ee)][_0x4a07f1(0x1f5)](/\D/g,'');_0x1bdd25['number']=_0x407312,await _0x1bdd25[_0x4a07f1(0x20e)]();}catch(_0x19713b){logger_1[_0x4a07f1(0x1f9)][_0x4a07f1(0x204)](_0x4a07f1(0x207)+_0x1bdd25[_0x4a07f1(0x1f3)]);}return _0x1bdd25;};function a428_0x1639(_0x529f0a,_0x23ee59){const _0x3399b3=a428_0x2a06();return a428_0x1639=function(_0x1f206a,_0x1611c9){_0x1f206a=_0x1f206a-0x1e8;let _0x2a0649=_0x3399b3[_0x1f206a];return _0x2a0649;},a428_0x1639(_0x529f0a,_0x23ee59);}exports['default']=CreateService;