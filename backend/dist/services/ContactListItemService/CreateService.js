const a397_0x29af6d=a397_0x5967;(function(_0x846ce3,_0x2c3dae){const _0x5a046e=a397_0x5967,_0x2d8755=_0x846ce3();while(!![]){try{const _0x3ea974=parseInt(_0x5a046e(0x16c))/0x1+parseInt(_0x5a046e(0x17d))/0x2+-parseInt(_0x5a046e(0x16e))/0x3*(-parseInt(_0x5a046e(0x16a))/0x4)+-parseInt(_0x5a046e(0x18a))/0x5*(parseInt(_0x5a046e(0x18c))/0x6)+parseInt(_0x5a046e(0x17f))/0x7*(parseInt(_0x5a046e(0x192))/0x8)+parseInt(_0x5a046e(0x175))/0x9+parseInt(_0x5a046e(0x18f))/0xa*(-parseInt(_0x5a046e(0x167))/0xb);if(_0x3ea974===_0x2c3dae)break;else _0x2d8755['push'](_0x2d8755['shift']());}catch(_0x3b4756){_0x2d8755['push'](_0x2d8755['shift']());}}}(a397_0x32d2,0x95117));const a397_0x3b7882=(function(){let _0x1ea0f2=!![];return function(_0x31ad63,_0x4db134){const _0xf9ac02=_0x1ea0f2?function(){const _0x31e41f=a397_0x5967;if(_0x4db134){const _0x30b6ca=_0x4db134[_0x31e41f(0x165)](_0x31ad63,arguments);return _0x4db134=null,_0x30b6ca;}}:function(){};return _0x1ea0f2=![],_0xf9ac02;};}()),a397_0x28fed8=a397_0x3b7882(this,function(){const _0x2e1b8c=a397_0x5967;return a397_0x28fed8[_0x2e1b8c(0x17e)]()['search'](_0x2e1b8c(0x166))[_0x2e1b8c(0x17e)]()[_0x2e1b8c(0x16b)](a397_0x28fed8)[_0x2e1b8c(0x196)](_0x2e1b8c(0x166));});a397_0x28fed8();function a397_0x5967(_0x3ed6ed,_0x383f67){const _0x2dbcb8=a397_0x32d2();return a397_0x5967=function(_0x28fed8,_0x3b7882){_0x28fed8=_0x28fed8-0x165;let _0x32d2ae=_0x2dbcb8[_0x28fed8];return _0x32d2ae;},a397_0x5967(_0x3ed6ed,_0x383f67);}'use strict';function a397_0x32d2(){const _0x1596e3=['ERR_CONTACTLISTITEM_REQUIRED','configurable','164660iRmmHP','jid','min','376GYqCnl','validate','findOrCreate','get','search','apply','(((.+)+)+)+$','2002udpSES','required','__esModule','1558660XGlqSI','constructor','794539PXtqUK','call','9PJkLJB','create','default','logger','number','companyId','hasOwnProperty','9433638sDYQHq','yup','shape','../../errors/AppError','message','defineProperty','Número\x20de\x20contato\x20inválido:\x20','__createBinding','641764eUOcaY','toString','176554bToLKp','save','exists','isWhatsappValid','getOwnPropertyDescriptor','writable','__importStar','__importDefault','../../models/ContactListItem','object','string','350245PCZNgP','prototype','78rZnczI'];a397_0x32d2=function(){return _0x1596e3;};return a397_0x32d2();}var __createBinding=this&&this[a397_0x29af6d(0x17c)]||(Object[a397_0x29af6d(0x16f)]?function(_0x35b67c,_0x120620,_0x1a797f,_0x1bbf41){const _0x356e88=a397_0x29af6d;if(_0x1bbf41===undefined)_0x1bbf41=_0x1a797f;var _0x291cc6=Object[_0x356e88(0x183)](_0x120620,_0x1a797f);(!_0x291cc6||(_0x356e88(0x195)in _0x291cc6?!_0x120620[_0x356e88(0x169)]:_0x291cc6[_0x356e88(0x184)]||_0x291cc6[_0x356e88(0x18e)]))&&(_0x291cc6={'enumerable':!![],'get':function(){return _0x120620[_0x1a797f];}}),Object[_0x356e88(0x17a)](_0x35b67c,_0x1bbf41,_0x291cc6);}:function(_0xd5f827,_0x3b048f,_0x5ec7ec,_0x453527){if(_0x453527===undefined)_0x453527=_0x5ec7ec;_0xd5f827[_0x453527]=_0x3b048f[_0x5ec7ec];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a397_0x29af6d(0x16f)]?function(_0xb3b8f9,_0x24775b){const _0xa29e7e=a397_0x29af6d;Object[_0xa29e7e(0x17a)](_0xb3b8f9,_0xa29e7e(0x170),{'enumerable':!![],'value':_0x24775b});}:function(_0x54ccad,_0x34b35e){const _0x6fe96c=a397_0x29af6d;_0x54ccad[_0x6fe96c(0x170)]=_0x34b35e;}),__importStar=this&&this[a397_0x29af6d(0x185)]||function(_0x17ffbc){const _0x36cf0d=a397_0x29af6d;if(_0x17ffbc&&_0x17ffbc[_0x36cf0d(0x169)])return _0x17ffbc;var _0x42f20e={};if(_0x17ffbc!=null){for(var _0x58c900 in _0x17ffbc)if(_0x58c900!==_0x36cf0d(0x170)&&Object[_0x36cf0d(0x18b)][_0x36cf0d(0x174)][_0x36cf0d(0x16d)](_0x17ffbc,_0x58c900))__createBinding(_0x42f20e,_0x17ffbc,_0x58c900);}return __setModuleDefault(_0x42f20e,_0x17ffbc),_0x42f20e;},__importDefault=this&&this[a397_0x29af6d(0x186)]||function(_0x2a5b24){return _0x2a5b24&&_0x2a5b24['__esModule']?_0x2a5b24:{'default':_0x2a5b24};};Object[a397_0x29af6d(0x17a)](exports,a397_0x29af6d(0x169),{'value':!![]});const Yup=__importStar(require(a397_0x29af6d(0x176))),AppError_1=__importDefault(require(a397_0x29af6d(0x178))),ContactListItem_1=__importDefault(require(a397_0x29af6d(0x187))),logger_1=require('../../utils/logger'),CheckNumber_1=__importDefault(require('../WbotServices/CheckNumber')),CreateService=async _0x16b497=>{const _0x37efc6=a397_0x29af6d,{name:_0x3550c2}=_0x16b497,_0x536197=Yup[_0x37efc6(0x188)]()[_0x37efc6(0x177)]({'name':Yup[_0x37efc6(0x189)]()[_0x37efc6(0x191)](0x3,'ERR_CONTACTLISTITEM_INVALID_NAME')[_0x37efc6(0x168)](_0x37efc6(0x18d))});try{await _0x536197[_0x37efc6(0x193)]({'name':_0x3550c2});}catch(_0x2fa9f4){throw new AppError_1['default'](_0x2fa9f4[_0x37efc6(0x179)]);}const [_0x1bdd86]=await ContactListItem_1['default'][_0x37efc6(0x194)]({'where':{'number':_0x16b497[_0x37efc6(0x172)],'companyId':_0x16b497[_0x37efc6(0x173)],'contactListId':_0x16b497['contactListId']},'defaults':_0x16b497});try{const _0x4bb9ce=await(0x0,CheckNumber_1[_0x37efc6(0x170)])(_0x1bdd86[_0x37efc6(0x172)],_0x1bdd86[_0x37efc6(0x173)]);_0x1bdd86[_0x37efc6(0x182)]=_0x4bb9ce[_0x37efc6(0x181)];const _0x576463=_0x4bb9ce[_0x37efc6(0x190)]['replace'](/\D/g,'');_0x1bdd86[_0x37efc6(0x172)]=_0x576463,await _0x1bdd86[_0x37efc6(0x180)]();}catch(_0x403964){logger_1[_0x37efc6(0x171)]['error'](_0x37efc6(0x17b)+_0x1bdd86[_0x37efc6(0x172)]);}return _0x1bdd86;};exports['default']=CreateService;