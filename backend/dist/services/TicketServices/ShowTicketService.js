const a558_0x1f6a28=a558_0x1c58;function a558_0x1c58(_0x4fafb7,_0x2d17eb){const _0x70243f=a558_0x4c1a();return a558_0x1c58=function(_0x4efa57,_0x497db7){_0x4efa57=_0x4efa57-0x134;let _0x4c1a57=_0x70243f[_0x4efa57];return _0x4c1a57;},a558_0x1c58(_0x4fafb7,_0x2d17eb);}(function(_0x4e0749,_0x230b32){const _0x5bbf14=a558_0x1c58,_0x31807a=_0x4e0749();while(!![]){try{const _0x599494=-parseInt(_0x5bbf14(0x135))/0x1*(-parseInt(_0x5bbf14(0x154))/0x2)+-parseInt(_0x5bbf14(0x14f))/0x3*(-parseInt(_0x5bbf14(0x152))/0x4)+parseInt(_0x5bbf14(0x147))/0x5+-parseInt(_0x5bbf14(0x149))/0x6*(parseInt(_0x5bbf14(0x153))/0x7)+-parseInt(_0x5bbf14(0x13c))/0x8*(-parseInt(_0x5bbf14(0x137))/0x9)+parseInt(_0x5bbf14(0x13a))/0xa+parseInt(_0x5bbf14(0x151))/0xb*(-parseInt(_0x5bbf14(0x14b))/0xc);if(_0x599494===_0x230b32)break;else _0x31807a['push'](_0x31807a['shift']());}catch(_0x421aad){_0x31807a['push'](_0x31807a['shift']());}}}(a558_0x4c1a,0x649b3));function a558_0x4c1a(){const _0x24f47d=['disableBot','396847AEWqcs','__esModule','1008aVoSkz','ERR_NO_TICKET_FOUND','name','6461590KfAafs','toString','32080TVXnsq','company','email','../../models/User','__importDefault','../../models/UserSocketSession','presence','../../models/Ticket','color','search','findOne','1783455PjXZXG','(((.+)+)+)+$','77382LKFwrl','facebookUserToken','1649484PNnicR','../../models/Tag','whatsapp','../../models/Contact','103686JrUitB','../../models/Company','121MqSzoW','52hDuPFC','203vLYxCf','2fsNZBi','defineProperty','constructor','queue','../../models/Whatsapp','tags','../../models/Queue','Não\x20é\x20possível\x20consultar\x20registros\x20de\x20outra\x20empresa','default','contact','../../errors/AppError','apply'];a558_0x4c1a=function(){return _0x24f47d;};return a558_0x4c1a();}const a558_0x497db7=(function(){let _0x28b11c=!![];return function(_0x325c9c,_0x3060b1){const _0x3ce3cd=_0x28b11c?function(){const _0x2d5c9d=a558_0x1c58;if(_0x3060b1){const _0x48a932=_0x3060b1[_0x2d5c9d(0x15f)](_0x325c9c,arguments);return _0x3060b1=null,_0x48a932;}}:function(){};return _0x28b11c=![],_0x3ce3cd;};}()),a558_0x4efa57=a558_0x497db7(this,function(){const _0x304900=a558_0x1c58;return a558_0x4efa57['toString']()[_0x304900(0x145)]('(((.+)+)+)+$')[_0x304900(0x13b)]()[_0x304900(0x156)](a558_0x4efa57)[_0x304900(0x145)](_0x304900(0x148));});a558_0x4efa57();'use strict';var __importDefault=this&&this[a558_0x1f6a28(0x140)]||function(_0x464e16){const _0xc42d4=a558_0x1f6a28;return _0x464e16&&_0x464e16[_0xc42d4(0x136)]?_0x464e16:{'default':_0x464e16};};Object[a558_0x1f6a28(0x155)](exports,a558_0x1f6a28(0x136),{'value':!![]});const Ticket_1=__importDefault(require(a558_0x1f6a28(0x143))),AppError_1=__importDefault(require(a558_0x1f6a28(0x15e))),Contact_1=__importDefault(require(a558_0x1f6a28(0x14e))),User_1=__importDefault(require(a558_0x1f6a28(0x13f))),Queue_1=__importDefault(require(a558_0x1f6a28(0x15a))),Tag_1=__importDefault(require(a558_0x1f6a28(0x14c))),Whatsapp_1=__importDefault(require(a558_0x1f6a28(0x158))),UserSocketSession_1=__importDefault(require(a558_0x1f6a28(0x141))),Company_1=__importDefault(require(a558_0x1f6a28(0x150))),ShowTicketService=async(_0x2f2be9,_0x1c351f)=>{const _0x7c34c2=a558_0x1f6a28,_0x14c1c8=await Ticket_1['default'][_0x7c34c2(0x146)]({'where':{'id':_0x2f2be9},'include':[{'model':Contact_1['default'],'as':_0x7c34c2(0x15d),'attributes':['id','name','number',_0x7c34c2(0x13e),'profilePicUrl',_0x7c34c2(0x142),_0x7c34c2(0x134)],'include':['extraInfo']},{'model':User_1['default'],'as':'user','attributes':['id',_0x7c34c2(0x139)],'include':[{'model':UserSocketSession_1[_0x7c34c2(0x15c)],'as':'socketSessions','where':{'active':!![]},'required':![]}]},{'model':Queue_1['default'],'as':_0x7c34c2(0x157),'attributes':['id','name',_0x7c34c2(0x144)]},{'model':Whatsapp_1[_0x7c34c2(0x15c)],'as':_0x7c34c2(0x14d),'attributes':[_0x7c34c2(0x139),_0x7c34c2(0x14a),'facebookUserId']},{'model':Tag_1[_0x7c34c2(0x15c)],'as':_0x7c34c2(0x159),'attributes':['id',_0x7c34c2(0x139),'color']},{'model':Company_1[_0x7c34c2(0x15c)],'as':_0x7c34c2(0x13d),'attributes':['id',_0x7c34c2(0x139)]}]});if(_0x14c1c8?.['companyId']!==_0x1c351f)throw new AppError_1[(_0x7c34c2(0x15c))](_0x7c34c2(0x15b));if(!_0x14c1c8)throw new AppError_1['default'](_0x7c34c2(0x138),0x194);return _0x14c1c8;};exports['default']=ShowTicketService;