const a558_0x15ad03=a558_0x472b;(function(_0x5b0428,_0x1a1e60){const _0x4384d4=a558_0x472b,_0x591942=_0x5b0428();while(!![]){try{const _0x187e23=-parseInt(_0x4384d4(0xa4))/0x1*(-parseInt(_0x4384d4(0x9d))/0x2)+-parseInt(_0x4384d4(0x80))/0x3*(-parseInt(_0x4384d4(0xa2))/0x4)+parseInt(_0x4384d4(0x8d))/0x5*(parseInt(_0x4384d4(0x93))/0x6)+-parseInt(_0x4384d4(0x8b))/0x7*(parseInt(_0x4384d4(0x9c))/0x8)+parseInt(_0x4384d4(0x8c))/0x9*(-parseInt(_0x4384d4(0x97))/0xa)+-parseInt(_0x4384d4(0x91))/0xb*(-parseInt(_0x4384d4(0x94))/0xc)+-parseInt(_0x4384d4(0xa5))/0xd;if(_0x187e23===_0x1a1e60)break;else _0x591942['push'](_0x591942['shift']());}catch(_0x33bc45){_0x591942['push'](_0x591942['shift']());}}}(a558_0x4b3f,0xe5416));const a558_0x56700c=(function(){let _0xfc4b59=!![];return function(_0x319952,_0x4318e4){const _0x3eba1c=_0xfc4b59?function(){const _0x1c09fa=a558_0x472b;if(_0x4318e4){const _0x433e8d=_0x4318e4[_0x1c09fa(0xa7)](_0x319952,arguments);return _0x4318e4=null,_0x433e8d;}}:function(){};return _0xfc4b59=![],_0x3eba1c;};}()),a558_0x21d27a=a558_0x56700c(this,function(){const _0x404950=a558_0x472b;return a558_0x21d27a[_0x404950(0x85)]()[_0x404950(0x8f)](_0x404950(0x9b))['toString']()[_0x404950(0x7e)](a558_0x21d27a)['search'](_0x404950(0x9b));});function a558_0x4b3f(){const _0x28231d=['socketSessions','apply','constructor','../../models/User','252mFVZiC','__importDefault','name','disableBot','extraInfo','toString','ERR_NO_TICKET_FOUND','color','../../models/Queue','user','profilePicUrl','259XTyMyp','4112946ZtiGVG','511755xjyLRb','whatsapp','search','../../models/Tag','11EKKaJy','../../models/Ticket','18NuyPXv','21304620lniMGh','number','facebookUserId','20PPhMHB','default','presence','queue','(((.+)+)+)+$','66032VmkSDM','689422LJiKnH','companyId','../../models/Contact','contact','__esModule','31092HQJjOk','facebookUserToken','2DQNWbq','16462888MnEIMC'];a558_0x4b3f=function(){return _0x28231d;};return a558_0x4b3f();}a558_0x21d27a();'use strict';var __importDefault=this&&this[a558_0x15ad03(0x81)]||function(_0x233338){const _0x378448=a558_0x15ad03;return _0x233338&&_0x233338[_0x378448(0xa1)]?_0x233338:{'default':_0x233338};};function a558_0x472b(_0x19789f,_0x555ec2){const _0x1c8380=a558_0x4b3f();return a558_0x472b=function(_0x21d27a,_0x56700c){_0x21d27a=_0x21d27a-0x7e;let _0x4b3f68=_0x1c8380[_0x21d27a];return _0x4b3f68;},a558_0x472b(_0x19789f,_0x555ec2);}Object['defineProperty'](exports,a558_0x15ad03(0xa1),{'value':!![]});const Ticket_1=__importDefault(require(a558_0x15ad03(0x92))),AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(a558_0x15ad03(0x9f))),User_1=__importDefault(require(a558_0x15ad03(0x7f))),Queue_1=__importDefault(require(a558_0x15ad03(0x88))),Tag_1=__importDefault(require(a558_0x15ad03(0x90))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),UserSocketSession_1=__importDefault(require('../../models/UserSocketSession')),Company_1=__importDefault(require('../../models/Company')),ShowTicketService=async(_0x16a38f,_0x21ad85)=>{const _0x14ff4c=a558_0x15ad03,_0x19fc21=await Ticket_1['default']['findOne']({'where':{'id':_0x16a38f},'include':[{'model':Contact_1[_0x14ff4c(0x98)],'as':_0x14ff4c(0xa0),'attributes':['id',_0x14ff4c(0x82),_0x14ff4c(0x95),'email',_0x14ff4c(0x8a),_0x14ff4c(0x99),_0x14ff4c(0x83)],'include':[_0x14ff4c(0x84)]},{'model':User_1[_0x14ff4c(0x98)],'as':_0x14ff4c(0x89),'attributes':['id',_0x14ff4c(0x82)],'include':[{'model':UserSocketSession_1[_0x14ff4c(0x98)],'as':_0x14ff4c(0xa6),'where':{'active':!![]},'required':![]}]},{'model':Queue_1[_0x14ff4c(0x98)],'as':_0x14ff4c(0x9a),'attributes':['id','name',_0x14ff4c(0x87)]},{'model':Whatsapp_1[_0x14ff4c(0x98)],'as':_0x14ff4c(0x8e),'attributes':[_0x14ff4c(0x82),_0x14ff4c(0xa3),_0x14ff4c(0x96)]},{'model':Tag_1[_0x14ff4c(0x98)],'as':'tags','attributes':['id',_0x14ff4c(0x82),_0x14ff4c(0x87)]},{'model':Company_1[_0x14ff4c(0x98)],'as':'company','attributes':['id',_0x14ff4c(0x82)]}]});if(_0x19fc21?.[_0x14ff4c(0x9e)]!==_0x21ad85)throw new AppError_1[(_0x14ff4c(0x98))]('Não\x20é\x20possível\x20consultar\x20registros\x20de\x20outra\x20empresa');if(!_0x19fc21)throw new AppError_1[(_0x14ff4c(0x98))](_0x14ff4c(0x86),0x194);return _0x19fc21;};exports[a558_0x15ad03(0x98)]=ShowTicketService;