const a551_0x41d372=a551_0x56bd;(function(_0x583baf,_0xf56222){const _0xb181a=a551_0x56bd,_0x226e71=_0x583baf();while(!![]){try{const _0x5b59a8=-parseInt(_0xb181a(0x158))/0x1+parseInt(_0xb181a(0x153))/0x2*(-parseInt(_0xb181a(0x145))/0x3)+-parseInt(_0xb181a(0x161))/0x4+-parseInt(_0xb181a(0x14e))/0x5+-parseInt(_0xb181a(0x15a))/0x6*(parseInt(_0xb181a(0x15f))/0x7)+-parseInt(_0xb181a(0x14f))/0x8+-parseInt(_0xb181a(0x14c))/0x9*(-parseInt(_0xb181a(0x162))/0xa);if(_0x5b59a8===_0xf56222)break;else _0x226e71['push'](_0x226e71['shift']());}catch(_0x4bf3c2){_0x226e71['push'](_0x226e71['shift']());}}}(a551_0x43fc,0x4956f));function a551_0x56bd(_0x4fc777,_0x4f10fa){const _0x45ef0d=a551_0x43fc();return a551_0x56bd=function(_0x287451,_0x41254a){_0x287451=_0x287451-0x143;let _0x43fc38=_0x45ef0d[_0x287451];return _0x43fc38;},a551_0x56bd(_0x4fc777,_0x4f10fa);}const a551_0x41254a=(function(){let _0x2bbe6f=!![];return function(_0x433bdb,_0x192685){const _0x5509eb=_0x2bbe6f?function(){const _0x15d9b2=a551_0x56bd;if(_0x192685){const _0x2b1fe1=_0x192685[_0x15d9b2(0x163)](_0x433bdb,arguments);return _0x192685=null,_0x2b1fe1;}}:function(){};return _0x2bbe6f=![],_0x5509eb;};}()),a551_0x287451=a551_0x41254a(this,function(){const _0x1ea6ed=a551_0x56bd;return a551_0x287451[_0x1ea6ed(0x155)]()[_0x1ea6ed(0x150)](_0x1ea6ed(0x15d))['toString']()[_0x1ea6ed(0x151)](a551_0x287451)[_0x1ea6ed(0x150)](_0x1ea6ed(0x15d));});a551_0x287451();function a551_0x43fc(){const _0x52bcc5=['987464IPGzvH','5988700DxIPtr','apply','companyId','findOne','media','join','getPublicPath','../../utils/logger','logger','destroy','1227585HLmwip','../../models/Ticket','rmSync','__importDefault','contactId','message','error','27HvwTnS','__esModule','851460ZwHkTq','2714496UcaORj','search','constructor','defineProperty','2dudbvH','finishedAt','toString','ERR_NO_TICKET_FOUND','default','198167sQpend','catch','1326oZXbbh','Error\x20on\x20save\x20tracking:\x20','../../models/TicketTraking','(((.+)+)+)+$','path','4193oLkZNT','save'];a551_0x43fc=function(){return _0x52bcc5;};return a551_0x43fc();}'use strict';var __importDefault=this&&this[a551_0x41d372(0x148)]||function(_0x23b3b3){const _0x555c13=a551_0x41d372;return _0x23b3b3&&_0x23b3b3[_0x555c13(0x14d)]?_0x23b3b3:{'default':_0x23b3b3};};Object[a551_0x41d372(0x152)](exports,a551_0x41d372(0x14d),{'value':!![]});const path_1=require(a551_0x41d372(0x15e)),fs_1=__importDefault(require('fs')),Ticket_1=__importDefault(require(a551_0x41d372(0x146))),AppError_1=__importDefault(require('../../errors/AppError')),TicketTraking_1=__importDefault(require(a551_0x41d372(0x15c))),logger_1=require(a551_0x41d372(0x169)),GetPublicPath_1=require('../../helpers/GetPublicPath'),DeleteTicketService=async _0xe1bfdf=>{const _0x5449cb=a551_0x41d372,_0xbad4ec=await Ticket_1['default'][_0x5449cb(0x165)]({'where':{'id':_0xe1bfdf}});if(!_0xbad4ec)throw new AppError_1['default'](_0x5449cb(0x156),0x194);const _0x14eb52=await TicketTraking_1['default'][_0x5449cb(0x165)]({'where':{'ticketId':_0xbad4ec['id']}});_0x14eb52&&(_0x14eb52[_0x5449cb(0x154)]=new Date(),_0x14eb52[_0x5449cb(0x160)]()[_0x5449cb(0x159)](_0x41abe9=>{const _0x32bd7d=_0x5449cb;logger_1[_0x32bd7d(0x143)][_0x32bd7d(0x14b)](_0x32bd7d(0x15b)+_0x41abe9[_0x32bd7d(0x14a)]);}));const _0x5eb702=(0x0,path_1[_0x5449cb(0x167)])((0x0,GetPublicPath_1[_0x5449cb(0x168)])(),_0x5449cb(0x166),_0xbad4ec[_0x5449cb(0x164)]+'/'+_0xbad4ec[_0x5449cb(0x149)]+'/'+_0xbad4ec['id']);return await _0xbad4ec[_0x5449cb(0x144)](),fs_1[_0x5449cb(0x157)][_0x5449cb(0x147)](_0x5eb702,{'recursive':!![],'force':!![]}),_0xbad4ec;};exports[a551_0x41d372(0x157)]=DeleteTicketService;