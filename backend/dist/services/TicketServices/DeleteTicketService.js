const a546_0x4a019b=a546_0x52d9;(function(_0x3f837c,_0x308424){const _0x3b10bc=a546_0x52d9,_0x290c37=_0x3f837c();while(!![]){try{const _0x547a1f=parseInt(_0x3b10bc(0xc4))/0x1+-parseInt(_0x3b10bc(0xbd))/0x2+-parseInt(_0x3b10bc(0xd5))/0x3+-parseInt(_0x3b10bc(0xc3))/0x4+-parseInt(_0x3b10bc(0xcc))/0x5+-parseInt(_0x3b10bc(0xd4))/0x6*(-parseInt(_0x3b10bc(0xcf))/0x7)+parseInt(_0x3b10bc(0xbc))/0x8*(parseInt(_0x3b10bc(0xc0))/0x9);if(_0x547a1f===_0x308424)break;else _0x290c37['push'](_0x290c37['shift']());}catch(_0x21324f){_0x290c37['push'](_0x290c37['shift']());}}}(a546_0x56b3,0x5c9f0));const a546_0x5962c8=(function(){let _0x2d3e1f=!![];return function(_0x2bff0e,_0x1af85c){const _0x5f1a11=_0x2d3e1f?function(){if(_0x1af85c){const _0x3257f1=_0x1af85c['apply'](_0x2bff0e,arguments);return _0x1af85c=null,_0x3257f1;}}:function(){};return _0x2d3e1f=![],_0x5f1a11;};}()),a546_0x37507d=a546_0x5962c8(this,function(){const _0x58b1a5=a546_0x52d9;return a546_0x37507d[_0x58b1a5(0xbf)]()['search']('(((.+)+)+)+$')['toString']()[_0x58b1a5(0xd2)](a546_0x37507d)['search'](_0x58b1a5(0xc8));});a546_0x37507d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x573e1d){const _0x3d0dab=a546_0x52d9;return _0x573e1d&&_0x573e1d[_0x3d0dab(0xc1)]?_0x573e1d:{'default':_0x573e1d};};function a546_0x52d9(_0x1e4ae9,_0x2c6930){const _0x5e54d5=a546_0x56b3();return a546_0x52d9=function(_0x37507d,_0x5962c8){_0x37507d=_0x37507d-0xba;let _0x56b3d8=_0x5e54d5[_0x37507d];return _0x56b3d8;},a546_0x52d9(_0x1e4ae9,_0x2c6930);}Object[a546_0x4a019b(0xbb)](exports,a546_0x4a019b(0xc1),{'value':!![]});const path_1=require(a546_0x4a019b(0xba)),fs_1=__importDefault(require('fs')),Ticket_1=__importDefault(require('../../models/Ticket')),AppError_1=__importDefault(require(a546_0x4a019b(0xd6))),TicketTraking_1=__importDefault(require(a546_0x4a019b(0xd3))),logger_1=require(a546_0x4a019b(0xd0)),GetPublicPath_1=require('../../helpers/GetPublicPath'),DeleteTicketService=async _0x2d3ec2=>{const _0x2398fd=a546_0x4a019b,_0x5b0441=await Ticket_1[_0x2398fd(0xd7)][_0x2398fd(0xc6)]({'where':{'id':_0x2d3ec2}});if(!_0x5b0441)throw new AppError_1[(_0x2398fd(0xd7))](_0x2398fd(0xbe),0x194);const _0x585d49=await TicketTraking_1[_0x2398fd(0xd7)][_0x2398fd(0xc6)]({'where':{'ticketId':_0x5b0441['id']}});_0x585d49&&(_0x585d49[_0x2398fd(0xca)]=new Date(),_0x585d49['save']()[_0x2398fd(0xc7)](_0x2ceaf9=>{const _0x117b3d=_0x2398fd;logger_1[_0x117b3d(0xcd)][_0x117b3d(0xc9)]('Error\x20on\x20save\x20tracking:\x20'+_0x2ceaf9[_0x117b3d(0xc2)]);}));const _0x45e627=(0x0,path_1['join'])((0x0,GetPublicPath_1[_0x2398fd(0xc5)])(),'media',_0x5b0441['companyId']+'/'+_0x5b0441[_0x2398fd(0xcb)]+'/'+_0x5b0441['id']);return await _0x5b0441[_0x2398fd(0xce)](),fs_1[_0x2398fd(0xd7)][_0x2398fd(0xd1)](_0x45e627,{'recursive':!![],'force':!![]}),_0x5b0441;};exports[a546_0x4a019b(0xd7)]=DeleteTicketService;function a546_0x56b3(){const _0x4c4ff9=['296926bbszOZ','getPublicPath','findOne','catch','(((.+)+)+)+$','error','finishedAt','contactId','2135885fTgZjk','logger','destroy','7378eXTmJw','../../utils/logger','rmSync','constructor','../../models/TicketTraking','3882HoJeug','1708434GCGPdq','../../errors/AppError','default','path','defineProperty','576176fbyKbc','1038742paWTnT','ERR_NO_TICKET_FOUND','toString','162sGpsZI','__esModule','message','1519432OPbBQu'];a546_0x56b3=function(){return _0x4c4ff9;};return a546_0x56b3();}