const a552_0x2addc6=a552_0x4822;(function(_0x15a2f6,_0x867079){const _0x1e82c6=a552_0x4822,_0x4e5fac=_0x15a2f6();while(!![]){try{const _0x2dd071=parseInt(_0x1e82c6(0x19b))/0x1+-parseInt(_0x1e82c6(0x19a))/0x2+-parseInt(_0x1e82c6(0x1af))/0x3+-parseInt(_0x1e82c6(0x19d))/0x4*(-parseInt(_0x1e82c6(0x19e))/0x5)+parseInt(_0x1e82c6(0x1a9))/0x6+-parseInt(_0x1e82c6(0x1b5))/0x7*(-parseInt(_0x1e82c6(0x1b4))/0x8)+-parseInt(_0x1e82c6(0x19c))/0x9*(parseInt(_0x1e82c6(0x1b6))/0xa);if(_0x2dd071===_0x867079)break;else _0x4e5fac['push'](_0x4e5fac['shift']());}catch(_0x3f4027){_0x4e5fac['push'](_0x4e5fac['shift']());}}}(a552_0x28c9,0xa2d0c));function a552_0x4822(_0x398e49,_0x59580a){const _0x36e6c0=a552_0x28c9();return a552_0x4822=function(_0x4d0072,_0x44ec5d){_0x4d0072=_0x4d0072-0x199;let _0x28c9c5=_0x36e6c0[_0x4d0072];return _0x28c9c5;},a552_0x4822(_0x398e49,_0x59580a);}const a552_0x44ec5d=(function(){let _0x2a65b2=!![];return function(_0x221532,_0x3bb5b0){const _0x5bc1f6=_0x2a65b2?function(){const _0x4f00ad=a552_0x4822;if(_0x3bb5b0){const _0x4fc059=_0x3bb5b0[_0x4f00ad(0x1b7)](_0x221532,arguments);return _0x3bb5b0=null,_0x4fc059;}}:function(){};return _0x2a65b2=![],_0x5bc1f6;};}()),a552_0x4d0072=a552_0x44ec5d(this,function(){const _0x26aa13=a552_0x4822;return a552_0x4d0072[_0x26aa13(0x1a6)]()[_0x26aa13(0x1aa)](_0x26aa13(0x1ae))['toString']()['constructor'](a552_0x4d0072)[_0x26aa13(0x1aa)](_0x26aa13(0x1ae));});a552_0x4d0072();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1c81bf){const _0x31fcbe=a552_0x4822;return _0x1c81bf&&_0x1c81bf[_0x31fcbe(0x1ac)]?_0x1c81bf:{'default':_0x1c81bf};};Object[a552_0x2addc6(0x1a2)](exports,'__esModule',{'value':!![]});const path_1=require(a552_0x2addc6(0x1a8)),fs_1=__importDefault(require('fs')),Ticket_1=__importDefault(require(a552_0x2addc6(0x1b0))),AppError_1=__importDefault(require(a552_0x2addc6(0x1b9))),TicketTraking_1=__importDefault(require('../../models/TicketTraking')),logger_1=require(a552_0x2addc6(0x1ba)),GetPublicPath_1=require(a552_0x2addc6(0x199)),DeleteTicketService=async _0x523134=>{const _0x4bdaf2=a552_0x2addc6,_0x4c7919=await Ticket_1['default'][_0x4bdaf2(0x1b3)]({'where':{'id':_0x523134}});if(!_0x4c7919)throw new AppError_1[(_0x4bdaf2(0x1bb))](_0x4bdaf2(0x1a7),0x194);const _0x773571=await TicketTraking_1[_0x4bdaf2(0x1bb)]['findOne']({'where':{'ticketId':_0x4c7919['id']}});_0x773571&&(_0x773571['finishedAt']=new Date(),_0x773571[_0x4bdaf2(0x19f)]()[_0x4bdaf2(0x1b1)](_0x47d769=>{const _0xeeac84=_0x4bdaf2;logger_1[_0xeeac84(0x1b2)][_0xeeac84(0x1a0)](_0xeeac84(0x1ab)+_0x47d769[_0xeeac84(0x1a3)]);}));const _0x5a330a=(0x0,path_1[_0x4bdaf2(0x1a5)])((0x0,GetPublicPath_1[_0x4bdaf2(0x1ad)])(),'media',_0x4c7919[_0x4bdaf2(0x1a1)]+'/'+_0x4c7919[_0x4bdaf2(0x1a4)]+'/'+_0x4c7919['id']);return await _0x4c7919[_0x4bdaf2(0x1b8)](),fs_1[_0x4bdaf2(0x1bb)]['rmSync'](_0x5a330a,{'recursive':!![],'force':!![]}),_0x4c7919;};exports['default']=DeleteTicketService;function a552_0x28c9(){const _0x2f0d17=['../../utils/logger','default','../../helpers/GetPublicPath','2126900fPBkcq','871117UyFdVM','18bNEJIe','143464ZrBBgh','95fxAydW','save','error','companyId','defineProperty','message','contactId','join','toString','ERR_NO_TICKET_FOUND','path','2479896nBPrjp','search','Error\x20on\x20save\x20tracking:\x20','__esModule','getPublicPath','(((.+)+)+)+$','1454049AGSwBn','../../models/Ticket','catch','logger','findOne','2768BHEyqc','11830mfVDtL','1678010OhqoyM','apply','destroy','../../errors/AppError'];a552_0x28c9=function(){return _0x2f0d17;};return a552_0x28c9();}