const a556_0x10b524=a556_0x35d4;(function(_0x447a31,_0x25d69e){const _0x1c3a5e=a556_0x35d4,_0x7fda2b=_0x447a31();while(!![]){try{const _0xf3f01b=parseInt(_0x1c3a5e(0x121))/0x1*(parseInt(_0x1c3a5e(0x10b))/0x2)+-parseInt(_0x1c3a5e(0x111))/0x3*(-parseInt(_0x1c3a5e(0x113))/0x4)+parseInt(_0x1c3a5e(0x118))/0x5+parseInt(_0x1c3a5e(0x12b))/0x6+-parseInt(_0x1c3a5e(0x125))/0x7*(parseInt(_0x1c3a5e(0x123))/0x8)+-parseInt(_0x1c3a5e(0x11a))/0x9*(parseInt(_0x1c3a5e(0x119))/0xa)+-parseInt(_0x1c3a5e(0x124))/0xb;if(_0xf3f01b===_0x25d69e)break;else _0x7fda2b['push'](_0x7fda2b['shift']());}catch(_0xdf0056){_0x7fda2b['push'](_0x7fda2b['shift']());}}}(a556_0x3a03,0xf3b8e));const a556_0x1bfa95=(function(){let _0x140dc9=!![];return function(_0x1bc20a,_0x59e62d){const _0x259c33=_0x140dc9?function(){const _0xcc7f60=a556_0x35d4;if(_0x59e62d){const _0x2f34b2=_0x59e62d[_0xcc7f60(0x12c)](_0x1bc20a,arguments);return _0x59e62d=null,_0x2f34b2;}}:function(){};return _0x140dc9=![],_0x259c33;};}()),a556_0x5edea5=a556_0x1bfa95(this,function(){const _0x1585c=a556_0x35d4;return a556_0x5edea5[_0x1585c(0x11e)]()[_0x1585c(0x10a)](_0x1585c(0x129))[_0x1585c(0x11e)]()[_0x1585c(0x10c)](a556_0x5edea5)[_0x1585c(0x10a)](_0x1585c(0x129));});a556_0x5edea5();function a556_0x35d4(_0x553a2b,_0x41374c){const _0x20706a=a556_0x3a03();return a556_0x35d4=function(_0x5edea5,_0x1bfa95){_0x5edea5=_0x5edea5-0x10a;let _0x3a03f1=_0x20706a[_0x5edea5];return _0x3a03f1;},a556_0x35d4(_0x553a2b,_0x41374c);}'use strict';var __importDefault=this&&this[a556_0x10b524(0x110)]||function(_0xba014b){const _0x562b4f=a556_0x10b524;return _0xba014b&&_0xba014b[_0x562b4f(0x11d)]?_0xba014b:{'default':_0xba014b};};function a556_0x3a03(){const _0x357b4a=['media','path','findOne','Error\x20on\x20save\x20tracking:\x20','5773720BekBFy','9010OknYeF','12303Gzvytz','catch','default','__esModule','toString','logger','join','114Jufwnv','message','6590376cAZypV','12445730eAvqOa','7DbYBZz','../../models/Ticket','../../errors/AppError','getPublicPath','(((.+)+)+)+$','defineProperty','545730GZZGqO','apply','destroy','ERR_NO_TICKET_FOUND','search','29642ejvhSX','constructor','contactId','companyId','../../utils/logger','__importDefault','9zLplvz','finishedAt','1666516kJIyDC'];a556_0x3a03=function(){return _0x357b4a;};return a556_0x3a03();}Object[a556_0x10b524(0x12a)](exports,'__esModule',{'value':!![]});const path_1=require(a556_0x10b524(0x115)),fs_1=__importDefault(require('fs')),Ticket_1=__importDefault(require(a556_0x10b524(0x126))),AppError_1=__importDefault(require(a556_0x10b524(0x127))),TicketTraking_1=__importDefault(require('../../models/TicketTraking')),logger_1=require(a556_0x10b524(0x10f)),GetPublicPath_1=require('../../helpers/GetPublicPath'),DeleteTicketService=async _0x4238e9=>{const _0x5ecf00=a556_0x10b524,_0x471bef=await Ticket_1['default'][_0x5ecf00(0x116)]({'where':{'id':_0x4238e9}});if(!_0x471bef)throw new AppError_1[(_0x5ecf00(0x11c))](_0x5ecf00(0x12e),0x194);const _0x520526=await TicketTraking_1[_0x5ecf00(0x11c)][_0x5ecf00(0x116)]({'where':{'ticketId':_0x471bef['id']}});_0x520526&&(_0x520526[_0x5ecf00(0x112)]=new Date(),_0x520526['save']()[_0x5ecf00(0x11b)](_0x5efd42=>{const _0x6a4f47=_0x5ecf00;logger_1[_0x6a4f47(0x11f)]['error'](_0x6a4f47(0x117)+_0x5efd42[_0x6a4f47(0x122)]);}));const _0x2f2898=(0x0,path_1[_0x5ecf00(0x120)])((0x0,GetPublicPath_1[_0x5ecf00(0x128)])(),_0x5ecf00(0x114),_0x471bef[_0x5ecf00(0x10e)]+'/'+_0x471bef[_0x5ecf00(0x10d)]+'/'+_0x471bef['id']);return await _0x471bef[_0x5ecf00(0x12d)](),fs_1['default']['rmSync'](_0x2f2898,{'recursive':!![],'force':!![]}),_0x471bef;};exports['default']=DeleteTicketService;