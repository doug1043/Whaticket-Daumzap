const a550_0x1cb159=a550_0x248d;(function(_0x1edd59,_0x5c768b){const _0x4aa25f=a550_0x248d,_0x5a5746=_0x1edd59();while(!![]){try{const _0x22a97f=-parseInt(_0x4aa25f(0x214))/0x1+parseInt(_0x4aa25f(0x1fd))/0x2*(parseInt(_0x4aa25f(0x209))/0x3)+parseInt(_0x4aa25f(0x200))/0x4*(-parseInt(_0x4aa25f(0x217))/0x5)+parseInt(_0x4aa25f(0x201))/0x6*(-parseInt(_0x4aa25f(0x205))/0x7)+-parseInt(_0x4aa25f(0x203))/0x8*(parseInt(_0x4aa25f(0x1f9))/0x9)+parseInt(_0x4aa25f(0x1f4))/0xa+parseInt(_0x4aa25f(0x213))/0xb;if(_0x22a97f===_0x5c768b)break;else _0x5a5746['push'](_0x5a5746['shift']());}catch(_0x701a8){_0x5a5746['push'](_0x5a5746['shift']());}}}(a550_0x84ce,0x43c5c));function a550_0x248d(_0x52b7df,_0x94cbb5){const _0x15ead2=a550_0x84ce();return a550_0x248d=function(_0x20468a,_0x220a04){_0x20468a=_0x20468a-0x1f3;let _0x84cefa=_0x15ead2[_0x20468a];return _0x84cefa;},a550_0x248d(_0x52b7df,_0x94cbb5);}const a550_0x220a04=(function(){let _0x4c35b5=!![];return function(_0x45d2a1,_0x219f85){const _0x2d3b0c=_0x4c35b5?function(){const _0x5a37a7=a550_0x248d;if(_0x219f85){const _0x2b62f2=_0x219f85[_0x5a37a7(0x20d)](_0x45d2a1,arguments);return _0x219f85=null,_0x2b62f2;}}:function(){};return _0x4c35b5=![],_0x2d3b0c;};}()),a550_0x20468a=a550_0x220a04(this,function(){const _0x290f3f=a550_0x248d;return a550_0x20468a[_0x290f3f(0x1f7)]()[_0x290f3f(0x1f8)](_0x290f3f(0x1fa))[_0x290f3f(0x1f7)]()[_0x290f3f(0x202)](a550_0x20468a)[_0x290f3f(0x1f8)](_0x290f3f(0x1fa));});a550_0x20468a();function a550_0x84ce(){const _0x105eb9=['rmSync','../../errors/AppError','10164264CEhnNR','482298TIZYOg','finishedAt','__esModule','5xlZQrK','companyId','catch','4073930uDMdjA','save','defineProperty','toString','search','9bbLYVM','(((.+)+)+)+$','ERR_NO_TICKET_FOUND','findOne','4TQHmaN','contactId','getPublicPath','343644YlNJxR','273648UdNlTF','constructor','3081904EZzHCl','../../utils/logger','42IGTHSh','error','__importDefault','../../models/Ticket','259911hWlSks','join','media','logger','apply','default','message','destroy'];a550_0x84ce=function(){return _0x105eb9;};return a550_0x84ce();}'use strict';var __importDefault=this&&this[a550_0x1cb159(0x207)]||function(_0x5bd6c2){const _0x4a97ae=a550_0x1cb159;return _0x5bd6c2&&_0x5bd6c2[_0x4a97ae(0x216)]?_0x5bd6c2:{'default':_0x5bd6c2};};Object[a550_0x1cb159(0x1f6)](exports,a550_0x1cb159(0x216),{'value':!![]});const path_1=require('path'),fs_1=__importDefault(require('fs')),Ticket_1=__importDefault(require(a550_0x1cb159(0x208))),AppError_1=__importDefault(require(a550_0x1cb159(0x212))),TicketTraking_1=__importDefault(require('../../models/TicketTraking')),logger_1=require(a550_0x1cb159(0x204)),GetPublicPath_1=require('../../helpers/GetPublicPath'),DeleteTicketService=async _0x32badc=>{const _0x1308c6=a550_0x1cb159,_0x1855f3=await Ticket_1[_0x1308c6(0x20e)][_0x1308c6(0x1fc)]({'where':{'id':_0x32badc}});if(!_0x1855f3)throw new AppError_1[(_0x1308c6(0x20e))](_0x1308c6(0x1fb),0x194);const _0x3fa50e=await TicketTraking_1[_0x1308c6(0x20e)][_0x1308c6(0x1fc)]({'where':{'ticketId':_0x1855f3['id']}});_0x3fa50e&&(_0x3fa50e[_0x1308c6(0x215)]=new Date(),_0x3fa50e[_0x1308c6(0x1f5)]()[_0x1308c6(0x1f3)](_0x9ea5ae=>{const _0x37dc77=_0x1308c6;logger_1[_0x37dc77(0x20c)][_0x37dc77(0x206)]('Error\x20on\x20save\x20tracking:\x20'+_0x9ea5ae[_0x37dc77(0x20f)]);}));const _0x46e121=(0x0,path_1[_0x1308c6(0x20a)])((0x0,GetPublicPath_1[_0x1308c6(0x1ff)])(),_0x1308c6(0x20b),_0x1855f3[_0x1308c6(0x218)]+'/'+_0x1855f3[_0x1308c6(0x1fe)]+'/'+_0x1855f3['id']);return await _0x1855f3[_0x1308c6(0x210)](),fs_1[_0x1308c6(0x20e)][_0x1308c6(0x211)](_0x46e121,{'recursive':!![],'force':!![]}),_0x1855f3;};exports[a550_0x1cb159(0x20e)]=DeleteTicketService;