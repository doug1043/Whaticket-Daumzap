const a701_0x5c4530=a701_0x3c64;function a701_0x521f(){const _0x5bf286=['connections','4927158FGxmvc','idFlow','1130496hUXSZG','toJSON','requestAll','push','error','5orSsIn','6240940hHMLjM','5444336feoGZt','../../models/Whatsapp','__esModule','9HCvPTf','./ActionsWebhookService','toString','source','default','ActionsWebhookService','(((.+)+)+)+$','update','apply','search','flow','config','271733Fqypxw','details','findAndCountAll','688642hkVYWo','FlowBuilderModel','948924gALoQw','findOne','__importDefault','../../models/FlowBuilder','nodes','WebhookModel','2gQqYwk','../../models/Webhook'];a701_0x521f=function(){return _0x5bf286;};return a701_0x521f();}(function(_0x4be012,_0x1c8cb9){const _0x586c97=a701_0x3c64,_0x564de6=_0x4be012();while(!![]){try{const _0x534778=-parseInt(_0x586c97(0x18d))/0x1*(parseInt(_0x586c97(0x195))/0x2)+parseInt(_0x586c97(0x19a))/0x3+parseInt(_0x586c97(0x18f))/0x4+-parseInt(_0x586c97(0x179))/0x5*(parseInt(_0x586c97(0x198))/0x6)+parseInt(_0x586c97(0x18a))/0x7+parseInt(_0x586c97(0x17b))/0x8*(parseInt(_0x586c97(0x17e))/0x9)+parseInt(_0x586c97(0x17a))/0xa;if(_0x534778===_0x1c8cb9)break;else _0x564de6['push'](_0x564de6['shift']());}catch(_0xfb2f25){_0x564de6['push'](_0x564de6['shift']());}}}(a701_0x521f,0x6d4c3));const a701_0x2078c2=(function(){let _0x23eeb6=!![];return function(_0x2acecb,_0x50f696){const _0x37f092=_0x23eeb6?function(){const _0x461ffd=a701_0x3c64;if(_0x50f696){const _0x10ef6a=_0x50f696[_0x461ffd(0x186)](_0x2acecb,arguments);return _0x50f696=null,_0x10ef6a;}}:function(){};return _0x23eeb6=![],_0x37f092;};}()),a701_0x393f06=a701_0x2078c2(this,function(){const _0x323f7a=a701_0x3c64;return a701_0x393f06[_0x323f7a(0x180)]()[_0x323f7a(0x187)](_0x323f7a(0x184))[_0x323f7a(0x180)]()['constructor'](a701_0x393f06)[_0x323f7a(0x187)](_0x323f7a(0x184));});a701_0x393f06();'use strict';function a701_0x3c64(_0x5ae3b0,_0x4d8839){const _0x122495=a701_0x521f();return a701_0x3c64=function(_0x393f06,_0x2078c2){_0x393f06=_0x393f06-0x176;let _0x521f0f=_0x122495[_0x393f06];return _0x521f0f;},a701_0x3c64(_0x5ae3b0,_0x4d8839);}var __importDefault=this&&this[a701_0x5c4530(0x191)]||function(_0x6f6d9d){const _0x4b29e8=a701_0x5c4530;return _0x6f6d9d&&_0x6f6d9d[_0x4b29e8(0x17d)]?_0x6f6d9d:{'default':_0x6f6d9d};};Object['defineProperty'](exports,a701_0x5c4530(0x17d),{'value':!![]});const Webhook_1=require(a701_0x5c4530(0x196)),FlowBuilder_1=require(a701_0x5c4530(0x192)),ActionsWebhookService_1=require(a701_0x5c4530(0x17f)),Whatsapp_1=__importDefault(require(a701_0x5c4530(0x17c))),DispatchWebHookService=async({companyId:_0x11b373,hashId:_0x57f482,data:_0x2437ee,req:_0x2aa14f})=>{const _0x13c474=a701_0x5c4530;try{const _0x29ee64=await Webhook_1[_0x13c474(0x194)][_0x13c474(0x190)]({'where':{'company_id':_0x11b373,'hash_id':_0x57f482}}),_0x253f18={..._0x29ee64[_0x13c474(0x189)],'lastRequest':{..._0x2437ee}},_0x496e20=_0x29ee64[_0x13c474(0x176)]+0x1,_0x1fb266=await Webhook_1[_0x13c474(0x194)][_0x13c474(0x185)]({'config':_0x253f18,'requestAll':_0x496e20},{'where':{'hash_id':_0x57f482,'company_id':_0x11b373}});if(_0x29ee64['config'][_0x13c474(0x18b)]){const _0x3a2dae=await FlowBuilder_1[_0x13c474(0x18e)]['findOne']({'where':{'id':_0x29ee64[_0x13c474(0x189)][_0x13c474(0x18b)][_0x13c474(0x199)]}}),_0x2e1709=_0x3a2dae['flow'][_0x13c474(0x193)],_0x51f9fa=_0x3a2dae[_0x13c474(0x188)][_0x13c474(0x197)],_0x54c82a=_0x51f9fa[0x0][_0x13c474(0x181)],{count:_0x24e96a,rows:_0x2418c9}=await Whatsapp_1[_0x13c474(0x182)][_0x13c474(0x18c)]({'where':{'companyId':_0x11b373}}),_0x378347=[];_0x2418c9['forEach'](_0x333b1d=>{const _0x14f23b=_0x13c474;_0x378347[_0x14f23b(0x177)](_0x333b1d[_0x14f23b(0x19b)]());}),(0x0,ActionsWebhookService_1[_0x13c474(0x183)])(0x0,_0x29ee64['config'][_0x13c474(0x18b)][_0x13c474(0x199)],_0x11b373,_0x2e1709,_0x51f9fa,_0x54c82a,_0x2437ee,_0x29ee64[_0x13c474(0x189)][_0x13c474(0x18b)],_0x57f482);}return _0x29ee64;}catch(_0x220b80){return console[_0x13c474(0x178)]('Erro\x20ao\x20inserir\x20o\x20usu√°rio:',_0x220b80),_0x220b80;}};exports[a701_0x5c4530(0x182)]=DispatchWebHookService;