function a512_0x3b72(){const _0x5c14b3=['createCompanyStorage','../../models/Company','Erro\x20ao\x20criar\x20bucket\x20para\x20empresa\x20','replace','__importDefault','3wJIuMG','__esModule','9HsKIzD','bucketName','apply','findByPk','20YQCPzt','791722nizPxt','default','../../errors/AppError','defineProperty','findOrCreate','299430BmoTAr','toLowerCase','log','Bucket\x20criado\x20para\x20empresa\x20','2195564OioNjd','1230090FUUEgu','20hRvvVU','ERR_NO_COMPANY_FOUND','(((.+)+)+)+$','toString','update','398978JTkZLJ','constructor','error','campaignsEnabled','search','3222776gTUBIk','../StorageService/StorageService','3569203uhlfiC'];a512_0x3b72=function(){return _0x5c14b3;};return a512_0x3b72();}const a512_0x302ca1=a512_0x18d2;(function(_0x2c0fdc,_0x37f0a8){const _0x32a62e=a512_0x18d2,_0x3fe269=_0x2c0fdc();while(!![]){try{const _0x3a7b43=parseInt(_0x32a62e(0x1ce))/0x1+parseInt(_0x32a62e(0x1be))/0x2*(-parseInt(_0x32a62e(0x1b7))/0x3)+parseInt(_0x32a62e(0x1c9))/0x4*(-parseInt(_0x32a62e(0x1c3))/0x5)+-parseInt(_0x32a62e(0x1c8))/0x6+-parseInt(_0x32a62e(0x1c7))/0x7+-parseInt(_0x32a62e(0x1d3))/0x8*(-parseInt(_0x32a62e(0x1b9))/0x9)+-parseInt(_0x32a62e(0x1bd))/0xa*(-parseInt(_0x32a62e(0x1d5))/0xb);if(_0x3a7b43===_0x37f0a8)break;else _0x3fe269['push'](_0x3fe269['shift']());}catch(_0xe8206d){_0x3fe269['push'](_0x3fe269['shift']());}}}(a512_0x3b72,0x39d0d));const a512_0x308a9e=(function(){let _0x5025f3=!![];return function(_0x1f6fe1,_0x23ddb3){const _0x181a39=_0x5025f3?function(){const _0x4e6df=a512_0x18d2;if(_0x23ddb3){const _0x36d11c=_0x23ddb3[_0x4e6df(0x1bb)](_0x1f6fe1,arguments);return _0x23ddb3=null,_0x36d11c;}}:function(){};return _0x5025f3=![],_0x181a39;};}()),a512_0x42c148=a512_0x308a9e(this,function(){const _0x1ab15e=a512_0x18d2;return a512_0x42c148[_0x1ab15e(0x1cc)]()['search'](_0x1ab15e(0x1cb))[_0x1ab15e(0x1cc)]()[_0x1ab15e(0x1cf)](a512_0x42c148)[_0x1ab15e(0x1d2)](_0x1ab15e(0x1cb));});a512_0x42c148();'use strict';var __importDefault=this&&this[a512_0x302ca1(0x1b6)]||function(_0x2701ab){const _0x343203=a512_0x302ca1;return _0x2701ab&&_0x2701ab[_0x343203(0x1b8)]?_0x2701ab:{'default':_0x2701ab};};Object[a512_0x302ca1(0x1c1)](exports,a512_0x302ca1(0x1b8),{'value':!![]});const AppError_1=__importDefault(require(a512_0x302ca1(0x1c0))),Company_1=__importDefault(require(a512_0x302ca1(0x1b3))),Setting_1=__importDefault(require('../../models/Setting')),StorageService_1=__importDefault(require(a512_0x302ca1(0x1d4))),UpdateCompanyService=async _0x2c61ae=>{const _0x552818=a512_0x302ca1,_0x1c37eb=await Company_1[_0x552818(0x1bf)][_0x552818(0x1bc)](_0x2c61ae['id']),{name:_0x49c480,phone:_0x4bf0e2,email:_0xebec75,status:_0x351a4f,planId:_0xc99c25,campaignsEnabled:_0xfca846,dueDate:_0x534531,recurrence:_0x1471bd,bucketName:_0x27483a}=_0x2c61ae;if(!_0x1c37eb)throw new AppError_1[(_0x552818(0x1bf))](_0x552818(0x1ca),0x194);const _0x325e15=_0x27483a?_0x27483a[_0x552818(0x1c4)]()[_0x552818(0x1b5)](/[^a-z0-9-]/g,'-'):null,_0x44fa54=_0x325e15&&_0x325e15!==_0x1c37eb[_0x552818(0x1ba)];await _0x1c37eb[_0x552818(0x1cd)]({'name':_0x49c480,'phone':_0x4bf0e2,'email':_0xebec75,'status':_0x351a4f,'planId':_0xc99c25,'dueDate':_0x534531,'recurrence':_0x1471bd,'bucketName':_0x325e15||_0x1c37eb[_0x552818(0x1ba)]});if(_0x44fa54)try{await StorageService_1['default'][_0x552818(0x1d6)](_0x1c37eb['id']),console[_0x552818(0x1c5)](_0x552818(0x1c6)+_0x1c37eb['id']+'\x20com\x20nome:\x20'+_0x325e15);}catch(_0x2be141){console[_0x552818(0x1d0)](_0x552818(0x1b4)+_0x1c37eb['id']+':',_0x2be141);}if(_0x2c61ae[_0x552818(0x1d1)]!==undefined){const [_0x32b9eb,_0x172afb]=await Setting_1['default'][_0x552818(0x1c2)]({'where':{'companyId':_0x1c37eb['id'],'key':_0x552818(0x1d1)},'defaults':{'companyId':_0x1c37eb['id'],'key':_0x552818(0x1d1),'value':''+_0xfca846}});!_0x172afb&&await _0x32b9eb[_0x552818(0x1cd)]({'value':''+_0xfca846});}return _0x1c37eb;};function a512_0x18d2(_0x24b8e8,_0x18741f){const _0x3befc7=a512_0x3b72();return a512_0x18d2=function(_0x42c148,_0x308a9e){_0x42c148=_0x42c148-0x1b3;let _0x3b72a0=_0x3befc7[_0x42c148];return _0x3b72a0;},a512_0x18d2(_0x24b8e8,_0x18741f);}exports[a512_0x302ca1(0x1bf)]=UpdateCompanyService;