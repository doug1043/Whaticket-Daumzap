const a399_0x1dd3b8=a399_0x4e74;function a399_0x9ba7(){const _0x5928e8=['weekdayEn','3073mawJAi','schedules','16332NfPMIR','1016BvKzKO','find','2516400tZkvJJ','startTime','trim','en-US','isBefore','default','(((.+)+)+)+$','toLowerCase','Company\x20not\x20found','toLocaleDateString','toString','endLunchTime','1195Mqbokb','search','471970nHDJrW','moment','__importDefault','126IodbfU','__esModule','1466919nErGcL','624522lVDpwJ','2835520usqanr','hh:mm','endTime','findOne','defineProperty'];a399_0x9ba7=function(){return _0x5928e8;};return a399_0x9ba7();}(function(_0x1abe82,_0x5ea706){const _0x3399e0=a399_0x4e74,_0x19e885=_0x1abe82();while(!![]){try{const _0x5b2b56=-parseInt(_0x3399e0(0x1f1))/0x1+-parseInt(_0x3399e0(0x1fd))/0x2+parseInt(_0x3399e0(0x1f0))/0x3+parseInt(_0x3399e0(0x1f2))/0x4+-parseInt(_0x3399e0(0x1e9))/0x5*(-parseInt(_0x3399e0(0x1fa))/0x6)+parseInt(_0x3399e0(0x1f8))/0x7*(parseInt(_0x3399e0(0x1fb))/0x8)+parseInt(_0x3399e0(0x1ee))/0x9*(parseInt(_0x3399e0(0x1eb))/0xa);if(_0x5b2b56===_0x5ea706)break;else _0x19e885['push'](_0x19e885['shift']());}catch(_0x30de22){_0x19e885['push'](_0x19e885['shift']());}}}(a399_0x9ba7,0xa68d8));const a399_0x5c1485=(function(){let _0xfb2314=!![];return function(_0x12a878,_0x1d1d17){const _0x1f1888=_0xfb2314?function(){if(_0x1d1d17){const _0xe36da1=_0x1d1d17['apply'](_0x12a878,arguments);return _0x1d1d17=null,_0xe36da1;}}:function(){};return _0xfb2314=![],_0x1f1888;};}()),a399_0x10a3e4=a399_0x5c1485(this,function(){const _0x3c9b2c=a399_0x4e74;return a399_0x10a3e4[_0x3c9b2c(0x1e7)]()[_0x3c9b2c(0x1ea)](_0x3c9b2c(0x1e3))[_0x3c9b2c(0x1e7)]()['constructor'](a399_0x10a3e4)[_0x3c9b2c(0x1ea)]('(((.+)+)+)+$');});function a399_0x4e74(_0x2b9714,_0x1591fe){const _0x1f4b5=a399_0x9ba7();return a399_0x4e74=function(_0x10a3e4,_0x5c1485){_0x10a3e4=_0x10a3e4-0x1e3;let _0x9ba769=_0x1f4b5[_0x10a3e4];return _0x9ba769;},a399_0x4e74(_0x2b9714,_0x1591fe);}a399_0x10a3e4();'use strict';var __importDefault=this&&this[a399_0x1dd3b8(0x1ed)]||function(_0x232532){const _0x25212d=a399_0x1dd3b8;return _0x232532&&_0x232532[_0x25212d(0x1ef)]?_0x232532:{'default':_0x232532};};Object[a399_0x1dd3b8(0x1f6)](exports,a399_0x1dd3b8(0x1ef),{'value':!![]});const Company_1=__importDefault(require('../../models/Company')),moment_1=__importDefault(require(a399_0x1dd3b8(0x1ec))),VerifyCurrentSchedule=async _0x267a4b=>{const _0x1ad694=a399_0x1dd3b8,_0x2a5bc2=new Date()[_0x1ad694(0x1e6)](_0x1ad694(0x200),{'weekday':'long'})['trim']()[_0x1ad694(0x1e4)](),_0x3ddd0f=await Company_1['default'][_0x1ad694(0x1f5)]({'where':{'id':_0x267a4b},'attributes':['id',_0x1ad694(0x1f9)],'raw':!![]});if(!_0x3ddd0f)throw new Error(_0x1ad694(0x1e5));const _0x191bc0=_0x3ddd0f[_0x1ad694(0x1f9)][_0x1ad694(0x1fc)](_0x47a5d2=>_0x47a5d2[_0x1ad694(0x1f7)][_0x1ad694(0x1ff)]()['toLowerCase']()===_0x2a5bc2);if(!_0x191bc0||!_0x191bc0[_0x1ad694(0x1fe)]||!_0x191bc0[_0x1ad694(0x1f4)])return;const _0x59397d=(0x0,moment_1[_0x1ad694(0x202)])(),_0x3e8cc5=(0x0,moment_1['default'])(_0x191bc0['startTime'],_0x1ad694(0x1f3)),_0xf52455=(0x0,moment_1[_0x1ad694(0x202)])(_0x191bc0[_0x1ad694(0x1f4)],_0x1ad694(0x1f3));let _0x5d25c5=_0x3e8cc5['isBefore'](_0x59397d)&&_0x59397d[_0x1ad694(0x201)](_0xf52455);if(_0x5d25c5&&_0x191bc0['startLunchTime']&&_0x191bc0[_0x1ad694(0x1e8)]){const _0x57ffe2=(0x0,moment_1[_0x1ad694(0x202)])(_0x191bc0['startLunchTime'],_0x1ad694(0x1f3)),_0x43da61=(0x0,moment_1['default'])(_0x191bc0[_0x1ad694(0x1e8)],_0x1ad694(0x1f3));_0x5d25c5=!(_0x57ffe2[_0x1ad694(0x201)](_0x59397d)&&_0x59397d[_0x1ad694(0x201)](_0x43da61));}const _0x422298={'id':_0x3ddd0f['id'],'currentWeekday':_0x2a5bc2,'currentSchedule':_0x191bc0,'startTime':_0x191bc0[_0x1ad694(0x1fe)],'endTime':_0x191bc0[_0x1ad694(0x1f4)],'inActivity':_0x5d25c5};return _0x422298;};exports[a399_0x1dd3b8(0x202)]=VerifyCurrentSchedule;