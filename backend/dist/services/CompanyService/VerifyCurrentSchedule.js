const a514_0x2c0a4e=a514_0x48ec;(function(_0x4aec3c,_0x2f79dc){const _0x5400de=a514_0x48ec,_0x3eef45=_0x4aec3c();while(!![]){try{const _0x325e57=-parseInt(_0x5400de(0x140))/0x1*(parseInt(_0x5400de(0x149))/0x2)+parseInt(_0x5400de(0x143))/0x3+parseInt(_0x5400de(0x151))/0x4*(parseInt(_0x5400de(0x152))/0x5)+-parseInt(_0x5400de(0x14b))/0x6+-parseInt(_0x5400de(0x148))/0x7*(parseInt(_0x5400de(0x136))/0x8)+-parseInt(_0x5400de(0x14c))/0x9+parseInt(_0x5400de(0x13e))/0xa*(parseInt(_0x5400de(0x13a))/0xb);if(_0x325e57===_0x2f79dc)break;else _0x3eef45['push'](_0x3eef45['shift']());}catch(_0x430bbc){_0x3eef45['push'](_0x3eef45['shift']());}}}(a514_0xed2b,0xec633));const a514_0x47038a=(function(){let _0x2b8a72=!![];return function(_0x27fdfc,_0x3fb572){const _0x35ec2b=_0x2b8a72?function(){const _0x2b3993=a514_0x48ec;if(_0x3fb572){const _0x5ab50a=_0x3fb572[_0x2b3993(0x147)](_0x27fdfc,arguments);return _0x3fb572=null,_0x5ab50a;}}:function(){};return _0x2b8a72=![],_0x35ec2b;};}()),a514_0x526ae0=a514_0x47038a(this,function(){const _0x51d699=a514_0x48ec;return a514_0x526ae0[_0x51d699(0x141)]()[_0x51d699(0x137)](_0x51d699(0x138))[_0x51d699(0x141)]()[_0x51d699(0x135)](a514_0x526ae0)[_0x51d699(0x137)](_0x51d699(0x138));});function a514_0x48ec(_0x26a056,_0x52e183){const _0x5957b6=a514_0xed2b();return a514_0x48ec=function(_0x526ae0,_0x47038a){_0x526ae0=_0x526ae0-0x135;let _0xed2b8e=_0x5957b6[_0x526ae0];return _0xed2b8e;},a514_0x48ec(_0x26a056,_0x52e183);}function a514_0xed2b(){const _0x4d8757=['10uLdMRJ','sequelize','126424LGoOMR','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20TRIM(to_char(current_date,\x20\x27day\x27))\x20as\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20as\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startTime\x27\x20as\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endTime\x27\x20as\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startLunchTime\x27\x20as\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endLunchTime\x27\x20as\x20endlunchtime\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22Companies\x22\x20c,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jsonb_array_elements(c.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LOWER(s->>\x27weekdayEn\x27)\x20=\x20LOWER(TRIM(to_char(current_date,\x20\x27day\x27)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20c.id\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20s->>\x27active\x27\x20=\x20\x27true\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20','2755230POyjNJ','QueryTypes',')\x20as\x20inner_query)\x20as\x20outer_query','SELECT','apply','329epoylt','10piFHLt','default','1701834hTTxJq','15335388lIGdET','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20TRIM(to_char(current_date,\x20\x27day\x27))\x20as\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20as\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startTime\x27\x20as\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endTime\x27\x20as\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startLunchTime\x27\x20as\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endLunchTime\x27\x20as\x20endlunchtime\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22Queues\x22\x20q,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jsonb_array_elements(q.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LOWER(s->>\x27weekdayEn\x27)\x20=\x20LOWER(TRIM(to_char(current_date,\x20\x27day\x27)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20q.id\x20=\x20:queueId\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20q.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20s->>\x27active\x27\x20=\x20\x27true\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20','log','defineProperty','query','416VAJjHn','14805MWVcQH','constructor','204112kKzOvE','search','(((.+)+)+)+$','__esModule','39168118AejVxh','error','../../database','starttime'];a514_0xed2b=function(){return _0x4d8757;};return a514_0xed2b();}a514_0x526ae0();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3c9f0d){const _0x5af167=a514_0x48ec;return _0x3c9f0d&&_0x3c9f0d[_0x5af167(0x139)]?_0x3c9f0d:{'default':_0x3c9f0d};};Object[a514_0x2c0a4e(0x14f)](exports,a514_0x2c0a4e(0x139),{'value':!![]});const sequelize_1=require(a514_0x2c0a4e(0x13f)),database_1=__importDefault(require(a514_0x2c0a4e(0x13c))),VerifyCurrentSchedule=async(_0x34324f,_0x857f5e)=>{const _0x441205=a514_0x2c0a4e;try{const _0x5b504e='\x0a\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20endlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(NOT\x20inactivity)\x20AS\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20FROM\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20endlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CASE\x20WHEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--\x20Se\x20fora\x20do\x20horário\x20de\x20trabalho\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20<\x20to_timestamp(starttime,\x20\x27HH24MI\x27)::time\x20OR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20>\x20to_timestamp(endtime,\x20\x27HH24MI\x27)::time\x20OR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--\x20Ou\x20se\x20estiver\x20no\x20horário\x20de\x20almoço\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(startlunchtime\x20!=\x20\x27\x27\x20AND\x20endlunchtime\x20!=\x20\x27\x27\x20AND\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20>=\x20to_timestamp(startlunchtime,\x20\x27HH24MI\x27)::time\x20AND\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20<=\x20to_timestamp(endlunchtime,\x20\x27HH24MI\x27)::time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20THEN\x20true\x20ELSE\x20false\x20END\x20AS\x20inactivity\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20(';let _0x40ae52;_0x857f5e===null||_0x857f5e===undefined?_0x40ae52=_0x441205(0x142):_0x40ae52=_0x441205(0x14d);const _0x42e4b0=_0x441205(0x145),_0x138ee7=_0x5b504e+_0x40ae52+_0x42e4b0,_0x1a6614=await database_1['default'][_0x441205(0x150)](_0x138ee7,{'replacements':_0x857f5e?{'companyId':_0x34324f,'queueId':_0x857f5e}:{'companyId':_0x34324f},'type':sequelize_1[_0x441205(0x144)][_0x441205(0x146)],'plain':!![]});if(!_0x1a6614)return console[_0x441205(0x14e)]('Nenhuma\x20configuração\x20encontrada\x20para\x20o\x20dia\x20atual'),{'id':Number(_0x857f5e||_0x34324f),'currentSchedule':[],'startTime':'','endTime':'','inActivity':![]};return{'id':_0x1a6614['id'],'currentSchedule':_0x1a6614['currentschedule'],'startTime':_0x1a6614[_0x441205(0x13d)],'endTime':_0x1a6614['endtime'],'inActivity':_0x1a6614['inActivity']};}catch(_0x5d37ea){return console[_0x441205(0x13b)]('Erro\x20na\x20verificação\x20de\x20horário:',_0x5d37ea),{'id':Number(_0x857f5e||_0x34324f),'currentSchedule':[],'startTime':'','endTime':'','inActivity':![]};}};exports[a514_0x2c0a4e(0x14a)]=VerifyCurrentSchedule;