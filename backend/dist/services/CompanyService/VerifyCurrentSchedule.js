const a514_0x389175=a514_0x2cc9;function a514_0x2cc9(_0x2f0114,_0x4bff3a){const _0x1f311e=a514_0xb044();return a514_0x2cc9=function(_0x4a73f8,_0x467887){_0x4a73f8=_0x4a73f8-0x133;let _0xb04462=_0x1f311e[_0x4a73f8];return _0xb04462;},a514_0x2cc9(_0x2f0114,_0x4bff3a);}function a514_0xb044(){const _0x58136a=['2180SXIkiu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20TRIM(to_char(current_date,\x20\x27day\x27))\x20as\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20as\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startTime\x27\x20as\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endTime\x27\x20as\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startLunchTime\x27\x20as\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endLunchTime\x27\x20as\x20endlunchtime\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22Queues\x22\x20q,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jsonb_array_elements(q.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LOWER(s->>\x27weekdayEn\x27)\x20=\x20LOWER(TRIM(to_char(current_date,\x20\x27day\x27)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20q.id\x20=\x20:queueId\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20q.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20s->>\x27active\x27\x20=\x20\x27true\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20','3486LeZnuj','6332192vuOtoF','error','default','\x0a\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20endlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(NOT\x20inactivity)\x20AS\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20FROM\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20endlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CASE\x20WHEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--\x20Se\x20fora\x20do\x20horário\x20de\x20trabalho\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20<\x20to_timestamp(starttime,\x20\x27HH24MI\x27)::time\x20OR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20>\x20to_timestamp(endtime,\x20\x27HH24MI\x27)::time\x20OR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--\x20Ou\x20se\x20estiver\x20no\x20horário\x20de\x20almoço\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(startlunchtime\x20!=\x20\x27\x27\x20AND\x20endlunchtime\x20!=\x20\x27\x27\x20AND\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20>=\x20to_timestamp(startlunchtime,\x20\x27HH24MI\x27)::time\x20AND\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20NOW()::time\x20<=\x20to_timestamp(endlunchtime,\x20\x27HH24MI\x27)::time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20THEN\x20true\x20ELSE\x20false\x20END\x20AS\x20inactivity\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20(','5139784CTSSOr','constructor','../../database','apply','(((.+)+)+)+$','toString','search','SELECT','1033tFDZxX','Nenhuma\x20configuração\x20encontrada\x20para\x20o\x20dia\x20atual','2122455XTlZQZ','__esModule','query','__importDefault','11991OPhiWX','defineProperty','sequelize','inActivity','3376527RRmKwo',')\x20as\x20inner_query)\x20as\x20outer_query','Erro\x20na\x20verificação\x20de\x20horário:','38179629sAngAJ'];a514_0xb044=function(){return _0x58136a;};return a514_0xb044();}(function(_0x185e8e,_0x55d02f){const _0xb8ec6b=a514_0x2cc9,_0x2bda85=_0x185e8e();while(!![]){try{const _0x58ee56=-parseInt(_0xb8ec6b(0x136))/0x1*(-parseInt(_0xb8ec6b(0x144))/0x2)+parseInt(_0xb8ec6b(0x140))/0x3+parseInt(_0xb8ec6b(0x147))/0x4+-parseInt(_0xb8ec6b(0x138))/0x5+-parseInt(_0xb8ec6b(0x146))/0x6*(-parseInt(_0xb8ec6b(0x13c))/0x7)+parseInt(_0xb8ec6b(0x14b))/0x8+-parseInt(_0xb8ec6b(0x143))/0x9;if(_0x58ee56===_0x55d02f)break;else _0x2bda85['push'](_0x2bda85['shift']());}catch(_0x3ede08){_0x2bda85['push'](_0x2bda85['shift']());}}}(a514_0xb044,0xc4acd));const a514_0x467887=(function(){let _0x4152d4=!![];return function(_0x324b70,_0x2a3f07){const _0x202a86=_0x4152d4?function(){const _0x3c6f31=a514_0x2cc9;if(_0x2a3f07){const _0x573401=_0x2a3f07[_0x3c6f31(0x14e)](_0x324b70,arguments);return _0x2a3f07=null,_0x573401;}}:function(){};return _0x4152d4=![],_0x202a86;};}()),a514_0x4a73f8=a514_0x467887(this,function(){const _0xdcb405=a514_0x2cc9;return a514_0x4a73f8[_0xdcb405(0x133)]()[_0xdcb405(0x134)](_0xdcb405(0x14f))['toString']()[_0xdcb405(0x14c)](a514_0x4a73f8)[_0xdcb405(0x134)](_0xdcb405(0x14f));});a514_0x4a73f8();'use strict';var __importDefault=this&&this[a514_0x389175(0x13b)]||function(_0x5f064b){const _0x3a2671=a514_0x389175;return _0x5f064b&&_0x5f064b[_0x3a2671(0x139)]?_0x5f064b:{'default':_0x5f064b};};Object[a514_0x389175(0x13d)](exports,a514_0x389175(0x139),{'value':!![]});const sequelize_1=require(a514_0x389175(0x13e)),database_1=__importDefault(require(a514_0x389175(0x14d))),VerifyCurrentSchedule=async(_0x426e02,_0x2bcc1c)=>{const _0x1556d1=a514_0x389175;try{const _0x2bde35=_0x1556d1(0x14a);let _0x592572;_0x2bcc1c===null||_0x2bcc1c===undefined?_0x592572='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20TRIM(to_char(current_date,\x20\x27day\x27))\x20as\x20currentweekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20as\x20currentschedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startTime\x27\x20as\x20starttime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endTime\x27\x20as\x20endtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27startLunchTime\x27\x20as\x20startlunchtime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s->>\x27endLunchTime\x27\x20as\x20endlunchtime\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22Companies\x22\x20c,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jsonb_array_elements(c.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LOWER(s->>\x27weekdayEn\x27)\x20=\x20LOWER(TRIM(to_char(current_date,\x20\x27day\x27)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20c.id\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20s->>\x27active\x27\x20=\x20\x27true\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x592572=_0x1556d1(0x145);const _0x178c13=_0x1556d1(0x141),_0x2da4c3=_0x2bde35+_0x592572+_0x178c13,_0x5481af=await database_1[_0x1556d1(0x149)][_0x1556d1(0x13a)](_0x2da4c3,{'replacements':_0x2bcc1c?{'companyId':_0x426e02,'queueId':_0x2bcc1c}:{'companyId':_0x426e02},'type':sequelize_1['QueryTypes'][_0x1556d1(0x135)],'plain':!![]});if(!_0x5481af)return console['log'](_0x1556d1(0x137)),{'id':Number(_0x2bcc1c||_0x426e02),'currentSchedule':[],'startTime':'','endTime':'','inActivity':![]};return{'id':_0x5481af['id'],'currentSchedule':_0x5481af['currentschedule'],'startTime':_0x5481af['starttime'],'endTime':_0x5481af['endtime'],'inActivity':_0x5481af[_0x1556d1(0x13f)]};}catch(_0x13c618){return console[_0x1556d1(0x148)](_0x1556d1(0x142),_0x13c618),{'id':Number(_0x2bcc1c||_0x426e02),'currentSchedule':[],'startTime':'','endTime':'','inActivity':![]};}};exports[a514_0x389175(0x149)]=VerifyCurrentSchedule;