const a423_0x5eae92=a423_0x261f;(function(_0x539939,_0x2cd5e7){const _0x141331=a423_0x261f,_0x3dde64=_0x539939();while(!![]){try{const _0x5478c2=parseInt(_0x141331(0x16d))/0x1+-parseInt(_0x141331(0x177))/0x2*(parseInt(_0x141331(0x16b))/0x3)+-parseInt(_0x141331(0x16e))/0x4+parseInt(_0x141331(0x168))/0x5+parseInt(_0x141331(0x167))/0x6*(parseInt(_0x141331(0x17e))/0x7)+parseInt(_0x141331(0x17f))/0x8*(parseInt(_0x141331(0x17b))/0x9)+parseInt(_0x141331(0x169))/0xa*(parseInt(_0x141331(0x178))/0xb);if(_0x5478c2===_0x2cd5e7)break;else _0x3dde64['push'](_0x3dde64['shift']());}catch(_0x49255c){_0x3dde64['push'](_0x3dde64['shift']());}}}(a423_0x3500,0x47d55));const a423_0x78f697=(function(){let _0x499c92=!![];return function(_0x128988,_0x2e98d4){const _0xb77d8a=_0x499c92?function(){const _0x3bc4c3=a423_0x261f;if(_0x2e98d4){const _0x5b7d7d=_0x2e98d4[_0x3bc4c3(0x170)](_0x128988,arguments);return _0x2e98d4=null,_0x5b7d7d;}}:function(){};return _0x499c92=![],_0xb77d8a;};}()),a423_0x557cdd=a423_0x78f697(this,function(){const _0x16d232=a423_0x261f;return a423_0x557cdd[_0x16d232(0x17c)]()['search'](_0x16d232(0x17d))['toString']()[_0x16d232(0x176)](a423_0x557cdd)[_0x16d232(0x16c)](_0x16d232(0x17d));});function a423_0x3500(){const _0x3c6c03=['228016CmiRzn','QueryTypes','apply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentSchedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeA\x27)\x20\x22startTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeA\x27)\x20\x22endTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeB\x27)\x20\x22startTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeB\x27)\x20\x22endTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeA\x27\x20=\x20\x27\x27\x20then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeA\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeA\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeA\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20)\x20)\x20or\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeB\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeB\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20))\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to_char(current_date,\x20\x27day\x27)\x20currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(array_to_json(array_agg(s))->>0)::jsonb\x20currentSchedule\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20\x22Companies\x22\x20c,\x20jsonb_array_elements(c.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20s->>\x27weekdayEn\x27\x20like\x20trim(to_char(current_date,\x20\x27day\x27))\x20and\x20c.id\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20GROUP\x20BY\x201,\x202\x0a\x20\x20\x20\x20\x20\x20)\x20s\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentSchedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeA\x27)\x20\x22startTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeA\x27)\x20\x22endTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeB\x27)\x20\x22startTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeB\x27)\x20\x22endTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeA\x27\x20=\x20\x27\x27\x20then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeA\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeA\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeA\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20)\x20)\x20or\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeB\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeB\x27)::time\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20))\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to_char(current_date,\x20\x27day\x27)\x20currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(array_to_json(array_agg(s))->>0)::jsonb\x20currentSchedule\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20\x22Queues\x22\x20q,\x20jsonb_array_elements(q.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20s->>\x27weekdayEn\x27\x20like\x20trim(to_char(current_date,\x20\x27day\x27))\x20and\x20q.id\x20=\x20:queueId\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20q.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20GROUP\x20BY\x201,\x202\x0a\x20\x20\x20\x20\x20\x20)\x20s\x0a\x20\x20\x20\x20','../../database','__importDefault','query','constructor','2EmUKuO','12023HJSgiB','__esModule','SELECT','63yZeUEE','toString','(((.+)+)+)+$','79233pmmlyd','145056LRKxLr','30SHELIm','430410WTLMne','4020nwsCTN','default','1436145yotMdU','search','120961quRNuA'];a423_0x3500=function(){return _0x3c6c03;};return a423_0x3500();}a423_0x557cdd();function a423_0x261f(_0x1b27fc,_0x542a0d){const _0x1d6871=a423_0x3500();return a423_0x261f=function(_0x557cdd,_0x78f697){_0x557cdd=_0x557cdd-0x167;let _0x3500e1=_0x1d6871[_0x557cdd];return _0x3500e1;},a423_0x261f(_0x1b27fc,_0x542a0d);}'use strict';var __importDefault=this&&this[a423_0x5eae92(0x174)]||function(_0xcbacd9){return _0xcbacd9&&_0xcbacd9['__esModule']?_0xcbacd9:{'default':_0xcbacd9};};Object['defineProperty'](exports,a423_0x5eae92(0x179),{'value':!![]});const sequelize_1=require('sequelize'),database_1=__importDefault(require(a423_0x5eae92(0x173))),VerifyCurrentSchedule=async(_0x37db39,_0x2b5328)=>{const _0x1e1522=a423_0x5eae92;if(_0x2b5328===null||_0x2b5328===undefined){const _0x2380fc=_0x1e1522(0x171),_0x51f25f=await database_1[_0x1e1522(0x16a)]['query'](_0x2380fc,{'replacements':{'companyId':_0x37db39},'type':sequelize_1[_0x1e1522(0x16f)][_0x1e1522(0x17a)],'plain':!![]});return _0x51f25f;}const _0x408bed=_0x1e1522(0x172),_0x474556=await database_1['default'][_0x1e1522(0x175)](_0x408bed,{'replacements':{'companyId':_0x37db39,'queueId':_0x2b5328},'type':sequelize_1[_0x1e1522(0x16f)][_0x1e1522(0x17a)],'plain':!![]});return _0x474556;};exports[a423_0x5eae92(0x16a)]=VerifyCurrentSchedule;