const a388_0x1c93a2=a388_0x1046;(function(_0x52c6f0,_0x4f14af){const _0x32dbac=a388_0x1046,_0x2329fb=_0x52c6f0();while(!![]){try{const _0x220496=-parseInt(_0x32dbac(0x70))/0x1+-parseInt(_0x32dbac(0x83))/0x2*(parseInt(_0x32dbac(0x6e))/0x3)+parseInt(_0x32dbac(0x7b))/0x4+-parseInt(_0x32dbac(0x71))/0x5+-parseInt(_0x32dbac(0xa2))/0x6+parseInt(_0x32dbac(0x6b))/0x7+parseInt(_0x32dbac(0x7e))/0x8*(parseInt(_0x32dbac(0x9b))/0x9);if(_0x220496===_0x4f14af)break;else _0x2329fb['push'](_0x2329fb['shift']());}catch(_0x55e62d){_0x2329fb['push'](_0x2329fb['shift']());}}}(a388_0x42eb,0x26f29));const a388_0x58b915=(function(){let _0x1a8c87=!![];return function(_0x44e9f7,_0x332532){const _0x2f2ac6=_0x1a8c87?function(){if(_0x332532){const _0x311668=_0x332532['apply'](_0x44e9f7,arguments);return _0x332532=null,_0x311668;}}:function(){};return _0x1a8c87=![],_0x2f2ac6;};}()),a388_0x3f3c18=a388_0x58b915(this,function(){const _0xbd6dc3=a388_0x1046;return a388_0x3f3c18[_0xbd6dc3(0x86)]()['search'](_0xbd6dc3(0x94))[_0xbd6dc3(0x86)]()[_0xbd6dc3(0x80)](a388_0x3f3c18)[_0xbd6dc3(0x6f)](_0xbd6dc3(0x94));});a388_0x3f3c18();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a388_0x1c93a2(0x97)]?function(_0x4da2b5,_0x506061,_0x324e82,_0x35703e){const _0x426322=a388_0x1c93a2;if(_0x35703e===undefined)_0x35703e=_0x324e82;var _0x30fb54=Object[_0x426322(0xa3)](_0x506061,_0x324e82);(!_0x30fb54||(_0x426322(0x9c)in _0x30fb54?!_0x506061[_0x426322(0x99)]:_0x30fb54[_0x426322(0x84)]||_0x30fb54['configurable']))&&(_0x30fb54={'enumerable':!![],'get':function(){return _0x506061[_0x324e82];}}),Object['defineProperty'](_0x4da2b5,_0x35703e,_0x30fb54);}:function(_0x487d3b,_0x22d5b6,_0x13c02c,_0x509c0a){if(_0x509c0a===undefined)_0x509c0a=_0x13c02c;_0x487d3b[_0x509c0a]=_0x22d5b6[_0x13c02c];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a388_0x1c93a2(0x97)]?function(_0x5b071d,_0x2ebc54){Object['defineProperty'](_0x5b071d,'default',{'enumerable':!![],'value':_0x2ebc54});}:function(_0x33304b,_0x38f5a4){_0x33304b['default']=_0x38f5a4;}),__importStar=this&&this['__importStar']||function(_0x37ef98){const _0x41a0be=a388_0x1c93a2;if(_0x37ef98&&_0x37ef98[_0x41a0be(0x99)])return _0x37ef98;var _0x5930a7={};if(_0x37ef98!=null){for(var _0x2bf192 in _0x37ef98)if(_0x2bf192!==_0x41a0be(0x87)&&Object[_0x41a0be(0x96)][_0x41a0be(0x9f)][_0x41a0be(0x89)](_0x37ef98,_0x2bf192))__createBinding(_0x5930a7,_0x37ef98,_0x2bf192);}return __setModuleDefault(_0x5930a7,_0x37ef98),_0x5930a7;},__importDefault=this&&this[a388_0x1c93a2(0x91)]||function(_0x56bc44){return _0x56bc44&&_0x56bc44['__esModule']?_0x56bc44:{'default':_0x56bc44};};function a388_0x1046(_0x282f47,_0x24d4b9){const _0x3366dc=a388_0x42eb();return a388_0x1046=function(_0x3f3c18,_0x58b915){_0x3f3c18=_0x3f3c18-0x6b;let _0x42eb75=_0x3366dc[_0x3f3c18];return _0x42eb75;},a388_0x1046(_0x282f47,_0x24d4b9);}function a388_0x42eb(){const _0xb250de=['tokenixc','string','__importDefault','../../models/User','yup','(((.+)+)+)+$','test','prototype','create','../../models/Setting','__esModule','ERR_COMPANY_NAME_ALREADY_EXISTS','45CkVTHr','get','min','update','hasOwnProperty','object','findOrCreate','71910uGGnae','getOwnPropertyDescriptor','userRating','enabled','defineProperty','ipixc','sendGreetingAccepted','../../models/Company','830690hsyosm','chatBotType','email','85362gaOOrw','search','172104RBePUw','1465190YnxrBa','clientsecretmkauth','scheduleType','password','shape','ipmkauth','../../errors/AppError','ERR_COMPANY_INVALID_NAME','tokensgp','message','804956xHOBjW','name','text','825480nhqsmp','ipsgp','constructor','asaas','mudar@123','14ijzrHb','writable','appsgp','toString','default','validate','call','campaignsEnabled','clientidmkauth','Check-unique-name','disabled','CheckMsgIsGroup'];a388_0x42eb=function(){return _0xb250de;};return a388_0x42eb();}Object[a388_0x1c93a2(0xa6)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a388_0x1c93a2(0x93))),AppError_1=__importDefault(require(a388_0x1c93a2(0x77))),Company_1=__importDefault(require(a388_0x1c93a2(0xa9))),User_1=__importDefault(require(a388_0x1c93a2(0x92))),Setting_1=__importDefault(require(a388_0x1c93a2(0x98))),CreateCompanyService=async _0x1114d1=>{const _0x1e5a8f=a388_0x1c93a2,{name:_0xe8e0d7,phone:_0x57fe6d,email:_0x5fa8ab,status:_0x15fdda,planId:_0x52d1c3,password:_0x32e9fb,campaignsEnabled:_0x5be2c5,dueDate:_0x4537d2,recurrence:_0x27b192}=_0x1114d1,_0x53b223=Yup[_0x1e5a8f(0xa0)]()[_0x1e5a8f(0x75)]({'name':Yup[_0x1e5a8f(0x90)]()[_0x1e5a8f(0x9d)](0x2,_0x1e5a8f(0x78))['required'](_0x1e5a8f(0x78))[_0x1e5a8f(0x95)](_0x1e5a8f(0x8c),_0x1e5a8f(0x9a),async _0x2cd9c5=>{const _0x546756=_0x1e5a8f;if(_0x2cd9c5){const _0x370b64=await Company_1[_0x546756(0x87)]['findOne']({'where':{'name':_0x2cd9c5}});return!_0x370b64;}return![];})});try{await _0x53b223[_0x1e5a8f(0x88)]({'name':_0xe8e0d7});}catch(_0x273473){throw new AppError_1[(_0x1e5a8f(0x87))](_0x273473[_0x1e5a8f(0x7a)]);}const _0xa24730=await Company_1[_0x1e5a8f(0x87)][_0x1e5a8f(0x97)]({'name':_0xe8e0d7,'phone':_0x57fe6d,'email':_0x5fa8ab,'status':_0x15fdda,'planId':_0x52d1c3,'dueDate':_0x4537d2,'recurrence':_0x27b192}),_0x1003ec=await User_1[_0x1e5a8f(0x87)][_0x1e5a8f(0x97)]({'name':_0xa24730[_0x1e5a8f(0x7c)],'email':_0xa24730[_0x1e5a8f(0x6d)],'password':_0x1114d1[_0x1e5a8f(0x74)]||_0x1e5a8f(0x82),'profile':'admin','companyId':_0xa24730['id']});await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x81)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x81),'value':''}}),await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':'tokenixc'},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x8f),'value':''}}),await Setting_1['default'][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0xa7)},'defaults':{'companyId':_0xa24730['id'],'key':'ipixc','value':''}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x76)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x76),'value':''}}),await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x72)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x72),'value':''}}),await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x8b)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x8b),'value':''}}),await Setting_1[_0x1e5a8f(0x87)]['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x8e)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0xa5),'value':''}}),await Setting_1[_0x1e5a8f(0x87)]['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':''},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x89),'value':_0x1e5a8f(0x8d)}}),await Setting_1[_0x1e5a8f(0x87)]['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':'scheduleType'},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x73),'value':_0x1e5a8f(0x8d)}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':'sendGreetingAccepted'},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0xa8),'value':_0x1e5a8f(0x8d)}}),await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':'sendMsgTransfTicket'},'defaults':{'companyId':_0xa24730['id'],'key':'sendMsgTransfTicket','value':_0x1e5a8f(0x8d)}}),await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0xa4)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0xa4),'value':_0x1e5a8f(0x8d)}}),await Setting_1['default'][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x6c)},'defaults':{'companyId':_0xa24730['id'],'key':'chatBotType','value':_0x1e5a8f(0x7d)}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x79)},'defaults':{'companyId':_0xa24730['id'],'key':'tokensgp','value':''}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x7f)},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x7f),'value':''}}),await Setting_1[_0x1e5a8f(0x87)][_0x1e5a8f(0xa1)]({'where':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x85)},'defaults':{'companyId':_0xa24730['id'],'key':'appsgp','value':''}});if(_0x1114d1[_0x1e5a8f(0x8a)]!==undefined){const [_0x5b6cab,_0x2b6cc6]=await Setting_1[_0x1e5a8f(0x87)]['findOrCreate']({'where':{'companyId':_0xa24730['id'],'key':'campaignsEnabled'},'defaults':{'companyId':_0xa24730['id'],'key':_0x1e5a8f(0x8a),'value':''+_0x5be2c5}});!_0x2b6cc6&&await _0x5b6cab[_0x1e5a8f(0x9e)]({'value':''+_0x5be2c5});}return _0xa24730;};exports[a388_0x1c93a2(0x87)]=CreateCompanyService;