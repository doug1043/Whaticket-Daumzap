const a389_0x4a12a1=a389_0x54a0;(function(_0x452c8b,_0x2723f3){const _0x2dd6ed=a389_0x54a0,_0x216f1f=_0x452c8b();while(!![]){try{const _0x3a7fcf=-parseInt(_0x2dd6ed(0x10f))/0x1+parseInt(_0x2dd6ed(0x13a))/0x2*(parseInt(_0x2dd6ed(0x132))/0x3)+-parseInt(_0x2dd6ed(0x10d))/0x4+parseInt(_0x2dd6ed(0x110))/0x5*(-parseInt(_0x2dd6ed(0x125))/0x6)+parseInt(_0x2dd6ed(0x127))/0x7+-parseInt(_0x2dd6ed(0x12b))/0x8*(-parseInt(_0x2dd6ed(0x143))/0x9)+-parseInt(_0x2dd6ed(0x114))/0xa*(-parseInt(_0x2dd6ed(0x115))/0xb);if(_0x3a7fcf===_0x2723f3)break;else _0x216f1f['push'](_0x216f1f['shift']());}catch(_0x2e2274){_0x216f1f['push'](_0x216f1f['shift']());}}}(a389_0x3ca1,0x6f515));const a389_0x2aec15=(function(){let _0x42d4c3=!![];return function(_0x5396b6,_0x5555ae){const _0x34626f=_0x42d4c3?function(){const _0x2656be=a389_0x54a0;if(_0x5555ae){const _0x31667b=_0x5555ae[_0x2656be(0x121)](_0x5396b6,arguments);return _0x5555ae=null,_0x31667b;}}:function(){};return _0x42d4c3=![],_0x34626f;};}()),a389_0x5e056d=a389_0x2aec15(this,function(){const _0x14554e=a389_0x54a0;return a389_0x5e056d[_0x14554e(0x13d)]()['search'](_0x14554e(0x118))[_0x14554e(0x13d)]()[_0x14554e(0x136)](a389_0x5e056d)[_0x14554e(0x138)](_0x14554e(0x118));});a389_0x5e056d();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a389_0x4a12a1(0x145)]?function(_0x5f36dc,_0x216396,_0xc311d8,_0xddd132){const _0x29e5b9=a389_0x4a12a1;if(_0xddd132===undefined)_0xddd132=_0xc311d8;var _0x254c7d=Object['getOwnPropertyDescriptor'](_0x216396,_0xc311d8);(!_0x254c7d||(_0x29e5b9(0x111)in _0x254c7d?!_0x216396['__esModule']:_0x254c7d[_0x29e5b9(0x13c)]||_0x254c7d[_0x29e5b9(0x14a)]))&&(_0x254c7d={'enumerable':!![],'get':function(){return _0x216396[_0xc311d8];}}),Object[_0x29e5b9(0x137)](_0x5f36dc,_0xddd132,_0x254c7d);}:function(_0x210176,_0x431440,_0x401f1f,_0x3e7ae0){if(_0x3e7ae0===undefined)_0x3e7ae0=_0x401f1f;_0x210176[_0x3e7ae0]=_0x431440[_0x401f1f];}),__setModuleDefault=this&&this[a389_0x4a12a1(0x11a)]||(Object[a389_0x4a12a1(0x145)]?function(_0x296e2d,_0x9a0717){const _0x5c9fea=a389_0x4a12a1;Object['defineProperty'](_0x296e2d,_0x5c9fea(0x14e),{'enumerable':!![],'value':_0x9a0717});}:function(_0x454fcb,_0x1a56e8){const _0x5787bb=a389_0x4a12a1;_0x454fcb[_0x5787bb(0x14e)]=_0x1a56e8;}),__importStar=this&&this[a389_0x4a12a1(0x142)]||function(_0x3d6e2c){const _0x5edaac=a389_0x4a12a1;if(_0x3d6e2c&&_0x3d6e2c['__esModule'])return _0x3d6e2c;var _0x10d554={};if(_0x3d6e2c!=null){for(var _0x2c348e in _0x3d6e2c)if(_0x2c348e!==_0x5edaac(0x14e)&&Object[_0x5edaac(0x139)]['hasOwnProperty'][_0x5edaac(0x126)](_0x3d6e2c,_0x2c348e))__createBinding(_0x10d554,_0x3d6e2c,_0x2c348e);}return __setModuleDefault(_0x10d554,_0x3d6e2c),_0x10d554;},__importDefault=this&&this[a389_0x4a12a1(0x123)]||function(_0x5e4a91){const _0x230868=a389_0x4a12a1;return _0x5e4a91&&_0x5e4a91[_0x230868(0x11c)]?_0x5e4a91:{'default':_0x5e4a91};};function a389_0x3ca1(){const _0x27e3ff=['sendGreetingAccepted','sendMsgTransfTicket','findOrCreate','chatBotType','password','627150QDgWTM','asaas','object','yup','constructor','defineProperty','search','prototype','4eCUbiD','ipsgp','writable','toString','appsgp','text','../../models/Setting','validate','__importStar','675mAKenW','userRating','create','test','shape','enabled','tokenixc','configurable','min','campaignsEnabled','ipixc','default','2537200CVegjc','clientidmkauth','625904BpmHaN','8625FpkWjB','get','name','ERR_COMPANY_INVALID_NAME','8291410ykcLUk','11SOWPSE','disabled','required','(((.+)+)+)+$','tokensgp','__setModuleDefault','../../models/Company','__esModule','mudar@123','Check-unique-name','email','message','apply','update','__importDefault','findOne','1098wsgrQu','call','4404890PwHDtP','clientsecretmkauth','admin','scheduleType','16568jCsXdG','../../models/User'];a389_0x3ca1=function(){return _0x27e3ff;};return a389_0x3ca1();}Object[a389_0x4a12a1(0x137)](exports,a389_0x4a12a1(0x11c),{'value':!![]});function a389_0x54a0(_0x2469a4,_0x212fe2){const _0xe387b8=a389_0x3ca1();return a389_0x54a0=function(_0x5e056d,_0x2aec15){_0x5e056d=_0x5e056d-0x10d;let _0x3ca19e=_0xe387b8[_0x5e056d];return _0x3ca19e;},a389_0x54a0(_0x2469a4,_0x212fe2);}const Yup=__importStar(require(a389_0x4a12a1(0x135))),AppError_1=__importDefault(require('../../errors/AppError')),Company_1=__importDefault(require(a389_0x4a12a1(0x11b))),User_1=__importDefault(require(a389_0x4a12a1(0x12c))),Setting_1=__importDefault(require(a389_0x4a12a1(0x140))),CreateCompanyService=async _0x29e3b5=>{const _0x30c689=a389_0x4a12a1,{name:_0x4f98d1,phone:_0x296de0,email:_0x7e3dc3,status:_0x45b147,planId:_0x2c68c8,password:_0x3deef8,campaignsEnabled:_0x446a9c,dueDate:_0x4a267d,recurrence:_0x48d7ad}=_0x29e3b5,_0x20dc3b=Yup[_0x30c689(0x134)]()[_0x30c689(0x147)]({'name':Yup['string']()[_0x30c689(0x14b)](0x2,'ERR_COMPANY_INVALID_NAME')[_0x30c689(0x117)](_0x30c689(0x113))[_0x30c689(0x146)](_0x30c689(0x11e),'ERR_COMPANY_NAME_ALREADY_EXISTS',async _0x277491=>{const _0x3690f3=_0x30c689;if(_0x277491){const _0x1aa3bf=await Company_1[_0x3690f3(0x14e)][_0x3690f3(0x124)]({'where':{'name':_0x277491}});return!_0x1aa3bf;}return![];})});try{await _0x20dc3b[_0x30c689(0x141)]({'name':_0x4f98d1});}catch(_0x3fc97c){throw new AppError_1[(_0x30c689(0x14e))](_0x3fc97c[_0x30c689(0x120)]);}const _0x3cb93a=await Company_1['default']['create']({'name':_0x4f98d1,'phone':_0x296de0,'email':_0x7e3dc3,'status':_0x45b147,'planId':_0x2c68c8,'dueDate':_0x4a267d,'recurrence':_0x48d7ad}),_0x1b9fae=await User_1['default']['create']({'name':_0x3cb93a[_0x30c689(0x112)],'email':_0x3cb93a[_0x30c689(0x11f)],'password':_0x29e3b5[_0x30c689(0x131)]||_0x30c689(0x11d),'profile':_0x30c689(0x129),'companyId':_0x3cb93a['id']});await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':'asaas'},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x133),'value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x149)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x149),'value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x14d)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x14d),'value':''}}),await Setting_1['default'][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':'ipmkauth'},'defaults':{'companyId':_0x3cb93a['id'],'key':'ipmkauth','value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x128)},'defaults':{'companyId':_0x3cb93a['id'],'key':'clientsecretmkauth','value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x10e)},'defaults':{'companyId':_0x3cb93a['id'],'key':'clientidmkauth','value':''}}),await Setting_1['default'][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':'CheckMsgIsGroup'},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x148),'value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':''},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x126),'value':_0x30c689(0x116)}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x12a)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x12a),'value':_0x30c689(0x116)}}),await Setting_1['default'][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x12d)},'defaults':{'companyId':_0x3cb93a['id'],'key':'sendGreetingAccepted','value':'disabled'}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x12e)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x12e),'value':_0x30c689(0x116)}}),await Setting_1['default'][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':'userRating'},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x144),'value':_0x30c689(0x116)}}),await Setting_1[_0x30c689(0x14e)]['findOrCreate']({'where':{'companyId':_0x3cb93a['id'],'key':'chatBotType'},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x130),'value':_0x30c689(0x13f)}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':'tokensgp'},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x119),'value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x13b)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x13b),'value':''}}),await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x13e)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x13e),'value':''}});if(_0x29e3b5[_0x30c689(0x14c)]!==undefined){const [_0x48ce0e,_0x3a0c0f]=await Setting_1[_0x30c689(0x14e)][_0x30c689(0x12f)]({'where':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x14c)},'defaults':{'companyId':_0x3cb93a['id'],'key':_0x30c689(0x14c),'value':''+_0x446a9c}});!_0x3a0c0f&&await _0x48ce0e[_0x30c689(0x122)]({'value':''+_0x446a9c});}return _0x3cb93a;};exports['default']=CreateCompanyService;