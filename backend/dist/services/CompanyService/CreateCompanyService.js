const a387_0x590400=a387_0x2c4e;(function(_0x3207b4,_0x1bc101){const _0x20e42a=a387_0x2c4e,_0x4c4456=_0x3207b4();while(!![]){try{const _0xc74e60=parseInt(_0x20e42a(0x14e))/0x1+-parseInt(_0x20e42a(0x146))/0x2+parseInt(_0x20e42a(0x140))/0x3*(parseInt(_0x20e42a(0x158))/0x4)+parseInt(_0x20e42a(0x157))/0x5*(parseInt(_0x20e42a(0x171))/0x6)+parseInt(_0x20e42a(0x156))/0x7+-parseInt(_0x20e42a(0x16c))/0x8+-parseInt(_0x20e42a(0x173))/0x9*(-parseInt(_0x20e42a(0x13f))/0xa);if(_0xc74e60===_0x1bc101)break;else _0x4c4456['push'](_0x4c4456['shift']());}catch(_0x58f14c){_0x4c4456['push'](_0x4c4456['shift']());}}}(a387_0x37fe,0xd8116));const a387_0x249e03=(function(){let _0x34dc9b=!![];return function(_0x9ed73c,_0x306946){const _0x3e6359=_0x34dc9b?function(){if(_0x306946){const _0x3ae39b=_0x306946['apply'](_0x9ed73c,arguments);return _0x306946=null,_0x3ae39b;}}:function(){};return _0x34dc9b=![],_0x3e6359;};}()),a387_0x2c0246=a387_0x249e03(this,function(){const _0x78c9ba=a387_0x2c4e;return a387_0x2c0246['toString']()[_0x78c9ba(0x160)](_0x78c9ba(0x13c))[_0x78c9ba(0x14c)]()['constructor'](a387_0x2c0246)[_0x78c9ba(0x160)](_0x78c9ba(0x13c));});a387_0x2c0246();function a387_0x2c4e(_0x39a113,_0x5dc36e){const _0x1a0dc6=a387_0x37fe();return a387_0x2c4e=function(_0x2c0246,_0x249e03){_0x2c0246=_0x2c0246-0x13a;let _0x37fedd=_0x1a0dc6[_0x2c0246];return _0x37fedd;},a387_0x2c4e(_0x39a113,_0x5dc36e);}'use strict';var __createBinding=this&&this[a387_0x590400(0x165)]||(Object[a387_0x590400(0x166)]?function(_0x1a89c3,_0x59db86,_0x4c998e,_0xf47896){const _0x59d653=a387_0x590400;if(_0xf47896===undefined)_0xf47896=_0x4c998e;var _0x1574b1=Object[_0x59d653(0x161)](_0x59db86,_0x4c998e);(!_0x1574b1||(_0x59d653(0x159)in _0x1574b1?!_0x59db86[_0x59d653(0x142)]:_0x1574b1[_0x59d653(0x175)]||_0x1574b1[_0x59d653(0x15e)]))&&(_0x1574b1={'enumerable':!![],'get':function(){return _0x59db86[_0x4c998e];}}),Object[_0x59d653(0x145)](_0x1a89c3,_0xf47896,_0x1574b1);}:function(_0x1c98fe,_0x54db11,_0x38ea59,_0xa1033f){if(_0xa1033f===undefined)_0xa1033f=_0x38ea59;_0x1c98fe[_0xa1033f]=_0x54db11[_0x38ea59];}),__setModuleDefault=this&&this[a387_0x590400(0x15a)]||(Object[a387_0x590400(0x166)]?function(_0x2d52e7,_0x2b2db8){const _0x3905a7=a387_0x590400;Object[_0x3905a7(0x145)](_0x2d52e7,_0x3905a7(0x14d),{'enumerable':!![],'value':_0x2b2db8});}:function(_0x31eb89,_0x1b7111){const _0x5d63fc=a387_0x590400;_0x31eb89[_0x5d63fc(0x14d)]=_0x1b7111;}),__importStar=this&&this['__importStar']||function(_0x2e0e0f){const _0x4aac9d=a387_0x590400;if(_0x2e0e0f&&_0x2e0e0f['__esModule'])return _0x2e0e0f;var _0x3188b0={};if(_0x2e0e0f!=null){for(var _0x26870e in _0x2e0e0f)if(_0x26870e!==_0x4aac9d(0x14d)&&Object[_0x4aac9d(0x151)][_0x4aac9d(0x147)]['call'](_0x2e0e0f,_0x26870e))__createBinding(_0x3188b0,_0x2e0e0f,_0x26870e);}return __setModuleDefault(_0x3188b0,_0x2e0e0f),_0x3188b0;},__importDefault=this&&this[a387_0x590400(0x153)]||function(_0x15ad48){const _0x482cfa=a387_0x590400;return _0x15ad48&&_0x15ad48[_0x482cfa(0x142)]?_0x15ad48:{'default':_0x15ad48};};function a387_0x37fe(){const _0x28cf1d=['campaignsEnabled','test','7138328msDabF','userRating','../../errors/AppError','yup','message','1711614HceJwr','clientsecretmkauth','1094193uYtxoZ','Check-unique-name','writable','update','disabled','ipsgp','admin','sendGreetingAccepted','(((.+)+)+)+$','findOrCreate','scheduleType','10rHmahT','2944722CFuaVx','enabled','__esModule','CheckMsgIsGroup','password','defineProperty','2320814ofxnNA','hasOwnProperty','ipixc','text','tokenixc','string','toString','default','310826xpUlNF','sendMsgTransfTicket','ERR_COMPANY_INVALID_NAME','prototype','findOne','__importDefault','tokensgp','min','681730hgdpcU','25WANEjd','4vWAsrQ','get','__setModuleDefault','chatBotType','shape','../../models/User','configurable','clientidmkauth','search','getOwnPropertyDescriptor','name','../../models/Setting','appsgp','__createBinding','create','asaas','../../models/Company','ipmkauth'];a387_0x37fe=function(){return _0x28cf1d;};return a387_0x37fe();}Object[a387_0x590400(0x145)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a387_0x590400(0x16f))),AppError_1=__importDefault(require(a387_0x590400(0x16e))),Company_1=__importDefault(require(a387_0x590400(0x168))),User_1=__importDefault(require(a387_0x590400(0x15d))),Setting_1=__importDefault(require(a387_0x590400(0x163))),CreateCompanyService=async _0x3a6d59=>{const _0x265fb8=a387_0x590400,{name:_0x5704dc,phone:_0x3df813,email:_0x184033,status:_0x57d115,planId:_0x6f2d22,password:_0x581792,campaignsEnabled:_0x519080,dueDate:_0x486ab7,recurrence:_0x368177}=_0x3a6d59,_0x4e3427=Yup['object']()[_0x265fb8(0x15c)]({'name':Yup[_0x265fb8(0x14b)]()[_0x265fb8(0x155)](0x2,_0x265fb8(0x150))['required'](_0x265fb8(0x150))[_0x265fb8(0x16b)](_0x265fb8(0x174),'ERR_COMPANY_NAME_ALREADY_EXISTS',async _0x324456=>{const _0x1cc0f2=_0x265fb8;if(_0x324456){const _0x1c6076=await Company_1['default'][_0x1cc0f2(0x152)]({'where':{'name':_0x324456}});return!_0x1c6076;}return![];})});try{await _0x4e3427['validate']({'name':_0x5704dc});}catch(_0x5b6fa5){throw new AppError_1['default'](_0x5b6fa5[_0x265fb8(0x170)]);}const _0x352813=await Company_1[_0x265fb8(0x14d)][_0x265fb8(0x166)]({'name':_0x5704dc,'phone':_0x3df813,'email':_0x184033,'status':_0x57d115,'planId':_0x6f2d22,'dueDate':_0x486ab7,'recurrence':_0x368177}),_0xcbf4c3=await User_1[_0x265fb8(0x14d)][_0x265fb8(0x166)]({'name':_0x352813[_0x265fb8(0x162)],'email':_0x352813['email'],'password':_0x3a6d59[_0x265fb8(0x144)]||'mudar@123','profile':_0x265fb8(0x13a),'companyId':_0x352813['id']});await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':'asaas'},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x167),'value':''}}),await Setting_1[_0x265fb8(0x14d)]['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x14a)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x14a),'value':''}}),await Setting_1[_0x265fb8(0x14d)]['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':'ipixc'},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x148),'value':''}}),await Setting_1[_0x265fb8(0x14d)]['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x169)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x169),'value':''}}),await Setting_1['default'][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x172)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x172),'value':''}}),await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':'clientidmkauth'},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x15f),'value':''}}),await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x143)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x141),'value':''}}),await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':''},'defaults':{'companyId':_0x352813['id'],'key':'call','value':_0x265fb8(0x177)}}),await Setting_1['default'][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x13e)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x13e),'value':'disabled'}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x13b)},'defaults':{'companyId':_0x352813['id'],'key':'sendGreetingAccepted','value':_0x265fb8(0x177)}}),await Setting_1[_0x265fb8(0x14d)]['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x14f)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x14f),'value':_0x265fb8(0x177)}}),await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':'userRating'},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x16d),'value':'disabled'}}),await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x15b)},'defaults':{'companyId':_0x352813['id'],'key':'chatBotType','value':_0x265fb8(0x149)}}),await Setting_1[_0x265fb8(0x14d)][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x154)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x154),'value':''}}),await Setting_1[_0x265fb8(0x14d)]['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':'ipsgp'},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x178),'value':''}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0x352813['id'],'key':'appsgp'},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x164),'value':''}});if(_0x3a6d59[_0x265fb8(0x16a)]!==undefined){const [_0xf1fc4a,_0x26abcd]=await Setting_1['default'][_0x265fb8(0x13d)]({'where':{'companyId':_0x352813['id'],'key':_0x265fb8(0x16a)},'defaults':{'companyId':_0x352813['id'],'key':_0x265fb8(0x16a),'value':''+_0x519080}});!_0x26abcd&&await _0xf1fc4a[_0x265fb8(0x176)]({'value':''+_0x519080});}return _0x352813;};exports['default']=CreateCompanyService;