function a569_0x127f(_0x22f664,_0x37a098){const _0x26dabc=a569_0x4262();return a569_0x127f=function(_0x316bea,_0x3b5850){_0x316bea=_0x316bea-0xaa;let _0x426257=_0x26dabc[_0x316bea];return _0x426257;},a569_0x127f(_0x22f664,_0x37a098);}const a569_0x52c371=a569_0x127f;(function(_0xd4e81d,_0x507b2f){const _0x6909e1=a569_0x127f,_0x5918db=_0xd4e81d();while(!![]){try{const _0x299c76=-parseInt(_0x6909e1(0xb6))/0x1*(-parseInt(_0x6909e1(0xc5))/0x2)+-parseInt(_0x6909e1(0xba))/0x3*(parseInt(_0x6909e1(0xb0))/0x4)+parseInt(_0x6909e1(0xad))/0x5*(-parseInt(_0x6909e1(0xb8))/0x6)+parseInt(_0x6909e1(0xbc))/0x7*(-parseInt(_0x6909e1(0xbb))/0x8)+-parseInt(_0x6909e1(0xbd))/0x9+-parseInt(_0x6909e1(0xb1))/0xa+-parseInt(_0x6909e1(0xc2))/0xb*(-parseInt(_0x6909e1(0xc6))/0xc);if(_0x299c76===_0x507b2f)break;else _0x5918db['push'](_0x5918db['shift']());}catch(_0x4966a1){_0x5918db['push'](_0x5918db['shift']());}}}(a569_0x4262,0x5249c));const a569_0x3b5850=(function(){let _0x5201f0=!![];return function(_0x112b84,_0x856096){const _0x4a641d=_0x5201f0?function(){const _0x32818d=a569_0x127f;if(_0x856096){const _0xb53a0e=_0x856096[_0x32818d(0xb3)](_0x112b84,arguments);return _0x856096=null,_0xb53a0e;}}:function(){};return _0x5201f0=![],_0x4a641d;};}()),a569_0x316bea=a569_0x3b5850(this,function(){const _0x494948=a569_0x127f;return a569_0x316bea[_0x494948(0xcf)]()[_0x494948(0xc0)]('(((.+)+)+)+$')['toString']()[_0x494948(0xae)](a569_0x316bea)[_0x494948(0xc0)](_0x494948(0xac));});a569_0x316bea();function a569_0x4262(){const _0x4bbcdc=['5055790cyFITT','string','apply','shape','update','1adINuv','./ShowWhatsAppService','217182cqFrTc','__importStar','21shNgUF','1040OWDxDJ','11935gHAomW','5141097KeQDVQ','not','hasOwnProperty','search','../../models/Whatsapp','451WFjVUY','defineProperty','__importDefault','872614zawthk','534636XxKAky','../../errors/AppError','findOne','__esModule','validate','sequelize','default','getOwnPropertyDescriptor','message','toString','./AssociateWhatsappQueue','create','get','object','(((.+)+)+)+$','35wogszM','constructor','min','213764CuencW'];a569_0x4262=function(){return _0x4bbcdc;};return a569_0x4262();}'use strict';var __createBinding=this&&this['__createBinding']||(Object[a569_0x52c371(0xd1)]?function(_0x4e260a,_0x2e9d96,_0x3b928c,_0x47230d){const _0xb8fc97=a569_0x52c371;if(_0x47230d===undefined)_0x47230d=_0x3b928c;var _0x4b1555=Object[_0xb8fc97(0xcd)](_0x2e9d96,_0x3b928c);(!_0x4b1555||(_0xb8fc97(0xaa)in _0x4b1555?!_0x2e9d96['__esModule']:_0x4b1555['writable']||_0x4b1555['configurable']))&&(_0x4b1555={'enumerable':!![],'get':function(){return _0x2e9d96[_0x3b928c];}}),Object[_0xb8fc97(0xc3)](_0x4e260a,_0x47230d,_0x4b1555);}:function(_0xd7e07c,_0xa134de,_0x5a9724,_0x426843){if(_0x426843===undefined)_0x426843=_0x5a9724;_0xd7e07c[_0x426843]=_0xa134de[_0x5a9724];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a569_0x52c371(0xd1)]?function(_0x282601,_0x43eb7b){const _0x426e7f=a569_0x52c371;Object[_0x426e7f(0xc3)](_0x282601,_0x426e7f(0xcc),{'enumerable':!![],'value':_0x43eb7b});}:function(_0x30f55e,_0x2747c7){const _0x34473b=a569_0x52c371;_0x30f55e[_0x34473b(0xcc)]=_0x2747c7;}),__importStar=this&&this[a569_0x52c371(0xb9)]||function(_0x24456e){const _0x3c754=a569_0x52c371;if(_0x24456e&&_0x24456e[_0x3c754(0xc9)])return _0x24456e;var _0x106f68={};if(_0x24456e!=null){for(var _0xc8c4f3 in _0x24456e)if(_0xc8c4f3!=='default'&&Object['prototype'][_0x3c754(0xbf)]['call'](_0x24456e,_0xc8c4f3))__createBinding(_0x106f68,_0x24456e,_0xc8c4f3);}return __setModuleDefault(_0x106f68,_0x24456e),_0x106f68;},__importDefault=this&&this[a569_0x52c371(0xc4)]||function(_0x44a4f7){return _0x44a4f7&&_0x44a4f7['__esModule']?_0x44a4f7:{'default':_0x44a4f7};};Object['defineProperty'](exports,a569_0x52c371(0xc9),{'value':!![]});const Yup=__importStar(require('yup')),sequelize_1=require(a569_0x52c371(0xcb)),AppError_1=__importDefault(require(a569_0x52c371(0xc7))),Whatsapp_1=__importDefault(require(a569_0x52c371(0xc1))),ShowWhatsAppService_1=__importDefault(require(a569_0x52c371(0xb7))),AssociateWhatsappQueue_1=__importDefault(require(a569_0x52c371(0xd0))),UpdateWhatsAppService=async({whatsappData:_0xeaf6e2,whatsappId:_0x9c984e,companyId:_0x260e73})=>{const _0x3174ce=a569_0x52c371,_0x13ba1e=Yup[_0x3174ce(0xab)]()[_0x3174ce(0xb4)]({'name':Yup[_0x3174ce(0xb2)]()[_0x3174ce(0xaf)](0x2),'status':Yup[_0x3174ce(0xb2)](),'isDefault':Yup['boolean']()}),{name:_0x3c31d4,status:_0x40838f,isDefault:_0x1ec738,session:_0x344c58,greetingMessage:_0x13ecbd,complationMessage:_0x4965ce,outOfHoursMessage:_0x15cbfd,ratingMessage:_0x50e996,queueIds:queueIds=[],token:_0x2b920b,timeSendQueue:_0x1d1ba8,sendIdQueue:sendIdQueue=null,promptId:_0x125add,integrationId:_0x181c7c,maxUseBotQueues:_0x5b51fa,timeUseBotQueues:_0x5c9b86,expiresTicket:_0x43e7e2,expiresInactiveMessage:_0x1ce227,allowGroup:_0x74a89e,importOldMessages:_0xb89a4f,importRecentMessages:_0x4d2e58,closedTicketsPostImported:_0xed2c84,importOldMessagesGroups:_0x355295}=_0xeaf6e2;try{await _0x13ba1e[_0x3174ce(0xca)]({'name':_0x3c31d4,'status':_0x40838f,'isDefault':_0x1ec738});}catch(_0x34a7af){throw new AppError_1[(_0x3174ce(0xcc))](_0x34a7af[_0x3174ce(0xce)]);}if(queueIds['length']>0x1&&!_0x13ecbd)throw new AppError_1[(_0x3174ce(0xcc))]('ERR_WAPP_GREETING_REQUIRED');let _0x65316d=null;_0x1ec738&&(_0x65316d=await Whatsapp_1['default'][_0x3174ce(0xc8)]({'where':{'isDefault':!![],'id':{[sequelize_1['Op'][_0x3174ce(0xbe)]]:_0x9c984e},'companyId':_0x260e73}}),_0x65316d&&await _0x65316d[_0x3174ce(0xb5)]({'isDefault':![]}));const _0x3989dc=await(0x0,ShowWhatsAppService_1[_0x3174ce(0xcc)])(_0x9c984e,_0x260e73);return await _0x3989dc[_0x3174ce(0xb5)]({'name':_0x3c31d4,'status':_0x40838f,'session':_0x344c58,'greetingMessage':_0x13ecbd,'complationMessage':_0x4965ce,'outOfHoursMessage':_0x15cbfd,'ratingMessage':_0x50e996,'isDefault':_0x1ec738,'companyId':_0x260e73,'token':_0x2b920b,'timeSendQueue':_0x1d1ba8,'sendIdQueue':sendIdQueue,'promptId':_0x125add?_0x125add:null,'integrationId':_0x181c7c?_0x181c7c:null,'maxUseBotQueues':_0x5b51fa,'timeUseBotQueues':_0x5c9b86,'expiresTicket':_0x43e7e2,'expiresInactiveMessage':_0x1ce227,'allowGroup':_0x74a89e,'importOldMessages':_0xb89a4f,'importRecentMessages':_0x4d2e58,'closedTicketsPostImported':_0xed2c84,'importOldMessagesGroups':_0x355295}),await(0x0,AssociateWhatsappQueue_1[_0x3174ce(0xcc)])(_0x3989dc,queueIds),{'whatsapp':_0x3989dc,'oldDefaultWhatsapp':_0x65316d};};exports[a569_0x52c371(0xcc)]=UpdateWhatsAppService;