const a568_0x4e8ab5=a568_0x113d;(function(_0x19cee8,_0x255604){const _0xee615f=a568_0x113d,_0x31f991=_0x19cee8();while(!![]){try{const _0x1f03a2=-parseInt(_0xee615f(0x1bc))/0x1+parseInt(_0xee615f(0x1cd))/0x2+-parseInt(_0xee615f(0x1bd))/0x3+-parseInt(_0xee615f(0x1c7))/0x4+-parseInt(_0xee615f(0x1b1))/0x5+-parseInt(_0xee615f(0x1c0))/0x6*(parseInt(_0xee615f(0x1c4))/0x7)+parseInt(_0xee615f(0x1be))/0x8*(parseInt(_0xee615f(0x1b5))/0x9);if(_0x1f03a2===_0x255604)break;else _0x31f991['push'](_0x31f991['shift']());}catch(_0x2f9101){_0x31f991['push'](_0x31f991['shift']());}}}(a568_0x4373,0xa6b7b));const a568_0x4e55c7=(function(){let _0xe47271=!![];return function(_0x3b6152,_0x2de5b3){const _0x11bce9=_0xe47271?function(){if(_0x2de5b3){const _0x13ca6f=_0x2de5b3['apply'](_0x3b6152,arguments);return _0x2de5b3=null,_0x13ca6f;}}:function(){};return _0xe47271=![],_0x11bce9;};}()),a568_0x34255e=a568_0x4e55c7(this,function(){const _0x76796e=a568_0x113d;return a568_0x34255e[_0x76796e(0x1c5)]()['search'](_0x76796e(0x1cb))[_0x76796e(0x1c5)]()['constructor'](a568_0x34255e)[_0x76796e(0x1b4)](_0x76796e(0x1cb));});a568_0x34255e();'use strict';var __importDefault=this&&this[a568_0x4e8ab5(0x1af)]||function(_0x552fcc){return _0x552fcc&&_0x552fcc['__esModule']?_0x552fcc:{'default':_0x552fcc};};Object[a568_0x4e8ab5(0x1b8)](exports,'__esModule',{'value':!![]}),exports['deleteMedia']=exports[a568_0x4e8ab5(0x1c1)]=void 0x0;function a568_0x4373(){const _0x3825c9=['default','2214924dyRgdS','params','lodash','findByPk','(((.+)+)+)+$','save','1746192tXSRTP','deleteMedia','resolve','head','Arquivo\x20adicionado!','__importDefault','unlinkSync','6464750ZKgEXQ','existsSync','../../models/Whatsapp','search','9nAwnJX','json','public','defineProperty','greetingMediaAttachment','files','filename','775766EtVHGs','506454mFMBZL','23266520cZGnER','send','16914FeEgAw','mediaUpload','status','message','763FSZGcJ','toString'];a568_0x4373=function(){return _0x3825c9;};return a568_0x4373();}const lodash_1=require(a568_0x4e8ab5(0x1c9)),AppError_1=__importDefault(require('../../errors/AppError')),Whatsapp_1=__importDefault(require(a568_0x4e8ab5(0x1b3))),path_1=__importDefault(require('path')),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x46d673,_0x52b4ec)=>{const _0x30754d=a568_0x4e8ab5,{whatsappId:_0xe92794}=_0x46d673[_0x30754d(0x1c8)],_0x3e1ac0=_0x46d673[_0x30754d(0x1ba)],_0x197c1a=(0x0,lodash_1[_0x30754d(0x1d0)])(_0x3e1ac0);try{const _0x3dbff9=await Whatsapp_1[_0x30754d(0x1c6)]['findByPk'](_0xe92794);if(_0x3dbff9[_0x30754d(0x1b9)]){const _0x1ad8ac=path_1[_0x30754d(0x1c6)][_0x30754d(0x1cf)](_0x30754d(0x1b7),_0x3dbff9['greetingMediaAttachment']),_0x2c808c=fs_1[_0x30754d(0x1c6)][_0x30754d(0x1b2)](_0x1ad8ac);_0x2c808c&&fs_1['default'][_0x30754d(0x1b0)](_0x1ad8ac);}return _0x3dbff9[_0x30754d(0x1b9)]=_0x197c1a[_0x30754d(0x1bb)],await _0x3dbff9[_0x30754d(0x1cc)](),_0x52b4ec[_0x30754d(0x1c2)](0xc8)[_0x30754d(0x1b6)]({'mensagem':_0x30754d(0x1d1)});}catch(_0x3b99d7){throw new AppError_1[(_0x30754d(0x1c6))](_0x3b99d7['message']);}};exports['mediaUpload']=mediaUpload;function a568_0x113d(_0x9a8790,_0x608fa1){const _0x6b9360=a568_0x4373();return a568_0x113d=function(_0x34255e,_0x4e55c7){_0x34255e=_0x34255e-0x1af;let _0x437324=_0x6b9360[_0x34255e];return _0x437324;},a568_0x113d(_0x9a8790,_0x608fa1);}const deleteMedia=async(_0x3dcbf6,_0x8dfc3d)=>{const _0x5395de=a568_0x4e8ab5,{whatsappId:_0x524e59}=_0x3dcbf6[_0x5395de(0x1c8)];try{const _0x160659=await Whatsapp_1['default'][_0x5395de(0x1ca)](_0x524e59),_0x3a493b=path_1[_0x5395de(0x1c6)][_0x5395de(0x1cf)](_0x5395de(0x1b7),_0x160659[_0x5395de(0x1b9)]),_0x4203e0=fs_1['default'][_0x5395de(0x1b2)](_0x3a493b);return _0x4203e0&&fs_1[_0x5395de(0x1c6)][_0x5395de(0x1b0)](_0x3a493b),_0x160659['greetingMediaAttachment']=null,await _0x160659[_0x5395de(0x1cc)](),_0x8dfc3d[_0x5395de(0x1bf)]({'message':'Arquivo\x20exclu√≠do'});}catch(_0x10c15b){throw new AppError_1[(_0x5395de(0x1c6))](_0x10c15b[_0x5395de(0x1c3)]);}};exports[a568_0x4e8ab5(0x1ce)]=deleteMedia;