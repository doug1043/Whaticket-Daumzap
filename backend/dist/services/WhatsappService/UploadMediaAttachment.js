function a570_0x4260(_0x472619,_0x45edc5){const _0x76873c=a570_0x480c();return a570_0x4260=function(_0x387394,_0x2222e8){_0x387394=_0x387394-0xdd;let _0x480ced=_0x76873c[_0x387394];return _0x480ced;},a570_0x4260(_0x472619,_0x45edc5);}const a570_0x33a1e7=a570_0x4260;(function(_0x13af6,_0x4df336){const _0x20fe0d=a570_0x4260,_0x11f336=_0x13af6();while(!![]){try{const _0x180ae0=parseInt(_0x20fe0d(0xfb))/0x1+parseInt(_0x20fe0d(0xf1))/0x2+-parseInt(_0x20fe0d(0xf6))/0x3+parseInt(_0x20fe0d(0xf0))/0x4*(parseInt(_0x20fe0d(0xf9))/0x5)+parseInt(_0x20fe0d(0xe0))/0x6*(parseInt(_0x20fe0d(0xee))/0x7)+parseInt(_0x20fe0d(0xf5))/0x8+parseInt(_0x20fe0d(0xe6))/0x9*(-parseInt(_0x20fe0d(0xef))/0xa);if(_0x180ae0===_0x4df336)break;else _0x11f336['push'](_0x11f336['shift']());}catch(_0x361c63){_0x11f336['push'](_0x11f336['shift']());}}}(a570_0x480c,0x5730c));const a570_0x2222e8=(function(){let _0x47bf6e=!![];return function(_0x1eb68e,_0x6c27f6){const _0x1be8c3=_0x47bf6e?function(){const _0x4a003e=a570_0x4260;if(_0x6c27f6){const _0x4c6003=_0x6c27f6[_0x4a003e(0xdd)](_0x1eb68e,arguments);return _0x6c27f6=null,_0x4c6003;}}:function(){};return _0x47bf6e=![],_0x1be8c3;};}()),a570_0x387394=a570_0x2222e8(this,function(){const _0x338f88=a570_0x4260;return a570_0x387394[_0x338f88(0xf8)]()[_0x338f88(0xec)]('(((.+)+)+)+$')[_0x338f88(0xf8)]()[_0x338f88(0xf7)](a570_0x387394)[_0x338f88(0xec)](_0x338f88(0xf4));});a570_0x387394();function a570_0x480c(){const _0x43c15a=['deleteMedia','files','path','search','unlinkSync','5747DOPMHV','3617690iBJlxo','29228xvkKrG','1409158enFexT','head','Arquivo\x20adicionado!','(((.+)+)+)+$','3689176RWbkNW','1638819XSVKZJ','constructor','toString','190FXkHfO','default','267530JwgRll','../../models/Whatsapp','filename','__esModule','json','apply','send','findByPk','4674vWQYcW','save','message','__importDefault','mediaUpload','public','36ACfMPW','greetingMediaAttachment','params'];a570_0x480c=function(){return _0x43c15a;};return a570_0x480c();}'use strict';var __importDefault=this&&this[a570_0x33a1e7(0xe3)]||function(_0x1a3182){const _0x132192=a570_0x33a1e7;return _0x1a3182&&_0x1a3182[_0x132192(0xfe)]?_0x1a3182:{'default':_0x1a3182};};Object['defineProperty'](exports,a570_0x33a1e7(0xfe),{'value':!![]}),exports[a570_0x33a1e7(0xe9)]=exports[a570_0x33a1e7(0xe4)]=void 0x0;const lodash_1=require('lodash'),AppError_1=__importDefault(require('../../errors/AppError')),Whatsapp_1=__importDefault(require(a570_0x33a1e7(0xfc))),path_1=__importDefault(require(a570_0x33a1e7(0xeb))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x340fe0,_0x122c99)=>{const _0x1256ec=a570_0x33a1e7,{whatsappId:_0x1fc5a8}=_0x340fe0[_0x1256ec(0xe8)],_0x4d2375=_0x340fe0[_0x1256ec(0xea)],_0x2f19ee=(0x0,lodash_1[_0x1256ec(0xf2)])(_0x4d2375);try{const _0xf28708=await Whatsapp_1['default'][_0x1256ec(0xdf)](_0x1fc5a8);if(_0xf28708[_0x1256ec(0xe7)]){const _0x49d215=path_1[_0x1256ec(0xfa)]['resolve']('public',_0xf28708[_0x1256ec(0xe7)]),_0x129bf3=fs_1[_0x1256ec(0xfa)]['existsSync'](_0x49d215);_0x129bf3&&fs_1[_0x1256ec(0xfa)][_0x1256ec(0xed)](_0x49d215);}return _0xf28708['greetingMediaAttachment']=_0x2f19ee[_0x1256ec(0xfd)],await _0xf28708[_0x1256ec(0xe1)](),_0x122c99['status'](0xc8)[_0x1256ec(0xff)]({'mensagem':_0x1256ec(0xf3)});}catch(_0xde45e){throw new AppError_1['default'](_0xde45e['message']);}};exports[a570_0x33a1e7(0xe4)]=mediaUpload;const deleteMedia=async(_0x15362b,_0x56e9aa)=>{const _0x464c6b=a570_0x33a1e7,{whatsappId:_0x578c02}=_0x15362b[_0x464c6b(0xe8)];try{const _0x3b6160=await Whatsapp_1[_0x464c6b(0xfa)]['findByPk'](_0x578c02),_0x4655a6=path_1[_0x464c6b(0xfa)]['resolve'](_0x464c6b(0xe5),_0x3b6160[_0x464c6b(0xe7)]),_0x22a2b0=fs_1[_0x464c6b(0xfa)]['existsSync'](_0x4655a6);return _0x22a2b0&&fs_1[_0x464c6b(0xfa)][_0x464c6b(0xed)](_0x4655a6),_0x3b6160['greetingMediaAttachment']=null,await _0x3b6160[_0x464c6b(0xe1)](),_0x56e9aa[_0x464c6b(0xde)]({'message':'Arquivo\x20exclu√≠do'});}catch(_0x5111ed){throw new AppError_1[(_0x464c6b(0xfa))](_0x5111ed[_0x464c6b(0xe2)]);}};exports['deleteMedia']=deleteMedia;