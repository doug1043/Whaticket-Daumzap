const a571_0x5dac56=a571_0x5703;(function(_0x3b3c5a,_0x5e8089){const _0x2ad956=a571_0x5703,_0x52607d=_0x3b3c5a();while(!![]){try{const _0x3489a8=parseInt(_0x2ad956(0x101))/0x1+parseInt(_0x2ad956(0xf3))/0x2+parseInt(_0x2ad956(0xfb))/0x3*(-parseInt(_0x2ad956(0xed))/0x4)+-parseInt(_0x2ad956(0xee))/0x5+parseInt(_0x2ad956(0xe5))/0x6*(parseInt(_0x2ad956(0xea))/0x7)+-parseInt(_0x2ad956(0xe8))/0x8*(parseInt(_0x2ad956(0xef))/0x9)+-parseInt(_0x2ad956(0xff))/0xa;if(_0x3489a8===_0x5e8089)break;else _0x52607d['push'](_0x52607d['shift']());}catch(_0x281e17){_0x52607d['push'](_0x52607d['shift']());}}}(a571_0x3975,0x7a79d));const a571_0x143764=(function(){let _0x261a32=!![];return function(_0x5025b6,_0xa1619a){const _0xa2c70c=_0x261a32?function(){const _0x471129=a571_0x5703;if(_0xa1619a){const _0x2f8c13=_0xa1619a[_0x471129(0xdf)](_0x5025b6,arguments);return _0xa1619a=null,_0x2f8c13;}}:function(){};return _0x261a32=![],_0xa2c70c;};}()),a571_0x519015=a571_0x143764(this,function(){const _0x4b0c6c=a571_0x5703;return a571_0x519015['toString']()[_0x4b0c6c(0xe6)](_0x4b0c6c(0xe4))['toString']()[_0x4b0c6c(0xf2)](a571_0x519015)['search'](_0x4b0c6c(0xe4));});function a571_0x3975(){const _0x3609e5=['221337tgkLap','apply','greetingMediaAttachment','lodash','../../errors/AppError','deleteMedia','(((.+)+)+)+$','564246espfSA','search','path','872QceeSB','Arquivo\x20adicionado!','49VtkfRf','__importDefault','message','132UQCdBE','292875GkFMhb','8847qUHeqV','existsSync','findByPk','constructor','1288894rvEqnG','default','params','mediaUpload','status','files','save','resolve','73611oYupaV','head','public','unlinkSync','469670bCPgwn','__esModule'];a571_0x3975=function(){return _0x3609e5;};return a571_0x3975();}a571_0x519015();function a571_0x5703(_0x2678bc,_0x532509){const _0x1d5c54=a571_0x3975();return a571_0x5703=function(_0x519015,_0x143764){_0x519015=_0x519015-0xdf;let _0x3975af=_0x1d5c54[_0x519015];return _0x3975af;},a571_0x5703(_0x2678bc,_0x532509);}'use strict';var __importDefault=this&&this[a571_0x5dac56(0xeb)]||function(_0x59f6bb){const _0x2183a0=a571_0x5dac56;return _0x59f6bb&&_0x59f6bb[_0x2183a0(0x100)]?_0x59f6bb:{'default':_0x59f6bb};};Object['defineProperty'](exports,a571_0x5dac56(0x100),{'value':!![]}),exports['deleteMedia']=exports[a571_0x5dac56(0xf6)]=void 0x0;const lodash_1=require(a571_0x5dac56(0xe1)),AppError_1=__importDefault(require(a571_0x5dac56(0xe2))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),path_1=__importDefault(require(a571_0x5dac56(0xe7))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x2bc4df,_0x4fc580)=>{const _0x438351=a571_0x5dac56,{whatsappId:_0x46c991}=_0x2bc4df['params'],_0x4e8b73=_0x2bc4df[_0x438351(0xf8)],_0x4bebd7=(0x0,lodash_1[_0x438351(0xfc)])(_0x4e8b73);try{const _0xbd7dc7=await Whatsapp_1[_0x438351(0xf4)][_0x438351(0xf1)](_0x46c991);if(_0xbd7dc7[_0x438351(0xe0)]){const _0x2887ca=path_1[_0x438351(0xf4)][_0x438351(0xfa)](_0x438351(0xfd),_0xbd7dc7[_0x438351(0xe0)]),_0x2e29b1=fs_1['default']['existsSync'](_0x2887ca);_0x2e29b1&&fs_1[_0x438351(0xf4)][_0x438351(0xfe)](_0x2887ca);}return _0xbd7dc7['greetingMediaAttachment']=_0x4bebd7['filename'],await _0xbd7dc7[_0x438351(0xf9)](),_0x4fc580[_0x438351(0xf7)](0xc8)['json']({'mensagem':_0x438351(0xe9)});}catch(_0x3e80de){throw new AppError_1[(_0x438351(0xf4))](_0x3e80de['message']);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x58b76f,_0x4a7992)=>{const _0x5c514d=a571_0x5dac56,{whatsappId:_0x5459ed}=_0x58b76f[_0x5c514d(0xf5)];try{const _0x5baac2=await Whatsapp_1[_0x5c514d(0xf4)][_0x5c514d(0xf1)](_0x5459ed),_0x1f1886=path_1[_0x5c514d(0xf4)]['resolve'](_0x5c514d(0xfd),_0x5baac2[_0x5c514d(0xe0)]),_0x3e112c=fs_1[_0x5c514d(0xf4)][_0x5c514d(0xf0)](_0x1f1886);return _0x3e112c&&fs_1[_0x5c514d(0xf4)][_0x5c514d(0xfe)](_0x1f1886),_0x5baac2[_0x5c514d(0xe0)]=null,await _0x5baac2[_0x5c514d(0xf9)](),_0x4a7992['send']({'message':'Arquivo\x20exclu√≠do'});}catch(_0x30dc78){throw new AppError_1[(_0x5c514d(0xf4))](_0x30dc78[_0x5c514d(0xec)]);}};exports[a571_0x5dac56(0xe3)]=deleteMedia;