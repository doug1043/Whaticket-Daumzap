const a569_0x32b39b=a569_0x59e2;function a569_0x59e2(_0x44c10d,_0x103dfa){const _0x1f6377=a569_0x249a();return a569_0x59e2=function(_0x30361a,_0x525f9f){_0x30361a=_0x30361a-0x11f;let _0x249a6b=_0x1f6377[_0x30361a];return _0x249a6b;},a569_0x59e2(_0x44c10d,_0x103dfa);}(function(_0x469d49,_0x220702){const _0xf77a48=a569_0x59e2,_0x909aec=_0x469d49();while(!![]){try{const _0x528c4f=-parseInt(_0xf77a48(0x136))/0x1*(parseInt(_0xf77a48(0x13b))/0x2)+parseInt(_0xf77a48(0x13e))/0x3+-parseInt(_0xf77a48(0x126))/0x4*(parseInt(_0xf77a48(0x122))/0x5)+-parseInt(_0xf77a48(0x134))/0x6*(parseInt(_0xf77a48(0x12a))/0x7)+parseInt(_0xf77a48(0x127))/0x8*(-parseInt(_0xf77a48(0x135))/0x9)+-parseInt(_0xf77a48(0x142))/0xa*(-parseInt(_0xf77a48(0x130))/0xb)+parseInt(_0xf77a48(0x141))/0xc;if(_0x528c4f===_0x220702)break;else _0x909aec['push'](_0x909aec['shift']());}catch(_0x43c4d6){_0x909aec['push'](_0x909aec['shift']());}}}(a569_0x249a,0xce37f));const a569_0x525f9f=(function(){let _0x29be62=!![];return function(_0xd040fa,_0x235395){const _0x38853b=_0x29be62?function(){if(_0x235395){const _0x1a7c9f=_0x235395['apply'](_0xd040fa,arguments);return _0x235395=null,_0x1a7c9f;}}:function(){};return _0x29be62=![],_0x38853b;};}()),a569_0x30361a=a569_0x525f9f(this,function(){const _0x25ac93=a569_0x59e2;return a569_0x30361a[_0x25ac93(0x129)]()[_0x25ac93(0x124)](_0x25ac93(0x11f))[_0x25ac93(0x129)]()[_0x25ac93(0x132)](a569_0x30361a)[_0x25ac93(0x124)](_0x25ac93(0x11f));});a569_0x30361a();'use strict';var __importDefault=this&&this[a569_0x32b39b(0x13a)]||function(_0x45da4b){const _0x9c3177=a569_0x32b39b;return _0x45da4b&&_0x45da4b[_0x9c3177(0x133)]?_0x45da4b:{'default':_0x45da4b};};Object[a569_0x32b39b(0x137)](exports,a569_0x32b39b(0x133),{'value':!![]}),exports['deleteMedia']=exports[a569_0x32b39b(0x120)]=void 0x0;const lodash_1=require(a569_0x32b39b(0x145)),AppError_1=__importDefault(require('../../errors/AppError')),Whatsapp_1=__importDefault(require(a569_0x32b39b(0x128))),path_1=__importDefault(require(a569_0x32b39b(0x139))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x3441f4,_0xfd1b02)=>{const _0x64a8e7=a569_0x32b39b,{whatsappId:_0x541a37}=_0x3441f4[_0x64a8e7(0x12e)],_0x4aa35d=_0x3441f4[_0x64a8e7(0x123)],_0x970b02=(0x0,lodash_1[_0x64a8e7(0x131)])(_0x4aa35d);try{const _0x1a1f60=await Whatsapp_1['default'][_0x64a8e7(0x144)](_0x541a37);if(_0x1a1f60[_0x64a8e7(0x12f)]){const _0x3df4c4=path_1[_0x64a8e7(0x13c)][_0x64a8e7(0x12d)](_0x64a8e7(0x146),_0x1a1f60[_0x64a8e7(0x12f)]),_0x24d31f=fs_1[_0x64a8e7(0x13c)][_0x64a8e7(0x140)](_0x3df4c4);_0x24d31f&&fs_1['default']['unlinkSync'](_0x3df4c4);}return _0x1a1f60[_0x64a8e7(0x12f)]=_0x970b02[_0x64a8e7(0x125)],await _0x1a1f60[_0x64a8e7(0x12c)](),_0xfd1b02[_0x64a8e7(0x138)](0xc8)[_0x64a8e7(0x12b)]({'mensagem':_0x64a8e7(0x147)});}catch(_0x5d57a1){throw new AppError_1['default'](_0x5d57a1['message']);}};function a569_0x249a(){const _0xa1b0c5=['4492uJsiBm','default','deleteMedia','2322999NjNSvR','send','existsSync','25945416KvkivW','36070tSQMZz','unlinkSync','findByPk','lodash','public','Arquivo\x20adicionado!','message','(((.+)+)+)+$','mediaUpload','Arquivo\x20excluÃ­do','545SLpShK','files','search','filename','17548VKrOPJ','5464904fqJPtF','../../models/Whatsapp','toString','2522485IEuJvz','json','save','resolve','params','greetingMediaAttachment','4697daTaMk','head','constructor','__esModule','12nBTSkb','18wxxRoL','475OSikug','defineProperty','status','path','__importDefault'];a569_0x249a=function(){return _0xa1b0c5;};return a569_0x249a();}exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x17bdb9,_0x3020a2)=>{const _0x53962a=a569_0x32b39b,{whatsappId:_0x56191c}=_0x17bdb9[_0x53962a(0x12e)];try{const _0x371903=await Whatsapp_1['default'][_0x53962a(0x144)](_0x56191c),_0x4477ec=path_1[_0x53962a(0x13c)]['resolve'](_0x53962a(0x146),_0x371903[_0x53962a(0x12f)]),_0x70a67=fs_1[_0x53962a(0x13c)][_0x53962a(0x140)](_0x4477ec);return _0x70a67&&fs_1[_0x53962a(0x13c)][_0x53962a(0x143)](_0x4477ec),_0x371903[_0x53962a(0x12f)]=null,await _0x371903[_0x53962a(0x12c)](),_0x3020a2[_0x53962a(0x13f)]({'message':_0x53962a(0x121)});}catch(_0x589208){throw new AppError_1[(_0x53962a(0x13c))](_0x589208[_0x53962a(0x148)]);}};exports[a569_0x32b39b(0x13d)]=deleteMedia;