function a411_0x1fba(_0x307e3a,_0x45ad9e){const _0xe8b9bd=a411_0x4c12();return a411_0x1fba=function(_0x29fe58,_0x330e7e){_0x29fe58=_0x29fe58-0x101;let _0x4c12bc=_0xe8b9bd[_0x29fe58];return _0x4c12bc;},a411_0x1fba(_0x307e3a,_0x45ad9e);}function a411_0x4c12(){const _0x1f369d=['43978THknEh','1135608IwjlOy','ImportContacts','lodash','defineProperty','Email','email','constructor','nome','default','findOrCreate','e-mail','9240444tXSlkA','3920012thUktA','path','readFile','toString','apply','values','contactListId','número','Nome','8163995HEdRtN','10747492JWRXkt','companyId','xlsx','Sheets','E-mail','Número\x20de\x20contato\x20inválido:\x20','../WbotServices/CheckNumber','271242VoYLha','sheet_to_json','logger','isWhatsappValid','__esModule','save','38BDkayq','search','numero','number','push','Número','has','../../models/ContactListItem','(((.+)+)+)+$','jid','Numero','928JLYKpZ'];a411_0x4c12=function(){return _0x1f369d;};return a411_0x4c12();}const a411_0x15877d=a411_0x1fba;(function(_0x194ded,_0x4c2804){const _0x3453fb=a411_0x1fba,_0x25dc66=_0x194ded();while(!![]){try{const _0x127765=parseInt(_0x3453fb(0x11c))/0x1*(-parseInt(_0x3453fb(0x128))/0x2)+-parseInt(_0x3453fb(0x129))/0x3+parseInt(_0x3453fb(0x105))/0x4+parseInt(_0x3453fb(0x10e))/0x5+parseInt(_0x3453fb(0x104))/0x6+parseInt(_0x3453fb(0x10f))/0x7+parseInt(_0x3453fb(0x127))/0x8*(-parseInt(_0x3453fb(0x116))/0x9);if(_0x127765===_0x4c2804)break;else _0x25dc66['push'](_0x25dc66['shift']());}catch(_0x4237f6){_0x25dc66['push'](_0x25dc66['shift']());}}}(a411_0x4c12,0xeecba));const a411_0x330e7e=(function(){let _0x2c8c90=!![];return function(_0x156c9e,_0x12fe2b){const _0x374759=_0x2c8c90?function(){const _0x214b2a=a411_0x1fba;if(_0x12fe2b){const _0x354b36=_0x12fe2b[_0x214b2a(0x109)](_0x156c9e,arguments);return _0x12fe2b=null,_0x354b36;}}:function(){};return _0x2c8c90=![],_0x374759;};}()),a411_0x29fe58=a411_0x330e7e(this,function(){const _0xdf7b18=a411_0x1fba;return a411_0x29fe58[_0xdf7b18(0x108)]()[_0xdf7b18(0x11d)](_0xdf7b18(0x124))['toString']()[_0xdf7b18(0x12f)](a411_0x29fe58)[_0xdf7b18(0x11d)]('(((.+)+)+)+$');});a411_0x29fe58();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x51a3b4){const _0x129bf4=a411_0x1fba;return _0x51a3b4&&_0x51a3b4[_0x129bf4(0x11a)]?_0x51a3b4:{'default':_0x51a3b4};};Object[a411_0x15877d(0x12c)](exports,a411_0x15877d(0x11a),{'value':!![]}),exports[a411_0x15877d(0x12a)]=void 0x0;const lodash_1=require(a411_0x15877d(0x12b)),xlsx_1=__importDefault(require(a411_0x15877d(0x111))),lodash_2=require('lodash'),ContactListItem_1=__importDefault(require(a411_0x15877d(0x123))),CheckNumber_1=__importDefault(require(a411_0x15877d(0x115))),logger_1=require('../../utils/logger');async function ImportContacts(_0x57460b,_0x4b12f7,_0x33d5f8){const _0x170623=a411_0x15877d,_0x1a40f8=xlsx_1[_0x170623(0x101)][_0x170623(0x107)](_0x33d5f8?.[_0x170623(0x106)]),_0x23e951=(0x0,lodash_1['head'])(Object[_0x170623(0x10a)](_0x1a40f8[_0x170623(0x112)])),_0x4c1c8e=xlsx_1['default']['utils'][_0x170623(0x117)](_0x23e951,{'header':0x0}),_0x26b55e=_0x4c1c8e['map'](_0x3db01e=>{const _0xe41711=_0x170623;let _0x15efa9='',_0x349a7b='',_0x53a4fd='';return((0x0,lodash_2['has'])(_0x3db01e,_0xe41711(0x130))||(0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,'Nome'))&&(_0x15efa9=_0x3db01e['nome']||_0x3db01e[_0xe41711(0x10d)]),((0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,_0xe41711(0x11e))||(0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,_0xe41711(0x10c))||(0x0,lodash_2['has'])(_0x3db01e,'Numero')||(0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,'Número'))&&(_0x349a7b=_0x3db01e[_0xe41711(0x11e)]||_0x3db01e[_0xe41711(0x10c)]||_0x3db01e[_0xe41711(0x126)]||_0x3db01e[_0xe41711(0x121)],_0x349a7b=(''+_0x349a7b)['replace'](/\D/g,'')),((0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,'email')||(0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,_0xe41711(0x103))||(0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,_0xe41711(0x12d))||(0x0,lodash_2[_0xe41711(0x122)])(_0x3db01e,_0xe41711(0x113)))&&(_0x53a4fd=_0x3db01e[_0xe41711(0x12e)]||_0x3db01e[_0xe41711(0x103)]||_0x3db01e[_0xe41711(0x12d)]||_0x3db01e['E-mail']),{'name':_0x15efa9,'number':_0x349a7b,'email':_0x53a4fd,'contactListId':_0x57460b,'companyId':_0x4b12f7};}),_0x2ae091=[];for(const _0x493e74 of _0x26b55e){const [_0x377082,_0x41c3ae]=await ContactListItem_1[_0x170623(0x101)][_0x170623(0x102)]({'where':{'number':''+_0x493e74[_0x170623(0x11f)],'contactListId':_0x493e74[_0x170623(0x10b)],'companyId':_0x493e74[_0x170623(0x110)]},'defaults':_0x493e74});_0x41c3ae&&_0x2ae091[_0x170623(0x120)](_0x377082);}if(_0x2ae091)for(let _0x1e6b87 of _0x2ae091){try{const _0x5c3d39=await(0x0,CheckNumber_1[_0x170623(0x101)])(_0x1e6b87[_0x170623(0x11f)],_0x4b12f7);_0x1e6b87[_0x170623(0x119)]=_0x5c3d39['exists'];const _0x32c78f=_0x5c3d39[_0x170623(0x125)]['replace'](/\D/g,'');_0x1e6b87[_0x170623(0x11f)]=_0x32c78f,await _0x1e6b87[_0x170623(0x11b)]();}catch(_0x5221d7){logger_1[_0x170623(0x118)]['error'](_0x170623(0x114)+_0x1e6b87[_0x170623(0x11f)]);}}return _0x2ae091;}exports['ImportContacts']=ImportContacts;