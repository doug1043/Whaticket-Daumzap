const a410_0x268efd=a410_0x15bd;(function(_0x1b2855,_0x5c8ac0){const _0x139fcc=a410_0x15bd,_0x37d00b=_0x1b2855();while(!![]){try{const _0x4be03e=-parseInt(_0x139fcc(0x1a3))/0x1*(parseInt(_0x139fcc(0x1c7))/0x2)+parseInt(_0x139fcc(0x1cc))/0x3*(-parseInt(_0x139fcc(0x1a0))/0x4)+parseInt(_0x139fcc(0x1aa))/0x5+-parseInt(_0x139fcc(0x1a7))/0x6*(parseInt(_0x139fcc(0x1ce))/0x7)+parseInt(_0x139fcc(0x1b5))/0x8*(-parseInt(_0x139fcc(0x1c0))/0x9)+parseInt(_0x139fcc(0x1b4))/0xa*(parseInt(_0x139fcc(0x1ac))/0xb)+parseInt(_0x139fcc(0x1a9))/0xc;if(_0x4be03e===_0x5c8ac0)break;else _0x37d00b['push'](_0x37d00b['shift']());}catch(_0x20ca56){_0x37d00b['push'](_0x37d00b['shift']());}}}(a410_0x1b07,0xbb9ee));function a410_0x15bd(_0xfe5b46,_0x4a0603){const _0x137464=a410_0x1b07();return a410_0x15bd=function(_0x401c05,_0x4b10b1){_0x401c05=_0x401c05-0x199;let _0x1b073b=_0x137464[_0x401c05];return _0x1b073b;},a410_0x15bd(_0xfe5b46,_0x4a0603);}const a410_0x4b10b1=(function(){let _0x35e374=!![];return function(_0x19af68,_0x41d1ee){const _0x5f0562=_0x35e374?function(){if(_0x41d1ee){const _0x47b5df=_0x41d1ee['apply'](_0x19af68,arguments);return _0x41d1ee=null,_0x47b5df;}}:function(){};return _0x35e374=![],_0x5f0562;};}()),a410_0x401c05=a410_0x4b10b1(this,function(){const _0x181d19=a410_0x15bd;return a410_0x401c05[_0x181d19(0x19c)]()[_0x181d19(0x1c8)](_0x181d19(0x1b0))[_0x181d19(0x19c)]()[_0x181d19(0x1ab)](a410_0x401c05)[_0x181d19(0x1c8)](_0x181d19(0x1b0));});a410_0x401c05();'use strict';var __importDefault=this&&this[a410_0x268efd(0x1c6)]||function(_0x1adf3f){return _0x1adf3f&&_0x1adf3f['__esModule']?_0x1adf3f:{'default':_0x1adf3f};};Object[a410_0x268efd(0x1ad)](exports,a410_0x268efd(0x1cb),{'value':!![]}),exports[a410_0x268efd(0x1a4)]=void 0x0;const lodash_1=require(a410_0x268efd(0x1ae)),xlsx_1=__importDefault(require(a410_0x268efd(0x1ba))),lodash_2=require('lodash'),ContactListItem_1=__importDefault(require(a410_0x268efd(0x19d))),CheckNumber_1=__importDefault(require(a410_0x268efd(0x1c2))),logger_1=require(a410_0x268efd(0x1b8));async function ImportContacts(_0x4dd8ef,_0x9b5f9,_0x4bc865){const _0x2ef825=a410_0x268efd,_0x109c0f=xlsx_1[_0x2ef825(0x1b7)][_0x2ef825(0x1b9)](_0x4bc865?.[_0x2ef825(0x19a)]),_0xe482c8=(0x0,lodash_1[_0x2ef825(0x1cf)])(Object[_0x2ef825(0x1be)](_0x109c0f[_0x2ef825(0x199)])),_0x30cfe9=xlsx_1[_0x2ef825(0x1b7)][_0x2ef825(0x1c5)][_0x2ef825(0x1bc)](_0xe482c8,{'header':0x0}),_0x2f774e=_0x30cfe9[_0x2ef825(0x19b)](_0x11ba30=>{const _0x483672=_0x2ef825;let _0x2f1942='',_0x1253e5='',_0x2a5e6e='';return((0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,_0x483672(0x1b3))||(0x0,lodash_2['has'])(_0x11ba30,_0x483672(0x1c1)))&&(_0x2f1942=_0x11ba30['nome']||_0x11ba30[_0x483672(0x1c1)]),((0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,'numero')||(0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,_0x483672(0x19e))||(0x0,lodash_2['has'])(_0x11ba30,_0x483672(0x1af))||(0x0,lodash_2['has'])(_0x11ba30,_0x483672(0x19f)))&&(_0x1253e5=_0x11ba30[_0x483672(0x1bb)]||_0x11ba30['número']||_0x11ba30[_0x483672(0x1af)]||_0x11ba30[_0x483672(0x19f)],_0x1253e5=(''+_0x1253e5)[_0x483672(0x1ca)](/\D/g,'')),((0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,_0x483672(0x1a2))||(0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,_0x483672(0x1b6))||(0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,_0x483672(0x1a8))||(0x0,lodash_2[_0x483672(0x1c4)])(_0x11ba30,_0x483672(0x1a5)))&&(_0x2a5e6e=_0x11ba30[_0x483672(0x1a2)]||_0x11ba30[_0x483672(0x1b6)]||_0x11ba30[_0x483672(0x1a8)]||_0x11ba30[_0x483672(0x1a5)]),{'name':_0x2f1942,'number':_0x1253e5,'email':_0x2a5e6e,'contactListId':_0x4dd8ef,'companyId':_0x9b5f9};}),_0x1ecdbd=[];for(const _0x244748 of _0x2f774e){const [_0x10b330,_0x124096]=await ContactListItem_1[_0x2ef825(0x1b7)][_0x2ef825(0x1bf)]({'where':{'number':''+_0x244748[_0x2ef825(0x1c3)],'contactListId':_0x244748['contactListId'],'companyId':_0x244748[_0x2ef825(0x1b1)]},'defaults':_0x244748});_0x124096&&_0x1ecdbd[_0x2ef825(0x1a1)](_0x10b330);}if(_0x1ecdbd)for(let _0x3b214f of _0x1ecdbd){try{const _0x2ba9c1=await(0x0,CheckNumber_1[_0x2ef825(0x1b7)])(_0x3b214f[_0x2ef825(0x1c3)],_0x9b5f9);_0x3b214f['isWhatsappValid']=_0x2ba9c1[_0x2ef825(0x1cd)];const _0x26a490=_0x2ba9c1[_0x2ef825(0x1bd)][_0x2ef825(0x1ca)](/\D/g,'');_0x3b214f[_0x2ef825(0x1c3)]=_0x26a490,await _0x3b214f[_0x2ef825(0x1a6)]();}catch(_0x31698e){logger_1[_0x2ef825(0x1c9)]['error'](_0x2ef825(0x1b2)+_0x3b214f[_0x2ef825(0x1c3)]);}}return _0x1ecdbd;}function a410_0x1b07(){const _0x33c468=['2064EBdOJl','push','email','825bOiJuf','ImportContacts','E-mail','save','90786GfHAPF','Email','34920912BjfspU','5688975bbNhYX','constructor','22hHlVvd','defineProperty','lodash','Numero','(((.+)+)+)+$','companyId','Número\x20de\x20contato\x20inválido:\x20','nome','2402160VrMuKH','94272cffFTn','e-mail','default','../../utils/logger','readFile','xlsx','numero','sheet_to_json','jid','values','findOrCreate','360vsZEmS','Nome','../WbotServices/CheckNumber','number','has','utils','__importDefault','3054NbJmaN','search','logger','replace','__esModule','4581YiTFvv','exists','574LBgrle','head','Sheets','path','map','toString','../../models/ContactListItem','número','Número'];a410_0x1b07=function(){return _0x33c468;};return a410_0x1b07();}exports[a410_0x268efd(0x1a4)]=ImportContacts;