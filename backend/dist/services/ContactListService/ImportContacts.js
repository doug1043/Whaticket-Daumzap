const a435_0x336523=a435_0x544b;(function(_0x5c0cca,_0x2cdc72){const _0x1de527=a435_0x544b,_0x4f0cb4=_0x5c0cca();while(!![]){try{const _0x5bd5c0=-parseInt(_0x1de527(0x159))/0x1+parseInt(_0x1de527(0x163))/0x2+parseInt(_0x1de527(0x178))/0x3+-parseInt(_0x1de527(0x171))/0x4+-parseInt(_0x1de527(0x158))/0x5+-parseInt(_0x1de527(0x161))/0x6*(parseInt(_0x1de527(0x14e))/0x7)+-parseInt(_0x1de527(0x16d))/0x8*(-parseInt(_0x1de527(0x166))/0x9);if(_0x5bd5c0===_0x2cdc72)break;else _0x4f0cb4['push'](_0x4f0cb4['shift']());}catch(_0x44f6fd){_0x4f0cb4['push'](_0x4f0cb4['shift']());}}}(a435_0x2dee,0xe3e85));const a435_0xf3a476=(function(){let _0x1fb45a=!![];return function(_0x4ac6a8,_0x2c0646){const _0x10c6bd=_0x1fb45a?function(){const _0x242de2=a435_0x544b;if(_0x2c0646){const _0x20e7b6=_0x2c0646[_0x242de2(0x14c)](_0x4ac6a8,arguments);return _0x2c0646=null,_0x20e7b6;}}:function(){};return _0x1fb45a=![],_0x10c6bd;};}()),a435_0x4634b2=a435_0xf3a476(this,function(){const _0x4ae805=a435_0x544b;return a435_0x4634b2[_0x4ae805(0x153)]()['search'](_0x4ae805(0x164))[_0x4ae805(0x153)]()[_0x4ae805(0x169)](a435_0x4634b2)[_0x4ae805(0x150)](_0x4ae805(0x164));});a435_0x4634b2();function a435_0x2dee(){const _0xd2be5b=['companyId','7eMkjBg','__importDefault','search','map','isWhatsappValid','toString','E-mail','Número\x20de\x20contato\x20inválido:\x20','Numero','logger','9169505WUkrjV','713385iUWnPr','exists','../../utils/logger','email','nome','../WbotServices/CheckNumber','defineProperty','número','129612fmWGun','jid','2428298yxoiGJ','(((.+)+)+)+$','utils','19196739mmOvSl','Email','readFile','constructor','save','numero','push','8KkmFGx','number','xlsx','has','2630876ktXSGT','../../models/ContactListItem','default','error','lodash','__esModule','contactListId','2438988uxAKSM','replace','e-mail','path','apply'];a435_0x2dee=function(){return _0xd2be5b;};return a435_0x2dee();}'use strict';var __importDefault=this&&this[a435_0x336523(0x14f)]||function(_0x1d104a){const _0xa853d6=a435_0x336523;return _0x1d104a&&_0x1d104a[_0xa853d6(0x176)]?_0x1d104a:{'default':_0x1d104a};};Object[a435_0x336523(0x15f)](exports,a435_0x336523(0x176),{'value':!![]}),exports['ImportContacts']=ImportContacts;const lodash_1=require(a435_0x336523(0x175)),xlsx_1=__importDefault(require(a435_0x336523(0x16f))),lodash_2=require(a435_0x336523(0x175)),ContactListItem_1=__importDefault(require(a435_0x336523(0x172))),CheckNumber_1=__importDefault(require(a435_0x336523(0x15e))),logger_1=require(a435_0x336523(0x15b));function a435_0x544b(_0x274444,_0xda6e5e){const _0x20bef5=a435_0x2dee();return a435_0x544b=function(_0x4634b2,_0xf3a476){_0x4634b2=_0x4634b2-0x14a;let _0x2dee60=_0x20bef5[_0x4634b2];return _0x2dee60;},a435_0x544b(_0x274444,_0xda6e5e);}async function ImportContacts(_0x1837d1,_0x57be01,_0x2eca5e){const _0x3d107a=a435_0x336523,_0x3353af=xlsx_1['default'][_0x3d107a(0x168)](_0x2eca5e?.[_0x3d107a(0x14b)]),_0x47fc76=(0x0,lodash_1['head'])(Object['values'](_0x3353af['Sheets'])),_0x48b89a=xlsx_1['default'][_0x3d107a(0x165)]['sheet_to_json'](_0x47fc76,{'header':0x0}),_0x2828bc=_0x48b89a[_0x3d107a(0x151)](_0x13df22=>{const _0x1bf1fe=_0x3d107a;let _0x405bd6='',_0x3f5416='',_0x2867e='';return((0x0,lodash_2['has'])(_0x13df22,_0x1bf1fe(0x15d))||(0x0,lodash_2[_0x1bf1fe(0x170)])(_0x13df22,'Nome'))&&(_0x405bd6=_0x13df22[_0x1bf1fe(0x15d)]||_0x13df22['Nome']),((0x0,lodash_2[_0x1bf1fe(0x170)])(_0x13df22,'numero')||(0x0,lodash_2['has'])(_0x13df22,'número')||(0x0,lodash_2['has'])(_0x13df22,_0x1bf1fe(0x156))||(0x0,lodash_2['has'])(_0x13df22,'Número'))&&(_0x3f5416=_0x13df22[_0x1bf1fe(0x16b)]||_0x13df22[_0x1bf1fe(0x160)]||_0x13df22[_0x1bf1fe(0x156)]||_0x13df22['Número'],_0x3f5416=(''+_0x3f5416)[_0x1bf1fe(0x179)](/\D/g,'')),((0x0,lodash_2['has'])(_0x13df22,_0x1bf1fe(0x15c))||(0x0,lodash_2['has'])(_0x13df22,_0x1bf1fe(0x14a))||(0x0,lodash_2[_0x1bf1fe(0x170)])(_0x13df22,'Email')||(0x0,lodash_2['has'])(_0x13df22,_0x1bf1fe(0x154)))&&(_0x2867e=_0x13df22[_0x1bf1fe(0x15c)]||_0x13df22[_0x1bf1fe(0x14a)]||_0x13df22[_0x1bf1fe(0x167)]||_0x13df22[_0x1bf1fe(0x154)]),{'name':_0x405bd6,'number':_0x3f5416,'email':_0x2867e,'contactListId':_0x1837d1,'companyId':_0x57be01};}),_0x2ad3cd=[];for(const _0x33a788 of _0x2828bc){const [_0x3b9db6,_0x17fc42]=await ContactListItem_1[_0x3d107a(0x173)]['findOrCreate']({'where':{'number':''+_0x33a788[_0x3d107a(0x16e)],'contactListId':_0x33a788[_0x3d107a(0x177)],'companyId':_0x33a788[_0x3d107a(0x14d)]},'defaults':_0x33a788});_0x17fc42&&_0x2ad3cd[_0x3d107a(0x16c)](_0x3b9db6);}if(_0x2ad3cd)for(let _0x5d22e5 of _0x2ad3cd){try{const _0x1dbf07=await(0x0,CheckNumber_1['default'])(_0x5d22e5[_0x3d107a(0x16e)],_0x57be01);_0x5d22e5[_0x3d107a(0x152)]=_0x1dbf07[_0x3d107a(0x15a)];const _0x2b1fad=_0x1dbf07[_0x3d107a(0x162)]['replace'](/\D/g,'');_0x5d22e5['number']=_0x2b1fad,await _0x5d22e5[_0x3d107a(0x16a)]();}catch(_0x3a2a5a){logger_1[_0x3d107a(0x157)][_0x3d107a(0x174)](_0x3d107a(0x155)+_0x5d22e5[_0x3d107a(0x16e)]);}}return _0x2ad3cd;}