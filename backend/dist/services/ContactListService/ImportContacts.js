const a444_0x4a4d2b=a444_0x10a5;(function(_0x28b528,_0x4948ba){const _0x1244b3=a444_0x10a5,_0x2224be=_0x28b528();while(!![]){try{const _0x3b73b8=-parseInt(_0x1244b3(0x17d))/0x1+-parseInt(_0x1244b3(0x186))/0x2*(parseInt(_0x1244b3(0x17c))/0x3)+parseInt(_0x1244b3(0x16a))/0x4+-parseInt(_0x1244b3(0x16d))/0x5+-parseInt(_0x1244b3(0x16e))/0x6+parseInt(_0x1244b3(0x185))/0x7+parseInt(_0x1244b3(0x174))/0x8*(parseInt(_0x1244b3(0x184))/0x9);if(_0x3b73b8===_0x4948ba)break;else _0x2224be['push'](_0x2224be['shift']());}catch(_0x5036d3){_0x2224be['push'](_0x2224be['shift']());}}}(a444_0x41a7,0x7b625));const a444_0x126195=(function(){let _0x3745d2=!![];return function(_0x272c2d,_0x3631a9){const _0x2047bc=_0x3745d2?function(){const _0x329417=a444_0x10a5;if(_0x3631a9){const _0x175fbe=_0x3631a9[_0x329417(0x18e)](_0x272c2d,arguments);return _0x3631a9=null,_0x175fbe;}}:function(){};return _0x3745d2=![],_0x2047bc;};}()),a444_0x3b9132=a444_0x126195(this,function(){const _0x7b7e20=a444_0x10a5;return a444_0x3b9132[_0x7b7e20(0x16b)]()['search'](_0x7b7e20(0x18b))[_0x7b7e20(0x16b)]()[_0x7b7e20(0x168)](a444_0x3b9132)['search'](_0x7b7e20(0x18b));});a444_0x3b9132();'use strict';var __importDefault=this&&this[a444_0x4a4d2b(0x172)]||function(_0x14007b){const _0x97508b=a444_0x4a4d2b;return _0x14007b&&_0x14007b[_0x97508b(0x182)]?_0x14007b:{'default':_0x14007b};};function a444_0x10a5(_0x14f1b1,_0x4e58f1){const _0x1b10f9=a444_0x41a7();return a444_0x10a5=function(_0x3b9132,_0x126195){_0x3b9132=_0x3b9132-0x166;let _0x41a7b1=_0x1b10f9[_0x3b9132];return _0x41a7b1;},a444_0x10a5(_0x14f1b1,_0x4e58f1);}Object[a444_0x4a4d2b(0x17a)](exports,'__esModule',{'value':!![]}),exports['ImportContacts']=ImportContacts;const lodash_1=require('lodash'),xlsx_1=__importDefault(require('xlsx')),lodash_2=require(a444_0x4a4d2b(0x17b)),ContactListItem_1=__importDefault(require(a444_0x4a4d2b(0x177))),CheckNumber_1=__importDefault(require(a444_0x4a4d2b(0x166))),logger_1=require(a444_0x4a4d2b(0x18a));async function ImportContacts(_0x2b45fa,_0x5db072,_0x3fd834){const _0xb0287a=a444_0x4a4d2b,_0x5ed77f=xlsx_1['default'][_0xb0287a(0x181)](_0x3fd834?.[_0xb0287a(0x18f)]),_0x1d92b4=(0x0,lodash_1[_0xb0287a(0x180)])(Object['values'](_0x5ed77f[_0xb0287a(0x18c)])),_0x10d6f5=xlsx_1[_0xb0287a(0x170)][_0xb0287a(0x176)][_0xb0287a(0x17e)](_0x1d92b4,{'header':0x0}),_0x5b9e04=_0x10d6f5['map'](_0xcbfae8=>{const _0x94213f=_0xb0287a;let _0x5105b8='',_0x12e9b3='',_0x206931='';return((0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x190))||(0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x189)))&&(_0x5105b8=_0xcbfae8[_0x94213f(0x190)]||_0xcbfae8[_0x94213f(0x189)]),((0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x175))||(0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x18d))||(0x0,lodash_2['has'])(_0xcbfae8,'Numero')||(0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,'Número'))&&(_0x12e9b3=_0xcbfae8[_0x94213f(0x175)]||_0xcbfae8[_0x94213f(0x18d)]||_0xcbfae8['Numero']||_0xcbfae8['Número'],_0x12e9b3=(''+_0x12e9b3)['replace'](/\D/g,'')),((0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x167))||(0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x187))||(0x0,lodash_2[_0x94213f(0x179)])(_0xcbfae8,_0x94213f(0x16f))||(0x0,lodash_2['has'])(_0xcbfae8,'E-mail'))&&(_0x206931=_0xcbfae8[_0x94213f(0x167)]||_0xcbfae8[_0x94213f(0x187)]||_0xcbfae8[_0x94213f(0x16f)]||_0xcbfae8[_0x94213f(0x171)]),{'name':_0x5105b8,'number':_0x12e9b3,'email':_0x206931,'contactListId':_0x2b45fa,'companyId':_0x5db072};}),_0x3172da=[];for(const _0x1b8735 of _0x5b9e04){const [_0x21f1e4,_0x296f99]=await ContactListItem_1['default'][_0xb0287a(0x169)]({'where':{'number':''+_0x1b8735[_0xb0287a(0x16c)],'contactListId':_0x1b8735[_0xb0287a(0x17f)],'companyId':_0x1b8735['companyId']},'defaults':_0x1b8735});_0x296f99&&_0x3172da[_0xb0287a(0x178)](_0x21f1e4);}if(_0x3172da)for(let _0x403079 of _0x3172da){try{const _0x4fe3d8=await(0x0,CheckNumber_1[_0xb0287a(0x170)])(_0x403079[_0xb0287a(0x16c)],_0x5db072);_0x403079[_0xb0287a(0x173)]=_0x4fe3d8['exists'];const _0x4609b6=_0x4fe3d8['jid']['replace'](/\D/g,'');_0x403079['number']=_0x4609b6,await _0x403079[_0xb0287a(0x183)]();}catch(_0x369c83){logger_1[_0xb0287a(0x188)]['error']('Número\x20de\x20contato\x20inválido:\x20'+_0x403079[_0xb0287a(0x16c)]);}}return _0x3172da;}function a444_0x41a7(){const _0x478204=['apply','path','nome','../WbotServices/CheckNumber','email','constructor','findOrCreate','914856MaMWwF','toString','number','4049870mXcBOZ','4413840rvFJXu','Email','default','E-mail','__importDefault','isWhatsappValid','4048YIPRUD','numero','utils','../../models/ContactListItem','push','has','defineProperty','lodash','3513GoFKZI','698159pPMQUE','sheet_to_json','contactListId','head','readFile','__esModule','save','52587lXRjgr','86625GAXbka','766SqUSzw','e-mail','logger','Nome','../../utils/logger','(((.+)+)+)+$','Sheets','número'];a444_0x41a7=function(){return _0x478204;};return a444_0x41a7();}