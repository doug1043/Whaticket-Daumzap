const a440_0x5e22bd=a440_0x4994;function a440_0x4994(_0x3d542c,_0xbb2102){const _0x4d04a5=a440_0x1782();return a440_0x4994=function(_0x277086,_0x2f710a){_0x277086=_0x277086-0x159;let _0x17824a=_0x4d04a5[_0x277086];return _0x17824a;},a440_0x4994(_0x3d542c,_0xbb2102);}(function(_0x53dd51,_0x167aad){const _0x55341e=a440_0x4994,_0x4e9b95=_0x53dd51();while(!![]){try{const _0x4dd05b=parseInt(_0x55341e(0x185))/0x1*(-parseInt(_0x55341e(0x167))/0x2)+-parseInt(_0x55341e(0x17a))/0x3+parseInt(_0x55341e(0x15c))/0x4*(parseInt(_0x55341e(0x186))/0x5)+-parseInt(_0x55341e(0x170))/0x6*(parseInt(_0x55341e(0x15d))/0x7)+parseInt(_0x55341e(0x171))/0x8+parseInt(_0x55341e(0x165))/0x9+parseInt(_0x55341e(0x17c))/0xa;if(_0x4dd05b===_0x167aad)break;else _0x4e9b95['push'](_0x4e9b95['shift']());}catch(_0x2c5258){_0x4e9b95['push'](_0x4e9b95['shift']());}}}(a440_0x1782,0x36544));const a440_0x2f710a=(function(){let _0x43d39d=!![];return function(_0x41f7b2,_0x49f71b){const _0x526241=_0x43d39d?function(){const _0x4c006b=a440_0x4994;if(_0x49f71b){const _0xa47370=_0x49f71b[_0x4c006b(0x179)](_0x41f7b2,arguments);return _0x49f71b=null,_0xa47370;}}:function(){};return _0x43d39d=![],_0x526241;};}()),a440_0x277086=a440_0x2f710a(this,function(){const _0x174e13=a440_0x4994;return a440_0x277086[_0x174e13(0x16b)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a440_0x277086)[_0x174e13(0x172)](_0x174e13(0x164));});a440_0x277086();'use strict';var __importDefault=this&&this[a440_0x5e22bd(0x181)]||function(_0x458638){const _0x4bcc09=a440_0x5e22bd;return _0x458638&&_0x458638[_0x4bcc09(0x15b)]?_0x458638:{'default':_0x458638};};Object['defineProperty'](exports,a440_0x5e22bd(0x15b),{'value':!![]}),exports['ImportContacts']=ImportContacts;const lodash_1=require(a440_0x5e22bd(0x15e)),xlsx_1=__importDefault(require(a440_0x5e22bd(0x169))),lodash_2=require(a440_0x5e22bd(0x15e)),ContactListItem_1=__importDefault(require(a440_0x5e22bd(0x17e))),CheckNumber_1=__importDefault(require(a440_0x5e22bd(0x15f))),logger_1=require(a440_0x5e22bd(0x180));function a440_0x1782(){const _0x2c0c44=['toString','email','jid','contactListId','e-mail','1203726IbkfpY','1294696shTNEn','search','Email','number','error','numero','save','Numero','apply','733590vUwCAL','readFile','3179450tfQUma','default','../../models/ContactListItem','Sheets','../../utils/logger','__importDefault','número','map','E-mail','2059hwZyQY','10WTqLdE','findOrCreate','Número','replace','__esModule','69924igGJrf','14vlQIBj','lodash','../WbotServices/CheckNumber','values','has','utils','exists','(((.+)+)+)+$','3571191lDDUDH','Nome','42GUjacz','nome','xlsx','head'];a440_0x1782=function(){return _0x2c0c44;};return a440_0x1782();}async function ImportContacts(_0x2e91d8,_0x2d1cf3,_0x3caa0c){const _0x12fb4f=a440_0x5e22bd,_0x1f9fb9=xlsx_1['default'][_0x12fb4f(0x17b)](_0x3caa0c?.['path']),_0x34bc9d=(0x0,lodash_1[_0x12fb4f(0x16a)])(Object[_0x12fb4f(0x160)](_0x1f9fb9[_0x12fb4f(0x17f)])),_0x14c29a=xlsx_1[_0x12fb4f(0x17d)][_0x12fb4f(0x162)]['sheet_to_json'](_0x34bc9d,{'header':0x0}),_0x223dc=_0x14c29a[_0x12fb4f(0x183)](_0x407ffa=>{const _0x48f270=_0x12fb4f;let _0x3cd44d='',_0x5e8480='',_0x26a060='';return((0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,'nome')||(0x0,lodash_2['has'])(_0x407ffa,_0x48f270(0x166)))&&(_0x3cd44d=_0x407ffa[_0x48f270(0x168)]||_0x407ffa['Nome']),((0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,_0x48f270(0x176))||(0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,_0x48f270(0x182))||(0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,_0x48f270(0x178))||(0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,_0x48f270(0x159)))&&(_0x5e8480=_0x407ffa[_0x48f270(0x176)]||_0x407ffa[_0x48f270(0x182)]||_0x407ffa[_0x48f270(0x178)]||_0x407ffa['Número'],_0x5e8480=(''+_0x5e8480)[_0x48f270(0x15a)](/\D/g,'')),((0x0,lodash_2['has'])(_0x407ffa,_0x48f270(0x16c))||(0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,_0x48f270(0x16f))||(0x0,lodash_2['has'])(_0x407ffa,_0x48f270(0x173))||(0x0,lodash_2[_0x48f270(0x161)])(_0x407ffa,_0x48f270(0x184)))&&(_0x26a060=_0x407ffa[_0x48f270(0x16c)]||_0x407ffa[_0x48f270(0x16f)]||_0x407ffa[_0x48f270(0x173)]||_0x407ffa[_0x48f270(0x184)]),{'name':_0x3cd44d,'number':_0x5e8480,'email':_0x26a060,'contactListId':_0x2e91d8,'companyId':_0x2d1cf3};}),_0x370650=[];for(const _0x26b9d5 of _0x223dc){const [_0x27ae5b,_0x4a9bfd]=await ContactListItem_1[_0x12fb4f(0x17d)][_0x12fb4f(0x187)]({'where':{'number':''+_0x26b9d5[_0x12fb4f(0x174)],'contactListId':_0x26b9d5[_0x12fb4f(0x16e)],'companyId':_0x26b9d5['companyId']},'defaults':_0x26b9d5});_0x4a9bfd&&_0x370650['push'](_0x27ae5b);}if(_0x370650)for(let _0x474a7c of _0x370650){try{const _0x114c3e=await(0x0,CheckNumber_1[_0x12fb4f(0x17d)])(_0x474a7c[_0x12fb4f(0x174)],_0x2d1cf3);_0x474a7c['isWhatsappValid']=_0x114c3e[_0x12fb4f(0x163)];const _0x11a0d0=_0x114c3e[_0x12fb4f(0x16d)][_0x12fb4f(0x15a)](/\D/g,'');_0x474a7c[_0x12fb4f(0x174)]=_0x11a0d0,await _0x474a7c[_0x12fb4f(0x177)]();}catch(_0x133dfe){logger_1['logger'][_0x12fb4f(0x175)]('Número\x20de\x20contato\x20inválido:\x20'+_0x474a7c['number']);}}return _0x370650;}