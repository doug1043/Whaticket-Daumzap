const a409_0x5b3985=a409_0x3a16;(function(_0x2b0d78,_0x57aefb){const _0x331aae=a409_0x3a16,_0x2a9802=_0x2b0d78();while(!![]){try{const _0x4c6248=-parseInt(_0x331aae(0x204))/0x1*(-parseInt(_0x331aae(0x1e9))/0x2)+parseInt(_0x331aae(0x20c))/0x3+parseInt(_0x331aae(0x1f1))/0x4*(parseInt(_0x331aae(0x207))/0x5)+-parseInt(_0x331aae(0x1f8))/0x6+parseInt(_0x331aae(0x1e7))/0x7*(-parseInt(_0x331aae(0x1f5))/0x8)+parseInt(_0x331aae(0x20d))/0x9*(-parseInt(_0x331aae(0x1eb))/0xa)+-parseInt(_0x331aae(0x1e3))/0xb;if(_0x4c6248===_0x57aefb)break;else _0x2a9802['push'](_0x2a9802['shift']());}catch(_0x482685){_0x2a9802['push'](_0x2a9802['shift']());}}}(a409_0x17af,0x481ef));const a409_0x1e1c23=(function(){let _0x5d342b=!![];return function(_0x37d0c5,_0x21c0b4){const _0x2038c7=_0x5d342b?function(){if(_0x21c0b4){const _0x144315=_0x21c0b4['apply'](_0x37d0c5,arguments);return _0x21c0b4=null,_0x144315;}}:function(){};return _0x5d342b=![],_0x2038c7;};}()),a409_0x6eeab5=a409_0x1e1c23(this,function(){const _0x404416=a409_0x3a16;return a409_0x6eeab5[_0x404416(0x1ee)]()['search'](_0x404416(0x201))[_0x404416(0x1ee)]()[_0x404416(0x1e0)](a409_0x6eeab5)[_0x404416(0x1e2)](_0x404416(0x201));});a409_0x6eeab5();'use strict';function a409_0x3a16(_0x197c32,_0x2b94d2){const _0x4850e6=a409_0x17af();return a409_0x3a16=function(_0x6eeab5,_0x1e1c23){_0x6eeab5=_0x6eeab5-0x1e0;let _0x17afdb=_0x4850e6[_0x6eeab5];return _0x17afdb;},a409_0x3a16(_0x197c32,_0x2b94d2);}function a409_0x17af(){const _0x23c171=['133972HXQbLC','Numero','2130fUUUta','e-mail','nome','toString','default','number','8LOAXoC','../../models/ContactListItem','Nome','findOrCreate','2688312scpcIz','push','companyId','342612LRKoHq','../../utils/logger','readFile','Email','../WbotServices/CheckNumber','values','ImportContacts','Número','head','(((.+)+)+)+$','defineProperty','path','6xMPwxA','__esModule','xlsx','860260fyLzlA','exists','error','sheet_to_json','utils','990909pvMFBv','12933eeoaSk','logger','E-mail','email','constructor','numero','search','898634RRURyS','__importDefault','has','lodash','7yceAcE','save'];a409_0x17af=function(){return _0x23c171;};return a409_0x17af();}var __importDefault=this&&this[a409_0x5b3985(0x1e4)]||function(_0x4dfe47){const _0x38088d=a409_0x5b3985;return _0x4dfe47&&_0x4dfe47[_0x38088d(0x205)]?_0x4dfe47:{'default':_0x4dfe47};};Object[a409_0x5b3985(0x202)](exports,a409_0x5b3985(0x205),{'value':!![]}),exports[a409_0x5b3985(0x1fe)]=void 0x0;const lodash_1=require(a409_0x5b3985(0x1e6)),xlsx_1=__importDefault(require(a409_0x5b3985(0x206))),lodash_2=require(a409_0x5b3985(0x1e6)),ContactListItem_1=__importDefault(require(a409_0x5b3985(0x1f2))),CheckNumber_1=__importDefault(require(a409_0x5b3985(0x1fc))),logger_1=require(a409_0x5b3985(0x1f9));async function ImportContacts(_0x1c01c9,_0x170aaa,_0x2167ae){const _0x46b51f=a409_0x5b3985,_0x49e6b5=xlsx_1[_0x46b51f(0x1ef)][_0x46b51f(0x1fa)](_0x2167ae?.[_0x46b51f(0x203)]),_0xf5110=(0x0,lodash_1[_0x46b51f(0x200)])(Object[_0x46b51f(0x1fd)](_0x49e6b5['Sheets'])),_0x2dc0bd=xlsx_1[_0x46b51f(0x1ef)][_0x46b51f(0x20b)][_0x46b51f(0x20a)](_0xf5110,{'header':0x0}),_0x411df7=_0x2dc0bd['map'](_0x1d682a=>{const _0x17fd5e=_0x46b51f;let _0xcfc33e='',_0x5361be='',_0xeba905='';return((0x0,lodash_2[_0x17fd5e(0x1e5)])(_0x1d682a,'nome')||(0x0,lodash_2['has'])(_0x1d682a,_0x17fd5e(0x1f3)))&&(_0xcfc33e=_0x1d682a[_0x17fd5e(0x1ed)]||_0x1d682a[_0x17fd5e(0x1f3)]),((0x0,lodash_2[_0x17fd5e(0x1e5)])(_0x1d682a,_0x17fd5e(0x1e1))||(0x0,lodash_2['has'])(_0x1d682a,'número')||(0x0,lodash_2[_0x17fd5e(0x1e5)])(_0x1d682a,_0x17fd5e(0x1ea))||(0x0,lodash_2[_0x17fd5e(0x1e5)])(_0x1d682a,_0x17fd5e(0x1ff)))&&(_0x5361be=_0x1d682a[_0x17fd5e(0x1e1)]||_0x1d682a['número']||_0x1d682a[_0x17fd5e(0x1ea)]||_0x1d682a['Número'],_0x5361be=(''+_0x5361be)['replace'](/\D/g,'')),((0x0,lodash_2['has'])(_0x1d682a,_0x17fd5e(0x210))||(0x0,lodash_2[_0x17fd5e(0x1e5)])(_0x1d682a,_0x17fd5e(0x1ec))||(0x0,lodash_2['has'])(_0x1d682a,_0x17fd5e(0x1fb))||(0x0,lodash_2['has'])(_0x1d682a,_0x17fd5e(0x20f)))&&(_0xeba905=_0x1d682a['email']||_0x1d682a[_0x17fd5e(0x1ec)]||_0x1d682a[_0x17fd5e(0x1fb)]||_0x1d682a['E-mail']),{'name':_0xcfc33e,'number':_0x5361be,'email':_0xeba905,'contactListId':_0x1c01c9,'companyId':_0x170aaa};}),_0x307cec=[];for(const _0x3e0e5f of _0x411df7){const [_0x1b3a3d,_0x428ffd]=await ContactListItem_1[_0x46b51f(0x1ef)][_0x46b51f(0x1f4)]({'where':{'number':''+_0x3e0e5f[_0x46b51f(0x1f0)],'contactListId':_0x3e0e5f['contactListId'],'companyId':_0x3e0e5f[_0x46b51f(0x1f7)]},'defaults':_0x3e0e5f});_0x428ffd&&_0x307cec[_0x46b51f(0x1f6)](_0x1b3a3d);}if(_0x307cec)for(let _0xb3f8fe of _0x307cec){try{const _0x504b72=await(0x0,CheckNumber_1[_0x46b51f(0x1ef)])(_0xb3f8fe[_0x46b51f(0x1f0)],_0x170aaa);_0xb3f8fe['isWhatsappValid']=_0x504b72[_0x46b51f(0x208)];const _0x2da3a6=_0x504b72['jid']['replace'](/\D/g,'');_0xb3f8fe[_0x46b51f(0x1f0)]=_0x2da3a6,await _0xb3f8fe[_0x46b51f(0x1e8)]();}catch(_0x248c55){logger_1[_0x46b51f(0x20e)][_0x46b51f(0x209)]('Número\x20de\x20contato\x20inválido:\x20'+_0xb3f8fe[_0x46b51f(0x1f0)]);}}return _0x307cec;}exports[a409_0x5b3985(0x1fe)]=ImportContacts;