const a441_0x1fa168=a441_0x3d25;(function(_0x4869d7,_0x9e7956){const _0x182ba8=a441_0x3d25,_0x5bd4d5=_0x4869d7();while(!![]){try{const _0x6acca8=-parseInt(_0x182ba8(0x1e0))/0x1+-parseInt(_0x182ba8(0x1ba))/0x2*(-parseInt(_0x182ba8(0x1d2))/0x3)+parseInt(_0x182ba8(0x1e4))/0x4+parseInt(_0x182ba8(0x1bb))/0x5*(parseInt(_0x182ba8(0x1e6))/0x6)+-parseInt(_0x182ba8(0x1de))/0x7*(parseInt(_0x182ba8(0x1d6))/0x8)+parseInt(_0x182ba8(0x1c7))/0x9+parseInt(_0x182ba8(0x1df))/0xa*(-parseInt(_0x182ba8(0x1ca))/0xb);if(_0x6acca8===_0x9e7956)break;else _0x5bd4d5['push'](_0x5bd4d5['shift']());}catch(_0x22c61f){_0x5bd4d5['push'](_0x5bd4d5['shift']());}}}(a441_0x463a,0xa1dd5));function a441_0x3d25(_0x115ec4,_0x3c7290){const _0x13341a=a441_0x463a();return a441_0x3d25=function(_0x8faef6,_0x473e6d){_0x8faef6=_0x8faef6-0x1b9;let _0x463aa7=_0x13341a[_0x8faef6];return _0x463aa7;},a441_0x3d25(_0x115ec4,_0x3c7290);}const a441_0x473e6d=(function(){let _0x5c823c=!![];return function(_0x43008b,_0x4733a1){const _0x45fe2c=_0x5c823c?function(){const _0x1b3305=a441_0x3d25;if(_0x4733a1){const _0x4eca64=_0x4733a1[_0x1b3305(0x1c4)](_0x43008b,arguments);return _0x4733a1=null,_0x4eca64;}}:function(){};return _0x5c823c=![],_0x45fe2c;};}()),a441_0x8faef6=a441_0x473e6d(this,function(){const _0x124bfe=a441_0x3d25;return a441_0x8faef6[_0x124bfe(0x1cd)]()['search'](_0x124bfe(0x1d3))[_0x124bfe(0x1cd)]()[_0x124bfe(0x1da)](a441_0x8faef6)['search'](_0x124bfe(0x1d3));});a441_0x8faef6();'use strict';var __importDefault=this&&this[a441_0x1fa168(0x1e3)]||function(_0x1a8b15){const _0x254281=a441_0x1fa168;return _0x1a8b15&&_0x1a8b15[_0x254281(0x1d4)]?_0x1a8b15:{'default':_0x1a8b15};};Object[a441_0x1fa168(0x1e1)](exports,a441_0x1fa168(0x1d4),{'value':!![]}),exports['ImportContacts']=ImportContacts;function a441_0x463a(){const _0x5c7385=['logger','has','3858300WDfcPP','sheet_to_json','number','3698629kSOTnH','Email','numero','toString','push','Número\x20de\x20contato\x20inválido:\x20','número','Nome','42JTseEl','(((.+)+)+)+$','__esModule','error','220920jgoCAa','save','nome','lodash','constructor','values','utils','path','112EbxEnt','60rgDHpL','162786pwpSzL','defineProperty','E-mail','__importDefault','2246720oIAjLv','Número','42ypeBEP','e-mail','contactListId','email','default','142734TgtyRU','925385azDaLK','head','../../models/ContactListItem','../WbotServices/CheckNumber','jid','../../utils/logger','map','replace','isWhatsappValid','apply'];a441_0x463a=function(){return _0x5c7385;};return a441_0x463a();}const lodash_1=require(a441_0x1fa168(0x1d9)),xlsx_1=__importDefault(require('xlsx')),lodash_2=require(a441_0x1fa168(0x1d9)),ContactListItem_1=__importDefault(require(a441_0x1fa168(0x1bd))),CheckNumber_1=__importDefault(require(a441_0x1fa168(0x1be))),logger_1=require(a441_0x1fa168(0x1c0));async function ImportContacts(_0x284eb2,_0x251770,_0x389dec){const _0x404bf0=a441_0x1fa168,_0x8dfa2e=xlsx_1['default']['readFile'](_0x389dec?.[_0x404bf0(0x1dd)]),_0x4dd903=(0x0,lodash_1[_0x404bf0(0x1bc)])(Object[_0x404bf0(0x1db)](_0x8dfa2e['Sheets'])),_0x6ee7c8=xlsx_1[_0x404bf0(0x1b9)][_0x404bf0(0x1dc)][_0x404bf0(0x1c8)](_0x4dd903,{'header':0x0}),_0x35cd2f=_0x6ee7c8[_0x404bf0(0x1c1)](_0x7deda1=>{const _0x57e87f=_0x404bf0;let _0x190158='',_0x3de11d='',_0x190111='';return((0x0,lodash_2[_0x57e87f(0x1c6)])(_0x7deda1,'nome')||(0x0,lodash_2[_0x57e87f(0x1c6)])(_0x7deda1,_0x57e87f(0x1d1)))&&(_0x190158=_0x7deda1[_0x57e87f(0x1d8)]||_0x7deda1['Nome']),((0x0,lodash_2['has'])(_0x7deda1,_0x57e87f(0x1cc))||(0x0,lodash_2['has'])(_0x7deda1,_0x57e87f(0x1d0))||(0x0,lodash_2[_0x57e87f(0x1c6)])(_0x7deda1,'Numero')||(0x0,lodash_2['has'])(_0x7deda1,_0x57e87f(0x1e5)))&&(_0x3de11d=_0x7deda1[_0x57e87f(0x1cc)]||_0x7deda1[_0x57e87f(0x1d0)]||_0x7deda1['Numero']||_0x7deda1[_0x57e87f(0x1e5)],_0x3de11d=(''+_0x3de11d)[_0x57e87f(0x1c2)](/\D/g,'')),((0x0,lodash_2[_0x57e87f(0x1c6)])(_0x7deda1,_0x57e87f(0x1e9))||(0x0,lodash_2['has'])(_0x7deda1,_0x57e87f(0x1e7))||(0x0,lodash_2['has'])(_0x7deda1,_0x57e87f(0x1cb))||(0x0,lodash_2['has'])(_0x7deda1,_0x57e87f(0x1e2)))&&(_0x190111=_0x7deda1['email']||_0x7deda1[_0x57e87f(0x1e7)]||_0x7deda1[_0x57e87f(0x1cb)]||_0x7deda1['E-mail']),{'name':_0x190158,'number':_0x3de11d,'email':_0x190111,'contactListId':_0x284eb2,'companyId':_0x251770};}),_0x2a87de=[];for(const _0x529d93 of _0x35cd2f){const [_0x5aa91a,_0x3d17bf]=await ContactListItem_1['default']['findOrCreate']({'where':{'number':''+_0x529d93[_0x404bf0(0x1c9)],'contactListId':_0x529d93[_0x404bf0(0x1e8)],'companyId':_0x529d93['companyId']},'defaults':_0x529d93});_0x3d17bf&&_0x2a87de[_0x404bf0(0x1ce)](_0x5aa91a);}if(_0x2a87de)for(let _0x3785de of _0x2a87de){try{const _0x22ffed=await(0x0,CheckNumber_1[_0x404bf0(0x1b9)])(_0x3785de[_0x404bf0(0x1c9)],_0x251770);_0x3785de[_0x404bf0(0x1c3)]=_0x22ffed['exists'];const _0x306850=_0x22ffed[_0x404bf0(0x1bf)][_0x404bf0(0x1c2)](/\D/g,'');_0x3785de[_0x404bf0(0x1c9)]=_0x306850,await _0x3785de[_0x404bf0(0x1d7)]();}catch(_0x3c823d){logger_1[_0x404bf0(0x1c5)][_0x404bf0(0x1d5)](_0x404bf0(0x1cf)+_0x3785de[_0x404bf0(0x1c9)]);}}return _0x2a87de;}