function a448_0x33e9(){const _0x333188=['all','profilePicUrl','__importDefault','91330cTEwKP','name','findOne','498tdRvCR','ERR_NO_CONTACT_FOUND','map','63332gMIKBN','../../models/Contact','email','toString','385312fMogsx','search','1199efhMcw','upsert','216135sjQZDx','default','__esModule','defineProperty','apply','reload','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','../../errors/AppError','companyId','number','183RIVYNb','extraInfo','18HzEBgY','1665754rrQmKE','219632YYyRmQ','findIndex','136948NFIjgw'];a448_0x33e9=function(){return _0x333188;};return a448_0x33e9();}const a448_0x338172=a448_0x3706;(function(_0xcea101,_0x47323b){const _0x56e100=a448_0x3706,_0x14a447=_0xcea101();while(!![]){try{const _0x5b9903=parseInt(_0x56e100(0x1c2))/0x1+parseInt(_0x56e100(0x1d3))/0x2+parseInt(_0x56e100(0x1d0))/0x3*(-parseInt(_0x56e100(0x1be))/0x4)+parseInt(_0x56e100(0x1c6))/0x5+-parseInt(_0x56e100(0x1dd))/0x6*(-parseInt(_0x56e100(0x1d6))/0x7)+parseInt(_0x56e100(0x1d4))/0x8*(-parseInt(_0x56e100(0x1d2))/0x9)+parseInt(_0x56e100(0x1da))/0xa*(-parseInt(_0x56e100(0x1c4))/0xb);if(_0x5b9903===_0x47323b)break;else _0x14a447['push'](_0x14a447['shift']());}catch(_0x14bcbe){_0x14a447['push'](_0x14a447['shift']());}}}(a448_0x33e9,0xd4292));const a448_0x38840d=(function(){let _0x1e3728=!![];return function(_0x1d8e3d,_0x20b69d){const _0x518e4e=_0x1e3728?function(){const _0x2b5059=a448_0x3706;if(_0x20b69d){const _0x255b56=_0x20b69d[_0x2b5059(0x1ca)](_0x1d8e3d,arguments);return _0x20b69d=null,_0x255b56;}}:function(){};return _0x1e3728=![],_0x518e4e;};}()),a448_0x142062=a448_0x38840d(this,function(){const _0x2cf09b=a448_0x3706;return a448_0x142062['toString']()[_0x2cf09b(0x1c3)]('(((.+)+)+)+$')[_0x2cf09b(0x1c1)]()['constructor'](a448_0x142062)[_0x2cf09b(0x1c3)]('(((.+)+)+)+$');});a448_0x142062();'use strict';var __importDefault=this&&this[a448_0x338172(0x1d9)]||function(_0x4fb19c){const _0x5a3c7f=a448_0x338172;return _0x4fb19c&&_0x4fb19c[_0x5a3c7f(0x1c8)]?_0x4fb19c:{'default':_0x4fb19c};};function a448_0x3706(_0x24415d,_0x4abd39){const _0x3972b2=a448_0x33e9();return a448_0x3706=function(_0x142062,_0x38840d){_0x142062=_0x142062-0x1bc;let _0x33e918=_0x3972b2[_0x142062];return _0x33e918;},a448_0x3706(_0x24415d,_0x4abd39);}Object[a448_0x338172(0x1c9)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a448_0x338172(0x1cd))),Contact_1=__importDefault(require(a448_0x338172(0x1bf))),ContactCustomField_1=__importDefault(require('../../models/ContactCustomField')),UpdateContactService=async({contactData:_0x2c048d,contactId:_0x1fd66d,companyId:_0x5ca037})=>{const _0x3f04ca=a448_0x338172,{email:_0x26a183,name:_0x1b3db8,number:_0x3f240f,extraInfo:_0x34fed2,disableBot:_0x337de3}=_0x2c048d,_0x30cb20=await Contact_1['default'][_0x3f04ca(0x1dc)]({'where':{'id':_0x1fd66d},'attributes':['id',_0x3f04ca(0x1db),_0x3f04ca(0x1cf),_0x3f04ca(0x1c0),_0x3f04ca(0x1ce),_0x3f04ca(0x1d8)],'include':['extraInfo']});if(_0x30cb20?.[_0x3f04ca(0x1ce)]!==_0x5ca037)throw new AppError_1[(_0x3f04ca(0x1c7))](_0x3f04ca(0x1cc));if(!_0x30cb20)throw new AppError_1[(_0x3f04ca(0x1c7))](_0x3f04ca(0x1bc),0x194);return _0x34fed2&&(await Promise[_0x3f04ca(0x1d7)](_0x34fed2[_0x3f04ca(0x1bd)](async _0x13f5dc=>{const _0x116718=_0x3f04ca;await ContactCustomField_1[_0x116718(0x1c7)][_0x116718(0x1c5)]({..._0x13f5dc,'contactId':_0x30cb20['id']});})),await Promise['all'](_0x30cb20[_0x3f04ca(0x1d1)][_0x3f04ca(0x1bd)](async _0x423313=>{const _0x59fd9e=_0x3f04ca,_0x4622c2=_0x34fed2[_0x59fd9e(0x1d5)](_0xdc1b42=>_0xdc1b42['id']===_0x423313['id']);_0x4622c2===-0x1&&await ContactCustomField_1[_0x59fd9e(0x1c7)]['destroy']({'where':{'id':_0x423313['id']}});}))),await _0x30cb20['update']({'name':_0x1b3db8,'number':_0x3f240f,'email':_0x26a183,'disableBot':_0x337de3}),await _0x30cb20[_0x3f04ca(0x1cb)]({'attributes':['id',_0x3f04ca(0x1db),'number','email',_0x3f04ca(0x1d8)],'include':[_0x3f04ca(0x1d1)]}),_0x30cb20;};exports[a448_0x338172(0x1c7)]=UpdateContactService;