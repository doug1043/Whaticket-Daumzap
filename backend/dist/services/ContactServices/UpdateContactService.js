function a423_0x45ed(_0x3f9ca8,_0x3a8f3e){const _0x5a0c4a=a423_0x10ec();return a423_0x45ed=function(_0x631ad1,_0x5e6369){_0x631ad1=_0x631ad1-0x12f;let _0x10ec72=_0x5a0c4a[_0x631ad1];return _0x10ec72;},a423_0x45ed(_0x3f9ca8,_0x3a8f3e);}function a423_0x10ec(){const _0x2f208a=['6483690pUcFMe','email','6420sUmiXj','1799ngbSTC','findIndex','ERR_NO_CONTACT_FOUND','4rkOUMM','search','231858zaFrmf','__esModule','findOne','destroy','__importDefault','reload','constructor','companyId','number','(((.+)+)+)+$','extraInfo','../../models/ContactCustomField','../../models/Contact','all','name','default','apply','profilePicUrl','3536615aoTZoM','745095ctflEk','15762AQbVvK','toString','../../errors/AppError','1515704ZPXZJj','defineProperty'];a423_0x10ec=function(){return _0x2f208a;};return a423_0x10ec();}const a423_0x1ce657=a423_0x45ed;(function(_0x2cded3,_0xad5d12){const _0x58a06b=a423_0x45ed,_0x4fce54=_0x2cded3();while(!![]){try{const _0x5727fc=parseInt(_0x58a06b(0x13b))/0x1+parseInt(_0x58a06b(0x149))/0x2+parseInt(_0x58a06b(0x143))/0x3+parseInt(_0x58a06b(0x147))/0x4*(-parseInt(_0x58a06b(0x13a))/0x5)+parseInt(_0x58a06b(0x13c))/0x6*(-parseInt(_0x58a06b(0x144))/0x7)+parseInt(_0x58a06b(0x13f))/0x8+parseInt(_0x58a06b(0x141))/0x9;if(_0x5727fc===_0xad5d12)break;else _0x4fce54['push'](_0x4fce54['shift']());}catch(_0x1ae22b){_0x4fce54['push'](_0x4fce54['shift']());}}}(a423_0x10ec,0x5f5af));const a423_0x5e6369=(function(){let _0x4c8924=!![];return function(_0x4ac301,_0x5cc6b5){const _0x45118d=_0x4c8924?function(){const _0x1a4c7a=a423_0x45ed;if(_0x5cc6b5){const _0x1b6ef2=_0x5cc6b5[_0x1a4c7a(0x138)](_0x4ac301,arguments);return _0x5cc6b5=null,_0x1b6ef2;}}:function(){};return _0x4c8924=![],_0x45118d;};}()),a423_0x631ad1=a423_0x5e6369(this,function(){const _0xb67e22=a423_0x45ed;return a423_0x631ad1[_0xb67e22(0x13d)]()[_0xb67e22(0x148)](_0xb67e22(0x131))[_0xb67e22(0x13d)]()[_0xb67e22(0x14f)](a423_0x631ad1)[_0xb67e22(0x148)](_0xb67e22(0x131));});a423_0x631ad1();'use strict';var __importDefault=this&&this[a423_0x1ce657(0x14d)]||function(_0x939119){const _0x2a648e=a423_0x1ce657;return _0x939119&&_0x939119[_0x2a648e(0x14a)]?_0x939119:{'default':_0x939119};};Object[a423_0x1ce657(0x140)](exports,a423_0x1ce657(0x14a),{'value':!![]});const AppError_1=__importDefault(require(a423_0x1ce657(0x13e))),Contact_1=__importDefault(require(a423_0x1ce657(0x134))),ContactCustomField_1=__importDefault(require(a423_0x1ce657(0x133))),UpdateContactService=async({contactData:_0x595943,contactId:_0x2d74f1,companyId:_0x3c7b6f})=>{const _0x1a5759=a423_0x1ce657,{email:_0x4907ec,name:_0x366690,number:_0x1fa091,extraInfo:_0x7dcc8c,disableBot:_0x2f8b08}=_0x595943,_0x2bedee=await Contact_1[_0x1a5759(0x137)][_0x1a5759(0x14b)]({'where':{'id':_0x2d74f1},'attributes':['id',_0x1a5759(0x136),_0x1a5759(0x130),_0x1a5759(0x142),_0x1a5759(0x12f),_0x1a5759(0x139)],'include':[_0x1a5759(0x132)]});if(_0x2bedee?.['companyId']!==_0x3c7b6f)throw new AppError_1[(_0x1a5759(0x137))]('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0x2bedee)throw new AppError_1['default'](_0x1a5759(0x146),0x194);return _0x7dcc8c&&(await Promise[_0x1a5759(0x135)](_0x7dcc8c['map'](async _0x1d43c1=>{const _0x5cd03a=_0x1a5759;await ContactCustomField_1[_0x5cd03a(0x137)]['upsert']({..._0x1d43c1,'contactId':_0x2bedee['id']});})),await Promise[_0x1a5759(0x135)](_0x2bedee[_0x1a5759(0x132)]['map'](async _0x142676=>{const _0x3c4e2f=_0x1a5759,_0x2a1ecc=_0x7dcc8c[_0x3c4e2f(0x145)](_0x4334cd=>_0x4334cd['id']===_0x142676['id']);_0x2a1ecc===-0x1&&await ContactCustomField_1[_0x3c4e2f(0x137)][_0x3c4e2f(0x14c)]({'where':{'id':_0x142676['id']}});}))),await _0x2bedee['update']({'name':_0x366690,'number':_0x1fa091,'email':_0x4907ec,'disableBot':_0x2f8b08}),await _0x2bedee[_0x1a5759(0x14e)]({'attributes':['id',_0x1a5759(0x136),_0x1a5759(0x130),_0x1a5759(0x142),_0x1a5759(0x139)],'include':[_0x1a5759(0x132)]}),_0x2bedee;};exports[a423_0x1ce657(0x137)]=UpdateContactService;