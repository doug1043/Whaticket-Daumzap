const a454_0x4c2b41=a454_0x36fd;function a454_0x597f(){const _0x264a87=['number','ERR_NO_CONTACT_FOUND','90iiijvf','findIndex','3091401icqJMn','74916AhbtTy','constructor','search','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','__importDefault','610840uWOfhB','default','update','apply','__esModule','5752LpUTkJ','defineProperty','name','3491350NcDAeS','companyId','map','destroy','all','upsert','645bIiSXw','234bKssmC','(((.+)+)+)+$','2988209lWeJHD','../../models/Contact','toString','36652rfcjDX','profilePicUrl','../../errors/AppError','email','extraInfo'];a454_0x597f=function(){return _0x264a87;};return a454_0x597f();}function a454_0x36fd(_0xea1161,_0x125990){const _0x358e31=a454_0x597f();return a454_0x36fd=function(_0xd76e00,_0xbdd55d){_0xd76e00=_0xd76e00-0x89;let _0x597f4f=_0x358e31[_0xd76e00];return _0x597f4f;},a454_0x36fd(_0xea1161,_0x125990);}(function(_0x52b721,_0x1011ac){const _0x233ff3=a454_0x36fd,_0x5913e5=_0x52b721();while(!![]){try{const _0x21ae6b=-parseInt(_0x233ff3(0x92))/0x1*(-parseInt(_0x233ff3(0xab))/0x2)+-parseInt(_0x233ff3(0xa0))/0x3+parseInt(_0x233ff3(0x97))/0x4*(parseInt(_0x233ff3(0x91))/0x5)+parseInt(_0x233ff3(0xa1))/0x6+-parseInt(_0x233ff3(0x94))/0x7+parseInt(_0x233ff3(0xa6))/0x8*(parseInt(_0x233ff3(0x9e))/0x9)+-parseInt(_0x233ff3(0x8b))/0xa;if(_0x21ae6b===_0x1011ac)break;else _0x5913e5['push'](_0x5913e5['shift']());}catch(_0x462689){_0x5913e5['push'](_0x5913e5['shift']());}}}(a454_0x597f,0xc94ee));const a454_0xbdd55d=(function(){let _0x54a663=!![];return function(_0xcf84d5,_0x4c8e1f){const _0x49c288=_0x54a663?function(){const _0x9eab4d=a454_0x36fd;if(_0x4c8e1f){const _0x4a9517=_0x4c8e1f[_0x9eab4d(0xa9)](_0xcf84d5,arguments);return _0x4c8e1f=null,_0x4a9517;}}:function(){};return _0x54a663=![],_0x49c288;};}()),a454_0xd76e00=a454_0xbdd55d(this,function(){const _0x2b368e=a454_0x36fd;return a454_0xd76e00[_0x2b368e(0x96)]()[_0x2b368e(0xa3)](_0x2b368e(0x93))[_0x2b368e(0x96)]()[_0x2b368e(0xa2)](a454_0xd76e00)['search'](_0x2b368e(0x93));});a454_0xd76e00();'use strict';var __importDefault=this&&this[a454_0x4c2b41(0xa5)]||function(_0x1396b2){const _0x48c29c=a454_0x4c2b41;return _0x1396b2&&_0x1396b2[_0x48c29c(0xaa)]?_0x1396b2:{'default':_0x1396b2};};Object[a454_0x4c2b41(0x89)](exports,a454_0x4c2b41(0xaa),{'value':!![]});const AppError_1=__importDefault(require(a454_0x4c2b41(0x99))),Contact_1=__importDefault(require(a454_0x4c2b41(0x95))),ContactCustomField_1=__importDefault(require('../../models/ContactCustomField')),UpdateContactService=async({contactData:_0x3cce23,contactId:_0x142c44,companyId:_0x2ff717})=>{const _0x2de86f=a454_0x4c2b41,{email:_0x2848f0,name:_0x54b9aa,number:_0x3e8e31,extraInfo:_0x2cb38c,disableBot:_0x272455}=_0x3cce23,_0x32845e=await Contact_1[_0x2de86f(0xa7)]['findOne']({'where':{'id':_0x142c44},'attributes':['id',_0x2de86f(0x8a),_0x2de86f(0x9c),_0x2de86f(0x9a),_0x2de86f(0x8c),_0x2de86f(0x98)],'include':[_0x2de86f(0x9b)]});if(_0x32845e?.[_0x2de86f(0x8c)]!==_0x2ff717)throw new AppError_1['default'](_0x2de86f(0xa4));if(!_0x32845e)throw new AppError_1[(_0x2de86f(0xa7))](_0x2de86f(0x9d),0x194);return _0x2cb38c&&(await Promise['all'](_0x2cb38c[_0x2de86f(0x8d)](async _0x4c8c82=>{const _0x2a6eec=_0x2de86f;await ContactCustomField_1[_0x2a6eec(0xa7)][_0x2a6eec(0x90)]({..._0x4c8c82,'contactId':_0x32845e['id']});})),await Promise[_0x2de86f(0x8f)](_0x32845e[_0x2de86f(0x9b)][_0x2de86f(0x8d)](async _0x241359=>{const _0x101692=_0x2de86f,_0x102106=_0x2cb38c[_0x101692(0x9f)](_0x47ef00=>_0x47ef00['id']===_0x241359['id']);_0x102106===-0x1&&await ContactCustomField_1['default'][_0x101692(0x8e)]({'where':{'id':_0x241359['id']}});}))),await _0x32845e[_0x2de86f(0xa8)]({'name':_0x54b9aa,'number':_0x3e8e31,'email':_0x2848f0,'disableBot':_0x272455}),await _0x32845e['reload']({'attributes':['id','name',_0x2de86f(0x9c),_0x2de86f(0x9a),_0x2de86f(0x98)],'include':['extraInfo']}),_0x32845e;};exports['default']=UpdateContactService;