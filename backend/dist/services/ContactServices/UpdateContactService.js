const a453_0x2f20b1=a453_0x5cf4;(function(_0x4a1823,_0x4fad71){const _0x762298=a453_0x5cf4,_0x1fa74a=_0x4a1823();while(!![]){try{const _0xf469fd=-parseInt(_0x762298(0xe9))/0x1*(parseInt(_0x762298(0xfb))/0x2)+parseInt(_0x762298(0xed))/0x3*(-parseInt(_0x762298(0xf9))/0x4)+-parseInt(_0x762298(0x107))/0x5+parseInt(_0x762298(0xf5))/0x6*(-parseInt(_0x762298(0xf1))/0x7)+-parseInt(_0x762298(0xf7))/0x8+-parseInt(_0x762298(0xfc))/0x9+parseInt(_0x762298(0xeb))/0xa;if(_0xf469fd===_0x4fad71)break;else _0x1fa74a['push'](_0x1fa74a['shift']());}catch(_0x14840e){_0x1fa74a['push'](_0x1fa74a['shift']());}}}(a453_0x3412,0x25cc7));const a453_0x182b3b=(function(){let _0x66d3ca=!![];return function(_0x18d54d,_0x3c7f50){const _0x368e6b=_0x66d3ca?function(){const _0x3a1f55=a453_0x5cf4;if(_0x3c7f50){const _0x495391=_0x3c7f50[_0x3a1f55(0x102)](_0x18d54d,arguments);return _0x3c7f50=null,_0x495391;}}:function(){};return _0x66d3ca=![],_0x368e6b;};}()),a453_0x22607d=a453_0x182b3b(this,function(){const _0x392818=a453_0x5cf4;return a453_0x22607d[_0x392818(0xf0)]()['search'](_0x392818(0x10a))['toString']()['constructor'](a453_0x22607d)[_0x392818(0x100)](_0x392818(0x10a));});function a453_0x5cf4(_0x15b2a7,_0x507d99){const _0x1a6c2e=a453_0x3412();return a453_0x5cf4=function(_0x22607d,_0x182b3b){_0x22607d=_0x22607d-0xe7;let _0x3412b6=_0x1a6c2e[_0x22607d];return _0x3412b6;},a453_0x5cf4(_0x15b2a7,_0x507d99);}function a453_0x3412(){const _0x5ee741=['../../models/ContactCustomField','map','reload','search','update','apply','number','findIndex','findOne','../../errors/AppError','705610Kggjky','default','defineProperty','(((.+)+)+)+$','ERR_NO_CONTACT_FOUND','profilePicUrl','3yBKmWz','name','10552610JIfJPh','destroy','418143hXtxoC','upsert','__esModule','toString','105812BVRyYx','email','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','companyId','12ZJumbH','all','1477976tPfYYI','extraInfo','4syxnNW','../../models/Contact','178822YzJHgl','1230507jQoCda'];a453_0x3412=function(){return _0x5ee741;};return a453_0x3412();}a453_0x22607d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4da8ff){return _0x4da8ff&&_0x4da8ff['__esModule']?_0x4da8ff:{'default':_0x4da8ff};};Object[a453_0x2f20b1(0x109)](exports,a453_0x2f20b1(0xef),{'value':!![]});const AppError_1=__importDefault(require(a453_0x2f20b1(0x106))),Contact_1=__importDefault(require(a453_0x2f20b1(0xfa))),ContactCustomField_1=__importDefault(require(a453_0x2f20b1(0xfd))),UpdateContactService=async({contactData:_0x3890c4,contactId:_0x1ccabb,companyId:_0x5474c4})=>{const _0x6a6691=a453_0x2f20b1,{email:_0x208dc2,name:_0x30b65d,number:_0x1fb02e,extraInfo:_0x1ced2d,disableBot:_0x1b551}=_0x3890c4,_0x320c09=await Contact_1['default'][_0x6a6691(0x105)]({'where':{'id':_0x1ccabb},'attributes':['id','name',_0x6a6691(0x103),_0x6a6691(0xf2),_0x6a6691(0xf4),_0x6a6691(0xe8)],'include':['extraInfo']});if(_0x320c09?.[_0x6a6691(0xf4)]!==_0x5474c4)throw new AppError_1[(_0x6a6691(0x108))](_0x6a6691(0xf3));if(!_0x320c09)throw new AppError_1['default'](_0x6a6691(0xe7),0x194);return _0x1ced2d&&(await Promise[_0x6a6691(0xf6)](_0x1ced2d[_0x6a6691(0xfe)](async _0x1636fe=>{const _0x1b5398=_0x6a6691;await ContactCustomField_1[_0x1b5398(0x108)][_0x1b5398(0xee)]({..._0x1636fe,'contactId':_0x320c09['id']});})),await Promise['all'](_0x320c09[_0x6a6691(0xf8)]['map'](async _0x1cad4b=>{const _0x1979dc=_0x6a6691,_0x35ad81=_0x1ced2d[_0x1979dc(0x104)](_0x36fbb8=>_0x36fbb8['id']===_0x1cad4b['id']);_0x35ad81===-0x1&&await ContactCustomField_1['default'][_0x1979dc(0xec)]({'where':{'id':_0x1cad4b['id']}});}))),await _0x320c09[_0x6a6691(0x101)]({'name':_0x30b65d,'number':_0x1fb02e,'email':_0x208dc2,'disableBot':_0x1b551}),await _0x320c09[_0x6a6691(0xff)]({'attributes':['id',_0x6a6691(0xea),_0x6a6691(0x103),_0x6a6691(0xf2),_0x6a6691(0xe8)],'include':[_0x6a6691(0xf8)]}),_0x320c09;};exports['default']=UpdateContactService;