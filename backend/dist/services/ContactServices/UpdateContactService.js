const a424_0xbd4103=a424_0x293f;(function(_0x1eb10b,_0x1f29a3){const _0x37292d=a424_0x293f,_0x2fe84f=_0x1eb10b();while(!![]){try{const _0x3374e1=parseInt(_0x37292d(0x162))/0x1+parseInt(_0x37292d(0x16b))/0x2*(parseInt(_0x37292d(0x149))/0x3)+-parseInt(_0x37292d(0x16d))/0x4*(parseInt(_0x37292d(0x160))/0x5)+-parseInt(_0x37292d(0x167))/0x6+-parseInt(_0x37292d(0x14f))/0x7*(parseInt(_0x37292d(0x15e))/0x8)+-parseInt(_0x37292d(0x155))/0x9+-parseInt(_0x37292d(0x15a))/0xa*(-parseInt(_0x37292d(0x154))/0xb);if(_0x3374e1===_0x1f29a3)break;else _0x2fe84f['push'](_0x2fe84f['shift']());}catch(_0x4b6ae4){_0x2fe84f['push'](_0x2fe84f['shift']());}}}(a424_0x8df4,0x6911a));const a424_0x488d6f=(function(){let _0x2671d7=!![];return function(_0xddca5b,_0x32973d){const _0x52728f=_0x2671d7?function(){const _0x393db3=a424_0x293f;if(_0x32973d){const _0x58f3dc=_0x32973d[_0x393db3(0x158)](_0xddca5b,arguments);return _0x32973d=null,_0x58f3dc;}}:function(){};return _0x2671d7=![],_0x52728f;};}()),a424_0x36d32d=a424_0x488d6f(this,function(){const _0x48f9c1=a424_0x293f;return a424_0x36d32d[_0x48f9c1(0x156)]()[_0x48f9c1(0x15f)]('(((.+)+)+)+$')[_0x48f9c1(0x156)]()[_0x48f9c1(0x14b)](a424_0x36d32d)[_0x48f9c1(0x15f)]('(((.+)+)+)+$');});function a424_0x8df4(){const _0x3617fb=['7403067IHMhag','toString','profilePicUrl','apply','../../models/ContactCustomField','480rDMnXW','__importDefault','email','default','40QDultO','search','4105UpNAoH','all','682522ebOQXD','findIndex','number','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','__esModule','1395642YOLvHl','defineProperty','destroy','map','305878fomliE','companyId','1176AldrNV','15okmkoL','extraInfo','constructor','reload','../../errors/AppError','../../models/Contact','1019501lLICDv','name','findOne','upsert','ERR_NO_CONTACT_FOUND','230978lHPNib'];a424_0x8df4=function(){return _0x3617fb;};return a424_0x8df4();}a424_0x36d32d();function a424_0x293f(_0x5ce214,_0x13c43b){const _0x3b60af=a424_0x8df4();return a424_0x293f=function(_0x36d32d,_0x488d6f){_0x36d32d=_0x36d32d-0x149;let _0x8df46e=_0x3b60af[_0x36d32d];return _0x8df46e;},a424_0x293f(_0x5ce214,_0x13c43b);}'use strict';var __importDefault=this&&this[a424_0xbd4103(0x15b)]||function(_0xcf36c2){const _0x3d04db=a424_0xbd4103;return _0xcf36c2&&_0xcf36c2[_0x3d04db(0x166)]?_0xcf36c2:{'default':_0xcf36c2};};Object[a424_0xbd4103(0x168)](exports,a424_0xbd4103(0x166),{'value':!![]});const AppError_1=__importDefault(require(a424_0xbd4103(0x14d))),Contact_1=__importDefault(require(a424_0xbd4103(0x14e))),ContactCustomField_1=__importDefault(require(a424_0xbd4103(0x159))),UpdateContactService=async({contactData:_0x2d399d,contactId:_0x462f75,companyId:_0x495abe})=>{const _0x33ed93=a424_0xbd4103,{email:_0x5c4ec9,name:_0x347b12,number:_0x1b56b2,extraInfo:_0x9167c3,disableBot:_0x1fbf85}=_0x2d399d,_0x5e38ff=await Contact_1[_0x33ed93(0x15d)][_0x33ed93(0x151)]({'where':{'id':_0x462f75},'attributes':['id',_0x33ed93(0x150),'number',_0x33ed93(0x15c),_0x33ed93(0x16c),'profilePicUrl'],'include':['extraInfo']});if(_0x5e38ff?.[_0x33ed93(0x16c)]!==_0x495abe)throw new AppError_1['default'](_0x33ed93(0x165));if(!_0x5e38ff)throw new AppError_1[(_0x33ed93(0x15d))](_0x33ed93(0x153),0x194);return _0x9167c3&&(await Promise['all'](_0x9167c3[_0x33ed93(0x16a)](async _0x1a76c2=>{const _0x1d3881=_0x33ed93;await ContactCustomField_1[_0x1d3881(0x15d)][_0x1d3881(0x152)]({..._0x1a76c2,'contactId':_0x5e38ff['id']});})),await Promise[_0x33ed93(0x161)](_0x5e38ff[_0x33ed93(0x14a)][_0x33ed93(0x16a)](async _0x1badee=>{const _0xbbff2=_0x33ed93,_0x1a1bc7=_0x9167c3[_0xbbff2(0x163)](_0x248302=>_0x248302['id']===_0x1badee['id']);_0x1a1bc7===-0x1&&await ContactCustomField_1[_0xbbff2(0x15d)][_0xbbff2(0x169)]({'where':{'id':_0x1badee['id']}});}))),await _0x5e38ff['update']({'name':_0x347b12,'number':_0x1b56b2,'email':_0x5c4ec9,'disableBot':_0x1fbf85}),await _0x5e38ff[_0x33ed93(0x14c)]({'attributes':['id',_0x33ed93(0x150),_0x33ed93(0x164),_0x33ed93(0x15c),_0x33ed93(0x157)],'include':['extraInfo']}),_0x5e38ff;};exports[a424_0xbd4103(0x15d)]=UpdateContactService;