const a452_0x5b918d=a452_0x4778;(function(_0x1660ba,_0x46fe4a){const _0x3a523f=a452_0x4778,_0x4cf473=_0x1660ba();while(!![]){try{const _0x2ab2ac=-parseInt(_0x3a523f(0xc0))/0x1+parseInt(_0x3a523f(0xb4))/0x2+parseInt(_0x3a523f(0xb8))/0x3*(-parseInt(_0x3a523f(0xc4))/0x4)+-parseInt(_0x3a523f(0xbe))/0x5+-parseInt(_0x3a523f(0xb7))/0x6*(-parseInt(_0x3a523f(0xc5))/0x7)+-parseInt(_0x3a523f(0xc3))/0x8*(-parseInt(_0x3a523f(0xca))/0x9)+parseInt(_0x3a523f(0xc2))/0xa;if(_0x2ab2ac===_0x46fe4a)break;else _0x4cf473['push'](_0x4cf473['shift']());}catch(_0x3f52ca){_0x4cf473['push'](_0x4cf473['shift']());}}}(a452_0x4ed1,0xe81e7));const a452_0x4d49a9=(function(){let _0x5a62eb=!![];return function(_0x4820f1,_0x2f074f){const _0x317717=_0x5a62eb?function(){const _0x12acea=a452_0x4778;if(_0x2f074f){const _0x2da0a4=_0x2f074f[_0x12acea(0xce)](_0x4820f1,arguments);return _0x2f074f=null,_0x2da0a4;}}:function(){};return _0x5a62eb=![],_0x317717;};}()),a452_0x4e7031=a452_0x4d49a9(this,function(){const _0x15e1ae=a452_0x4778;return a452_0x4e7031[_0x15e1ae(0xbb)]()['search'](_0x15e1ae(0xb5))[_0x15e1ae(0xbb)]()[_0x15e1ae(0xbd)](a452_0x4e7031)[_0x15e1ae(0xcc)]('(((.+)+)+)+$');});a452_0x4e7031();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x438bf4){const _0x412792=a452_0x4778;return _0x438bf4&&_0x438bf4[_0x412792(0xcb)]?_0x438bf4:{'default':_0x438bf4};};function a452_0x4ed1(){const _0x4b67f1=['findOne','constructor','9357395UWsaLc','number','1462770UWmQJJ','email','39884980YsuTua','696hrLfOF','41584NGJLtI','141610WbOvus','reload','../../models/ContactCustomField','findIndex','name','78435sxeZDz','__esModule','search','destroy','apply','map','extraInfo','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','default','companyId','defineProperty','352790EtQhTh','(((.+)+)+)+$','profilePicUrl','42QkJDwr','225UlimWY','all','../../errors/AppError','toString'];a452_0x4ed1=function(){return _0x4b67f1;};return a452_0x4ed1();}Object[a452_0x5b918d(0xb3)](exports,a452_0x5b918d(0xcb),{'value':!![]});function a452_0x4778(_0x812125,_0x3aa378){const _0x2136ae=a452_0x4ed1();return a452_0x4778=function(_0x4e7031,_0x4d49a9){_0x4e7031=_0x4e7031-0xb2;let _0x4ed12c=_0x2136ae[_0x4e7031];return _0x4ed12c;},a452_0x4778(_0x812125,_0x3aa378);}const AppError_1=__importDefault(require(a452_0x5b918d(0xba))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a452_0x5b918d(0xc7))),UpdateContactService=async({contactData:_0x10339f,contactId:_0x4142ed,companyId:_0x448bac})=>{const _0x1a2a87=a452_0x5b918d,{email:_0x57c33a,name:_0x146406,number:_0x49cb30,extraInfo:_0xcb608a,disableBot:_0x38896c}=_0x10339f,_0x3738f2=await Contact_1[_0x1a2a87(0xd2)][_0x1a2a87(0xbc)]({'where':{'id':_0x4142ed},'attributes':['id',_0x1a2a87(0xc9),'number',_0x1a2a87(0xc1),_0x1a2a87(0xb2),_0x1a2a87(0xb6)],'include':['extraInfo']});if(_0x3738f2?.[_0x1a2a87(0xb2)]!==_0x448bac)throw new AppError_1[(_0x1a2a87(0xd2))](_0x1a2a87(0xd1));if(!_0x3738f2)throw new AppError_1[(_0x1a2a87(0xd2))]('ERR_NO_CONTACT_FOUND',0x194);return _0xcb608a&&(await Promise[_0x1a2a87(0xb9)](_0xcb608a[_0x1a2a87(0xcf)](async _0x24eae9=>{const _0x2d24cf=_0x1a2a87;await ContactCustomField_1[_0x2d24cf(0xd2)]['upsert']({..._0x24eae9,'contactId':_0x3738f2['id']});})),await Promise[_0x1a2a87(0xb9)](_0x3738f2['extraInfo'][_0x1a2a87(0xcf)](async _0x39fc4c=>{const _0x30bc3a=_0x1a2a87,_0x2a81e1=_0xcb608a[_0x30bc3a(0xc8)](_0x236b04=>_0x236b04['id']===_0x39fc4c['id']);_0x2a81e1===-0x1&&await ContactCustomField_1[_0x30bc3a(0xd2)][_0x30bc3a(0xcd)]({'where':{'id':_0x39fc4c['id']}});}))),await _0x3738f2['update']({'name':_0x146406,'number':_0x49cb30,'email':_0x57c33a,'disableBot':_0x38896c}),await _0x3738f2[_0x1a2a87(0xc6)]({'attributes':['id',_0x1a2a87(0xc9),_0x1a2a87(0xbf),_0x1a2a87(0xc1),_0x1a2a87(0xb6)],'include':[_0x1a2a87(0xd0)]}),_0x3738f2;};exports[a452_0x5b918d(0xd2)]=UpdateContactService;