const a422_0x58880e=a422_0x2f1f;(function(_0x359343,_0x5f51ad){const _0x3eac20=a422_0x2f1f,_0x7d0755=_0x359343();while(!![]){try{const _0x194eb6=parseInt(_0x3eac20(0x1c7))/0x1*(parseInt(_0x3eac20(0x1bc))/0x2)+-parseInt(_0x3eac20(0x1b9))/0x3*(-parseInt(_0x3eac20(0x1b6))/0x4)+-parseInt(_0x3eac20(0x1b2))/0x5+parseInt(_0x3eac20(0x1b5))/0x6*(parseInt(_0x3eac20(0x1b4))/0x7)+-parseInt(_0x3eac20(0x1a8))/0x8*(-parseInt(_0x3eac20(0x1c2))/0x9)+parseInt(_0x3eac20(0x1c5))/0xa*(-parseInt(_0x3eac20(0x1ad))/0xb)+-parseInt(_0x3eac20(0x1bb))/0xc*(-parseInt(_0x3eac20(0x1ba))/0xd);if(_0x194eb6===_0x5f51ad)break;else _0x7d0755['push'](_0x7d0755['shift']());}catch(_0x47f148){_0x7d0755['push'](_0x7d0755['shift']());}}}(a422_0xe409,0x9b8ea));const a422_0x1bfb87=(function(){let _0x42955c=!![];return function(_0x2ba7af,_0x4fc189){const _0x4d89e5=_0x42955c?function(){if(_0x4fc189){const _0x8a4190=_0x4fc189['apply'](_0x2ba7af,arguments);return _0x4fc189=null,_0x8a4190;}}:function(){};return _0x42955c=![],_0x4d89e5;};}()),a422_0x350bf9=a422_0x1bfb87(this,function(){const _0x2d0604=a422_0x2f1f;return a422_0x350bf9[_0x2d0604(0x1ae)]()[_0x2d0604(0x1b1)](_0x2d0604(0x1b8))[_0x2d0604(0x1ae)]()['constructor'](a422_0x350bf9)[_0x2d0604(0x1b1)](_0x2d0604(0x1b8));});function a422_0xe409(){const _0xefe4f4=['16079XXUvww','186iQHMjI','4khuPIj','extraInfo','(((.+)+)+)+$','1843698YwmsCn','6299241TElowe','12pyifCE','9596mZLdgr','../../models/Contact','defineProperty','__esModule','number','update','126aShuEw','name','map','10DOEgLL','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','31OhCBbF','default','companyId','278648LWyQhD','ERR_NO_CONTACT_FOUND','reload','upsert','all','7557649duebCR','toString','profilePicUrl','destroy','search','2412405ZucBCw','findOne'];a422_0xe409=function(){return _0xefe4f4;};return a422_0xe409();}a422_0x350bf9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x8c0559){const _0x45c7fa=a422_0x2f1f;return _0x8c0559&&_0x8c0559[_0x45c7fa(0x1bf)]?_0x8c0559:{'default':_0x8c0559};};Object[a422_0x58880e(0x1be)](exports,a422_0x58880e(0x1bf),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(a422_0x58880e(0x1bd))),ContactCustomField_1=__importDefault(require('../../models/ContactCustomField')),UpdateContactService=async({contactData:_0x17ace2,contactId:_0x536ff8,companyId:_0x4f4ad7})=>{const _0x30997e=a422_0x58880e,{email:_0x5d8934,name:_0x11bf4d,number:_0x47dba9,extraInfo:_0x2d5e40,disableBot:_0x39efba}=_0x17ace2,_0x52fd46=await Contact_1[_0x30997e(0x1a6)][_0x30997e(0x1b3)]({'where':{'id':_0x536ff8},'attributes':['id',_0x30997e(0x1c3),_0x30997e(0x1c0),'email',_0x30997e(0x1a7),_0x30997e(0x1af)],'include':[_0x30997e(0x1b7)]});if(_0x52fd46?.['companyId']!==_0x4f4ad7)throw new AppError_1[(_0x30997e(0x1a6))](_0x30997e(0x1c6));if(!_0x52fd46)throw new AppError_1[(_0x30997e(0x1a6))](_0x30997e(0x1a9),0x194);return _0x2d5e40&&(await Promise['all'](_0x2d5e40[_0x30997e(0x1c4)](async _0x23d66e=>{const _0x1ef251=_0x30997e;await ContactCustomField_1[_0x1ef251(0x1a6)][_0x1ef251(0x1ab)]({..._0x23d66e,'contactId':_0x52fd46['id']});})),await Promise[_0x30997e(0x1ac)](_0x52fd46[_0x30997e(0x1b7)]['map'](async _0x4052a5=>{const _0x17d36b=_0x30997e,_0x545350=_0x2d5e40['findIndex'](_0xe444f4=>_0xe444f4['id']===_0x4052a5['id']);_0x545350===-0x1&&await ContactCustomField_1[_0x17d36b(0x1a6)][_0x17d36b(0x1b0)]({'where':{'id':_0x4052a5['id']}});}))),await _0x52fd46[_0x30997e(0x1c1)]({'name':_0x11bf4d,'number':_0x47dba9,'email':_0x5d8934,'disableBot':_0x39efba}),await _0x52fd46[_0x30997e(0x1aa)]({'attributes':['id',_0x30997e(0x1c3),_0x30997e(0x1c0),'email','profilePicUrl'],'include':[_0x30997e(0x1b7)]}),_0x52fd46;};function a422_0x2f1f(_0x4a24bb,_0x35d257){const _0x4eb7fa=a422_0xe409();return a422_0x2f1f=function(_0x350bf9,_0x1bfb87){_0x350bf9=_0x350bf9-0x1a6;let _0xe40920=_0x4eb7fa[_0x350bf9];return _0xe40920;},a422_0x2f1f(_0x4a24bb,_0x35d257);}exports[a422_0x58880e(0x1a6)]=UpdateContactService;