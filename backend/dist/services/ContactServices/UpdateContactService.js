const a454_0x5036c6=a454_0x1ff8;(function(_0x5927e5,_0x255856){const _0x466d97=a454_0x1ff8,_0x4687d5=_0x5927e5();while(!![]){try{const _0x5f163e=-parseInt(_0x466d97(0xa7))/0x1+parseInt(_0x466d97(0x8c))/0x2*(parseInt(_0x466d97(0x84))/0x3)+-parseInt(_0x466d97(0x9b))/0x4+-parseInt(_0x466d97(0x8b))/0x5*(parseInt(_0x466d97(0xa8))/0x6)+parseInt(_0x466d97(0x8a))/0x7*(parseInt(_0x466d97(0x96))/0x8)+-parseInt(_0x466d97(0x94))/0x9+-parseInt(_0x466d97(0x8d))/0xa*(parseInt(_0x466d97(0x97))/0xb);if(_0x5f163e===_0x255856)break;else _0x4687d5['push'](_0x4687d5['shift']());}catch(_0x416983){_0x4687d5['push'](_0x4687d5['shift']());}}}(a454_0x3632,0x5841d));const a454_0xa0dc51=(function(){let _0x5c6046=!![];return function(_0x50af2c,_0x59024d){const _0x465aff=_0x5c6046?function(){const _0x46dbf0=a454_0x1ff8;if(_0x59024d){const _0x42722c=_0x59024d[_0x46dbf0(0x98)](_0x50af2c,arguments);return _0x59024d=null,_0x42722c;}}:function(){};return _0x5c6046=![],_0x465aff;};}()),a454_0x6e1803=a454_0xa0dc51(this,function(){const _0x3dcd29=a454_0x1ff8;return a454_0x6e1803[_0x3dcd29(0xa5)]()[_0x3dcd29(0xa1)](_0x3dcd29(0xa4))[_0x3dcd29(0xa5)]()[_0x3dcd29(0x87)](a454_0x6e1803)['search'](_0x3dcd29(0xa4));});a454_0x6e1803();'use strict';var __importDefault=this&&this[a454_0x5036c6(0xa2)]||function(_0x3a7e05){const _0x564a46=a454_0x5036c6;return _0x3a7e05&&_0x3a7e05[_0x564a46(0x93)]?_0x3a7e05:{'default':_0x3a7e05};};function a454_0x1ff8(_0x39a23c,_0x209811){const _0x9f7175=a454_0x3632();return a454_0x1ff8=function(_0x6e1803,_0xa0dc51){_0x6e1803=_0x6e1803-0x84;let _0x36324f=_0x9f7175[_0x6e1803];return _0x36324f;},a454_0x1ff8(_0x39a23c,_0x209811);}Object[a454_0x5036c6(0xa3)](exports,a454_0x5036c6(0x93),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(a454_0x5036c6(0x9d))),ContactCustomField_1=__importDefault(require(a454_0x5036c6(0x99))),UpdateContactService=async({contactData:_0x12fc6d,contactId:_0x383d5a,companyId:_0x20598f})=>{const _0x47a42e=a454_0x5036c6,{email:_0x311177,name:_0x19275f,number:_0x492970,extraInfo:_0xdbc71,disableBot:_0x2c8d1c}=_0x12fc6d,_0x15accc=await Contact_1[_0x47a42e(0x9f)][_0x47a42e(0xa6)]({'where':{'id':_0x383d5a},'attributes':['id',_0x47a42e(0xa0),_0x47a42e(0x95),_0x47a42e(0x89),_0x47a42e(0x92),_0x47a42e(0x91)],'include':['extraInfo']});if(_0x15accc?.['companyId']!==_0x20598f)throw new AppError_1['default']('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0x15accc)throw new AppError_1[(_0x47a42e(0x9f))](_0x47a42e(0x8e),0x194);return _0xdbc71&&(await Promise[_0x47a42e(0x9a)](_0xdbc71[_0x47a42e(0x9e)](async _0x338c95=>{const _0x3094d0=_0x47a42e;await ContactCustomField_1['default'][_0x3094d0(0x90)]({..._0x338c95,'contactId':_0x15accc['id']});})),await Promise[_0x47a42e(0x9a)](_0x15accc[_0x47a42e(0x85)]['map'](async _0x11f651=>{const _0x413ff6=_0x47a42e,_0x2dff7f=_0xdbc71[_0x413ff6(0x9c)](_0x404f2c=>_0x404f2c['id']===_0x11f651['id']);_0x2dff7f===-0x1&&await ContactCustomField_1[_0x413ff6(0x9f)][_0x413ff6(0x8f)]({'where':{'id':_0x11f651['id']}});}))),await _0x15accc[_0x47a42e(0x86)]({'name':_0x19275f,'number':_0x492970,'email':_0x311177,'disableBot':_0x2c8d1c}),await _0x15accc[_0x47a42e(0x88)]({'attributes':['id',_0x47a42e(0xa0),_0x47a42e(0x95),_0x47a42e(0x89),_0x47a42e(0x91)],'include':['extraInfo']}),_0x15accc;};exports['default']=UpdateContactService;function a454_0x3632(){const _0xd30135=['search','__importDefault','defineProperty','(((.+)+)+)+$','toString','findOne','457481bOzIZb','66oCkiSU','1972878GfbLja','extraInfo','update','constructor','reload','email','12733orHzYH','24770CFOMGY','2sfBGWG','5120YPeMzE','ERR_NO_CONTACT_FOUND','destroy','upsert','profilePicUrl','companyId','__esModule','2235888eXoLtm','number','2408vGwDww','869STwpOk','apply','../../models/ContactCustomField','all','171156pxkiyi','findIndex','../../models/Contact','map','default','name'];a454_0x3632=function(){return _0xd30135;};return a454_0x3632();}