const a422_0x40bf89=a422_0x1a6d;(function(_0x2070b2,_0x1fc9b7){const _0x3516cb=a422_0x1a6d,_0x38eb8f=_0x2070b2();while(!![]){try{const _0x1be81d=-parseInt(_0x3516cb(0x1b6))/0x1*(parseInt(_0x3516cb(0x1bd))/0x2)+-parseInt(_0x3516cb(0x1a5))/0x3*(-parseInt(_0x3516cb(0x1be))/0x4)+parseInt(_0x3516cb(0x1b4))/0x5*(-parseInt(_0x3516cb(0x1b0))/0x6)+parseInt(_0x3516cb(0x1ab))/0x7*(parseInt(_0x3516cb(0x1b2))/0x8)+-parseInt(_0x3516cb(0x1ba))/0x9+parseInt(_0x3516cb(0x1b8))/0xa+-parseInt(_0x3516cb(0x1a9))/0xb;if(_0x1be81d===_0x1fc9b7)break;else _0x38eb8f['push'](_0x38eb8f['shift']());}catch(_0x298391){_0x38eb8f['push'](_0x38eb8f['shift']());}}}(a422_0x2dc9,0xa8d77));function a422_0x1a6d(_0x3c6613,_0x459b50){const _0x1cd9a6=a422_0x2dc9();return a422_0x1a6d=function(_0x1fb4b7,_0x207c2f){_0x1fb4b7=_0x1fb4b7-0x1a3;let _0x2dc99e=_0x1cd9a6[_0x1fb4b7];return _0x2dc99e;},a422_0x1a6d(_0x3c6613,_0x459b50);}const a422_0x207c2f=(function(){let _0x46afed=!![];return function(_0x587886,_0x1ddd27){const _0x56238d=_0x46afed?function(){const _0x456038=a422_0x1a6d;if(_0x1ddd27){const _0x281e7b=_0x1ddd27[_0x456038(0x1a8)](_0x587886,arguments);return _0x1ddd27=null,_0x281e7b;}}:function(){};return _0x46afed=![],_0x56238d;};}()),a422_0x1fb4b7=a422_0x207c2f(this,function(){const _0x2e6c3c=a422_0x1a6d;return a422_0x1fb4b7[_0x2e6c3c(0x1a3)]()['search']('(((.+)+)+)+$')[_0x2e6c3c(0x1a3)]()[_0x2e6c3c(0x1b3)](a422_0x1fb4b7)['search']('(((.+)+)+)+$');});a422_0x1fb4b7();'use strict';var __importDefault=this&&this[a422_0x40bf89(0x1bc)]||function(_0x12ccf4){const _0x5d2e59=a422_0x40bf89;return _0x12ccf4&&_0x12ccf4[_0x5d2e59(0x1c1)]?_0x12ccf4:{'default':_0x12ccf4};};Object['defineProperty'](exports,a422_0x40bf89(0x1c1),{'value':!![]});const AppError_1=__importDefault(require(a422_0x40bf89(0x1a4))),Contact_1=__importDefault(require(a422_0x40bf89(0x1b7))),ContactCustomField_1=__importDefault(require(a422_0x40bf89(0x1c0))),UpdateContactService=async({contactData:_0x1f1b4e,contactId:_0x3638a3,companyId:_0x307447})=>{const _0x4d51a9=a422_0x40bf89,{email:_0x1a5a28,name:_0x4e4277,number:_0x30f4d5,extraInfo:_0xe0fe9d,disableBot:_0x5a2734}=_0x1f1b4e,_0x486c39=await Contact_1[_0x4d51a9(0x1b1)]['findOne']({'where':{'id':_0x3638a3},'attributes':['id',_0x4d51a9(0x1ad),_0x4d51a9(0x1ae),_0x4d51a9(0x1bf),_0x4d51a9(0x1bb),'profilePicUrl'],'include':[_0x4d51a9(0x1af)]});if(_0x486c39?.[_0x4d51a9(0x1bb)]!==_0x307447)throw new AppError_1[(_0x4d51a9(0x1b1))]('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0x486c39)throw new AppError_1[(_0x4d51a9(0x1b1))]('ERR_NO_CONTACT_FOUND',0x194);return _0xe0fe9d&&(await Promise[_0x4d51a9(0x1b9)](_0xe0fe9d['map'](async _0x1d5853=>{const _0x2c9536=_0x4d51a9;await ContactCustomField_1[_0x2c9536(0x1b1)]['upsert']({..._0x1d5853,'contactId':_0x486c39['id']});})),await Promise['all'](_0x486c39[_0x4d51a9(0x1af)][_0x4d51a9(0x1b5)](async _0x50debe=>{const _0x2c2465=_0x4d51a9,_0x4fbf27=_0xe0fe9d[_0x2c2465(0x1a7)](_0x25a0ba=>_0x25a0ba['id']===_0x50debe['id']);_0x4fbf27===-0x1&&await ContactCustomField_1[_0x2c2465(0x1b1)][_0x2c2465(0x1aa)]({'where':{'id':_0x50debe['id']}});}))),await _0x486c39[_0x4d51a9(0x1ac)]({'name':_0x4e4277,'number':_0x30f4d5,'email':_0x1a5a28,'disableBot':_0x5a2734}),await _0x486c39[_0x4d51a9(0x1a6)]({'attributes':['id',_0x4d51a9(0x1ad),_0x4d51a9(0x1ae),_0x4d51a9(0x1bf),'profilePicUrl'],'include':['extraInfo']}),_0x486c39;};exports[a422_0x40bf89(0x1b1)]=UpdateContactService;function a422_0x2dc9(){const _0x162a19=['112UsOWJw','update','name','number','extraInfo','1358586KWucwH','default','519208GjQYDE','constructor','5OIuKNI','map','1373hXjxSh','../../models/Contact','9105710PcSMHm','all','2076588vDLVHQ','companyId','__importDefault','1054SDesHP','797864ZsKffO','email','../../models/ContactCustomField','__esModule','toString','../../errors/AppError','6trjTDm','reload','findIndex','apply','5231710OmOfjM','destroy'];a422_0x2dc9=function(){return _0x162a19;};return a422_0x2dc9();}