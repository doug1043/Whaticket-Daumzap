function a457_0x3e43(_0xb61bfe,_0x7bfe99){const _0x14baac=a457_0x459d();return a457_0x3e43=function(_0x4be4b0,_0x22c2de){_0x4be4b0=_0x4be4b0-0x173;let _0x459d87=_0x14baac[_0x4be4b0];return _0x459d87;},a457_0x3e43(_0xb61bfe,_0x7bfe99);}function a457_0x459d(){const _0x432b59=['214335IJJRUH','3883YZBgoy','profilePicUrl','search','2612316dcQKFc','__esModule','3NYSadk','../../models/Contact','9OdNvKA','extraInfo','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','2131288WRUsGO','ERR_NO_CONTACT_FOUND','apply','6287144GzNRkc','47126YVUckQ','findIndex','default','(((.+)+)+)+$','126HIHqAC','name','all','4710ICVsce','destroy','companyId','findOne','toString','1789851ufmIVa','number','35UArubJ','map','__importDefault','../../errors/AppError','update','defineProperty','../../models/ContactCustomField'];a457_0x459d=function(){return _0x432b59;};return a457_0x459d();}const a457_0x1cc6b0=a457_0x3e43;(function(_0x2d3309,_0x44ff18){const _0x4fd0b1=a457_0x3e43,_0xf10107=_0x2d3309();while(!![]){try{const _0x366e57=-parseInt(_0x4fd0b1(0x17b))/0x1*(-parseInt(_0x4fd0b1(0x191))/0x2)+-parseInt(_0x4fd0b1(0x188))/0x3*(parseInt(_0x4fd0b1(0x18d))/0x4)+parseInt(_0x4fd0b1(0x182))/0x5*(-parseInt(_0x4fd0b1(0x195))/0x6)+parseInt(_0x4fd0b1(0x179))/0x7+parseInt(_0x4fd0b1(0x190))/0x8*(parseInt(_0x4fd0b1(0x18a))/0x9)+-parseInt(_0x4fd0b1(0x174))/0xa*(parseInt(_0x4fd0b1(0x183))/0xb)+parseInt(_0x4fd0b1(0x186))/0xc;if(_0x366e57===_0x44ff18)break;else _0xf10107['push'](_0xf10107['shift']());}catch(_0x15348a){_0xf10107['push'](_0xf10107['shift']());}}}(a457_0x459d,0x76554));const a457_0x22c2de=(function(){let _0x9591a8=!![];return function(_0x57f79a,_0x402429){const _0x4df5a6=_0x9591a8?function(){const _0x1a68ab=a457_0x3e43;if(_0x402429){const _0x4c06e6=_0x402429[_0x1a68ab(0x18f)](_0x57f79a,arguments);return _0x402429=null,_0x4c06e6;}}:function(){};return _0x9591a8=![],_0x4df5a6;};}()),a457_0x4be4b0=a457_0x22c2de(this,function(){const _0x927503=a457_0x3e43;return a457_0x4be4b0[_0x927503(0x178)]()['search'](_0x927503(0x194))[_0x927503(0x178)]()['constructor'](a457_0x4be4b0)[_0x927503(0x185)](_0x927503(0x194));});a457_0x4be4b0();'use strict';var __importDefault=this&&this[a457_0x1cc6b0(0x17d)]||function(_0x526a5b){const _0xa98744=a457_0x1cc6b0;return _0x526a5b&&_0x526a5b[_0xa98744(0x187)]?_0x526a5b:{'default':_0x526a5b};};Object[a457_0x1cc6b0(0x180)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a457_0x1cc6b0(0x17e))),Contact_1=__importDefault(require(a457_0x1cc6b0(0x189))),ContactCustomField_1=__importDefault(require(a457_0x1cc6b0(0x181))),UpdateContactService=async({contactData:_0x4dbaf8,contactId:_0x1b2a27,companyId:_0x31b054})=>{const _0x55a94e=a457_0x1cc6b0,{email:_0x3d9526,name:_0x39a6cb,number:_0x478c24,extraInfo:_0x1a51c3,disableBot:_0x540b62}=_0x4dbaf8,_0x44ed69=await Contact_1[_0x55a94e(0x193)][_0x55a94e(0x177)]({'where':{'id':_0x1b2a27},'attributes':['id',_0x55a94e(0x196),_0x55a94e(0x17a),'email',_0x55a94e(0x176),'profilePicUrl'],'include':['extraInfo']});if(_0x44ed69?.[_0x55a94e(0x176)]!==_0x31b054)throw new AppError_1['default'](_0x55a94e(0x18c));if(!_0x44ed69)throw new AppError_1[(_0x55a94e(0x193))](_0x55a94e(0x18e),0x194);return _0x1a51c3&&(await Promise[_0x55a94e(0x173)](_0x1a51c3['map'](async _0x18041a=>{const _0x2f4215=_0x55a94e;await ContactCustomField_1[_0x2f4215(0x193)]['upsert']({..._0x18041a,'contactId':_0x44ed69['id']});})),await Promise[_0x55a94e(0x173)](_0x44ed69['extraInfo'][_0x55a94e(0x17c)](async _0x3a7bdd=>{const _0x445945=_0x55a94e,_0x5dede3=_0x1a51c3[_0x445945(0x192)](_0x155045=>_0x155045['id']===_0x3a7bdd['id']);_0x5dede3===-0x1&&await ContactCustomField_1[_0x445945(0x193)][_0x445945(0x175)]({'where':{'id':_0x3a7bdd['id']}});}))),await _0x44ed69[_0x55a94e(0x17f)]({'name':_0x39a6cb,'number':_0x478c24,'email':_0x3d9526,'disableBot':_0x540b62}),await _0x44ed69['reload']({'attributes':['id',_0x55a94e(0x196),_0x55a94e(0x17a),'email',_0x55a94e(0x184)],'include':[_0x55a94e(0x18b)]}),_0x44ed69;};exports[a457_0x1cc6b0(0x193)]=UpdateContactService;