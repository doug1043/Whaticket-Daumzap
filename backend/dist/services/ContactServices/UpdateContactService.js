const a420_0x246d1f=a420_0x1b73;(function(_0xfe3bc5,_0x48ea20){const _0xfb874c=a420_0x1b73,_0x23d422=_0xfe3bc5();while(!![]){try{const _0x32f19f=-parseInt(_0xfb874c(0x168))/0x1*(-parseInt(_0xfb874c(0x16d))/0x2)+parseInt(_0xfb874c(0x170))/0x3+-parseInt(_0xfb874c(0x176))/0x4+parseInt(_0xfb874c(0x16e))/0x5*(parseInt(_0xfb874c(0x15c))/0x6)+-parseInt(_0xfb874c(0x15e))/0x7*(parseInt(_0xfb874c(0x173))/0x8)+parseInt(_0xfb874c(0x177))/0x9+-parseInt(_0xfb874c(0x169))/0xa;if(_0x32f19f===_0x48ea20)break;else _0x23d422['push'](_0x23d422['shift']());}catch(_0x2f5c93){_0x23d422['push'](_0x23d422['shift']());}}}(a420_0x173d,0xef7db));const a420_0x4942e4=(function(){let _0x2db719=!![];return function(_0x3621dd,_0x8dd2c7){const _0x28ff11=_0x2db719?function(){const _0x49bb57=a420_0x1b73;if(_0x8dd2c7){const _0x4f5d47=_0x8dd2c7[_0x49bb57(0x179)](_0x3621dd,arguments);return _0x8dd2c7=null,_0x4f5d47;}}:function(){};return _0x2db719=![],_0x28ff11;};}()),a420_0x3ad40a=a420_0x4942e4(this,function(){const _0x14297e=a420_0x1b73;return a420_0x3ad40a[_0x14297e(0x16c)]()['search'](_0x14297e(0x165))[_0x14297e(0x16c)]()[_0x14297e(0x167)](a420_0x3ad40a)['search']('(((.+)+)+)+$');});function a420_0x173d(){const _0x51b425=['__importDefault','reload','email','6YIPUkt','name','1421924RpLBCM','../../models/ContactCustomField','companyId','../../errors/AppError','extraInfo','map','__esModule','(((.+)+)+)+$','defineProperty','constructor','40350vzpUKH','28958230thnRrt','default','destroy','toString','82pZSczs','8676785PTWrwm','upsert','3748062ikEoFv','profilePicUrl','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','32VTEuQG','update','../../models/Contact','1890540DuaccP','4705920xVXWWf','number','apply','findIndex'];a420_0x173d=function(){return _0x51b425;};return a420_0x173d();}a420_0x3ad40a();'use strict';function a420_0x1b73(_0x263ddb,_0x42c1cd){const _0x28a762=a420_0x173d();return a420_0x1b73=function(_0x3ad40a,_0x4942e4){_0x3ad40a=_0x3ad40a-0x158;let _0x173d87=_0x28a762[_0x3ad40a];return _0x173d87;},a420_0x1b73(_0x263ddb,_0x42c1cd);}var __importDefault=this&&this[a420_0x246d1f(0x159)]||function(_0x523a17){const _0x6b4799=a420_0x246d1f;return _0x523a17&&_0x523a17[_0x6b4799(0x164)]?_0x523a17:{'default':_0x523a17};};Object[a420_0x246d1f(0x166)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a420_0x246d1f(0x161))),Contact_1=__importDefault(require(a420_0x246d1f(0x175))),ContactCustomField_1=__importDefault(require(a420_0x246d1f(0x15f))),UpdateContactService=async({contactData:_0x27b84e,contactId:_0x1582a8,companyId:_0x27feda})=>{const _0x46b591=a420_0x246d1f,{email:_0x2200e9,name:_0x1b4937,number:_0x121309,extraInfo:_0x40a050,disableBot:_0x2841a0}=_0x27b84e,_0x200686=await Contact_1[_0x46b591(0x16a)]['findOne']({'where':{'id':_0x1582a8},'attributes':['id','name',_0x46b591(0x178),_0x46b591(0x15b),_0x46b591(0x160),_0x46b591(0x171)],'include':[_0x46b591(0x162)]});if(_0x200686?.[_0x46b591(0x160)]!==_0x27feda)throw new AppError_1[(_0x46b591(0x16a))](_0x46b591(0x172));if(!_0x200686)throw new AppError_1[(_0x46b591(0x16a))]('ERR_NO_CONTACT_FOUND',0x194);return _0x40a050&&(await Promise['all'](_0x40a050[_0x46b591(0x163)](async _0x23abb0=>{const _0xc27f2=_0x46b591;await ContactCustomField_1['default'][_0xc27f2(0x16f)]({..._0x23abb0,'contactId':_0x200686['id']});})),await Promise['all'](_0x200686[_0x46b591(0x162)][_0x46b591(0x163)](async _0x22b3af=>{const _0x160ba7=_0x46b591,_0x25b080=_0x40a050[_0x160ba7(0x158)](_0x463fcc=>_0x463fcc['id']===_0x22b3af['id']);_0x25b080===-0x1&&await ContactCustomField_1['default'][_0x160ba7(0x16b)]({'where':{'id':_0x22b3af['id']}});}))),await _0x200686[_0x46b591(0x174)]({'name':_0x1b4937,'number':_0x121309,'email':_0x2200e9,'disableBot':_0x2841a0}),await _0x200686[_0x46b591(0x15a)]({'attributes':['id',_0x46b591(0x15d),'number',_0x46b591(0x15b),_0x46b591(0x171)],'include':['extraInfo']}),_0x200686;};exports[a420_0x246d1f(0x16a)]=UpdateContactService;