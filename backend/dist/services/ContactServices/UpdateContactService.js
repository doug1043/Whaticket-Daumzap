const a422_0x5b9262=a422_0x53c8;function a422_0x53c8(_0x971b41,_0x1c151d){const _0x24691c=a422_0x1d21();return a422_0x53c8=function(_0x5c0f2a,_0x65ae62){_0x5c0f2a=_0x5c0f2a-0x1d0;let _0x1d21ba=_0x24691c[_0x5c0f2a];return _0x1d21ba;},a422_0x53c8(_0x971b41,_0x1c151d);}(function(_0x399f65,_0x333762){const _0x319fe=a422_0x53c8,_0x230da3=_0x399f65();while(!![]){try{const _0x5bef05=-parseInt(_0x319fe(0x1e1))/0x1*(parseInt(_0x319fe(0x1e4))/0x2)+-parseInt(_0x319fe(0x1d6))/0x3+-parseInt(_0x319fe(0x1d3))/0x4+parseInt(_0x319fe(0x1ed))/0x5+-parseInt(_0x319fe(0x1d9))/0x6+parseInt(_0x319fe(0x1de))/0x7+parseInt(_0x319fe(0x1ea))/0x8*(parseInt(_0x319fe(0x1e8))/0x9);if(_0x5bef05===_0x333762)break;else _0x230da3['push'](_0x230da3['shift']());}catch(_0x3abb53){_0x230da3['push'](_0x230da3['shift']());}}}(a422_0x1d21,0x86568));const a422_0x65ae62=(function(){let _0xed2b79=!![];return function(_0x3bc123,_0x25d9db){const _0x13ca53=_0xed2b79?function(){const _0x5135e2=a422_0x53c8;if(_0x25d9db){const _0x4829c3=_0x25d9db[_0x5135e2(0x1d1)](_0x3bc123,arguments);return _0x25d9db=null,_0x4829c3;}}:function(){};return _0xed2b79=![],_0x13ca53;};}()),a422_0x5c0f2a=a422_0x65ae62(this,function(){const _0x304078=a422_0x53c8;return a422_0x5c0f2a[_0x304078(0x1db)]()['search']('(((.+)+)+)+$')[_0x304078(0x1db)]()['constructor'](a422_0x5c0f2a)[_0x304078(0x1d5)](_0x304078(0x1ec));});a422_0x5c0f2a();'use strict';var __importDefault=this&&this[a422_0x5b9262(0x1dc)]||function(_0x20b0b7){const _0x51a8a1=a422_0x5b9262;return _0x20b0b7&&_0x20b0b7[_0x51a8a1(0x1e3)]?_0x20b0b7:{'default':_0x20b0b7};};function a422_0x1d21(){const _0x417c3a=['destroy','apply','default','3579472DzlUcS','name','search','3064476hFaPhr','findOne','map','6068814EjCmsL','number','toString','__importDefault','all','2773379vgfNTJ','ERR_NO_CONTACT_FOUND','upsert','777985QHHGsz','profilePicUrl','__esModule','2ePcjVt','extraInfo','../../errors/AppError','defineProperty','4794183LUbihw','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','56JAQNKF','companyId','(((.+)+)+)+$','655280OYyyiz','email'];a422_0x1d21=function(){return _0x417c3a;};return a422_0x1d21();}Object[a422_0x5b9262(0x1e7)](exports,a422_0x5b9262(0x1e3),{'value':!![]});const AppError_1=__importDefault(require(a422_0x5b9262(0x1e6))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require('../../models/ContactCustomField')),UpdateContactService=async({contactData:_0xd0636a,contactId:_0x595cb6,companyId:_0x1bd234})=>{const _0x5060fd=a422_0x5b9262,{email:_0x480147,name:_0x5bb92a,number:_0x27780d,extraInfo:_0x5a6788,disableBot:_0x541393}=_0xd0636a,_0x1d8409=await Contact_1['default'][_0x5060fd(0x1d7)]({'where':{'id':_0x595cb6},'attributes':['id',_0x5060fd(0x1d4),_0x5060fd(0x1da),_0x5060fd(0x1ee),_0x5060fd(0x1eb),'profilePicUrl'],'include':[_0x5060fd(0x1e5)]});if(_0x1d8409?.[_0x5060fd(0x1eb)]!==_0x1bd234)throw new AppError_1[(_0x5060fd(0x1d2))](_0x5060fd(0x1e9));if(!_0x1d8409)throw new AppError_1[(_0x5060fd(0x1d2))](_0x5060fd(0x1df),0x194);return _0x5a6788&&(await Promise[_0x5060fd(0x1dd)](_0x5a6788[_0x5060fd(0x1d8)](async _0x46ac0c=>{const _0x40d00a=_0x5060fd;await ContactCustomField_1[_0x40d00a(0x1d2)][_0x40d00a(0x1e0)]({..._0x46ac0c,'contactId':_0x1d8409['id']});})),await Promise[_0x5060fd(0x1dd)](_0x1d8409[_0x5060fd(0x1e5)]['map'](async _0x3ba107=>{const _0x5b5f8a=_0x5060fd,_0x1439a0=_0x5a6788['findIndex'](_0x32e86b=>_0x32e86b['id']===_0x3ba107['id']);_0x1439a0===-0x1&&await ContactCustomField_1[_0x5b5f8a(0x1d2)][_0x5b5f8a(0x1d0)]({'where':{'id':_0x3ba107['id']}});}))),await _0x1d8409['update']({'name':_0x5bb92a,'number':_0x27780d,'email':_0x480147,'disableBot':_0x541393}),await _0x1d8409['reload']({'attributes':['id',_0x5060fd(0x1d4),_0x5060fd(0x1da),'email',_0x5060fd(0x1e2)],'include':['extraInfo']}),_0x1d8409;};exports['default']=UpdateContactService;