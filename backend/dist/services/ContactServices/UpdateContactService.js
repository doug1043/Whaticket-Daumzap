const a539_0x592266=a539_0x52e5;(function(_0x1de7fe,_0x592f2f){const _0x1877f7=a539_0x52e5,_0x546e8d=_0x1de7fe();while(!![]){try{const _0x584e57=parseInt(_0x1877f7(0x12f))/0x1+parseInt(_0x1877f7(0x11d))/0x2+parseInt(_0x1877f7(0x135))/0x3+-parseInt(_0x1877f7(0x119))/0x4*(-parseInt(_0x1877f7(0x11c))/0x5)+-parseInt(_0x1877f7(0x132))/0x6+parseInt(_0x1877f7(0x11f))/0x7*(parseInt(_0x1877f7(0x115))/0x8)+parseInt(_0x1877f7(0x123))/0x9*(-parseInt(_0x1877f7(0x122))/0xa);if(_0x584e57===_0x592f2f)break;else _0x546e8d['push'](_0x546e8d['shift']());}catch(_0x50baf4){_0x546e8d['push'](_0x546e8d['shift']());}}}(a539_0x2854,0x82264));const a539_0x49ef94=(function(){let _0x24237f=!![];return function(_0x1c3265,_0xc688ee){const _0x367434=_0x24237f?function(){const _0x49b82b=a539_0x52e5;if(_0xc688ee){const _0xb4b50e=_0xc688ee[_0x49b82b(0x133)](_0x1c3265,arguments);return _0xc688ee=null,_0xb4b50e;}}:function(){};return _0x24237f=![],_0x367434;};}()),a539_0x320463=a539_0x49ef94(this,function(){const _0x5ce307=a539_0x52e5;return a539_0x320463[_0x5ce307(0x11b)]()[_0x5ce307(0x118)]('(((.+)+)+)+$')[_0x5ce307(0x11b)]()[_0x5ce307(0x124)](a539_0x320463)[_0x5ce307(0x118)](_0x5ce307(0x120));});a539_0x320463();'use strict';var __importDefault=this&&this[a539_0x592266(0x125)]||function(_0x40bb2a){const _0x550a0e=a539_0x592266;return _0x40bb2a&&_0x40bb2a[_0x550a0e(0x11e)]?_0x40bb2a:{'default':_0x40bb2a};};Object[a539_0x592266(0x134)](exports,a539_0x592266(0x11e),{'value':!![]});function a539_0x2854(){const _0x52ee97=['__esModule','56DAMUlg','(((.+)+)+)+$','email','230hkMhcm','1072098YJRoiY','constructor','__importDefault','all','../../errors/AppError','../../models/Contact','default','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','../../models/ContactCustomField','upsert','ERR_NO_CONTACT_FOUND','extraInfo','458933wiSRhL','number','name','804930UEExRU','apply','defineProperty','3150708nCANuN','update','map','701232vOkMwl','companyId','profilePicUrl','search','48PIBSMG','findOne','toString','133890fERrGa','1750632ufeQpO'];a539_0x2854=function(){return _0x52ee97;};return a539_0x2854();}const AppError_1=__importDefault(require(a539_0x592266(0x127))),Contact_1=__importDefault(require(a539_0x592266(0x128))),ContactCustomField_1=__importDefault(require(a539_0x592266(0x12b))),UpdateContactService=async({contactData:_0xc823e9,contactId:_0x376671,companyId:_0x2a299a})=>{const _0xab96b4=a539_0x592266,{email:_0xfb969a,name:_0x86cc83,number:_0x26b33c,extraInfo:_0x7295a5,disableBot:_0x401c23}=_0xc823e9,_0x1bdb79=await Contact_1['default'][_0xab96b4(0x11a)]({'where':{'id':_0x376671},'attributes':['id',_0xab96b4(0x131),'number',_0xab96b4(0x121),_0xab96b4(0x116),_0xab96b4(0x117)],'include':[_0xab96b4(0x12e)]});if(_0x1bdb79?.['companyId']!==_0x2a299a)throw new AppError_1[(_0xab96b4(0x129))](_0xab96b4(0x12a));if(!_0x1bdb79)throw new AppError_1[(_0xab96b4(0x129))](_0xab96b4(0x12d),0x194);return _0x7295a5&&(await Promise[_0xab96b4(0x126)](_0x7295a5[_0xab96b4(0x137)](async _0x2e5ea1=>{const _0x210ecb=_0xab96b4;await ContactCustomField_1[_0x210ecb(0x129)][_0x210ecb(0x12c)]({..._0x2e5ea1,'contactId':_0x1bdb79['id']});})),await Promise['all'](_0x1bdb79['extraInfo'][_0xab96b4(0x137)](async _0x3aa17c=>{const _0x19b14c=_0xab96b4,_0x25b036=_0x7295a5['findIndex'](_0x134ac0=>_0x134ac0['id']===_0x3aa17c['id']);_0x25b036===-0x1&&await ContactCustomField_1[_0x19b14c(0x129)]['destroy']({'where':{'id':_0x3aa17c['id']}});}))),await _0x1bdb79[_0xab96b4(0x136)]({'name':_0x86cc83,'number':_0x26b33c,'email':_0xfb969a,'disableBot':_0x401c23}),await _0x1bdb79['reload']({'attributes':['id',_0xab96b4(0x131),_0xab96b4(0x130),_0xab96b4(0x121),_0xab96b4(0x117)],'include':[_0xab96b4(0x12e)]}),_0x1bdb79;};function a539_0x52e5(_0x245f64,_0x21f42d){const _0x28c40a=a539_0x2854();return a539_0x52e5=function(_0x320463,_0x49ef94){_0x320463=_0x320463-0x115;let _0x2854e6=_0x28c40a[_0x320463];return _0x2854e6;},a539_0x52e5(_0x245f64,_0x21f42d);}exports['default']=UpdateContactService;