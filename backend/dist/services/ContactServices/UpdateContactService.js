const a457_0x1910e8=a457_0x5de5;(function(_0x8c282a,_0x39da39){const _0x56e687=a457_0x5de5,_0x2d6be0=_0x8c282a();while(!![]){try{const _0x570ff3=parseInt(_0x56e687(0xc3))/0x1*(-parseInt(_0x56e687(0xc9))/0x2)+parseInt(_0x56e687(0xc1))/0x3*(parseInt(_0x56e687(0xcb))/0x4)+parseInt(_0x56e687(0xb8))/0x5+-parseInt(_0x56e687(0xb9))/0x6*(parseInt(_0x56e687(0xd5))/0x7)+parseInt(_0x56e687(0xbb))/0x8*(parseInt(_0x56e687(0xb7))/0x9)+-parseInt(_0x56e687(0xce))/0xa*(-parseInt(_0x56e687(0xbf))/0xb)+-parseInt(_0x56e687(0xbc))/0xc;if(_0x570ff3===_0x39da39)break;else _0x2d6be0['push'](_0x2d6be0['shift']());}catch(_0x43b9b2){_0x2d6be0['push'](_0x2d6be0['shift']());}}}(a457_0x393f,0xb6211));function a457_0x5de5(_0x45d9f4,_0x549e39){const _0x2da1ed=a457_0x393f();return a457_0x5de5=function(_0x4237fb,_0x368f8a){_0x4237fb=_0x4237fb-0xb5;let _0x393fcb=_0x2da1ed[_0x4237fb];return _0x393fcb;},a457_0x5de5(_0x45d9f4,_0x549e39);}const a457_0x368f8a=(function(){let _0x54bdfc=!![];return function(_0x285c73,_0x139ef9){const _0x7ea0df=_0x54bdfc?function(){const _0xc93fa8=a457_0x5de5;if(_0x139ef9){const _0x33762d=_0x139ef9[_0xc93fa8(0xc2)](_0x285c73,arguments);return _0x139ef9=null,_0x33762d;}}:function(){};return _0x54bdfc=![],_0x7ea0df;};}()),a457_0x4237fb=a457_0x368f8a(this,function(){const _0x2c9491=a457_0x5de5;return a457_0x4237fb['toString']()[_0x2c9491(0xc7)](_0x2c9491(0xcf))[_0x2c9491(0xb5)]()[_0x2c9491(0xc4)](a457_0x4237fb)['search'](_0x2c9491(0xcf));});a457_0x4237fb();'use strict';var __importDefault=this&&this[a457_0x1910e8(0xd2)]||function(_0x25a5c9){return _0x25a5c9&&_0x25a5c9['__esModule']?_0x25a5c9:{'default':_0x25a5c9};};Object['defineProperty'](exports,a457_0x1910e8(0xd6),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a457_0x1910e8(0xcd))),UpdateContactService=async({contactData:_0x23a24d,contactId:_0x3a0e03,companyId:_0x482f1e})=>{const _0x558bd3=a457_0x1910e8,{email:_0x13e338,name:_0x48f3ea,number:_0x2c3d8a,extraInfo:_0x3476ab,disableBot:_0x37cf0e}=_0x23a24d,_0x33d300=await Contact_1[_0x558bd3(0xd1)][_0x558bd3(0xba)]({'where':{'id':_0x3a0e03},'attributes':['id',_0x558bd3(0xca),_0x558bd3(0xc5),'email',_0x558bd3(0xcc),'profilePicUrl'],'include':[_0x558bd3(0xd4)]});if(_0x33d300?.[_0x558bd3(0xcc)]!==_0x482f1e)throw new AppError_1[(_0x558bd3(0xd1))](_0x558bd3(0xc6));if(!_0x33d300)throw new AppError_1[(_0x558bd3(0xd1))](_0x558bd3(0xd3),0x194);return _0x3476ab&&(await Promise[_0x558bd3(0xbe)](_0x3476ab[_0x558bd3(0xb6)](async _0x3b0460=>{await ContactCustomField_1['default']['upsert']({..._0x3b0460,'contactId':_0x33d300['id']});})),await Promise[_0x558bd3(0xbe)](_0x33d300[_0x558bd3(0xd4)][_0x558bd3(0xb6)](async _0x423679=>{const _0x568801=_0x558bd3,_0x3430d1=_0x3476ab[_0x568801(0xd0)](_0x5de6a9=>_0x5de6a9['id']===_0x423679['id']);_0x3430d1===-0x1&&await ContactCustomField_1['default']['destroy']({'where':{'id':_0x423679['id']}});}))),await _0x33d300['update']({'name':_0x48f3ea,'number':_0x2c3d8a,'email':_0x13e338,'disableBot':_0x37cf0e}),await _0x33d300[_0x558bd3(0xc8)]({'attributes':['id','name','number',_0x558bd3(0xbd),_0x558bd3(0xc0)],'include':[_0x558bd3(0xd4)]}),_0x33d300;};function a457_0x393f(){const _0x287317=['companyId','../../models/ContactCustomField','40qPBsjx','(((.+)+)+)+$','findIndex','default','__importDefault','ERR_NO_CONTACT_FOUND','extraInfo','5348iiOweQ','__esModule','toString','map','981IgPYND','7072240OMaEbL','2298mSdhkZ','findOne','105992YUUmbp','29087592jfQlJB','email','all','1881385NKvwFL','profilePicUrl','729906xYoWva','apply','13UBiyqj','constructor','number','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','search','reload','124624xSQWiW','name','12cRylYV'];a457_0x393f=function(){return _0x287317;};return a457_0x393f();}exports[a457_0x1910e8(0xd1)]=UpdateContactService;