const a539_0x538ef2=a539_0xe6a5;(function(_0x391164,_0x2db6f5){const _0x56b277=a539_0xe6a5,_0x5ea865=_0x391164();while(!![]){try{const _0x5a6ac6=-parseInt(_0x56b277(0x120))/0x1*(-parseInt(_0x56b277(0x10a))/0x2)+parseInt(_0x56b277(0x123))/0x3+-parseInt(_0x56b277(0x116))/0x4+-parseInt(_0x56b277(0x10d))/0x5+parseInt(_0x56b277(0x117))/0x6*(-parseInt(_0x56b277(0x107))/0x7)+-parseInt(_0x56b277(0x11c))/0x8*(parseInt(_0x56b277(0x108))/0x9)+parseInt(_0x56b277(0x118))/0xa;if(_0x5a6ac6===_0x2db6f5)break;else _0x5ea865['push'](_0x5ea865['shift']());}catch(_0x18f315){_0x5ea865['push'](_0x5ea865['shift']());}}}(a539_0x3ef2,0x24cf3));const a539_0x245f99=(function(){let _0x4ca24a=!![];return function(_0x121c07,_0x15331b){const _0x41b3eb=_0x4ca24a?function(){const _0xebc7e1=a539_0xe6a5;if(_0x15331b){const _0x2ff9f5=_0x15331b[_0xebc7e1(0x11d)](_0x121c07,arguments);return _0x15331b=null,_0x2ff9f5;}}:function(){};return _0x4ca24a=![],_0x41b3eb;};}()),a539_0x5dbd8a=a539_0x245f99(this,function(){const _0x4d0dc1=a539_0xe6a5;return a539_0x5dbd8a['toString']()[_0x4d0dc1(0x105)](_0x4d0dc1(0x10e))[_0x4d0dc1(0x11a)]()[_0x4d0dc1(0x106)](a539_0x5dbd8a)[_0x4d0dc1(0x105)](_0x4d0dc1(0x10e));});a539_0x5dbd8a();function a539_0xe6a5(_0x1724a3,_0x118edb){const _0x4ba532=a539_0x3ef2();return a539_0xe6a5=function(_0x5dbd8a,_0x245f99){_0x5dbd8a=_0x5dbd8a-0x104;let _0x3ef2cf=_0x4ba532[_0x5dbd8a];return _0x3ef2cf;},a539_0xe6a5(_0x1724a3,_0x118edb);}'use strict';var __importDefault=this&&this[a539_0x538ef2(0x119)]||function(_0x3b5a5a){const _0x29351a=a539_0x538ef2;return _0x3b5a5a&&_0x3b5a5a[_0x29351a(0x11e)]?_0x3b5a5a:{'default':_0x3b5a5a};};function a539_0x3ef2(){const _0x1697d7=['defineProperty','../../errors/AppError','profilePicUrl','search','constructor','7YPLsrU','2560662kCknls','../../models/ContactCustomField','4gtxFyZ','findOne','extraInfo','4335egJrAb','(((.+)+)+)+$','findIndex','email','companyId','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','upsert','name','number','221052XfTcnd','1087404pjEZmb','2736580aetdPO','__importDefault','toString','ERR_NO_CONTACT_FOUND','8DCQNmu','apply','__esModule','all','146485OifYYf','destroy','default','318075WQJbON'];a539_0x3ef2=function(){return _0x1697d7;};return a539_0x3ef2();}Object[a539_0x538ef2(0x124)](exports,a539_0x538ef2(0x11e),{'value':!![]});const AppError_1=__importDefault(require(a539_0x538ef2(0x125))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a539_0x538ef2(0x109))),UpdateContactService=async({contactData:_0x3c834c,contactId:_0x2339ee,companyId:_0x4caa21})=>{const _0x2b0ef0=a539_0x538ef2,{email:_0x173efd,name:_0x19bf6e,number:_0x1b292a,extraInfo:_0x25afbd,disableBot:_0x1d897f}=_0x3c834c,_0x55df39=await Contact_1['default'][_0x2b0ef0(0x10b)]({'where':{'id':_0x2339ee},'attributes':['id',_0x2b0ef0(0x114),_0x2b0ef0(0x115),_0x2b0ef0(0x110),_0x2b0ef0(0x111),_0x2b0ef0(0x104)],'include':[_0x2b0ef0(0x10c)]});if(_0x55df39?.[_0x2b0ef0(0x111)]!==_0x4caa21)throw new AppError_1[(_0x2b0ef0(0x122))](_0x2b0ef0(0x112));if(!_0x55df39)throw new AppError_1[(_0x2b0ef0(0x122))](_0x2b0ef0(0x11b),0x194);return _0x25afbd&&(await Promise[_0x2b0ef0(0x11f)](_0x25afbd['map'](async _0x48507e=>{const _0x5954f5=_0x2b0ef0;await ContactCustomField_1[_0x5954f5(0x122)][_0x5954f5(0x113)]({..._0x48507e,'contactId':_0x55df39['id']});})),await Promise['all'](_0x55df39['extraInfo']['map'](async _0x57f3e8=>{const _0x562318=_0x2b0ef0,_0x44dc64=_0x25afbd[_0x562318(0x10f)](_0x5161b5=>_0x5161b5['id']===_0x57f3e8['id']);_0x44dc64===-0x1&&await ContactCustomField_1['default'][_0x562318(0x121)]({'where':{'id':_0x57f3e8['id']}});}))),await _0x55df39['update']({'name':_0x19bf6e,'number':_0x1b292a,'email':_0x173efd,'disableBot':_0x1d897f}),await _0x55df39['reload']({'attributes':['id','name','number',_0x2b0ef0(0x110),_0x2b0ef0(0x104)],'include':[_0x2b0ef0(0x10c)]}),_0x55df39;};exports[a539_0x538ef2(0x122)]=UpdateContactService;