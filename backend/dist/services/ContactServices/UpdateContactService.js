const a538_0x7aef9b=a538_0x3ced;(function(_0x37caa1,_0x1da76f){const _0x5bf083=a538_0x3ced,_0x132d34=_0x37caa1();while(!![]){try{const _0x4bb50f=-parseInt(_0x5bf083(0x123))/0x1*(parseInt(_0x5bf083(0x118))/0x2)+parseInt(_0x5bf083(0x124))/0x3*(-parseInt(_0x5bf083(0x114))/0x4)+-parseInt(_0x5bf083(0x120))/0x5+-parseInt(_0x5bf083(0x11a))/0x6+-parseInt(_0x5bf083(0x122))/0x7+parseInt(_0x5bf083(0x121))/0x8+-parseInt(_0x5bf083(0x117))/0x9*(-parseInt(_0x5bf083(0x115))/0xa);if(_0x4bb50f===_0x1da76f)break;else _0x132d34['push'](_0x132d34['shift']());}catch(_0x4caffe){_0x132d34['push'](_0x132d34['shift']());}}}(a538_0x158d,0xcf2a4));function a538_0x158d(){const _0x4e515b=['1962216uJRrfE','700AzyHax','../../errors/AppError','163494csyKfO','24lSXYml','__esModule','4371822bMigfT','map','toString','findOne','../../models/ContactCustomField','upsert','434105Umeevq','10736072GYkgYp','1870155XtvGoo','15992wLMlox','3zpyqlQ','email','(((.+)+)+)+$','search','../../models/Contact','update','default','defineProperty','profilePicUrl','constructor','companyId','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','extraInfo','reload','name','number','ERR_NO_CONTACT_FOUND','all'];a538_0x158d=function(){return _0x4e515b;};return a538_0x158d();}const a538_0x536cb1=(function(){let _0x1e4728=!![];return function(_0x2900e8,_0x189e99){const _0x5351fd=_0x1e4728?function(){if(_0x189e99){const _0x5c7c6c=_0x189e99['apply'](_0x2900e8,arguments);return _0x189e99=null,_0x5c7c6c;}}:function(){};return _0x1e4728=![],_0x5351fd;};}()),a538_0xbf9142=a538_0x536cb1(this,function(){const _0x4e20e7=a538_0x3ced;return a538_0xbf9142[_0x4e20e7(0x11c)]()[_0x4e20e7(0x127)]('(((.+)+)+)+$')['toString']()[_0x4e20e7(0x10b)](a538_0xbf9142)[_0x4e20e7(0x127)](_0x4e20e7(0x126));});function a538_0x3ced(_0x4d4e75,_0x5c1afe){const _0x10b98e=a538_0x158d();return a538_0x3ced=function(_0xbf9142,_0x536cb1){_0xbf9142=_0xbf9142-0x109;let _0x158d3a=_0x10b98e[_0xbf9142];return _0x158d3a;},a538_0x3ced(_0x4d4e75,_0x5c1afe);}a538_0xbf9142();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x49f274){return _0x49f274&&_0x49f274['__esModule']?_0x49f274:{'default':_0x49f274};};Object[a538_0x7aef9b(0x109)](exports,a538_0x7aef9b(0x119),{'value':!![]});const AppError_1=__importDefault(require(a538_0x7aef9b(0x116))),Contact_1=__importDefault(require(a538_0x7aef9b(0x128))),ContactCustomField_1=__importDefault(require(a538_0x7aef9b(0x11e))),UpdateContactService=async({contactData:_0x3ebf9d,contactId:_0x31e04a,companyId:_0x151c86})=>{const _0x44b50e=a538_0x7aef9b,{email:_0x38da54,name:_0x305147,number:_0x8a991,extraInfo:_0x16be76,disableBot:_0x22e701}=_0x3ebf9d,_0x2e9b2e=await Contact_1['default'][_0x44b50e(0x11d)]({'where':{'id':_0x31e04a},'attributes':['id',_0x44b50e(0x110),_0x44b50e(0x111),_0x44b50e(0x125),'companyId','profilePicUrl'],'include':[_0x44b50e(0x10e)]});if(_0x2e9b2e?.[_0x44b50e(0x10c)]!==_0x151c86)throw new AppError_1[(_0x44b50e(0x12a))](_0x44b50e(0x10d));if(!_0x2e9b2e)throw new AppError_1[(_0x44b50e(0x12a))](_0x44b50e(0x112),0x194);return _0x16be76&&(await Promise[_0x44b50e(0x113)](_0x16be76['map'](async _0xf59e63=>{const _0x47b5ca=_0x44b50e;await ContactCustomField_1[_0x47b5ca(0x12a)][_0x47b5ca(0x11f)]({..._0xf59e63,'contactId':_0x2e9b2e['id']});})),await Promise[_0x44b50e(0x113)](_0x2e9b2e[_0x44b50e(0x10e)][_0x44b50e(0x11b)](async _0x248050=>{const _0x182e8e=_0x44b50e,_0x1af7f6=_0x16be76['findIndex'](_0x5c5391=>_0x5c5391['id']===_0x248050['id']);_0x1af7f6===-0x1&&await ContactCustomField_1[_0x182e8e(0x12a)]['destroy']({'where':{'id':_0x248050['id']}});}))),await _0x2e9b2e[_0x44b50e(0x129)]({'name':_0x305147,'number':_0x8a991,'email':_0x38da54,'disableBot':_0x22e701}),await _0x2e9b2e[_0x44b50e(0x10f)]({'attributes':['id',_0x44b50e(0x110),'number',_0x44b50e(0x125),_0x44b50e(0x10a)],'include':[_0x44b50e(0x10e)]}),_0x2e9b2e;};exports[a538_0x7aef9b(0x12a)]=UpdateContactService;