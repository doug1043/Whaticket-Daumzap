const a449_0x7a82ef=a449_0x4927;(function(_0x4ac7bc,_0x29c33c){const _0x3c8ed5=a449_0x4927,_0x7e67cf=_0x4ac7bc();while(!![]){try{const _0x25399f=-parseInt(_0x3c8ed5(0x139))/0x1*(-parseInt(_0x3c8ed5(0x15a))/0x2)+-parseInt(_0x3c8ed5(0x145))/0x3*(parseInt(_0x3c8ed5(0x13e))/0x4)+-parseInt(_0x3c8ed5(0x137))/0x5+parseInt(_0x3c8ed5(0x150))/0x6*(parseInt(_0x3c8ed5(0x146))/0x7)+-parseInt(_0x3c8ed5(0x138))/0x8*(parseInt(_0x3c8ed5(0x155))/0x9)+parseInt(_0x3c8ed5(0x14e))/0xa*(parseInt(_0x3c8ed5(0x135))/0xb)+-parseInt(_0x3c8ed5(0x157))/0xc*(-parseInt(_0x3c8ed5(0x158))/0xd);if(_0x25399f===_0x29c33c)break;else _0x7e67cf['push'](_0x7e67cf['shift']());}catch(_0x18658c){_0x7e67cf['push'](_0x7e67cf['shift']());}}}(a449_0x22df,0x7ca3e));function a449_0x22df(){const _0x246d76=['1184108DFQtar','Found\x20existing\x20contact\x20','-mainchannel','company-','findOne','../../libs/socket','search','3Mfeubt','64162qVvwQG','(((.+)+)+)+$','name','sequelize','SequelizeUniqueConstraintError','FRONTEND_URL','log','../../models/Contact','493330pXpJXW','env','138kxZwUe','profilePicUrl','apply','constructor','defineProperty','838611aMxKvh','toString','36ZQIesE','4658953aKmVTL','\x20for\x20number\x20','6BNSMZu','remoteJid','create','__importDefault','update','Error\x20creating\x20contact:','__esModule','ASC','whatsapp','replace','77lydhnz','-contact','959370cCTQoQ','72psyHzo','68582tvIOdF','push','default','lid','emit'];a449_0x22df=function(){return _0x246d76;};return a449_0x22df();}const a449_0x2ca2e1=(function(){let _0x439417=!![];return function(_0x1de194,_0x1e616c){const _0x878a44=_0x439417?function(){const _0x24cbb3=a449_0x4927;if(_0x1e616c){const _0xe642fd=_0x1e616c[_0x24cbb3(0x152)](_0x1de194,arguments);return _0x1e616c=null,_0xe642fd;}}:function(){};return _0x439417=![],_0x878a44;};}()),a449_0x57f51d=a449_0x2ca2e1(this,function(){const _0x3732d4=a449_0x4927;return a449_0x57f51d['toString']()[_0x3732d4(0x144)](_0x3732d4(0x147))[_0x3732d4(0x156)]()[_0x3732d4(0x153)](a449_0x57f51d)['search'](_0x3732d4(0x147));});a449_0x57f51d();'use strict';function a449_0x4927(_0x4dcb2b,_0x29b3ab){const _0x3d9c53=a449_0x22df();return a449_0x4927=function(_0x57f51d,_0x2ca2e1){_0x57f51d=_0x57f51d-0x130;let _0x22df96=_0x3d9c53[_0x57f51d];return _0x22df96;},a449_0x4927(_0x4dcb2b,_0x29b3ab);}var __importDefault=this&&this[a449_0x7a82ef(0x15d)]||function(_0x27c622){return _0x27c622&&_0x27c622['__esModule']?_0x27c622:{'default':_0x27c622};};Object[a449_0x7a82ef(0x154)](exports,a449_0x7a82ef(0x131),{'value':!![]});const socket_1=require(a449_0x7a82ef(0x143)),Contact_1=__importDefault(require(a449_0x7a82ef(0x14d))),sequelize_1=require(a449_0x7a82ef(0x149)),CreateOrUpdateContactService=async({name:_0x13c5c9,number:_0xc59ea4,profilePicUrl:_0x297879,isGroup:_0x4050cd,email:email='',companyId:_0x16ed2f,extraInfo:extraInfo=[],channel:channel=a449_0x7a82ef(0x133),disableBot:disableBot=![],remoteJid:_0x359ec0,lid:_0x338c6c})=>{const _0x148b11=a449_0x7a82ef,_0x39c047=_0x4050cd?_0xc59ea4:_0xc59ea4[_0x148b11(0x134)](/[^0-9]/g,''),_0x20f331=(0x0,socket_1['getIO'])();let _0x2f6b0d;if(_0x359ec0||_0x297879&&_0x297879!==process[_0x148b11(0x14f)][_0x148b11(0x14b)]+'/nopicture.png'){const _0x377360=[{'number':_0x39c047,'companyId':_0x16ed2f}];_0x359ec0&&_0x377360[_0x148b11(0x13a)]({'remoteJid':_0x359ec0,'companyId':_0x16ed2f});_0x297879&&_0x297879!==process[_0x148b11(0x14f)][_0x148b11(0x14b)]+'/nopicture.png'&&_0x377360[_0x148b11(0x13a)]({'profilePicUrl':_0x297879,'companyId':_0x16ed2f,'isGroup':![]});const _0x192d4a=await Contact_1[_0x148b11(0x13b)][_0x148b11(0x142)]({'where':{[sequelize_1['Op']['or']]:_0x377360},'order':[['createdAt',_0x148b11(0x132)]]});if(_0x192d4a)return console[_0x148b11(0x14c)](_0x148b11(0x13f)+_0x192d4a['id']+_0x148b11(0x159)+_0x39c047+'\x20(remoteJid:\x20'+_0x359ec0+')'),await _0x192d4a['update']({'name':_0x13c5c9||_0x192d4a[_0x148b11(0x148)],'number':_0x39c047,'profilePicUrl':_0x297879||_0x192d4a[_0x148b11(0x151)],'remoteJid':_0x359ec0||_0x192d4a[_0x148b11(0x15b)],'lid':_0x338c6c||_0x192d4a[_0x148b11(0x13c)]}),_0x20f331['to'](_0x148b11(0x141)+_0x16ed2f+_0x148b11(0x140))['emit'](_0x148b11(0x141)+_0x16ed2f+_0x148b11(0x136),{'action':_0x148b11(0x15e),'contact':_0x192d4a}),_0x192d4a;}try{_0x2f6b0d=await Contact_1['default']['create']({'name':_0x13c5c9,'number':_0x39c047,'profilePicUrl':_0x297879,'email':email,'isGroup':_0x4050cd,'extraInfo':extraInfo,'companyId':_0x16ed2f,'channel':channel,'disableBot':disableBot,'remoteJid':_0x359ec0,'lid':_0x338c6c}),_0x20f331['to'](_0x148b11(0x141)+_0x16ed2f+'-mainchannel')[_0x148b11(0x13d)](_0x148b11(0x141)+_0x16ed2f+_0x148b11(0x136),{'action':_0x148b11(0x15c),'contact':_0x2f6b0d});}catch(_0x5a924c){if(_0x5a924c[_0x148b11(0x148)]===_0x148b11(0x14a))_0x2f6b0d=await Contact_1[_0x148b11(0x13b)][_0x148b11(0x142)]({'where':{'number':_0x39c047,'companyId':_0x16ed2f}}),_0x2f6b0d&&(_0x2f6b0d[_0x148b11(0x15e)]({'profilePicUrl':_0x297879}),_0x20f331['to'](_0x148b11(0x141)+_0x16ed2f+'-mainchannel')[_0x148b11(0x13d)](_0x148b11(0x141)+_0x16ed2f+_0x148b11(0x136),{'action':_0x148b11(0x15e),'contact':_0x2f6b0d}));else{console['error'](_0x148b11(0x130),_0x5a924c);throw _0x5a924c;}}return _0x2f6b0d;};exports[a449_0x7a82ef(0x13b)]=CreateOrUpdateContactService;