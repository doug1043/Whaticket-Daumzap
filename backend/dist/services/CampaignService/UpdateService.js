const a491_0x45cee6=a491_0x4e96;function a491_0x178b(){const _0x366b1a=['default','896538iKztca','apply','430112xzbgsg','update','(((.+)+)+)+$','scheduledAt','name','__importDefault','6vatyaw','reload','2992660MAAIbs','search','CANCELADA','677592asJzRd','findByPk','../../models/ContactList','816428bBIjzX','28WXYDUV','225516PyvPmV','status','constructor','../../errors/AppError','4662KJTREf','INATIVA','toString','indexOf','defineProperty','10QOdvSa','__esModule'];a491_0x178b=function(){return _0x366b1a;};return a491_0x178b();}(function(_0x4dd9a8,_0x47b103){const _0x5d2d65=a491_0x4e96,_0x2717be=_0x4dd9a8();while(!![]){try{const _0x182c51=parseInt(_0x5d2d65(0x164))/0x1+-parseInt(_0x5d2d65(0x174))/0x2*(-parseInt(_0x5d2d65(0x17e))/0x3)+-parseInt(_0x5d2d65(0x17c))/0x4+parseInt(_0x5d2d65(0x169))/0x5*(-parseInt(_0x5d2d65(0x16c))/0x6)+-parseInt(_0x5d2d65(0x17d))/0x7*(-parseInt(_0x5d2d65(0x16e))/0x8)+-parseInt(_0x5d2d65(0x179))/0x9+parseInt(_0x5d2d65(0x176))/0xa;if(_0x182c51===_0x47b103)break;else _0x2717be['push'](_0x2717be['shift']());}catch(_0x2c92c7){_0x2717be['push'](_0x2717be['shift']());}}}(a491_0x178b,0x28973));const a491_0x4b65ef=(function(){let _0x203f6b=!![];return function(_0x175968,_0x5f1d59){const _0x4b8b95=_0x203f6b?function(){const _0x38d64d=a491_0x4e96;if(_0x5f1d59){const _0x265fb4=_0x5f1d59[_0x38d64d(0x16d)](_0x175968,arguments);return _0x5f1d59=null,_0x265fb4;}}:function(){};return _0x203f6b=![],_0x4b8b95;};}()),a491_0x125488=a491_0x4b65ef(this,function(){const _0x219bb1=a491_0x4e96;return a491_0x125488[_0x219bb1(0x166)]()[_0x219bb1(0x177)](_0x219bb1(0x170))[_0x219bb1(0x166)]()[_0x219bb1(0x180)](a491_0x125488)['search'](_0x219bb1(0x170));});a491_0x125488();'use strict';var __importDefault=this&&this[a491_0x45cee6(0x173)]||function(_0x480a38){const _0x1ae36e=a491_0x45cee6;return _0x480a38&&_0x480a38[_0x1ae36e(0x16a)]?_0x480a38:{'default':_0x480a38};};Object[a491_0x45cee6(0x168)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a491_0x45cee6(0x163))),Campaign_1=__importDefault(require('../../models/Campaign')),ContactList_1=__importDefault(require(a491_0x45cee6(0x17b))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),UpdateService=async _0xbcc9b2=>{const _0x504a38=a491_0x45cee6,{id:_0xc8073f}=_0xbcc9b2,_0x2d107e=await Campaign_1[_0x504a38(0x16b)][_0x504a38(0x17a)](_0xc8073f);if(!_0x2d107e)throw new AppError_1[(_0x504a38(0x16b))]('ERR_NO_CAMPAIGN_FOUND',0x194);if([_0x504a38(0x165),'PROGRAMADA',_0x504a38(0x178)][_0x504a38(0x167)](_0xbcc9b2['status'])===-0x1)throw new AppError_1[(_0x504a38(0x16b))]('Só\x20é\x20permitido\x20alterar\x20campanha\x20Inativa\x20e\x20Programada',0x190);return _0xbcc9b2[_0x504a38(0x171)]!=null&&_0xbcc9b2['status']===_0x504a38(0x165)&&(_0xbcc9b2[_0x504a38(0x17f)]='PROGRAMADA'),await _0x2d107e[_0x504a38(0x16f)](_0xbcc9b2),await _0x2d107e[_0x504a38(0x175)]({'include':[{'model':ContactList_1[_0x504a38(0x16b)]},{'model':Whatsapp_1[_0x504a38(0x16b)],'attributes':['id',_0x504a38(0x172)]}]}),_0x2d107e;};function a491_0x4e96(_0x2ff99a,_0x4524c2){const _0x2bdac4=a491_0x178b();return a491_0x4e96=function(_0x125488,_0x4b65ef){_0x125488=_0x125488-0x163;let _0x178bb1=_0x2bdac4[_0x125488];return _0x178bb1;},a491_0x4e96(_0x2ff99a,_0x4524c2);}exports[a491_0x45cee6(0x16b)]=UpdateService;