const a368_0x661768=a368_0x1bbb;(function(_0x5cb681,_0x58c394){const _0x186db5=a368_0x1bbb,_0x310b8a=_0x5cb681();while(!![]){try{const _0x37237=-parseInt(_0x186db5(0x1b9))/0x1+-parseInt(_0x186db5(0x1af))/0x2+parseInt(_0x186db5(0x1b6))/0x3+-parseInt(_0x186db5(0x1b3))/0x4+-parseInt(_0x186db5(0x1b5))/0x5*(-parseInt(_0x186db5(0x1bb))/0x6)+-parseInt(_0x186db5(0x1c5))/0x7+parseInt(_0x186db5(0x1b8))/0x8*(parseInt(_0x186db5(0x1c2))/0x9);if(_0x37237===_0x58c394)break;else _0x310b8a['push'](_0x310b8a['shift']());}catch(_0x2009ae){_0x310b8a['push'](_0x310b8a['shift']());}}}(a368_0x13b5,0xe2361));const a368_0x4f4366=(function(){let _0x5389f5=!![];return function(_0x5aea0b,_0x41ffd6){const _0x321dab=_0x5389f5?function(){if(_0x41ffd6){const _0x5f161a=_0x41ffd6['apply'](_0x5aea0b,arguments);return _0x41ffd6=null,_0x5f161a;}}:function(){};return _0x5389f5=![],_0x321dab;};}()),a368_0x26ed8f=a368_0x4f4366(this,function(){const _0x21d0af=a368_0x1bbb;return a368_0x26ed8f[_0x21d0af(0x1c6)]()[_0x21d0af(0x1be)](_0x21d0af(0x1c0))['toString']()[_0x21d0af(0x1b2)](a368_0x26ed8f)[_0x21d0af(0x1be)]('(((.+)+)+)+$');});a368_0x26ed8f();'use strict';var __importDefault=this&&this[a368_0x661768(0x1ae)]||function(_0x5318e3){const _0x280428=a368_0x661768;return _0x5318e3&&_0x5318e3[_0x280428(0x1b7)]?_0x5318e3:{'default':_0x5318e3};};Object[a368_0x661768(0x1c8)](exports,a368_0x661768(0x1b7),{'value':!![]}),exports[a368_0x661768(0x1c3)]=void 0x0;function a368_0x13b5(){const _0x366c50=['findAll','11713394yjBgKS','toString','remove','defineProperty','__importDefault','2466714ChwsEY','not','../../queues','constructor','4661312HozwWp','jobId','35ouRveN','2708268RZtekg','__esModule','45743528CjqvIm','1688462NGeUnO','getJob','56874zTeHdJ','sequelize','../../models/Campaign','search','default','(((.+)+)+)+$','campaignQueue','9ZqrCxc','CancelService'];a368_0x13b5=function(){return _0x366c50;};return a368_0x13b5();}function a368_0x1bbb(_0x1e1550,_0x592f79){const _0x3d431f=a368_0x13b5();return a368_0x1bbb=function(_0x26ed8f,_0x4f4366){_0x26ed8f=_0x26ed8f-0x1ae;let _0x13b56c=_0x3d431f[_0x26ed8f];return _0x13b56c;},a368_0x1bbb(_0x1e1550,_0x592f79);}const sequelize_1=require(a368_0x661768(0x1bc)),Campaign_1=__importDefault(require(a368_0x661768(0x1bd))),CampaignShipping_1=__importDefault(require('../../models/CampaignShipping')),queues_1=require(a368_0x661768(0x1b1));async function CancelService(_0x3da506){const _0x3909d2=a368_0x661768,_0x52a367=await Campaign_1[_0x3909d2(0x1bf)]['findByPk'](_0x3da506);await _0x52a367['update']({'status':'CANCELADA'});const _0x4647f4=await CampaignShipping_1['default'][_0x3909d2(0x1c4)]({'where':{'campaignId':_0x52a367['id'],'jobId':{[sequelize_1['Op'][_0x3909d2(0x1b0)]]:null},'deliveredAt':null}}),_0x699189=[];for(let _0x200ef3 of _0x4647f4){const _0x342765=await queues_1[_0x3909d2(0x1c1)][_0x3909d2(0x1ba)](_0x200ef3[_0x3909d2(0x1b4)]);_0x699189['push'](_0x342765?.[_0x3909d2(0x1c7)]());}await Promise['all'](_0x699189);}exports['CancelService']=CancelService;