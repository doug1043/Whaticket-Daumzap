const a483_0x16740e=a483_0x34d8;(function(_0x59bbde,_0xad6eac){const _0x383a33=a483_0x34d8,_0x35836a=_0x59bbde();while(!![]){try{const _0xd61799=-parseInt(_0x383a33(0x1b1))/0x1*(parseInt(_0x383a33(0x1b9))/0x2)+parseInt(_0x383a33(0x1a3))/0x3*(parseInt(_0x383a33(0x1ab))/0x4)+-parseInt(_0x383a33(0x1a5))/0x5+parseInt(_0x383a33(0x1b8))/0x6+-parseInt(_0x383a33(0x1a8))/0x7+-parseInt(_0x383a33(0x1b3))/0x8*(-parseInt(_0x383a33(0x1b0))/0x9)+parseInt(_0x383a33(0x1bb))/0xa*(parseInt(_0x383a33(0x1a9))/0xb);if(_0xd61799===_0xad6eac)break;else _0x35836a['push'](_0x35836a['shift']());}catch(_0x5d1ae6){_0x35836a['push'](_0x35836a['shift']());}}}(a483_0x44f1,0x8ef8a));const a483_0x1e9b35=(function(){let _0x1a1db8=!![];return function(_0x3b2887,_0x43f804){const _0x463cdf=_0x1a1db8?function(){if(_0x43f804){const _0x4ed0d7=_0x43f804['apply'](_0x3b2887,arguments);return _0x43f804=null,_0x4ed0d7;}}:function(){};return _0x1a1db8=![],_0x463cdf;};}()),a483_0x1c5cfb=a483_0x1e9b35(this,function(){const _0x462bfc=a483_0x34d8;return a483_0x1c5cfb[_0x462bfc(0x1ad)]()['search'](_0x462bfc(0x1bc))[_0x462bfc(0x1ad)]()[_0x462bfc(0x1ac)](a483_0x1c5cfb)[_0x462bfc(0x1a6)](_0x462bfc(0x1bc));});a483_0x1c5cfb();function a483_0x34d8(_0x426c42,_0x57f54c){const _0x5389a9=a483_0x44f1();return a483_0x34d8=function(_0x1c5cfb,_0x1e9b35){_0x1c5cfb=_0x1c5cfb-0x1a2;let _0x44f160=_0x5389a9[_0x1c5cfb];return _0x44f160;},a483_0x34d8(_0x426c42,_0x57f54c);}'use strict';var __importDefault=this&&this[a483_0x16740e(0x1a2)]||function(_0x29f8ea){const _0x11022e=a483_0x16740e;return _0x29f8ea&&_0x29f8ea[_0x11022e(0x1a4)]?_0x29f8ea:{'default':_0x29f8ea};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a483_0x16740e(0x1af)]=CancelService;function a483_0x44f1(){const _0xe39f70=['../../queues','findAll','3868098PIkLdx','3538qajBNX','default','11569670dQxUWR','(((.+)+)+)+$','campaignQueue','__importDefault','141jUbqBg','__esModule','3397280nsEZoC','search','update','7723870eQINMH','11MLvArr','jobId','38444euSjro','constructor','toString','../../models/CampaignShipping','CancelService','8280036pFOwor','455KKLaRH','push','8RbBmpU','remove','../../models/Campaign'];a483_0x44f1=function(){return _0xe39f70;};return a483_0x44f1();}const sequelize_1=require('sequelize'),Campaign_1=__importDefault(require(a483_0x16740e(0x1b5))),CampaignShipping_1=__importDefault(require(a483_0x16740e(0x1ae))),queues_1=require(a483_0x16740e(0x1b6));async function CancelService(_0x5edfcf){const _0x551f67=a483_0x16740e,_0x415f43=await Campaign_1['default']['findByPk'](_0x5edfcf);await _0x415f43[_0x551f67(0x1a7)]({'status':'CANCELADA'});const _0x17c6f0=await CampaignShipping_1[_0x551f67(0x1ba)][_0x551f67(0x1b7)]({'where':{'campaignId':_0x415f43['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x2a6fa7=[];for(let _0x176c4c of _0x17c6f0){const _0x57801f=await queues_1[_0x551f67(0x1bd)]['getJob'](+_0x176c4c[_0x551f67(0x1aa)]);_0x2a6fa7[_0x551f67(0x1b2)](_0x57801f[_0x551f67(0x1b4)]());}await Promise['all'](_0x2a6fa7);}