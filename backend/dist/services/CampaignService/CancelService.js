function a396_0x1912(_0x25aab0,_0x58a5a3){const _0x1697ef=a396_0x3aa4();return a396_0x1912=function(_0x241896,_0x534be8){_0x241896=_0x241896-0x1ac;let _0x3aa4c9=_0x1697ef[_0x241896];return _0x3aa4c9;},a396_0x1912(_0x25aab0,_0x58a5a3);}function a396_0x3aa4(){const _0x59d73c=['964LBYgBq','4953600adPYCa','defineProperty','36YDkZYK','constructor','(((.+)+)+)+$','findByPk','not','all','119178ECTpof','findAll','remove','update','../../models/CampaignShipping','push','CancelService','2507688GbQaul','3440850SszvfH','46408oShjWt','sequelize','campaignQueue','289775jhRkLk','__esModule','toString','jobId','__importDefault','6505aakbIy','default','693nVUJoK','search'];a396_0x3aa4=function(){return _0x59d73c;};return a396_0x3aa4();}const a396_0x466d25=a396_0x1912;(function(_0x36d7bf,_0x5af532){const _0x5ad7d2=a396_0x1912,_0x5e20b6=_0x36d7bf();while(!![]){try{const _0x12e22b=parseInt(_0x5ad7d2(0x1c7))/0x1+-parseInt(_0x5ad7d2(0x1b5))/0x2*(-parseInt(_0x5ad7d2(0x1bb))/0x3)+-parseInt(_0x5ad7d2(0x1b2))/0x4*(-parseInt(_0x5ad7d2(0x1ae))/0x5)+-parseInt(_0x5ad7d2(0x1c2))/0x6+parseInt(_0x5ad7d2(0x1b0))/0x7*(parseInt(_0x5ad7d2(0x1c4))/0x8)+-parseInt(_0x5ad7d2(0x1b3))/0x9+-parseInt(_0x5ad7d2(0x1c3))/0xa;if(_0x12e22b===_0x5af532)break;else _0x5e20b6['push'](_0x5e20b6['shift']());}catch(_0x5bac85){_0x5e20b6['push'](_0x5e20b6['shift']());}}}(a396_0x3aa4,0x8da9a));const a396_0x534be8=(function(){let _0x471882=!![];return function(_0x149e34,_0x3b3011){const _0x371e1e=_0x471882?function(){if(_0x3b3011){const _0x118831=_0x3b3011['apply'](_0x149e34,arguments);return _0x3b3011=null,_0x118831;}}:function(){};return _0x471882=![],_0x371e1e;};}()),a396_0x241896=a396_0x534be8(this,function(){const _0x1cad87=a396_0x1912;return a396_0x241896[_0x1cad87(0x1c9)]()[_0x1cad87(0x1b1)](_0x1cad87(0x1b7))[_0x1cad87(0x1c9)]()[_0x1cad87(0x1b6)](a396_0x241896)[_0x1cad87(0x1b1)](_0x1cad87(0x1b7));});a396_0x241896();'use strict';var __importDefault=this&&this[a396_0x466d25(0x1ad)]||function(_0x79390b){const _0x9959a0=a396_0x466d25;return _0x79390b&&_0x79390b[_0x9959a0(0x1c8)]?_0x79390b:{'default':_0x79390b};};Object[a396_0x466d25(0x1b4)](exports,a396_0x466d25(0x1c8),{'value':!![]}),exports[a396_0x466d25(0x1c1)]=CancelService;const sequelize_1=require(a396_0x466d25(0x1c5)),Campaign_1=__importDefault(require('../../models/Campaign')),CampaignShipping_1=__importDefault(require(a396_0x466d25(0x1bf))),queues_1=require('../../queues');async function CancelService(_0x18e2ef){const _0x3ae6ce=a396_0x466d25,_0x3612c6=await Campaign_1[_0x3ae6ce(0x1af)][_0x3ae6ce(0x1b8)](_0x18e2ef);await _0x3612c6[_0x3ae6ce(0x1be)]({'status':'CANCELADA'});const _0x557d12=await CampaignShipping_1[_0x3ae6ce(0x1af)][_0x3ae6ce(0x1bc)]({'where':{'campaignId':_0x3612c6['id'],'jobId':{[sequelize_1['Op'][_0x3ae6ce(0x1b9)]]:null},'deliveredAt':null}}),_0xf72434=[];for(let _0x9e2cb1 of _0x557d12){const _0xeec40d=await queues_1[_0x3ae6ce(0x1c6)]['getJob'](+_0x9e2cb1[_0x3ae6ce(0x1ac)]);_0xf72434[_0x3ae6ce(0x1c0)](_0xeec40d[_0x3ae6ce(0x1bd)]());}await Promise[_0x3ae6ce(0x1ba)](_0xf72434);}