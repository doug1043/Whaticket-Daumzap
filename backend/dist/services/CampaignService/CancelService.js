function a398_0x3a8f(_0x1f949c,_0xfa0f34){const _0x261137=a398_0x4446();return a398_0x3a8f=function(_0xf6e948,_0x17591a){_0xf6e948=_0xf6e948-0x1d3;let _0x444650=_0x261137[_0xf6e948];return _0x444650;},a398_0x3a8f(_0x1f949c,_0xfa0f34);}const a398_0x52157d=a398_0x3a8f;(function(_0x5ab9d5,_0x8b7d5){const _0x4e1839=a398_0x3a8f,_0x46710a=_0x5ab9d5();while(!![]){try{const _0x1e329d=-parseInt(_0x4e1839(0x1f1))/0x1+parseInt(_0x4e1839(0x1ec))/0x2*(-parseInt(_0x4e1839(0x1e6))/0x3)+-parseInt(_0x4e1839(0x1d3))/0x4*(-parseInt(_0x4e1839(0x1de))/0x5)+-parseInt(_0x4e1839(0x1e8))/0x6*(parseInt(_0x4e1839(0x1ee))/0x7)+parseInt(_0x4e1839(0x1e5))/0x8*(parseInt(_0x4e1839(0x1ea))/0x9)+parseInt(_0x4e1839(0x1e3))/0xa+-parseInt(_0x4e1839(0x1eb))/0xb;if(_0x1e329d===_0x8b7d5)break;else _0x46710a['push'](_0x46710a['shift']());}catch(_0x22fde2){_0x46710a['push'](_0x46710a['shift']());}}}(a398_0x4446,0xecdf3));const a398_0x17591a=(function(){let _0x45320e=!![];return function(_0x31a417,_0x428e74){const _0x108894=_0x45320e?function(){const _0x78256b=a398_0x3a8f;if(_0x428e74){const _0x4f41b6=_0x428e74[_0x78256b(0x1d9)](_0x31a417,arguments);return _0x428e74=null,_0x4f41b6;}}:function(){};return _0x45320e=![],_0x108894;};}()),a398_0xf6e948=a398_0x17591a(this,function(){const _0x1a95d2=a398_0x3a8f;return a398_0xf6e948['toString']()[_0x1a95d2(0x1e2)](_0x1a95d2(0x1d8))[_0x1a95d2(0x1d7)]()['constructor'](a398_0xf6e948)[_0x1a95d2(0x1e2)](_0x1a95d2(0x1d8));});a398_0xf6e948();'use strict';var __importDefault=this&&this[a398_0x52157d(0x1f2)]||function(_0x265dd1){const _0x57df1d=a398_0x52157d;return _0x265dd1&&_0x265dd1[_0x57df1d(0x1e9)]?_0x265dd1:{'default':_0x265dd1};};Object[a398_0x52157d(0x1ed)](exports,a398_0x52157d(0x1e9),{'value':!![]}),exports[a398_0x52157d(0x1e7)]=CancelService;function a398_0x4446(){const _0x5a2c9e=['4946315LGdPWZ','40316qwSjmc','defineProperty','2709gFzvVs','not','all','1496877QzibSK','__importDefault','14576GDxupe','remove','getJob','../../models/CampaignShipping','toString','(((.+)+)+)+$','apply','../../models/Campaign','default','push','update','2335ssBsxF','CANCELADA','../../queues','sequelize','search','14808320dwgrlM','findAll','347792seXeJN','180DJGHpp','CancelService','8286drutUI','__esModule','306VNwLDH'];a398_0x4446=function(){return _0x5a2c9e;};return a398_0x4446();}const sequelize_1=require(a398_0x52157d(0x1e1)),Campaign_1=__importDefault(require(a398_0x52157d(0x1da))),CampaignShipping_1=__importDefault(require(a398_0x52157d(0x1d6))),queues_1=require(a398_0x52157d(0x1e0));async function CancelService(_0x575589){const _0x31851a=a398_0x52157d,_0x41bd0b=await Campaign_1[_0x31851a(0x1db)]['findByPk'](_0x575589);await _0x41bd0b[_0x31851a(0x1dd)]({'status':_0x31851a(0x1df)});const _0x4b175f=await CampaignShipping_1[_0x31851a(0x1db)][_0x31851a(0x1e4)]({'where':{'campaignId':_0x41bd0b['id'],'jobId':{[sequelize_1['Op'][_0x31851a(0x1ef)]]:null},'deliveredAt':null}}),_0x2bd4d2=[];for(let _0x11a7b5 of _0x4b175f){const _0x20510a=await queues_1['campaignQueue'][_0x31851a(0x1d5)](+_0x11a7b5['jobId']);_0x2bd4d2[_0x31851a(0x1dc)](_0x20510a[_0x31851a(0x1d4)]());}await Promise[_0x31851a(0x1f0)](_0x2bd4d2);}