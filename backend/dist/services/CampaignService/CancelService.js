const a366_0xecd35f=a366_0x234b;function a366_0x29ee(){const _0x36328b=['296RjyXcQ','search','not','../../models/CampaignShipping','__importDefault','remove','2172VBojKB','1780ZNcleJ','CancelService','__esModule','sequelize','push','CANCELADA','../../models/Campaign','jobId','toString','18738fIIkVa','11418090nGMZEk','379168YgTRKT','1479004fwoDTm','6vtdyqg','1livYQB','../../queues','102652UoVRPs','5238856qhFlgG','constructor','update','(((.+)+)+)+$','campaignQueue','apply','299655bWoaGV','defineProperty'];a366_0x29ee=function(){return _0x36328b;};return a366_0x29ee();}(function(_0x497b42,_0x4d8d4e){const _0x2e90cb=a366_0x234b,_0x33a77a=_0x497b42();while(!![]){try{const _0x33c2c1=-parseInt(_0x2e90cb(0x97))/0x1*(parseInt(_0x2e90cb(0x94))/0x2)+-parseInt(_0x2e90cb(0x96))/0x3*(-parseInt(_0x2e90cb(0x95))/0x4)+-parseInt(_0x2e90cb(0x89))/0x5*(-parseInt(_0x2e90cb(0x92))/0x6)+parseInt(_0x2e90cb(0x9a))/0x7+-parseInt(_0x2e90cb(0xa2))/0x8*(parseInt(_0x2e90cb(0xa0))/0x9)+parseInt(_0x2e90cb(0x93))/0xa+-parseInt(_0x2e90cb(0x99))/0xb*(parseInt(_0x2e90cb(0x88))/0xc);if(_0x33c2c1===_0x4d8d4e)break;else _0x33a77a['push'](_0x33a77a['shift']());}catch(_0x173085){_0x33a77a['push'](_0x33a77a['shift']());}}}(a366_0x29ee,0x9a084));const a366_0x398d04=(function(){let _0x507a76=!![];return function(_0x25bd78,_0x382258){const _0x159bf9=_0x507a76?function(){const _0x403126=a366_0x234b;if(_0x382258){const _0x5cc786=_0x382258[_0x403126(0x9f)](_0x25bd78,arguments);return _0x382258=null,_0x5cc786;}}:function(){};return _0x507a76=![],_0x159bf9;};}()),a366_0x41578d=a366_0x398d04(this,function(){const _0x2733ca=a366_0x234b;return a366_0x41578d['toString']()[_0x2733ca(0xa3)]('(((.+)+)+)+$')[_0x2733ca(0x91)]()[_0x2733ca(0x9b)](a366_0x41578d)[_0x2733ca(0xa3)](_0x2733ca(0x9d));});a366_0x41578d();'use strict';var __importDefault=this&&this[a366_0xecd35f(0x86)]||function(_0x31033a){const _0x33875c=a366_0xecd35f;return _0x31033a&&_0x31033a[_0x33875c(0x8b)]?_0x31033a:{'default':_0x31033a};};Object[a366_0xecd35f(0xa1)](exports,a366_0xecd35f(0x8b),{'value':!![]}),exports[a366_0xecd35f(0x8a)]=void 0x0;const sequelize_1=require(a366_0xecd35f(0x8c)),Campaign_1=__importDefault(require(a366_0xecd35f(0x8f))),CampaignShipping_1=__importDefault(require(a366_0xecd35f(0x85))),queues_1=require(a366_0xecd35f(0x98));async function CancelService(_0x52889f){const _0x2d0d44=a366_0xecd35f,_0x42294d=await Campaign_1['default']['findByPk'](_0x52889f);await _0x42294d[_0x2d0d44(0x9c)]({'status':_0x2d0d44(0x8e)});const _0x45dfef=await CampaignShipping_1['default']['findAll']({'where':{'campaignId':_0x42294d['id'],'jobId':{[sequelize_1['Op'][_0x2d0d44(0xa4)]]:null},'deliveredAt':null}}),_0x245e36=[];for(let _0x34867f of _0x45dfef){const _0x48841d=await queues_1[_0x2d0d44(0x9e)]['getJob'](_0x34867f[_0x2d0d44(0x90)]);_0x245e36[_0x2d0d44(0x8d)](_0x48841d?.[_0x2d0d44(0x87)]());}await Promise['all'](_0x245e36);}function a366_0x234b(_0x3779a1,_0x134689){const _0x336d96=a366_0x29ee();return a366_0x234b=function(_0x41578d,_0x398d04){_0x41578d=_0x41578d-0x85;let _0x29ee0d=_0x336d96[_0x41578d];return _0x29ee0d;},a366_0x234b(_0x3779a1,_0x134689);}exports[a366_0xecd35f(0x8a)]=CancelService;