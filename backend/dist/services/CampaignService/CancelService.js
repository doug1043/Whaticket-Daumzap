const a401_0x2390b8=a401_0x50c8;(function(_0x255563,_0x215440){const _0x205f2b=a401_0x50c8,_0x32d683=_0x255563();while(!![]){try{const _0x34e1f2=parseInt(_0x205f2b(0x1a0))/0x1*(parseInt(_0x205f2b(0x19c))/0x2)+-parseInt(_0x205f2b(0x1a8))/0x3+parseInt(_0x205f2b(0x1a4))/0x4*(-parseInt(_0x205f2b(0x1b2))/0x5)+parseInt(_0x205f2b(0x1b7))/0x6*(parseInt(_0x205f2b(0x19f))/0x7)+parseInt(_0x205f2b(0x1b6))/0x8*(parseInt(_0x205f2b(0x19d))/0x9)+parseInt(_0x205f2b(0x1a2))/0xa+-parseInt(_0x205f2b(0x1a7))/0xb;if(_0x34e1f2===_0x215440)break;else _0x32d683['push'](_0x32d683['shift']());}catch(_0x66847e){_0x32d683['push'](_0x32d683['shift']());}}}(a401_0x358a,0x3a8e9));const a401_0x6f0056=(function(){let _0x39c5bb=!![];return function(_0x31441d,_0x210dda){const _0x949cbe=_0x39c5bb?function(){const _0x3ecc30=a401_0x50c8;if(_0x210dda){const _0x13c3db=_0x210dda[_0x3ecc30(0x1a3)](_0x31441d,arguments);return _0x210dda=null,_0x13c3db;}}:function(){};return _0x39c5bb=![],_0x949cbe;};}()),a401_0x4e634e=a401_0x6f0056(this,function(){const _0x578d22=a401_0x50c8;return a401_0x4e634e['toString']()[_0x578d22(0x1a1)](_0x578d22(0x19b))[_0x578d22(0x19e)]()['constructor'](a401_0x4e634e)[_0x578d22(0x1a1)]('(((.+)+)+)+$');});a401_0x4e634e();'use strict';function a401_0x358a(){const _0x115c08=['2171652WBcAZR','(((.+)+)+)+$','108HdTmtA','14445RqGIPj','toString','7LDWLRI','8409NrgELZ','search','38280aWeMxc','apply','4992QgQLnM','remove','push','3881361teocxl','1009554yqpVGP','sequelize','findAll','findByPk','CancelService','not','jobId','../../models/Campaign','CANCELADA','update','655kmdBLd','__esModule','default','campaignQueue','1360hgJVrv'];a401_0x358a=function(){return _0x115c08;};return a401_0x358a();}var __importDefault=this&&this['__importDefault']||function(_0x4e7515){const _0x59f1e7=a401_0x50c8;return _0x4e7515&&_0x4e7515[_0x59f1e7(0x1b3)]?_0x4e7515:{'default':_0x4e7515};};Object['defineProperty'](exports,a401_0x2390b8(0x1b3),{'value':!![]}),exports[a401_0x2390b8(0x1ac)]=CancelService;function a401_0x50c8(_0x272423,_0x992944){const _0x428c61=a401_0x358a();return a401_0x50c8=function(_0x4e634e,_0x6f0056){_0x4e634e=_0x4e634e-0x19b;let _0x358a6b=_0x428c61[_0x4e634e];return _0x358a6b;},a401_0x50c8(_0x272423,_0x992944);}const sequelize_1=require(a401_0x2390b8(0x1a9)),Campaign_1=__importDefault(require(a401_0x2390b8(0x1af))),CampaignShipping_1=__importDefault(require('../../models/CampaignShipping')),queues_1=require('../../queues');async function CancelService(_0x2c801b){const _0x2b7289=a401_0x2390b8,_0x42fda3=await Campaign_1[_0x2b7289(0x1b4)][_0x2b7289(0x1ab)](_0x2c801b);await _0x42fda3[_0x2b7289(0x1b1)]({'status':_0x2b7289(0x1b0)});const _0x159eda=await CampaignShipping_1[_0x2b7289(0x1b4)][_0x2b7289(0x1aa)]({'where':{'campaignId':_0x42fda3['id'],'jobId':{[sequelize_1['Op'][_0x2b7289(0x1ad)]]:null},'deliveredAt':null}}),_0x259301=[];for(let _0x377414 of _0x159eda){const _0x27a896=await queues_1[_0x2b7289(0x1b5)]['getJob'](+_0x377414[_0x2b7289(0x1ae)]);_0x259301[_0x2b7289(0x1a6)](_0x27a896[_0x2b7289(0x1a5)]());}await Promise['all'](_0x259301);}