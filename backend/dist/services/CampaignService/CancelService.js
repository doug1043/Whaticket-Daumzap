const a365_0x58a403=a365_0x4e07;(function(_0x3a74f7,_0x3ddd47){const _0x32f913=a365_0x4e07,_0x25587b=_0x3a74f7();while(!![]){try{const _0x17c13d=-parseInt(_0x32f913(0x10e))/0x1*(-parseInt(_0x32f913(0xfb))/0x2)+-parseInt(_0x32f913(0xfe))/0x3+-parseInt(_0x32f913(0xfc))/0x4*(parseInt(_0x32f913(0x10a))/0x5)+-parseInt(_0x32f913(0x10b))/0x6*(parseInt(_0x32f913(0xf4))/0x7)+-parseInt(_0x32f913(0xff))/0x8*(parseInt(_0x32f913(0x110))/0x9)+parseInt(_0x32f913(0xf8))/0xa*(parseInt(_0x32f913(0xfd))/0xb)+parseInt(_0x32f913(0xf7))/0xc*(parseInt(_0x32f913(0x106))/0xd);if(_0x17c13d===_0x3ddd47)break;else _0x25587b['push'](_0x25587b['shift']());}catch(_0x886404){_0x25587b['push'](_0x25587b['shift']());}}}(a365_0x8f5a,0xc7f63));function a365_0x8f5a(){const _0x4b0d25=['330PYxeoQ','(((.+)+)+)+$','CancelService','14XUquQv','12MLEJOF','436744bsDhHz','1473462kTjrhF','48SqBWld','CANCELADA','sequelize','default','findByPk','../../models/Campaign','__importDefault','121134ejoEAi','campaignQueue','toString','getJob','309395lHxykG','54pvQrFJ','defineProperty','not','233305vWmkWD','search','1570554NJuyOU','apply','1101457JtWIOv','../../models/CampaignShipping','__esModule','1308OAavfB'];a365_0x8f5a=function(){return _0x4b0d25;};return a365_0x8f5a();}const a365_0x3c1411=(function(){let _0x3040bf=!![];return function(_0x2f4e74,_0x1f8f49){const _0x5686a4=_0x3040bf?function(){const _0x2563dd=a365_0x4e07;if(_0x1f8f49){const _0x3d1bba=_0x1f8f49[_0x2563dd(0x111)](_0x2f4e74,arguments);return _0x1f8f49=null,_0x3d1bba;}}:function(){};return _0x3040bf=![],_0x5686a4;};}()),a365_0x56ed4d=a365_0x3c1411(this,function(){const _0x236bd5=a365_0x4e07;return a365_0x56ed4d[_0x236bd5(0x108)]()[_0x236bd5(0x10f)](_0x236bd5(0xf9))['toString']()['constructor'](a365_0x56ed4d)[_0x236bd5(0x10f)](_0x236bd5(0xf9));});a365_0x56ed4d();'use strict';function a365_0x4e07(_0x355ee8,_0x53588a){const _0xd6070c=a365_0x8f5a();return a365_0x4e07=function(_0x56ed4d,_0x3c1411){_0x56ed4d=_0x56ed4d-0xf4;let _0x8f5a29=_0xd6070c[_0x56ed4d];return _0x8f5a29;},a365_0x4e07(_0x355ee8,_0x53588a);}var __importDefault=this&&this[a365_0x58a403(0x105)]||function(_0x3a2910){const _0xadaac7=a365_0x58a403;return _0x3a2910&&_0x3a2910[_0xadaac7(0xf6)]?_0x3a2910:{'default':_0x3a2910};};Object[a365_0x58a403(0x10c)](exports,a365_0x58a403(0xf6),{'value':!![]}),exports[a365_0x58a403(0xfa)]=void 0x0;const sequelize_1=require(a365_0x58a403(0x101)),Campaign_1=__importDefault(require(a365_0x58a403(0x104))),CampaignShipping_1=__importDefault(require(a365_0x58a403(0xf5))),queues_1=require('../../queues');async function CancelService(_0x1c1579){const _0x1f6e8b=a365_0x58a403,_0x2dcae9=await Campaign_1[_0x1f6e8b(0x102)][_0x1f6e8b(0x103)](_0x1c1579);await _0x2dcae9['update']({'status':_0x1f6e8b(0x100)});const _0x24e14d=await CampaignShipping_1['default']['findAll']({'where':{'campaignId':_0x2dcae9['id'],'jobId':{[sequelize_1['Op'][_0x1f6e8b(0x10d)]]:null},'deliveredAt':null}}),_0x66eab6=[];for(let _0x194368 of _0x24e14d){const _0x252196=await queues_1[_0x1f6e8b(0x107)][_0x1f6e8b(0x109)](_0x194368['jobId']);_0x66eab6['push'](_0x252196?.['remove']());}await Promise['all'](_0x66eab6);}exports[a365_0x58a403(0xfa)]=CancelService;