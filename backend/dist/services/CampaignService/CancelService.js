const a367_0x398b93=a367_0x3ad0;(function(_0x1bce0e,_0x4c5b3e){const _0x168350=a367_0x3ad0,_0xbb2ec4=_0x1bce0e();while(!![]){try{const _0x557d08=parseInt(_0x168350(0x1c3))/0x1+-parseInt(_0x168350(0x1c0))/0x2*(parseInt(_0x168350(0x1ad))/0x3)+-parseInt(_0x168350(0x1bd))/0x4+-parseInt(_0x168350(0x1b4))/0x5+parseInt(_0x168350(0x1ac))/0x6+-parseInt(_0x168350(0x1ae))/0x7*(parseInt(_0x168350(0x1b1))/0x8)+parseInt(_0x168350(0x1af))/0x9;if(_0x557d08===_0x4c5b3e)break;else _0xbb2ec4['push'](_0xbb2ec4['shift']());}catch(_0x4ff311){_0xbb2ec4['push'](_0xbb2ec4['shift']());}}}(a367_0x2fc4,0xae6df));function a367_0x2fc4(){const _0x1ddb4d=['not','2159745qurYcl','../../models/CampaignShipping','jobId','../../queues','__esModule','(((.+)+)+)+$','push','remove','defineProperty','3591300HgXUQf','all','findByPk','12rLdDzJ','CANCELADA','campaignQueue','589398kNkRFI','sequelize','update','search','__importDefault','toString','apply','default','6255174MOghPt','51477tTgaiN','836115csizIs','8937396TnNcmk','CancelService','32uWFsnZ','getJob'];a367_0x2fc4=function(){return _0x1ddb4d;};return a367_0x2fc4();}const a367_0x27600b=(function(){let _0x4f6b33=!![];return function(_0x56abfa,_0x49511f){const _0x8c53a5=_0x4f6b33?function(){const _0x1927b7=a367_0x3ad0;if(_0x49511f){const _0x1bbf64=_0x49511f[_0x1927b7(0x1aa)](_0x56abfa,arguments);return _0x49511f=null,_0x1bbf64;}}:function(){};return _0x4f6b33=![],_0x8c53a5;};}()),a367_0x28045b=a367_0x27600b(this,function(){const _0x5cccb5=a367_0x3ad0;return a367_0x28045b[_0x5cccb5(0x1a9)]()[_0x5cccb5(0x1a7)]('(((.+)+)+)+$')['toString']()['constructor'](a367_0x28045b)[_0x5cccb5(0x1a7)](_0x5cccb5(0x1b9));});a367_0x28045b();'use strict';var __importDefault=this&&this[a367_0x398b93(0x1a8)]||function(_0x1c55ae){const _0x782f97=a367_0x398b93;return _0x1c55ae&&_0x1c55ae[_0x782f97(0x1b8)]?_0x1c55ae:{'default':_0x1c55ae};};Object[a367_0x398b93(0x1bc)](exports,a367_0x398b93(0x1b8),{'value':!![]}),exports[a367_0x398b93(0x1b0)]=void 0x0;function a367_0x3ad0(_0x18b9a8,_0x37793c){const _0x323170=a367_0x2fc4();return a367_0x3ad0=function(_0x28045b,_0x27600b){_0x28045b=_0x28045b-0x1a5;let _0x2fc466=_0x323170[_0x28045b];return _0x2fc466;},a367_0x3ad0(_0x18b9a8,_0x37793c);}const sequelize_1=require(a367_0x398b93(0x1a5)),Campaign_1=__importDefault(require('../../models/Campaign')),CampaignShipping_1=__importDefault(require(a367_0x398b93(0x1b5))),queues_1=require(a367_0x398b93(0x1b7));async function CancelService(_0x2773c4){const _0x4a0838=a367_0x398b93,_0x1c366f=await Campaign_1[_0x4a0838(0x1ab)][_0x4a0838(0x1bf)](_0x2773c4);await _0x1c366f[_0x4a0838(0x1a6)]({'status':_0x4a0838(0x1c1)});const _0xfc7e95=await CampaignShipping_1['default']['findAll']({'where':{'campaignId':_0x1c366f['id'],'jobId':{[sequelize_1['Op'][_0x4a0838(0x1b3)]]:null},'deliveredAt':null}}),_0x34f66e=[];for(let _0x581b3d of _0xfc7e95){const _0x4be6d2=await queues_1[_0x4a0838(0x1c2)][_0x4a0838(0x1b2)](_0x581b3d[_0x4a0838(0x1b6)]);_0x34f66e[_0x4a0838(0x1ba)](_0x4be6d2?.[_0x4a0838(0x1bb)]());}await Promise[_0x4a0838(0x1be)](_0x34f66e);}exports['CancelService']=CancelService;