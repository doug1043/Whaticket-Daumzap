const a401_0x1bf945=a401_0x498f;(function(_0x4ff192,_0x4b50ed){const _0x58465e=a401_0x498f,_0x3a9ea9=_0x4ff192();while(!![]){try{const _0x492788=-parseInt(_0x58465e(0x1d2))/0x1+parseInt(_0x58465e(0x1d9))/0x2+-parseInt(_0x58465e(0x1e6))/0x3+parseInt(_0x58465e(0x1d8))/0x4*(parseInt(_0x58465e(0x1cf))/0x5)+-parseInt(_0x58465e(0x1d1))/0x6+-parseInt(_0x58465e(0x1e0))/0x7*(-parseInt(_0x58465e(0x1d4))/0x8)+parseInt(_0x58465e(0x1d7))/0x9;if(_0x492788===_0x4b50ed)break;else _0x3a9ea9['push'](_0x3a9ea9['shift']());}catch(_0x313cc9){_0x3a9ea9['push'](_0x3a9ea9['shift']());}}}(a401_0x411e,0xcf827));function a401_0x498f(_0x33724e,_0x279d2c){const _0x5d58fa=a401_0x411e();return a401_0x498f=function(_0x343c55,_0x7a6268){_0x343c55=_0x343c55-0x1cc;let _0x411ed2=_0x5d58fa[_0x343c55];return _0x411ed2;},a401_0x498f(_0x33724e,_0x279d2c);}const a401_0x7a6268=(function(){let _0x1371c0=!![];return function(_0x210752,_0x2ab6d8){const _0x20ed53=_0x1371c0?function(){const _0x519707=a401_0x498f;if(_0x2ab6d8){const _0x20d0af=_0x2ab6d8[_0x519707(0x1d3)](_0x210752,arguments);return _0x2ab6d8=null,_0x20d0af;}}:function(){};return _0x1371c0=![],_0x20ed53;};}()),a401_0x343c55=a401_0x7a6268(this,function(){const _0x4438e5=a401_0x498f;return a401_0x343c55[_0x4438e5(0x1db)]()[_0x4438e5(0x1e1)](_0x4438e5(0x1e5))[_0x4438e5(0x1db)]()['constructor'](a401_0x343c55)[_0x4438e5(0x1e1)](_0x4438e5(0x1e5));});a401_0x343c55();'use strict';function a401_0x411e(){const _0x5dac96=['(((.+)+)+)+$','4620525ihDbAO','sequelize','remove','CANCELADA','../../models/CampaignShipping','campaignQueue','2977305AZuZBB','update','3175932VZVowM','544653TTtTXt','apply','7240fkcMjs','findByPk','findAll','14251338VifEOo','4AwZqiX','121402kDkssC','getJob','toString','not','../../queues','all','__esModule','9471CEWKvC','search','CancelService','push','default'];a401_0x411e=function(){return _0x5dac96;};return a401_0x411e();}var __importDefault=this&&this['__importDefault']||function(_0x3d50ae){const _0x126c45=a401_0x498f;return _0x3d50ae&&_0x3d50ae[_0x126c45(0x1df)]?_0x3d50ae:{'default':_0x3d50ae};};Object['defineProperty'](exports,a401_0x1bf945(0x1df),{'value':!![]}),exports[a401_0x1bf945(0x1e2)]=CancelService;const sequelize_1=require(a401_0x1bf945(0x1e7)),Campaign_1=__importDefault(require('../../models/Campaign')),CampaignShipping_1=__importDefault(require(a401_0x1bf945(0x1cd))),queues_1=require(a401_0x1bf945(0x1dd));async function CancelService(_0xb6f1ef){const _0x5b2ab7=a401_0x1bf945,_0x1547fe=await Campaign_1[_0x5b2ab7(0x1e4)][_0x5b2ab7(0x1d5)](_0xb6f1ef);await _0x1547fe[_0x5b2ab7(0x1d0)]({'status':_0x5b2ab7(0x1cc)});const _0x570cf6=await CampaignShipping_1[_0x5b2ab7(0x1e4)][_0x5b2ab7(0x1d6)]({'where':{'campaignId':_0x1547fe['id'],'jobId':{[sequelize_1['Op'][_0x5b2ab7(0x1dc)]]:null},'deliveredAt':null}}),_0x27f789=[];for(let _0x271de2 of _0x570cf6){const _0x1c888d=await queues_1[_0x5b2ab7(0x1ce)][_0x5b2ab7(0x1da)](+_0x271de2['jobId']);_0x27f789[_0x5b2ab7(0x1e3)](_0x1c888d[_0x5b2ab7(0x1e8)]());}await Promise[_0x5b2ab7(0x1de)](_0x27f789);}