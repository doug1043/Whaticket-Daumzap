const a365_0x3d53cc=a365_0x5302;(function(_0x1fab08,_0x2a9890){const _0x5ba90c=a365_0x5302,_0x5c92be=_0x1fab08();while(!![]){try{const _0x4e6d55=parseInt(_0x5ba90c(0xbb))/0x1+parseInt(_0x5ba90c(0xc8))/0x2*(-parseInt(_0x5ba90c(0xb3))/0x3)+parseInt(_0x5ba90c(0xae))/0x4+parseInt(_0x5ba90c(0xaa))/0x5*(-parseInt(_0x5ba90c(0xb0))/0x6)+parseInt(_0x5ba90c(0xb6))/0x7+-parseInt(_0x5ba90c(0xb8))/0x8+parseInt(_0x5ba90c(0xb7))/0x9*(-parseInt(_0x5ba90c(0xb2))/0xa);if(_0x4e6d55===_0x2a9890)break;else _0x5c92be['push'](_0x5c92be['shift']());}catch(_0x234620){_0x5c92be['push'](_0x5c92be['shift']());}}}(a365_0x4a66,0xc52af));const a365_0x199c5f=(function(){let _0x289eaf=!![];return function(_0x342352,_0x309c2b){const _0x16800c=_0x289eaf?function(){const _0x2fff9b=a365_0x5302;if(_0x309c2b){const _0x1436b0=_0x309c2b[_0x2fff9b(0xa9)](_0x342352,arguments);return _0x309c2b=null,_0x1436b0;}}:function(){};return _0x289eaf=![],_0x16800c;};}()),a365_0x1f3032=a365_0x199c5f(this,function(){const _0x4f0d97=a365_0x5302;return a365_0x1f3032[_0x4f0d97(0xc6)]()[_0x4f0d97(0xc3)](_0x4f0d97(0xc4))[_0x4f0d97(0xc6)]()[_0x4f0d97(0xba)](a365_0x1f3032)[_0x4f0d97(0xc3)](_0x4f0d97(0xc4));});a365_0x1f3032();'use strict';var __importDefault=this&&this[a365_0x3d53cc(0xab)]||function(_0xf536ed){return _0xf536ed&&_0xf536ed['__esModule']?_0xf536ed:{'default':_0xf536ed};};function a365_0x5302(_0x3ae2ce,_0x3aacdb){const _0x576acc=a365_0x4a66();return a365_0x5302=function(_0x1f3032,_0x199c5f){_0x1f3032=_0x1f3032-0xa9;let _0x4a6631=_0x576acc[_0x1f3032];return _0x4a6631;},a365_0x5302(_0x3ae2ce,_0x3aacdb);}Object[a365_0x3d53cc(0xb1)](exports,a365_0x3d53cc(0xac),{'value':!![]}),exports[a365_0x3d53cc(0xc5)]=void 0x0;function a365_0x4a66(){const _0x5b9912=['3715YorgCX','__importDefault','__esModule','CANCELADA','5875816ntcREH','all','7092BrfGWg','defineProperty','210rUYGXZ','660HOfsSI','jobId','not','7177205QuxeCZ','323199vwfRCf','486048QuyKbm','getJob','constructor','814723MSEuuE','../../models/CampaignShipping','update','sequelize','default','push','campaignQueue','findByPk','search','(((.+)+)+)+$','CancelService','toString','remove','7348FNuntO','apply'];a365_0x4a66=function(){return _0x5b9912;};return a365_0x4a66();}const sequelize_1=require(a365_0x3d53cc(0xbe)),Campaign_1=__importDefault(require('../../models/Campaign')),CampaignShipping_1=__importDefault(require(a365_0x3d53cc(0xbc))),queues_1=require('../../queues');async function CancelService(_0x11330e){const _0x3b967d=a365_0x3d53cc,_0x573f84=await Campaign_1['default'][_0x3b967d(0xc2)](_0x11330e);await _0x573f84[_0x3b967d(0xbd)]({'status':_0x3b967d(0xad)});const _0x1ec96e=await CampaignShipping_1[_0x3b967d(0xbf)]['findAll']({'where':{'campaignId':_0x573f84['id'],'jobId':{[sequelize_1['Op'][_0x3b967d(0xb5)]]:null},'deliveredAt':null}}),_0x11d934=[];for(let _0x37adbc of _0x1ec96e){const _0x21d968=await queues_1[_0x3b967d(0xc1)][_0x3b967d(0xb9)](_0x37adbc[_0x3b967d(0xb4)]);_0x11d934[_0x3b967d(0xc0)](_0x21d968?.[_0x3b967d(0xc7)]());}await Promise[_0x3b967d(0xaf)](_0x11d934);}exports[a365_0x3d53cc(0xc5)]=CancelService;