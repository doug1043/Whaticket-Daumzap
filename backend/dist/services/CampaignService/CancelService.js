const a367_0x8c352e=a367_0xe365;(function(_0x4d9180,_0x119ba1){const _0x2f4254=a367_0xe365,_0x556f3b=_0x4d9180();while(!![]){try{const _0x36b780=-parseInt(_0x2f4254(0xd5))/0x1*(-parseInt(_0x2f4254(0xcf))/0x2)+-parseInt(_0x2f4254(0xd8))/0x3*(-parseInt(_0x2f4254(0xd1))/0x4)+parseInt(_0x2f4254(0xe2))/0x5*(-parseInt(_0x2f4254(0xe3))/0x6)+parseInt(_0x2f4254(0xd3))/0x7*(parseInt(_0x2f4254(0xd6))/0x8)+parseInt(_0x2f4254(0xcc))/0x9*(-parseInt(_0x2f4254(0xda))/0xa)+-parseInt(_0x2f4254(0xe7))/0xb*(parseInt(_0x2f4254(0xce))/0xc)+-parseInt(_0x2f4254(0xe5))/0xd*(-parseInt(_0x2f4254(0xd4))/0xe);if(_0x36b780===_0x119ba1)break;else _0x556f3b['push'](_0x556f3b['shift']());}catch(_0xf24f80){_0x556f3b['push'](_0x556f3b['shift']());}}}(a367_0x5707,0xdaaf9));const a367_0x4f08b5=(function(){let _0x410469=!![];return function(_0x120d79,_0x4dafbc){const _0x5ddd01=_0x410469?function(){if(_0x4dafbc){const _0x426d44=_0x4dafbc['apply'](_0x120d79,arguments);return _0x4dafbc=null,_0x426d44;}}:function(){};return _0x410469=![],_0x5ddd01;};}()),a367_0x44f8ab=a367_0x4f08b5(this,function(){const _0xe308e=a367_0xe365;return a367_0x44f8ab[_0xe308e(0xd9)]()['search'](_0xe308e(0xde))[_0xe308e(0xd9)]()[_0xe308e(0xe1)](a367_0x44f8ab)['search']('(((.+)+)+)+$');});a367_0x44f8ab();function a367_0xe365(_0x5565c1,_0x2130f8){const _0x56e441=a367_0x5707();return a367_0xe365=function(_0x44f8ab,_0x4f08b5){_0x44f8ab=_0x44f8ab-0xca;let _0x570724=_0x56e441[_0x44f8ab];return _0x570724;},a367_0xe365(_0x5565c1,_0x2130f8);}'use strict';var __importDefault=this&&this[a367_0x8c352e(0xd7)]||function(_0x420fd1){const _0x1f9681=a367_0x8c352e;return _0x420fd1&&_0x420fd1[_0x1f9681(0xdd)]?_0x420fd1:{'default':_0x420fd1};};Object[a367_0x8c352e(0xe4)](exports,a367_0x8c352e(0xdd),{'value':!![]}),exports[a367_0x8c352e(0xdb)]=void 0x0;const sequelize_1=require('sequelize'),Campaign_1=__importDefault(require('../../models/Campaign')),CampaignShipping_1=__importDefault(require(a367_0x8c352e(0xcb))),queues_1=require(a367_0x8c352e(0xca));async function CancelService(_0xbfeaba){const _0x2ddff2=a367_0x8c352e,_0x5baeba=await Campaign_1[_0x2ddff2(0xdc)]['findByPk'](_0xbfeaba);await _0x5baeba[_0x2ddff2(0xd0)]({'status':_0x2ddff2(0xcd)});const _0x1b9813=await CampaignShipping_1[_0x2ddff2(0xdc)]['findAll']({'where':{'campaignId':_0x5baeba['id'],'jobId':{[sequelize_1['Op'][_0x2ddff2(0xd2)]]:null},'deliveredAt':null}}),_0x1294f9=[];for(let _0xceed9c of _0x1b9813){const _0x4066ba=await queues_1['campaignQueue']['getJob'](_0xceed9c[_0x2ddff2(0xdf)]);_0x1294f9[_0x2ddff2(0xe0)](_0x4066ba?.[_0x2ddff2(0xe6)]());}await Promise['all'](_0x1294f9);}function a367_0x5707(){const _0x4e02cf=['13mYdYOh','remove','7469AUcEfX','../../queues','../../models/CampaignShipping','8761374kMjiIh','CANCELADA','20496kUlMYN','2Aetvfz','update','20948odLxYa','not','10352027sbKCpN','19925332fToDjW','26119OnhDLN','8HPHxFd','__importDefault','264ZnIrbC','toString','10shUOpK','CancelService','default','__esModule','(((.+)+)+)+$','jobId','push','constructor','655aGPlUT','16494JhWLgn','defineProperty'];a367_0x5707=function(){return _0x4e02cf;};return a367_0x5707();}exports[a367_0x8c352e(0xdb)]=CancelService;