const a392_0x679277=a392_0x3fb8;(function(_0x23e023,_0x57e341){const _0x40c963=a392_0x3fb8,_0xe409e4=_0x23e023();while(!![]){try{const _0x3e0525=parseInt(_0x40c963(0xc8))/0x1+-parseInt(_0x40c963(0xda))/0x2*(parseInt(_0x40c963(0xc7))/0x3)+parseInt(_0x40c963(0xca))/0x4+-parseInt(_0x40c963(0xd2))/0x5*(-parseInt(_0x40c963(0xd1))/0x6)+-parseInt(_0x40c963(0xdd))/0x7*(-parseInt(_0x40c963(0xd5))/0x8)+-parseInt(_0x40c963(0xc6))/0x9*(parseInt(_0x40c963(0xdf))/0xa)+-parseInt(_0x40c963(0xe2))/0xb;if(_0x3e0525===_0x57e341)break;else _0xe409e4['push'](_0xe409e4['shift']());}catch(_0x47ba9d){_0xe409e4['push'](_0xe409e4['shift']());}}}(a392_0xdd5c,0xc51cd));function a392_0x3fb8(_0x5787f2,_0x162af2){const _0x5baa69=a392_0xdd5c();return a392_0x3fb8=function(_0x1df52d,_0x5bed00){_0x1df52d=_0x1df52d-0xc2;let _0xdd5ca9=_0x5baa69[_0x1df52d];return _0xdd5ca9;},a392_0x3fb8(_0x5787f2,_0x162af2);}const a392_0x5bed00=(function(){let _0x2d745b=!![];return function(_0x2bec46,_0x30c4ea){const _0x2dd18b=_0x2d745b?function(){const _0x40919f=a392_0x3fb8;if(_0x30c4ea){const _0x5b5be0=_0x30c4ea[_0x40919f(0xcc)](_0x2bec46,arguments);return _0x30c4ea=null,_0x5b5be0;}}:function(){};return _0x2d745b=![],_0x2dd18b;};}()),a392_0x1df52d=a392_0x5bed00(this,function(){const _0x1b5c87=a392_0x3fb8;return a392_0x1df52d['toString']()[_0x1b5c87(0xd0)](_0x1b5c87(0xd9))[_0x1b5c87(0xc4)]()[_0x1b5c87(0xe0)](a392_0x1df52d)[_0x1b5c87(0xd0)](_0x1b5c87(0xd9));});a392_0x1df52d();'use strict';var __importDefault=this&&this[a392_0x679277(0xe1)]||function(_0x35ee39){const _0x1ed89e=a392_0x679277;return _0x35ee39&&_0x35ee39[_0x1ed89e(0xd6)]?_0x35ee39:{'default':_0x35ee39};};Object[a392_0x679277(0xd4)](exports,a392_0x679277(0xd6),{'value':!![]}),exports[a392_0x679277(0xce)]=CancelService;const sequelize_1=require(a392_0x679277(0xd7)),Campaign_1=__importDefault(require('../../models/Campaign')),CampaignShipping_1=__importDefault(require(a392_0x679277(0xc5))),queues_1=require(a392_0x679277(0xcb));async function CancelService(_0x26a038){const _0x2079d4=a392_0x679277,_0x271ab8=await Campaign_1[_0x2079d4(0xcf)]['findByPk'](_0x26a038);await _0x271ab8[_0x2079d4(0xd8)]({'status':_0x2079d4(0xc3)});const _0x5035bd=await CampaignShipping_1['default'][_0x2079d4(0xe3)]({'where':{'campaignId':_0x271ab8['id'],'jobId':{[sequelize_1['Op'][_0x2079d4(0xc9)]]:null},'deliveredAt':null}}),_0x4e0bc7=[];for(let _0x3c9425 of _0x5035bd){const _0x58feec=await queues_1[_0x2079d4(0xdc)][_0x2079d4(0xcd)](+_0x3c9425[_0x2079d4(0xde)]);_0x4e0bc7[_0x2079d4(0xdb)](_0x58feec[_0x2079d4(0xc2)]());}await Promise[_0x2079d4(0xd3)](_0x4e0bc7);}function a392_0xdd5c(){const _0x57b401=['CANCELADA','toString','../../models/CampaignShipping','18eXXTWR','9bnwKzt','1314262RgpMFU','not','2665568QkvhKn','../../queues','apply','getJob','CancelService','default','search','66VpfiOx','673385TFxAId','all','defineProperty','8fBKnov','__esModule','sequelize','update','(((.+)+)+)+$','274732mksWeS','push','campaignQueue','5917793tzKOoi','jobId','6873310RQJQbl','constructor','__importDefault','18847037lZNRTD','findAll','remove'];a392_0xdd5c=function(){return _0x57b401;};return a392_0xdd5c();}