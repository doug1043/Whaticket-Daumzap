const a398_0x3a4aa7=a398_0x2743;function a398_0x5e4a(){const _0x40bee4=['143728gDyqCk','remove','4546385kylEqF','../../queues','jobId','toString','2SbCdVl','1110857bGqxPO','../../models/Campaign','__importDefault','all','../../models/CampaignShipping','11561CCdASe','update','CANCELADA','search','231qUTnym','sequelize','not','constructor','68961dHLTgJ','default','__esModule','push','3077082vVxfTn','168hIkwbk','6330582BCSPSt','CancelService','52340ANvrpG','(((.+)+)+)+$','apply'];a398_0x5e4a=function(){return _0x40bee4;};return a398_0x5e4a();}(function(_0x22b3df,_0x4067ed){const _0x4a7549=a398_0x2743,_0x10a9c3=_0x22b3df();while(!![]){try{const _0xb84661=parseInt(_0x4a7549(0x129))/0x1*(-parseInt(_0x4a7549(0x128))/0x2)+-parseInt(_0x4a7549(0x136))/0x3*(parseInt(_0x4a7549(0x13b))/0x4)+-parseInt(_0x4a7549(0x143))/0x5+-parseInt(_0x4a7549(0x13a))/0x6+parseInt(_0x4a7549(0x132))/0x7*(-parseInt(_0x4a7549(0x141))/0x8)+-parseInt(_0x4a7549(0x13c))/0x9+-parseInt(_0x4a7549(0x13e))/0xa*(-parseInt(_0x4a7549(0x12e))/0xb);if(_0xb84661===_0x4067ed)break;else _0x10a9c3['push'](_0x10a9c3['shift']());}catch(_0x1809c2){_0x10a9c3['push'](_0x10a9c3['shift']());}}}(a398_0x5e4a,0xac6af));const a398_0x537671=(function(){let _0x35bb7f=!![];return function(_0x3c9757,_0xa996bd){const _0x473cd2=_0x35bb7f?function(){const _0x149205=a398_0x2743;if(_0xa996bd){const _0x4985c7=_0xa996bd[_0x149205(0x140)](_0x3c9757,arguments);return _0xa996bd=null,_0x4985c7;}}:function(){};return _0x35bb7f=![],_0x473cd2;};}()),a398_0x364b4f=a398_0x537671(this,function(){const _0x4c43dd=a398_0x2743;return a398_0x364b4f[_0x4c43dd(0x127)]()['search'](_0x4c43dd(0x13f))[_0x4c43dd(0x127)]()[_0x4c43dd(0x135)](a398_0x364b4f)[_0x4c43dd(0x131)](_0x4c43dd(0x13f));});function a398_0x2743(_0x3ef4f6,_0x2530ad){const _0x216779=a398_0x5e4a();return a398_0x2743=function(_0x364b4f,_0x537671){_0x364b4f=_0x364b4f-0x127;let _0x5e4ae0=_0x216779[_0x364b4f];return _0x5e4ae0;},a398_0x2743(_0x3ef4f6,_0x2530ad);}a398_0x364b4f();'use strict';var __importDefault=this&&this[a398_0x3a4aa7(0x12b)]||function(_0x54a0d6){const _0x424655=a398_0x3a4aa7;return _0x54a0d6&&_0x54a0d6[_0x424655(0x138)]?_0x54a0d6:{'default':_0x54a0d6};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a398_0x3a4aa7(0x13d)]=CancelService;const sequelize_1=require(a398_0x3a4aa7(0x133)),Campaign_1=__importDefault(require(a398_0x3a4aa7(0x12a))),CampaignShipping_1=__importDefault(require(a398_0x3a4aa7(0x12d))),queues_1=require(a398_0x3a4aa7(0x144));async function CancelService(_0x4b77e1){const _0x4bb516=a398_0x3a4aa7,_0xebc783=await Campaign_1[_0x4bb516(0x137)]['findByPk'](_0x4b77e1);await _0xebc783[_0x4bb516(0x12f)]({'status':_0x4bb516(0x130)});const _0xae251d=await CampaignShipping_1[_0x4bb516(0x137)]['findAll']({'where':{'campaignId':_0xebc783['id'],'jobId':{[sequelize_1['Op'][_0x4bb516(0x134)]]:null},'deliveredAt':null}}),_0x5d0040=[];for(let _0x529246 of _0xae251d){const _0x1f8360=await queues_1['campaignQueue']['getJob'](+_0x529246[_0x4bb516(0x145)]);_0x5d0040[_0x4bb516(0x139)](_0x1f8360[_0x4bb516(0x142)]());}await Promise[_0x4bb516(0x12c)](_0x5d0040);}