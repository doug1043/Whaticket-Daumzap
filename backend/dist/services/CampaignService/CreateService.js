const a366_0x433089=a366_0x4a6c;function a366_0x54c0(){const _0x575ebb=['3118OxNUHQ','9877851ZQnntO','validate','7233QDXCdd','call','__setModuleDefault','428zaotbf','(((.+)+)+)+$','object','ERR_CAMPAIGN_INVALID_NAME','scheduledAt','6443910NiklvD','../../models/Whatsapp','2009931ipSuxC','name','286lSiKeK','apply','prototype','shape','toString','PROGRAMADA','get','defineProperty','writable','constructor','reload','8ursuxm','search','string','11754980nNdXQJ','getOwnPropertyDescriptor','min','default','hasOwnProperty','__importStar','__esModule','create','4079898atBdNe','__importDefault'];a366_0x54c0=function(){return _0x575ebb;};return a366_0x54c0();}(function(_0x41c398,_0x355312){const _0x34a974=a366_0x4a6c,_0x3854eb=_0x41c398();while(!![]){try{const _0x3b8fb4=-parseInt(_0x34a974(0x1c8))/0x1*(parseInt(_0x34a974(0x1e0))/0x2)+parseInt(_0x34a974(0x1e3))/0x3*(-parseInt(_0x34a974(0x1e6))/0x4)+parseInt(_0x34a974(0x1c4))/0x5+parseInt(_0x34a974(0x1de))/0x6+-parseInt(_0x34a974(0x1c6))/0x7+parseInt(_0x34a974(0x1d3))/0x8*(parseInt(_0x34a974(0x1e1))/0x9)+-parseInt(_0x34a974(0x1d6))/0xa;if(_0x3b8fb4===_0x355312)break;else _0x3854eb['push'](_0x3854eb['shift']());}catch(_0x429c89){_0x3854eb['push'](_0x3854eb['shift']());}}}(a366_0x54c0,0xdbaee));const a366_0x5347dc=(function(){let _0x112423=!![];return function(_0x355399,_0x5bb1bf){const _0x38ab69=_0x112423?function(){const _0x4bb137=a366_0x4a6c;if(_0x5bb1bf){const _0x235073=_0x5bb1bf[_0x4bb137(0x1c9)](_0x355399,arguments);return _0x5bb1bf=null,_0x235073;}}:function(){};return _0x112423=![],_0x38ab69;};}()),a366_0x18177c=a366_0x5347dc(this,function(){const _0x362b13=a366_0x4a6c;return a366_0x18177c[_0x362b13(0x1cc)]()[_0x362b13(0x1d4)](_0x362b13(0x1e7))[_0x362b13(0x1cc)]()[_0x362b13(0x1d1)](a366_0x18177c)[_0x362b13(0x1d4)](_0x362b13(0x1e7));});a366_0x18177c();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x406f33,_0x1d21f0,_0x5d7a7c,_0x4ebf3e){const _0x1e387c=a366_0x4a6c;if(_0x4ebf3e===undefined)_0x4ebf3e=_0x5d7a7c;var _0x4dd5c1=Object[_0x1e387c(0x1d7)](_0x1d21f0,_0x5d7a7c);(!_0x4dd5c1||(_0x1e387c(0x1ce)in _0x4dd5c1?!_0x1d21f0[_0x1e387c(0x1dc)]:_0x4dd5c1[_0x1e387c(0x1d0)]||_0x4dd5c1['configurable']))&&(_0x4dd5c1={'enumerable':!![],'get':function(){return _0x1d21f0[_0x5d7a7c];}}),Object[_0x1e387c(0x1cf)](_0x406f33,_0x4ebf3e,_0x4dd5c1);}:function(_0x237365,_0x2f5a6c,_0x426380,_0x58c755){if(_0x58c755===undefined)_0x58c755=_0x426380;_0x237365[_0x58c755]=_0x2f5a6c[_0x426380];}),__setModuleDefault=this&&this[a366_0x433089(0x1e5)]||(Object['create']?function(_0x55eb20,_0x594fd7){const _0x5c2d79=a366_0x433089;Object[_0x5c2d79(0x1cf)](_0x55eb20,_0x5c2d79(0x1d9),{'enumerable':!![],'value':_0x594fd7});}:function(_0x5ed44f,_0x5c7b48){const _0x3ae247=a366_0x433089;_0x5ed44f[_0x3ae247(0x1d9)]=_0x5c7b48;}),__importStar=this&&this[a366_0x433089(0x1db)]||function(_0x1063a7){const _0x5cc7f7=a366_0x433089;if(_0x1063a7&&_0x1063a7[_0x5cc7f7(0x1dc)])return _0x1063a7;var _0x32e51b={};if(_0x1063a7!=null){for(var _0x961ce2 in _0x1063a7)if(_0x961ce2!=='default'&&Object[_0x5cc7f7(0x1ca)][_0x5cc7f7(0x1da)][_0x5cc7f7(0x1e4)](_0x1063a7,_0x961ce2))__createBinding(_0x32e51b,_0x1063a7,_0x961ce2);}return __setModuleDefault(_0x32e51b,_0x1063a7),_0x32e51b;},__importDefault=this&&this[a366_0x433089(0x1df)]||function(_0x471f21){const _0x168dac=a366_0x433089;return _0x471f21&&_0x471f21[_0x168dac(0x1dc)]?_0x471f21:{'default':_0x471f21};};Object[a366_0x433089(0x1cf)](exports,a366_0x433089(0x1dc),{'value':!![]});function a366_0x4a6c(_0x5c3bb2,_0x304fe6){const _0x105e8b=a366_0x54c0();return a366_0x4a6c=function(_0x18177c,_0x5347dc){_0x18177c=_0x18177c-0x1c2;let _0x54c0e4=_0x105e8b[_0x18177c];return _0x54c0e4;},a366_0x4a6c(_0x5c3bb2,_0x304fe6);}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),Campaign_1=__importDefault(require('../../models/Campaign')),ContactList_1=__importDefault(require('../../models/ContactList')),Whatsapp_1=__importDefault(require(a366_0x433089(0x1c5))),CreateService=async _0x50d6ca=>{const _0x542ed9=a366_0x433089,{name:_0x1027df}=_0x50d6ca,_0xb99015=Yup[_0x542ed9(0x1e8)]()[_0x542ed9(0x1cb)]({'name':Yup[_0x542ed9(0x1d5)]()[_0x542ed9(0x1d8)](0x3,_0x542ed9(0x1c2))['required']('ERR_CAMPAIGN_REQUIRED')});try{await _0xb99015[_0x542ed9(0x1e2)]({'name':_0x1027df});}catch(_0xc79004){throw new AppError_1['default'](_0xc79004['message']);}_0x50d6ca[_0x542ed9(0x1c3)]!=null&&_0x50d6ca['scheduledAt']!=''&&(_0x50d6ca['status']=_0x542ed9(0x1cd));const _0x2356b7=await Campaign_1[_0x542ed9(0x1d9)][_0x542ed9(0x1dd)](_0x50d6ca);return await _0x2356b7[_0x542ed9(0x1d2)]({'include':[{'model':ContactList_1[_0x542ed9(0x1d9)]},{'model':Whatsapp_1['default'],'attributes':['id',_0x542ed9(0x1c7)]}]}),_0x2356b7;};exports['default']=CreateService;