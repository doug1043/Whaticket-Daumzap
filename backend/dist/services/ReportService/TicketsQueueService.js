const a630_0x433b3b=a630_0x19df;function a630_0x19df(_0x1b7f01,_0x53f9f7){const _0x5e0430=a630_0x4520();return a630_0x19df=function(_0x524197,_0x102f27){_0x524197=_0x524197-0x83;let _0x4520e6=_0x5e0430[_0x524197];return _0x4520e6;},a630_0x19df(_0x1b7f01,_0x53f9f7);}(function(_0xa901b8,_0x2add63){const _0x54e638=a630_0x19df,_0x261a62=_0xa901b8();while(!![]){try{const _0x51e97c=-parseInt(_0x54e638(0x8f))/0x1*(-parseInt(_0x54e638(0x99))/0x2)+-parseInt(_0x54e638(0xb2))/0x3*(-parseInt(_0x54e638(0x94))/0x4)+parseInt(_0x54e638(0x90))/0x5*(-parseInt(_0x54e638(0x8c))/0x6)+-parseInt(_0x54e638(0x8a))/0x7*(parseInt(_0x54e638(0x87))/0x8)+-parseInt(_0x54e638(0x84))/0x9*(-parseInt(_0x54e638(0x88))/0xa)+-parseInt(_0x54e638(0x96))/0xb+parseInt(_0x54e638(0x9d))/0xc*(parseInt(_0x54e638(0xb3))/0xd);if(_0x51e97c===_0x2add63)break;else _0x261a62['push'](_0x261a62['shift']());}catch(_0x591269){_0x261a62['push'](_0x261a62['shift']());}}}(a630_0x4520,0xc92a0));const a630_0x102f27=(function(){let _0x28dd74=!![];return function(_0x26da45,_0xb5ce46){const _0x2ddb05=_0x28dd74?function(){const _0x444636=a630_0x19df;if(_0xb5ce46){const _0x24a56f=_0xb5ce46[_0x444636(0x9f)](_0x26da45,arguments);return _0xb5ce46=null,_0x24a56f;}}:function(){};return _0x28dd74=![],_0x2ddb05;};}()),a630_0x524197=a630_0x102f27(this,function(){const _0x1b70e3=a630_0x19df;return a630_0x524197[_0x1b70e3(0x9a)]()[_0x1b70e3(0x93)](_0x1b70e3(0x85))[_0x1b70e3(0x9a)]()[_0x1b70e3(0x8b)](a630_0x524197)[_0x1b70e3(0x93)](_0x1b70e3(0x85));});function a630_0x4520(){const _0x4eb097=['Sequelize','startOf','col','defineProperty','default','6sbfzhq','39oXrifP','between','396HXykgN','(((.+)+)+)+$','sequelize-typescript','31984mcgzHU','307250rUdKCx','companyId','721sHEQjR','constructor','36LGakns','updatedAt','moment','11987ZcvIoh','430845BkRnHl','__esModule','toDate','search','711108bOlSAG','map','13858152cuMcOQ','max','../../models/Ticket','142WdTTdo','toString','day','whatsappId','1816308nFCGXn','open','apply','user','includes','name','../../models/Queue','queue','contactId','queueId','filter','push','../../models/User','DESC','endOf','findAll'];a630_0x4520=function(){return _0x4eb097;};return a630_0x4520();}a630_0x524197();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x44d673){const _0x43539d=a630_0x19df;return _0x44d673&&_0x44d673[_0x43539d(0x91)]?_0x44d673:{'default':_0x44d673};};Object[a630_0x433b3b(0xb0)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),moment_1=__importDefault(require(a630_0x433b3b(0x8e))),Ticket_1=__importDefault(require(a630_0x433b3b(0x98))),Queue_1=__importDefault(require(a630_0x433b3b(0xa3))),User_1=__importDefault(require(a630_0x433b3b(0xa9))),sequelize_typescript_1=require(a630_0x433b3b(0x86)),TicketsQueueService=async({dateStart:_0x4f03e2,dateEnd:_0x190044,status:_0x83587,userId:_0x3f0a85,companyId:_0x54cc20,profile:_0x4509ef})=>{const _0x260437=a630_0x433b3b;let _0x2ada26={};const _0x4acf78=[{'model':User_1['default'],'as':_0x260437(0xa0),'attributes':['id',_0x260437(0xa2),'profile']},{'model':Queue_1[_0x260437(0xb1)],'as':_0x260437(0xa4)}];if(_0x83587){const _0x4bc9ba=[],_0x20134e=await Ticket_1[_0x260437(0xb1)][_0x260437(0xac)]({'where':{'status':_0x260437(0x9e)},'group':[_0x260437(0x89),_0x260437(0xa5),_0x260437(0xa6),'whatsappId'],'attributes':[_0x260437(0x89),_0x260437(0xa5),_0x260437(0xa6),_0x260437(0x9c),[sequelize_typescript_1[_0x260437(0xad)]['fn'](_0x260437(0x97),sequelize_typescript_1['Sequelize'][_0x260437(0xaf)]('id')),'id']]});_0x20134e&&_0x4bc9ba[_0x260437(0xa8)](_0x20134e[_0x260437(0x95)](_0x28e9a9=>_0x28e9a9['id']));const _0x3c296d=_0x4bc9ba['reduce']((_0x4e0b2e,_0x477100)=>_0x4e0b2e[_0x260437(0xa7)](_0x483c2d=>_0x477100[_0x260437(0xa1)](_0x483c2d)));_0x2ada26={..._0x2ada26,'id':{[sequelize_1['Op']['in']]:_0x3c296d}};}_0x4509ef===_0x260437(0xa0)&&(_0x2ada26={..._0x2ada26,'userId':_0x3f0a85});_0x4f03e2&&_0x190044&&(_0x2ada26={..._0x2ada26,'createdAt':{[sequelize_1['Op'][_0x260437(0x83)]]:[(0x0,moment_1[_0x260437(0xb1)])(_0x4f03e2)[_0x260437(0xae)]('day')[_0x260437(0x92)](),(0x0,moment_1[_0x260437(0xb1)])(_0x190044)[_0x260437(0xab)](_0x260437(0x9b))[_0x260437(0x92)]()]}});const _0x589832=await Ticket_1[_0x260437(0xb1)][_0x260437(0xac)]({'where':{..._0x2ada26,'companyId':_0x54cc20},'include':_0x4acf78,'order':[[_0x260437(0x8d),_0x260437(0xaa)]]});return{'data':_0x589832};};exports[a630_0x433b3b(0xb1)]=TicketsQueueService;