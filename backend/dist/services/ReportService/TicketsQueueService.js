const a492_0x4f3f9c=a492_0x3e05;(function(_0x56d7ac,_0x479915){const _0x5ce3e0=a492_0x3e05,_0x2fe85e=_0x56d7ac();while(!![]){try{const _0x5dd269=parseInt(_0x5ce3e0(0x1b4))/0x1*(parseInt(_0x5ce3e0(0x1a4))/0x2)+parseInt(_0x5ce3e0(0x188))/0x3*(parseInt(_0x5ce3e0(0x196))/0x4)+-parseInt(_0x5ce3e0(0x1a6))/0x5*(-parseInt(_0x5ce3e0(0x1a2))/0x6)+-parseInt(_0x5ce3e0(0x197))/0x7*(parseInt(_0x5ce3e0(0x1a8))/0x8)+-parseInt(_0x5ce3e0(0x19c))/0x9+-parseInt(_0x5ce3e0(0x1a0))/0xa+parseInt(_0x5ce3e0(0x1b0))/0xb*(parseInt(_0x5ce3e0(0x19f))/0xc);if(_0x5dd269===_0x479915)break;else _0x2fe85e['push'](_0x2fe85e['shift']());}catch(_0x31eedb){_0x2fe85e['push'](_0x2fe85e['shift']());}}}(a492_0x4c93,0xa25e1));const a492_0x5e9117=(function(){let _0x2d14a8=!![];return function(_0x59da29,_0x4def16){const _0x17a038=_0x2d14a8?function(){const _0x3164e9=a492_0x3e05;if(_0x4def16){const _0x57bfd1=_0x4def16[_0x3164e9(0x19d)](_0x59da29,arguments);return _0x4def16=null,_0x57bfd1;}}:function(){};return _0x2d14a8=![],_0x17a038;};}()),a492_0x3c8f1b=a492_0x5e9117(this,function(){const _0x575bb9=a492_0x3e05;return a492_0x3c8f1b['toString']()[_0x575bb9(0x18b)](_0x575bb9(0x1ad))[_0x575bb9(0x187)]()[_0x575bb9(0x192)](a492_0x3c8f1b)[_0x575bb9(0x18b)](_0x575bb9(0x1ad));});a492_0x3c8f1b();'use strict';var __importDefault=this&&this[a492_0x4f3f9c(0x1a3)]||function(_0x1d0439){const _0x41b806=a492_0x4f3f9c;return _0x1d0439&&_0x1d0439[_0x41b806(0x1b2)]?_0x1d0439:{'default':_0x1d0439};};Object[a492_0x4f3f9c(0x18d)](exports,a492_0x4f3f9c(0x1b2),{'value':!![]});function a492_0x4c93(){const _0x1a3054=['4glWXeX','2075122UxqgGm','startOf','toDate','companyId','Sequelize','10092033dyXDrB','apply','endOf','10824FMkKXs','211030ztvZKX','max','12KdnvYH','__importDefault','2458vcwJGJ','queueId','1308775SUzmvi','push','16NdGHxG','profile','../../models/User','user','updatedAt','(((.+)+)+)+$','col','moment','8129xqUfpU','filter','__esModule','queue','705vdrEBD','toString','1031568WtuBBA','whatsappId','sequelize','search','default','defineProperty','../../models/Ticket','../../models/Queue','reduce','day','constructor','contactId','findAll','map'];a492_0x4c93=function(){return _0x1a3054;};return a492_0x4c93();}function a492_0x3e05(_0x7fabc5,_0x778866){const _0x2fff17=a492_0x4c93();return a492_0x3e05=function(_0x3c8f1b,_0x5e9117){_0x3c8f1b=_0x3c8f1b-0x187;let _0x4c93c8=_0x2fff17[_0x3c8f1b];return _0x4c93c8;},a492_0x3e05(_0x7fabc5,_0x778866);}const sequelize_1=require(a492_0x4f3f9c(0x18a)),moment_1=__importDefault(require(a492_0x4f3f9c(0x1af))),Ticket_1=__importDefault(require(a492_0x4f3f9c(0x18e))),Queue_1=__importDefault(require(a492_0x4f3f9c(0x18f))),User_1=__importDefault(require(a492_0x4f3f9c(0x1aa))),sequelize_typescript_1=require('sequelize-typescript'),TicketsQueueService=async({dateStart:_0x4b72ef,dateEnd:_0x230d28,status:_0x2d406f,userId:_0x1996fa,companyId:_0x232d80,profile:_0x2a75c3})=>{const _0x48bc38=a492_0x4f3f9c;let _0xdfc98={};const _0x1af7b4=[{'model':User_1[_0x48bc38(0x18c)],'as':_0x48bc38(0x1ab),'attributes':['id','name',_0x48bc38(0x1a9)]},{'model':Queue_1[_0x48bc38(0x18c)],'as':_0x48bc38(0x1b3)}];if(_0x2d406f){const _0xa38293=[],_0x593847=await Ticket_1[_0x48bc38(0x18c)][_0x48bc38(0x194)]({'where':{'status':'open'},'group':[_0x48bc38(0x19a),_0x48bc38(0x193),_0x48bc38(0x1a5),_0x48bc38(0x189)],'attributes':['companyId',_0x48bc38(0x193),_0x48bc38(0x1a5),_0x48bc38(0x189),[sequelize_typescript_1[_0x48bc38(0x19b)]['fn'](_0x48bc38(0x1a1),sequelize_typescript_1[_0x48bc38(0x19b)][_0x48bc38(0x1ae)]('id')),'id']]});_0x593847&&_0xa38293[_0x48bc38(0x1a7)](_0x593847[_0x48bc38(0x195)](_0x1d88ab=>_0x1d88ab['id']));const _0x55c871=_0xa38293[_0x48bc38(0x190)]((_0x3c028d,_0x40dda4)=>_0x3c028d[_0x48bc38(0x1b1)](_0x5d8fa5=>_0x40dda4['includes'](_0x5d8fa5)));_0xdfc98={..._0xdfc98,'id':{[sequelize_1['Op']['in']]:_0x55c871}};}_0x2a75c3==='user'&&(_0xdfc98={..._0xdfc98,'userId':_0x1996fa});_0x4b72ef&&_0x230d28&&(_0xdfc98={..._0xdfc98,'createdAt':{[sequelize_1['Op']['between']]:[(0x0,moment_1[_0x48bc38(0x18c)])(_0x4b72ef)[_0x48bc38(0x198)](_0x48bc38(0x191))[_0x48bc38(0x199)](),(0x0,moment_1[_0x48bc38(0x18c)])(_0x230d28)[_0x48bc38(0x19e)](_0x48bc38(0x191))[_0x48bc38(0x199)]()]}});const _0xe16332=await Ticket_1[_0x48bc38(0x18c)][_0x48bc38(0x194)]({'where':{..._0xdfc98,'companyId':_0x232d80},'include':_0x1af7b4,'order':[[_0x48bc38(0x1ac),'DESC']]});return{'data':_0xe16332};};exports[a492_0x4f3f9c(0x18c)]=TicketsQueueService;