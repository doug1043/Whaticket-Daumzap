const a490_0x1b94c2=a490_0xe59c;function a490_0xe59c(_0x5d13cf,_0x5c9211){const _0x67e313=a490_0x4fd2();return a490_0xe59c=function(_0xa79744,_0x351112){_0xa79744=_0xa79744-0x6a;let _0x4fd2a5=_0x67e313[_0xa79744];return _0x4fd2a5;},a490_0xe59c(_0x5d13cf,_0x5c9211);}(function(_0x73726a,_0x45d92e){const _0x2bb75a=a490_0xe59c,_0x4da9e=_0x73726a();while(!![]){try{const _0x59b121=parseInt(_0x2bb75a(0x76))/0x1*(parseInt(_0x2bb75a(0x6e))/0x2)+parseInt(_0x2bb75a(0x93))/0x3+parseInt(_0x2bb75a(0x89))/0x4+parseInt(_0x2bb75a(0x79))/0x5+-parseInt(_0x2bb75a(0x73))/0x6+parseInt(_0x2bb75a(0x7b))/0x7*(parseInt(_0x2bb75a(0x74))/0x8)+-parseInt(_0x2bb75a(0x78))/0x9;if(_0x59b121===_0x45d92e)break;else _0x4da9e['push'](_0x4da9e['shift']());}catch(_0x5c1e82){_0x4da9e['push'](_0x4da9e['shift']());}}}(a490_0x4fd2,0xbcb5e));const a490_0x351112=(function(){let _0x30f468=!![];return function(_0x4118a0,_0x46a8c1){const _0x112c86=_0x30f468?function(){if(_0x46a8c1){const _0x51ee63=_0x46a8c1['apply'](_0x4118a0,arguments);return _0x46a8c1=null,_0x51ee63;}}:function(){};return _0x30f468=![],_0x112c86;};}()),a490_0xa79744=a490_0x351112(this,function(){const _0x2186f5=a490_0xe59c;return a490_0xa79744[_0x2186f5(0x6b)]()[_0x2186f5(0x7e)]('(((.+)+)+)+$')['toString']()['constructor'](a490_0xa79744)[_0x2186f5(0x7e)]('(((.+)+)+)+$');});function a490_0x4fd2(){const _0x4733ad=['includes','__esModule','DESC','../../models/User','open','profile','toDate','push','924897qwEwhg','companyId','toString','defineProperty','user','3068DLubCY','queueId','map','queue','reduce','2260566SsbZCI','8GcxxxH','max','492UJWxHT','day','14950107tXMklb','249900jWSMnI','findAll','2834321WZbAHX','whatsappId','startOf','search','sequelize','endOf','__importDefault','default','Sequelize','contactId','../../models/Ticket','moment','filter','updatedAt','5171728cuLAkk','col'];a490_0x4fd2=function(){return _0x4733ad;};return a490_0x4fd2();}a490_0xa79744();'use strict';var __importDefault=this&&this[a490_0x1b94c2(0x81)]||function(_0x1ebe4f){const _0x40f136=a490_0x1b94c2;return _0x1ebe4f&&_0x1ebe4f[_0x40f136(0x8c)]?_0x1ebe4f:{'default':_0x1ebe4f};};Object[a490_0x1b94c2(0x6c)](exports,a490_0x1b94c2(0x8c),{'value':!![]});const sequelize_1=require(a490_0x1b94c2(0x7f)),moment_1=__importDefault(require(a490_0x1b94c2(0x86))),Ticket_1=__importDefault(require(a490_0x1b94c2(0x85))),Queue_1=__importDefault(require('../../models/Queue')),User_1=__importDefault(require(a490_0x1b94c2(0x8e))),sequelize_typescript_1=require('sequelize-typescript'),TicketsQueueService=async({dateStart:_0xc84953,dateEnd:_0x2af106,status:_0x55175e,userId:_0x39aa71,companyId:_0x25997c,profile:_0x3c9b4c})=>{const _0x3fc84d=a490_0x1b94c2;let _0x4d5403={};const _0x537c2b=[{'model':User_1[_0x3fc84d(0x82)],'as':_0x3fc84d(0x6d),'attributes':['id','name',_0x3fc84d(0x90)]},{'model':Queue_1[_0x3fc84d(0x82)],'as':_0x3fc84d(0x71)}];if(_0x55175e){const _0x3ffddf=[],_0x4c42f1=await Ticket_1['default'][_0x3fc84d(0x7a)]({'where':{'status':_0x3fc84d(0x8f)},'group':[_0x3fc84d(0x6a),_0x3fc84d(0x84),_0x3fc84d(0x6f),_0x3fc84d(0x7c)],'attributes':[_0x3fc84d(0x6a),_0x3fc84d(0x84),'queueId','whatsappId',[sequelize_typescript_1[_0x3fc84d(0x83)]['fn'](_0x3fc84d(0x75),sequelize_typescript_1[_0x3fc84d(0x83)][_0x3fc84d(0x8a)]('id')),'id']]});_0x4c42f1&&_0x3ffddf[_0x3fc84d(0x92)](_0x4c42f1[_0x3fc84d(0x70)](_0x4e2fae=>_0x4e2fae['id']));const _0x51eb67=_0x3ffddf[_0x3fc84d(0x72)]((_0x37c2e3,_0x563beb)=>_0x37c2e3[_0x3fc84d(0x87)](_0x1dffa9=>_0x563beb[_0x3fc84d(0x8b)](_0x1dffa9)));_0x4d5403={..._0x4d5403,'id':{[sequelize_1['Op']['in']]:_0x51eb67}};}_0x3c9b4c===_0x3fc84d(0x6d)&&(_0x4d5403={..._0x4d5403,'userId':_0x39aa71});_0xc84953&&_0x2af106&&(_0x4d5403={..._0x4d5403,'createdAt':{[sequelize_1['Op']['between']]:[(0x0,moment_1[_0x3fc84d(0x82)])(_0xc84953)[_0x3fc84d(0x7d)]('day')[_0x3fc84d(0x91)](),(0x0,moment_1[_0x3fc84d(0x82)])(_0x2af106)[_0x3fc84d(0x80)](_0x3fc84d(0x77))[_0x3fc84d(0x91)]()]}});const _0xfb1708=await Ticket_1[_0x3fc84d(0x82)][_0x3fc84d(0x7a)]({'where':{..._0x4d5403,'companyId':_0x25997c},'include':_0x537c2b,'order':[[_0x3fc84d(0x88),_0x3fc84d(0x8d)]]});return{'data':_0xfb1708};};exports['default']=TicketsQueueService;