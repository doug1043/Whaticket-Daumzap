const a629_0x2c2ee9=a629_0x2f8e;(function(_0x2a2bb1,_0x348236){const _0x4d6769=a629_0x2f8e,_0x45b8ee=_0x2a2bb1();while(!![]){try{const _0x301602=-parseInt(_0x4d6769(0x1fb))/0x1+parseInt(_0x4d6769(0x1e4))/0x2+parseInt(_0x4d6769(0x202))/0x3*(-parseInt(_0x4d6769(0x20b))/0x4)+-parseInt(_0x4d6769(0x1f0))/0x5+-parseInt(_0x4d6769(0x1ee))/0x6+parseInt(_0x4d6769(0x208))/0x7*(-parseInt(_0x4d6769(0x1e2))/0x8)+parseInt(_0x4d6769(0x20d))/0x9;if(_0x301602===_0x348236)break;else _0x45b8ee['push'](_0x45b8ee['shift']());}catch(_0x4fe703){_0x45b8ee['push'](_0x45b8ee['shift']());}}}(a629_0x3e6e,0x8a9e6));const a629_0x4637dd=(function(){let _0x335b3c=!![];return function(_0x2200ba,_0x2483f1){const _0x3a8faf=_0x335b3c?function(){if(_0x2483f1){const _0x2f9d94=_0x2483f1['apply'](_0x2200ba,arguments);return _0x2483f1=null,_0x2f9d94;}}:function(){};return _0x335b3c=![],_0x3a8faf;};}()),a629_0x52fcac=a629_0x4637dd(this,function(){const _0x5a2cee=a629_0x2f8e;return a629_0x52fcac[_0x5a2cee(0x1e8)]()[_0x5a2cee(0x1ec)]('(((.+)+)+)+$')['toString']()[_0x5a2cee(0x20c)](a629_0x52fcac)['search'](_0x5a2cee(0x1ef));});a629_0x52fcac();'use strict';var __importDefault=this&&this[a629_0x2c2ee9(0x1fa)]||function(_0xfffa6f){const _0x4a6d2c=a629_0x2c2ee9;return _0xfffa6f&&_0xfffa6f[_0x4a6d2c(0x1f6)]?_0xfffa6f:{'default':_0xfffa6f};};Object[a629_0x2c2ee9(0x1f7)](exports,a629_0x2c2ee9(0x1f6),{'value':!![]});const sequelize_1=require(a629_0x2c2ee9(0x1f4)),moment_1=__importDefault(require(a629_0x2c2ee9(0x201))),Ticket_1=__importDefault(require(a629_0x2c2ee9(0x1e1))),Queue_1=__importDefault(require(a629_0x2c2ee9(0x1f8))),User_1=__importDefault(require(a629_0x2c2ee9(0x1ed))),sequelize_typescript_1=require('sequelize-typescript'),TicketsQueueService=async({dateStart:_0x112eac,dateEnd:_0x1d2441,status:_0x136f52,userId:_0x4c4011,companyId:_0x5de4cd,profile:_0x5aa6c9})=>{const _0x4d41ea=a629_0x2c2ee9;let _0x54024f={};const _0x143fd2=[{'model':User_1[_0x4d41ea(0x1f9)],'as':_0x4d41ea(0x1e7),'attributes':['id',_0x4d41ea(0x200),_0x4d41ea(0x1eb)]},{'model':Queue_1[_0x4d41ea(0x1f9)],'as':_0x4d41ea(0x1f5)}];if(_0x136f52){const _0x13e10b=[],_0x1c5de0=await Ticket_1[_0x4d41ea(0x1f9)][_0x4d41ea(0x206)]({'where':{'status':_0x4d41ea(0x1e0)},'group':[_0x4d41ea(0x1f1),'contactId',_0x4d41ea(0x1e6),_0x4d41ea(0x209)],'attributes':[_0x4d41ea(0x1f1),_0x4d41ea(0x1e9),_0x4d41ea(0x1e6),'whatsappId',[sequelize_typescript_1['Sequelize']['fn'](_0x4d41ea(0x1ea),sequelize_typescript_1[_0x4d41ea(0x205)][_0x4d41ea(0x20a)]('id')),'id']]});_0x1c5de0&&_0x13e10b[_0x4d41ea(0x207)](_0x1c5de0[_0x4d41ea(0x203)](_0x19eea0=>_0x19eea0['id']));const _0x474922=_0x13e10b[_0x4d41ea(0x1f3)]((_0x20b91a,_0x342c4f)=>_0x20b91a[_0x4d41ea(0x1fe)](_0x555eec=>_0x342c4f[_0x4d41ea(0x1e5)](_0x555eec)));_0x54024f={..._0x54024f,'id':{[sequelize_1['Op']['in']]:_0x474922}};}_0x5aa6c9===_0x4d41ea(0x1e7)&&(_0x54024f={..._0x54024f,'userId':_0x4c4011});_0x112eac&&_0x1d2441&&(_0x54024f={..._0x54024f,'createdAt':{[sequelize_1['Op'][_0x4d41ea(0x1ff)]]:[(0x0,moment_1[_0x4d41ea(0x1f9)])(_0x112eac)[_0x4d41ea(0x1f2)](_0x4d41ea(0x1fd))[_0x4d41ea(0x1fc)](),(0x0,moment_1[_0x4d41ea(0x1f9)])(_0x1d2441)['endOf'](_0x4d41ea(0x1fd))[_0x4d41ea(0x1fc)]()]}});const _0x51266d=await Ticket_1['default']['findAll']({'where':{..._0x54024f,'companyId':_0x5de4cd},'include':_0x143fd2,'order':[[_0x4d41ea(0x204),_0x4d41ea(0x1e3)]]});return{'data':_0x51266d};};function a629_0x2f8e(_0x197dbc,_0x1a5dc8){const _0x51fe82=a629_0x3e6e();return a629_0x2f8e=function(_0x52fcac,_0x4637dd){_0x52fcac=_0x52fcac-0x1e0;let _0x3e6eb9=_0x51fe82[_0x52fcac];return _0x3e6eb9;},a629_0x2f8e(_0x197dbc,_0x1a5dc8);}function a629_0x3e6e(){const _0x579ed5=['150958MmPAdt','includes','queueId','user','toString','contactId','max','profile','search','../../models/User','2558304WgYxeL','(((.+)+)+)+$','5415715mhmmlr','companyId','startOf','reduce','sequelize','queue','__esModule','defineProperty','../../models/Queue','default','__importDefault','929691mqjmZx','toDate','day','filter','between','name','moment','1544691kURTdR','map','updatedAt','Sequelize','findAll','push','91VBSMJR','whatsappId','col','4wWbQtd','constructor','40739994HFKqHQ','open','../../models/Ticket','664768hthbrq','DESC'];a629_0x3e6e=function(){return _0x579ed5;};return a629_0x3e6e();}exports['default']=TicketsQueueService;