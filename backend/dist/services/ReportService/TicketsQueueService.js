const a491_0x2e1e49=a491_0x5761;(function(_0x138065,_0x3b812c){const _0x18046a=a491_0x5761,_0x5477fa=_0x138065();while(!![]){try{const _0x134fa6=-parseInt(_0x18046a(0x18a))/0x1*(-parseInt(_0x18046a(0x18d))/0x2)+-parseInt(_0x18046a(0x179))/0x3+-parseInt(_0x18046a(0x172))/0x4*(parseInt(_0x18046a(0x174))/0x5)+-parseInt(_0x18046a(0x17a))/0x6*(parseInt(_0x18046a(0x16b))/0x7)+parseInt(_0x18046a(0x17e))/0x8+-parseInt(_0x18046a(0x180))/0x9+-parseInt(_0x18046a(0x188))/0xa*(-parseInt(_0x18046a(0x187))/0xb);if(_0x134fa6===_0x3b812c)break;else _0x5477fa['push'](_0x5477fa['shift']());}catch(_0x2555af){_0x5477fa['push'](_0x5477fa['shift']());}}}(a491_0x594f,0x89474));function a491_0x5761(_0x3374ea,_0x1afd07){const _0xba315e=a491_0x594f();return a491_0x5761=function(_0x2d5d6c,_0x50bbd7){_0x2d5d6c=_0x2d5d6c-0x162;let _0x594f1b=_0xba315e[_0x2d5d6c];return _0x594f1b;},a491_0x5761(_0x3374ea,_0x1afd07);}function a491_0x594f(){const _0x2c8e08=['../../models/Queue','DESC','toDate','search','max','col','contactId','21mUeYSz','whatsappId','name','profile','(((.+)+)+)+$','queueId','reduce','3791976DouvSV','sequelize','5pwTvXv','endOf','companyId','filter','day','3074232PpYksq','2062530OMlvAG','../../models/Ticket','toString','defineProperty','4164304DLrfmr','open','1618875APEAaA','default','map','moment','../../models/User','Sequelize','user','31067333ynxoRn','10nrAnkh','findAll','401329AZchaN','apply','constructor','2SACQsW','push','sequelize-typescript','updatedAt'];a491_0x594f=function(){return _0x2c8e08;};return a491_0x594f();}const a491_0x50bbd7=(function(){let _0x20e1f8=!![];return function(_0x23f834,_0x23183a){const _0x4c9667=_0x20e1f8?function(){const _0x1508ce=a491_0x5761;if(_0x23183a){const _0x590aba=_0x23183a[_0x1508ce(0x18b)](_0x23f834,arguments);return _0x23183a=null,_0x590aba;}}:function(){};return _0x20e1f8=![],_0x4c9667;};}()),a491_0x2d5d6c=a491_0x50bbd7(this,function(){const _0x25d42e=a491_0x5761;return a491_0x2d5d6c[_0x25d42e(0x17c)]()['search'](_0x25d42e(0x16f))['toString']()[_0x25d42e(0x18c)](a491_0x2d5d6c)[_0x25d42e(0x167)](_0x25d42e(0x16f));});a491_0x2d5d6c();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3be6f3){return _0x3be6f3&&_0x3be6f3['__esModule']?_0x3be6f3:{'default':_0x3be6f3};};Object[a491_0x2e1e49(0x17d)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a491_0x2e1e49(0x173)),moment_1=__importDefault(require(a491_0x2e1e49(0x183))),Ticket_1=__importDefault(require(a491_0x2e1e49(0x17b))),Queue_1=__importDefault(require(a491_0x2e1e49(0x164))),User_1=__importDefault(require(a491_0x2e1e49(0x184))),sequelize_typescript_1=require(a491_0x2e1e49(0x162)),TicketsQueueService=async({dateStart:_0x30f9a5,dateEnd:_0x2f9c27,status:_0x2cbe6b,userId:_0x3c5ed1,companyId:_0x208aaa,profile:_0x383b8b})=>{const _0x18c78d=a491_0x2e1e49;let _0x4b36dc={};const _0x41f226=[{'model':User_1['default'],'as':'user','attributes':['id',_0x18c78d(0x16d),_0x18c78d(0x16e)]},{'model':Queue_1[_0x18c78d(0x181)],'as':'queue'}];if(_0x2cbe6b){const _0x21da32=[],_0x138a0a=await Ticket_1['default'][_0x18c78d(0x189)]({'where':{'status':_0x18c78d(0x17f)},'group':[_0x18c78d(0x176),_0x18c78d(0x16a),_0x18c78d(0x170),_0x18c78d(0x16c)],'attributes':[_0x18c78d(0x176),_0x18c78d(0x16a),_0x18c78d(0x170),'whatsappId',[sequelize_typescript_1['Sequelize']['fn'](_0x18c78d(0x168),sequelize_typescript_1[_0x18c78d(0x185)][_0x18c78d(0x169)]('id')),'id']]});_0x138a0a&&_0x21da32[_0x18c78d(0x18e)](_0x138a0a[_0x18c78d(0x182)](_0xe76834=>_0xe76834['id']));const _0x2a541d=_0x21da32[_0x18c78d(0x171)]((_0x213e66,_0x51be47)=>_0x213e66[_0x18c78d(0x177)](_0x30d56d=>_0x51be47['includes'](_0x30d56d)));_0x4b36dc={..._0x4b36dc,'id':{[sequelize_1['Op']['in']]:_0x2a541d}};}_0x383b8b===_0x18c78d(0x186)&&(_0x4b36dc={..._0x4b36dc,'userId':_0x3c5ed1});_0x30f9a5&&_0x2f9c27&&(_0x4b36dc={..._0x4b36dc,'createdAt':{[sequelize_1['Op']['between']]:[(0x0,moment_1[_0x18c78d(0x181)])(_0x30f9a5)['startOf'](_0x18c78d(0x178))[_0x18c78d(0x166)](),(0x0,moment_1['default'])(_0x2f9c27)[_0x18c78d(0x175)](_0x18c78d(0x178))[_0x18c78d(0x166)]()]}});const _0x1d1290=await Ticket_1[_0x18c78d(0x181)]['findAll']({'where':{..._0x4b36dc,'companyId':_0x208aaa},'include':_0x41f226,'order':[[_0x18c78d(0x163),_0x18c78d(0x165)]]});return{'data':_0x1d1290};};exports[a491_0x2e1e49(0x181)]=TicketsQueueService;