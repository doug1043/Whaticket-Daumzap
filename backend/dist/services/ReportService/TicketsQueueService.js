function a518_0x24c1(_0x38f0da,_0x468318){const _0x6fec2a=a518_0x4e7c();return a518_0x24c1=function(_0x5ae4d1,_0x279934){_0x5ae4d1=_0x5ae4d1-0x1c3;let _0x4e7c07=_0x6fec2a[_0x5ae4d1];return _0x4e7c07;},a518_0x24c1(_0x38f0da,_0x468318);}const a518_0x4a5904=a518_0x24c1;(function(_0x1b8c4c,_0x2832e8){const _0x579c23=a518_0x24c1,_0x526890=_0x1b8c4c();while(!![]){try{const _0x1f3ba5=-parseInt(_0x579c23(0x1d7))/0x1+parseInt(_0x579c23(0x1d9))/0x2*(parseInt(_0x579c23(0x1e3))/0x3)+-parseInt(_0x579c23(0x1c4))/0x4+parseInt(_0x579c23(0x1e1))/0x5+-parseInt(_0x579c23(0x1d0))/0x6*(parseInt(_0x579c23(0x1ce))/0x7)+parseInt(_0x579c23(0x1c3))/0x8*(-parseInt(_0x579c23(0x1c9))/0x9)+parseInt(_0x579c23(0x1ea))/0xa;if(_0x1f3ba5===_0x2832e8)break;else _0x526890['push'](_0x526890['shift']());}catch(_0x1e0da7){_0x526890['push'](_0x526890['shift']());}}}(a518_0x4e7c,0xea784));const a518_0x279934=(function(){let _0x32310f=!![];return function(_0x11da9b,_0xf2029d){const _0x1b45fe=_0x32310f?function(){if(_0xf2029d){const _0x16eff7=_0xf2029d['apply'](_0x11da9b,arguments);return _0xf2029d=null,_0x16eff7;}}:function(){};return _0x32310f=![],_0x1b45fe;};}()),a518_0x5ae4d1=a518_0x279934(this,function(){const _0x3d892d=a518_0x24c1;return a518_0x5ae4d1['toString']()[_0x3d892d(0x1de)](_0x3d892d(0x1dc))[_0x3d892d(0x1cf)]()['constructor'](a518_0x5ae4d1)['search'](_0x3d892d(0x1dc));});a518_0x5ae4d1();'use strict';function a518_0x4e7c(){const _0x3718d7=['../../models/User','__importDefault','reduce','filter','1893644FdXJHP','companyId','420114dsPsMJ','findAll','col','(((.+)+)+)+$','queueId','search','between','day','4089335xUgUaP','includes','18SvInhg','DESC','updatedAt','../../models/Ticket','Sequelize','__esModule','default','44101200WaHycs','352HUyfNU','6692720ykNdhU','defineProperty','moment','user','startOf','178947UMZwKj','toDate','queue','map','profile','1520771RgNPtW','toString','30EFpORY','open','whatsappId'];a518_0x4e7c=function(){return _0x3718d7;};return a518_0x4e7c();}var __importDefault=this&&this[a518_0x4a5904(0x1d4)]||function(_0x123ae5){const _0xf42e72=a518_0x4a5904;return _0x123ae5&&_0x123ae5[_0xf42e72(0x1e8)]?_0x123ae5:{'default':_0x123ae5};};Object[a518_0x4a5904(0x1c5)](exports,a518_0x4a5904(0x1e8),{'value':!![]});const sequelize_1=require('sequelize'),moment_1=__importDefault(require(a518_0x4a5904(0x1c6))),Ticket_1=__importDefault(require(a518_0x4a5904(0x1e6))),Queue_1=__importDefault(require('../../models/Queue')),User_1=__importDefault(require(a518_0x4a5904(0x1d3))),sequelize_typescript_1=require('sequelize-typescript'),TicketsQueueService=async({dateStart:_0x4c7575,dateEnd:_0x7170fb,status:_0x15cb40,userId:_0x39c041,companyId:_0x1c29b6,profile:_0x42d7cd})=>{const _0x56faa8=a518_0x4a5904;let _0x59c31f={};const _0x24efcc=[{'model':User_1[_0x56faa8(0x1e9)],'as':'user','attributes':['id','name',_0x56faa8(0x1cd)]},{'model':Queue_1['default'],'as':_0x56faa8(0x1cb)}];if(_0x15cb40){const _0x467ccb=[],_0x768c6a=await Ticket_1['default'][_0x56faa8(0x1da)]({'where':{'status':_0x56faa8(0x1d1)},'group':['companyId','contactId','queueId',_0x56faa8(0x1d2)],'attributes':[_0x56faa8(0x1d8),'contactId',_0x56faa8(0x1dd),'whatsappId',[sequelize_typescript_1[_0x56faa8(0x1e7)]['fn']('max',sequelize_typescript_1[_0x56faa8(0x1e7)][_0x56faa8(0x1db)]('id')),'id']]});_0x768c6a&&_0x467ccb['push'](_0x768c6a[_0x56faa8(0x1cc)](_0x46f02e=>_0x46f02e['id']));const _0x29cea7=_0x467ccb[_0x56faa8(0x1d5)]((_0x11cf10,_0x2cbc4a)=>_0x11cf10[_0x56faa8(0x1d6)](_0x20147d=>_0x2cbc4a[_0x56faa8(0x1e2)](_0x20147d)));_0x59c31f={..._0x59c31f,'id':{[sequelize_1['Op']['in']]:_0x29cea7}};}_0x42d7cd===_0x56faa8(0x1c7)&&(_0x59c31f={..._0x59c31f,'userId':_0x39c041});_0x4c7575&&_0x7170fb&&(_0x59c31f={..._0x59c31f,'createdAt':{[sequelize_1['Op'][_0x56faa8(0x1df)]]:[(0x0,moment_1[_0x56faa8(0x1e9)])(_0x4c7575)[_0x56faa8(0x1c8)](_0x56faa8(0x1e0))[_0x56faa8(0x1ca)](),(0x0,moment_1[_0x56faa8(0x1e9)])(_0x7170fb)['endOf'](_0x56faa8(0x1e0))['toDate']()]}});const _0x2e1358=await Ticket_1[_0x56faa8(0x1e9)][_0x56faa8(0x1da)]({'where':{..._0x59c31f,'companyId':_0x1c29b6},'include':_0x24efcc,'order':[[_0x56faa8(0x1e5),_0x56faa8(0x1e4)]]});return{'data':_0x2e1358};};exports[a518_0x4a5904(0x1e9)]=TicketsQueueService;