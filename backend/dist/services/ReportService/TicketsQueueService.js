const a490_0x415f0b=a490_0x1825;(function(_0x3d6638,_0x39c738){const _0x46b4f0=a490_0x1825,_0xeeeb97=_0x3d6638();while(!![]){try{const _0x28442e=parseInt(_0x46b4f0(0x1d4))/0x1+parseInt(_0x46b4f0(0x1de))/0x2*(-parseInt(_0x46b4f0(0x1c7))/0x3)+-parseInt(_0x46b4f0(0x1bf))/0x4*(parseInt(_0x46b4f0(0x1d9))/0x5)+parseInt(_0x46b4f0(0x1e5))/0x6+-parseInt(_0x46b4f0(0x1d8))/0x7+-parseInt(_0x46b4f0(0x1d1))/0x8+parseInt(_0x46b4f0(0x1c6))/0x9;if(_0x28442e===_0x39c738)break;else _0xeeeb97['push'](_0xeeeb97['shift']());}catch(_0x527927){_0xeeeb97['push'](_0xeeeb97['shift']());}}}(a490_0x1fea,0xd135c));function a490_0x1825(_0x3e22f5,_0x3e128c){const _0x3de500=a490_0x1fea();return a490_0x1825=function(_0x2852a9,_0x47bfca){_0x2852a9=_0x2852a9-0x1bd;let _0x1fea9f=_0x3de500[_0x2852a9];return _0x1fea9f;},a490_0x1825(_0x3e22f5,_0x3e128c);}const a490_0x47bfca=(function(){let _0x57cec8=!![];return function(_0x47b486,_0x4e2a02){const _0x4446cb=_0x57cec8?function(){const _0x525662=a490_0x1825;if(_0x4e2a02){const _0x456080=_0x4e2a02[_0x525662(0x1bd)](_0x47b486,arguments);return _0x4e2a02=null,_0x456080;}}:function(){};return _0x57cec8=![],_0x4446cb;};}()),a490_0x2852a9=a490_0x47bfca(this,function(){const _0x3e1ef0=a490_0x1825;return a490_0x2852a9[_0x3e1ef0(0x1c1)]()[_0x3e1ef0(0x1e7)]('(((.+)+)+)+$')[_0x3e1ef0(0x1c1)]()['constructor'](a490_0x2852a9)[_0x3e1ef0(0x1e7)]('(((.+)+)+)+$');});a490_0x2852a9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1bf7b7){const _0x336fee=a490_0x1825;return _0x1bf7b7&&_0x1bf7b7[_0x336fee(0x1e4)]?_0x1bf7b7:{'default':_0x1bf7b7};};Object[a490_0x415f0b(0x1d6)](exports,a490_0x415f0b(0x1e4),{'value':!![]});const sequelize_1=require(a490_0x415f0b(0x1c4)),moment_1=__importDefault(require('moment')),Ticket_1=__importDefault(require(a490_0x415f0b(0x1c2))),Queue_1=__importDefault(require(a490_0x415f0b(0x1cd))),User_1=__importDefault(require(a490_0x415f0b(0x1c5))),sequelize_typescript_1=require(a490_0x415f0b(0x1e1)),TicketsQueueService=async({dateStart:_0x106b52,dateEnd:_0x3f4813,status:_0xe969d8,userId:_0x5d7554,companyId:_0xa4af21,profile:_0x3c32e2})=>{const _0x1a3009=a490_0x415f0b;let _0x545654={};const _0x46cceb=[{'model':User_1[_0x1a3009(0x1d3)],'as':'user','attributes':['id',_0x1a3009(0x1d7),_0x1a3009(0x1c8)]},{'model':Queue_1[_0x1a3009(0x1d3)],'as':_0x1a3009(0x1d0)}];if(_0xe969d8){const _0x1f4ffe=[],_0x349f3f=await Ticket_1[_0x1a3009(0x1d3)][_0x1a3009(0x1db)]({'where':{'status':_0x1a3009(0x1cb)},'group':[_0x1a3009(0x1c3),_0x1a3009(0x1dc),'queueId',_0x1a3009(0x1da)],'attributes':[_0x1a3009(0x1c3),_0x1a3009(0x1dc),_0x1a3009(0x1e3),'whatsappId',[sequelize_typescript_1[_0x1a3009(0x1cc)]['fn'](_0x1a3009(0x1c0),sequelize_typescript_1['Sequelize'][_0x1a3009(0x1e2)]('id')),'id']]});_0x349f3f&&_0x1f4ffe[_0x1a3009(0x1cf)](_0x349f3f[_0x1a3009(0x1df)](_0x3e103c=>_0x3e103c['id']));const _0x59fa7b=_0x1f4ffe['reduce']((_0x58c7e7,_0x3248dc)=>_0x58c7e7[_0x1a3009(0x1e0)](_0xd53552=>_0x3248dc[_0x1a3009(0x1d2)](_0xd53552)));_0x545654={..._0x545654,'id':{[sequelize_1['Op']['in']]:_0x59fa7b}};}_0x3c32e2===_0x1a3009(0x1c9)&&(_0x545654={..._0x545654,'userId':_0x5d7554});_0x106b52&&_0x3f4813&&(_0x545654={..._0x545654,'createdAt':{[sequelize_1['Op'][_0x1a3009(0x1dd)]]:[(0x0,moment_1[_0x1a3009(0x1d3)])(_0x106b52)['startOf'](_0x1a3009(0x1e6))[_0x1a3009(0x1ce)](),(0x0,moment_1['default'])(_0x3f4813)[_0x1a3009(0x1d5)]('day')[_0x1a3009(0x1ce)]()]}});const _0x54436f=await Ticket_1['default'][_0x1a3009(0x1db)]({'where':{..._0x545654,'companyId':_0xa4af21},'include':_0x46cceb,'order':[[_0x1a3009(0x1be),_0x1a3009(0x1ca)]]});return{'data':_0x54436f};};function a490_0x1fea(){const _0x4bf08b=['defineProperty','name','11176746NxbSFA','95wFkDgJ','whatsappId','findAll','contactId','between','1245836SeTpTR','map','filter','sequelize-typescript','col','queueId','__esModule','7762782ZLfLxZ','day','search','apply','updatedAt','140848VvpCoL','max','toString','../../models/Ticket','companyId','sequelize','../../models/User','31631571RXwnKl','3ejhTSc','profile','user','DESC','open','Sequelize','../../models/Queue','toDate','push','queue','10094768uGdHhZ','includes','default','198978ZudiJg','endOf'];a490_0x1fea=function(){return _0x4bf08b;};return a490_0x1fea();}exports['default']=TicketsQueueService;