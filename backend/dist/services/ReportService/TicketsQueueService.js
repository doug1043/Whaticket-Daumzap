const a519_0x4fc731=a519_0x3ea9;(function(_0x16bf0f,_0x26b08e){const _0x263cb7=a519_0x3ea9,_0x2c7004=_0x16bf0f();while(!![]){try{const _0x489c51=parseInt(_0x263cb7(0x165))/0x1*(parseInt(_0x263cb7(0x16e))/0x2)+-parseInt(_0x263cb7(0x17c))/0x3*(parseInt(_0x263cb7(0x156))/0x4)+-parseInt(_0x263cb7(0x172))/0x5+-parseInt(_0x263cb7(0x169))/0x6*(parseInt(_0x263cb7(0x161))/0x7)+-parseInt(_0x263cb7(0x15f))/0x8*(-parseInt(_0x263cb7(0x177))/0x9)+-parseInt(_0x263cb7(0x16f))/0xa+parseInt(_0x263cb7(0x159))/0xb*(parseInt(_0x263cb7(0x16c))/0xc);if(_0x489c51===_0x26b08e)break;else _0x2c7004['push'](_0x2c7004['shift']());}catch(_0x243aae){_0x2c7004['push'](_0x2c7004['shift']());}}}(a519_0x18c0,0xe0bc7));const a519_0x1320b1=(function(){let _0x5104d4=!![];return function(_0x149a53,_0x11f4d1){const _0x47f7fc=_0x5104d4?function(){const _0x4fb121=a519_0x3ea9;if(_0x11f4d1){const _0x116548=_0x11f4d1[_0x4fb121(0x168)](_0x149a53,arguments);return _0x11f4d1=null,_0x116548;}}:function(){};return _0x5104d4=![],_0x47f7fc;};}()),a519_0x3b3a35=a519_0x1320b1(this,function(){const _0x169bd9=a519_0x3ea9;return a519_0x3b3a35[_0x169bd9(0x157)]()[_0x169bd9(0x179)]('(((.+)+)+)+$')[_0x169bd9(0x157)]()['constructor'](a519_0x3b3a35)[_0x169bd9(0x179)]('(((.+)+)+)+$');});function a519_0x18c0(){const _0x352eee=['map','whatsappId','__esModule','161100loVnVA','toString','companyId','33eyXgxQ','../../models/Ticket','day','Sequelize','contactId','startOf','3636008lzcoby','updatedAt','16471tFhzrh','max','../../models/User','moment','3SYBYLo','open','push','apply','984wcZTrW','DESC','queueId','9279192cVnhKZ','col','436902cewCvK','2667470QbozAe','filter','user','5657720jRiqKJ','reduce','default','sequelize-typescript','findAll','9vqTgPP','endOf','search','queue','between','54dfkduE','toDate'];a519_0x18c0=function(){return _0x352eee;};return a519_0x18c0();}a519_0x3b3a35();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x520360){const _0xe4eba0=a519_0x3ea9;return _0x520360&&_0x520360[_0xe4eba0(0x155)]?_0x520360:{'default':_0x520360};};function a519_0x3ea9(_0x58d7a6,_0x1c258a){const _0x175b98=a519_0x18c0();return a519_0x3ea9=function(_0x3b3a35,_0x1320b1){_0x3b3a35=_0x3b3a35-0x152;let _0x18c008=_0x175b98[_0x3b3a35];return _0x18c008;},a519_0x3ea9(_0x58d7a6,_0x1c258a);}Object['defineProperty'](exports,a519_0x4fc731(0x155),{'value':!![]});const sequelize_1=require('sequelize'),moment_1=__importDefault(require(a519_0x4fc731(0x164))),Ticket_1=__importDefault(require(a519_0x4fc731(0x15a))),Queue_1=__importDefault(require('../../models/Queue')),User_1=__importDefault(require(a519_0x4fc731(0x163))),sequelize_typescript_1=require(a519_0x4fc731(0x175)),TicketsQueueService=async({dateStart:_0x5ef065,dateEnd:_0x2b81d2,status:_0x940213,userId:_0x22c79f,companyId:_0x185077,profile:_0x2ce438})=>{const _0x5625aa=a519_0x4fc731;let _0xc3fa8={};const _0x4ac811=[{'model':User_1[_0x5625aa(0x174)],'as':_0x5625aa(0x171),'attributes':['id','name','profile']},{'model':Queue_1['default'],'as':_0x5625aa(0x17a)}];if(_0x940213){const _0x3bf92e=[],_0x21a087=await Ticket_1[_0x5625aa(0x174)][_0x5625aa(0x176)]({'where':{'status':_0x5625aa(0x166)},'group':[_0x5625aa(0x158),_0x5625aa(0x15d),_0x5625aa(0x16b),_0x5625aa(0x154)],'attributes':[_0x5625aa(0x158),_0x5625aa(0x15d),_0x5625aa(0x16b),'whatsappId',[sequelize_typescript_1[_0x5625aa(0x15c)]['fn'](_0x5625aa(0x162),sequelize_typescript_1['Sequelize'][_0x5625aa(0x16d)]('id')),'id']]});_0x21a087&&_0x3bf92e[_0x5625aa(0x167)](_0x21a087[_0x5625aa(0x153)](_0x242048=>_0x242048['id']));const _0x59210c=_0x3bf92e[_0x5625aa(0x173)]((_0x3633ad,_0x23a435)=>_0x3633ad[_0x5625aa(0x170)](_0xe5f4db=>_0x23a435['includes'](_0xe5f4db)));_0xc3fa8={..._0xc3fa8,'id':{[sequelize_1['Op']['in']]:_0x59210c}};}_0x2ce438===_0x5625aa(0x171)&&(_0xc3fa8={..._0xc3fa8,'userId':_0x22c79f});_0x5ef065&&_0x2b81d2&&(_0xc3fa8={..._0xc3fa8,'createdAt':{[sequelize_1['Op'][_0x5625aa(0x17b)]]:[(0x0,moment_1['default'])(_0x5ef065)[_0x5625aa(0x15e)](_0x5625aa(0x15b))[_0x5625aa(0x152)](),(0x0,moment_1[_0x5625aa(0x174)])(_0x2b81d2)[_0x5625aa(0x178)](_0x5625aa(0x15b))[_0x5625aa(0x152)]()]}});const _0x38dacd=await Ticket_1['default'][_0x5625aa(0x176)]({'where':{..._0xc3fa8,'companyId':_0x185077},'include':_0x4ac811,'order':[[_0x5625aa(0x160),_0x5625aa(0x16a)]]});return{'data':_0x38dacd};};exports[a519_0x4fc731(0x174)]=TicketsQueueService;