const a488_0xffaae1=a488_0x1f11;(function(_0x34f8c5,_0x19d6cb){const _0x1f3639=a488_0x1f11,_0x209d2a=_0x34f8c5();while(!![]){try{const _0x16031b=parseInt(_0x1f3639(0x118))/0x1+-parseInt(_0x1f3639(0x113))/0x2*(parseInt(_0x1f3639(0x125))/0x3)+-parseInt(_0x1f3639(0x10e))/0x4+-parseInt(_0x1f3639(0x10a))/0x5*(-parseInt(_0x1f3639(0x122))/0x6)+-parseInt(_0x1f3639(0x10f))/0x7*(-parseInt(_0x1f3639(0x112))/0x8)+-parseInt(_0x1f3639(0x109))/0x9*(parseInt(_0x1f3639(0x123))/0xa)+-parseInt(_0x1f3639(0x108))/0xb*(-parseInt(_0x1f3639(0x11f))/0xc);if(_0x16031b===_0x19d6cb)break;else _0x209d2a['push'](_0x209d2a['shift']());}catch(_0x1908c6){_0x209d2a['push'](_0x209d2a['shift']());}}}(a488_0x94cf,0x281f4));const a488_0x7a02e7=(function(){let _0x1304b7=!![];return function(_0x263c3a,_0x54ea2a){const _0x4ef99d=_0x1304b7?function(){if(_0x54ea2a){const _0x5638c6=_0x54ea2a['apply'](_0x263c3a,arguments);return _0x54ea2a=null,_0x5638c6;}}:function(){};return _0x1304b7=![],_0x4ef99d;};}()),a488_0x4d7b04=a488_0x7a02e7(this,function(){const _0x4893a8=a488_0x1f11;return a488_0x4d7b04[_0x4893a8(0x120)]()[_0x4893a8(0x124)](_0x4893a8(0x11d))[_0x4893a8(0x120)]()[_0x4893a8(0x111)](a488_0x4d7b04)[_0x4893a8(0x124)]('(((.+)+)+)+$');});a488_0x4d7b04();'use strict';function a488_0x94cf(){const _0x415718=['findAll','510376ttxWpJ','385jvvdMZ','__importDefault','constructor','20944WrsvVH','2RvsbTL','name','userId','\x2023:59:59','defineProperty','138265sWSOQA','COUNT','default','col','../../models/User','(((.+)+)+)+$','quantidade','3180wScpgp','toString','__esModule','2334uGRbcj','46490cNTdek','search','474261KpgVwL','Sequelize','lte','2827TKpqRZ','405Wrejjf','3970jqDdKS','dataValues','map'];a488_0x94cf=function(){return _0x415718;};return a488_0x94cf();}var __importDefault=this&&this[a488_0xffaae1(0x110)]||function(_0xdd0c64){const _0x3ade3a=a488_0xffaae1;return _0xdd0c64&&_0xdd0c64[_0x3ade3a(0x121)]?_0xdd0c64:{'default':_0xdd0c64};};function a488_0x1f11(_0x40586f,_0x4f8fe5){const _0x128f0f=a488_0x94cf();return a488_0x1f11=function(_0x4d7b04,_0x7a02e7){_0x4d7b04=_0x4d7b04-0x108;let _0x94cf27=_0x128f0f[_0x4d7b04];return _0x94cf27;},a488_0x1f11(_0x40586f,_0x4f8fe5);}Object[a488_0xffaae1(0x117)](exports,a488_0xffaae1(0x121),{'value':!![]});const sequelize_1=require('sequelize'),User_1=__importDefault(require(a488_0xffaae1(0x11c))),TicketTraking_1=__importDefault(require('../../models/TicketTraking')),TicketsAttendanceService=async({companyId:_0x2c206c,dateStart:_0x29ba26,dateEnd:_0x48fce5})=>{const _0x20a9b9=a488_0xffaae1,_0x1933d3=await User_1[_0x20a9b9(0x11a)][_0x20a9b9(0x10d)]({'attributes':['id',_0x20a9b9(0x114)],'where':{'companyId':_0x2c206c}}),_0x4c5f42=(await TicketTraking_1[_0x20a9b9(0x11a)][_0x20a9b9(0x10d)]({'attributes':[_0x20a9b9(0x115),[sequelize_1['Sequelize']['fn'](_0x20a9b9(0x119),sequelize_1[_0x20a9b9(0x126)][_0x20a9b9(0x11b)]('userId')),_0x20a9b9(0x11e)]],'where':{'companyId':_0x2c206c,'createdAt':{[sequelize_1['Op']['gte']]:_0x29ba26+'\x2000:00:00',[sequelize_1['Op'][_0x20a9b9(0x127)]]:_0x48fce5+_0x20a9b9(0x116)},'ticketId':{[sequelize_1['Op']['ne']]:null}},'group':[_0x20a9b9(0x115)]}))[_0x20a9b9(0x10c)](_0x162108=>{const _0x318eed=_0x20a9b9;return _0x162108[_0x318eed(0x10b)];}),_0x83d09b=_0x1933d3[_0x20a9b9(0x10c)](_0x19b9b2=>{const _0x21dcef=_0x20a9b9,_0x3b34e7=_0x4c5f42['find'](_0x5d6518=>_0x5d6518['userId']===_0x19b9b2['id']);return{'name':_0x19b9b2[_0x21dcef(0x114)],'quantity':_0x3b34e7?.[_0x21dcef(0x11e)]||0x0};});return{'data':_0x83d09b};};exports[a488_0xffaae1(0x11a)]=TicketsAttendanceService;