const a479_0x4ffac0=a479_0x82d5;function a479_0x82d5(_0x5b91a7,_0x1567d9){const _0xb2920=a479_0x1638();return a479_0x82d5=function(_0x13c965,_0x1ff800){_0x13c965=_0x13c965-0x64;let _0x1638c2=_0xb2920[_0x13c965];return _0x1638c2;},a479_0x82d5(_0x5b91a7,_0x1567d9);}(function(_0xd2f139,_0x506f65){const _0x1676fa=a479_0x82d5,_0x45ec62=_0xd2f139();while(!![]){try{const _0x4216cc=parseInt(_0x1676fa(0x75))/0x1+-parseInt(_0x1676fa(0x6a))/0x2+-parseInt(_0x1676fa(0x6e))/0x3+parseInt(_0x1676fa(0x67))/0x4+-parseInt(_0x1676fa(0x81))/0x5*(parseInt(_0x1676fa(0x76))/0x6)+-parseInt(_0x1676fa(0x6b))/0x7*(-parseInt(_0x1676fa(0x7f))/0x8)+-parseInt(_0x1676fa(0x77))/0x9*(-parseInt(_0x1676fa(0x80))/0xa);if(_0x4216cc===_0x506f65)break;else _0x45ec62['push'](_0x45ec62['shift']());}catch(_0x4088d9){_0x45ec62['push'](_0x45ec62['shift']());}}}(a479_0x1638,0x429df));function a479_0x1638(){const _0x559765=['search','company','constructor','dueDate','apply','tokenVersion','96248ZXZXzS','5917310wDzIEu','14350lyrgEp','defineProperty','../../config/auth','(((.+)+)+)+$','toString','../UserServices/ShowUserService','SerializeUser','398208bhZxga','__esModule','ERR_SESSION_EXPIRED','692058lXWrqw','49QTmQCt','jrt','verify','248166zgGApZ','clearCookie','../../helpers/SerializeUser','RefreshTokenService','default','../../errors/AppError','createAccessToken','172934PJarwo','516FjkesC','9lQszWk','refreshSecret'];a479_0x1638=function(){return _0x559765;};return a479_0x1638();}const a479_0x1ff800=(function(){let _0x2483cf=!![];return function(_0x3ffb28,_0x241967){const _0x39ecee=_0x2483cf?function(){const _0x626951=a479_0x82d5;if(_0x241967){const _0x55e8a6=_0x241967[_0x626951(0x7d)](_0x3ffb28,arguments);return _0x241967=null,_0x55e8a6;}}:function(){};return _0x2483cf=![],_0x39ecee;};}()),a479_0x13c965=a479_0x1ff800(this,function(){const _0x1c5d9c=a479_0x82d5;return a479_0x13c965[_0x1c5d9c(0x64)]()[_0x1c5d9c(0x79)](_0x1c5d9c(0x84))[_0x1c5d9c(0x64)]()[_0x1c5d9c(0x7b)](a479_0x13c965)[_0x1c5d9c(0x79)](_0x1c5d9c(0x84));});a479_0x13c965();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4281da){const _0x2d8161=a479_0x82d5;return _0x4281da&&_0x4281da[_0x2d8161(0x68)]?_0x4281da:{'default':_0x4281da};};Object[a479_0x4ffac0(0x82)](exports,a479_0x4ffac0(0x68),{'value':!![]}),exports[a479_0x4ffac0(0x71)]=void 0x0;const jsonwebtoken_1=require('jsonwebtoken'),AppError_1=__importDefault(require(a479_0x4ffac0(0x73))),ShowUserService_1=__importDefault(require(a479_0x4ffac0(0x65))),auth_1=__importDefault(require(a479_0x4ffac0(0x83))),CreateTokens_1=require('../../helpers/CreateTokens'),SerializeUser_1=require(a479_0x4ffac0(0x70)),RefreshTokenService=async(_0x4598f1,_0x583f84)=>{const _0x8a33bc=a479_0x4ffac0;try{const _0x58c84c=(0x0,jsonwebtoken_1[_0x8a33bc(0x6d)])(_0x583f84,auth_1['default'][_0x8a33bc(0x78)]),{id:_0x30f2e9,tokenVersion:_0x54ee92}=_0x58c84c,_0x1de4ff=await(0x0,ShowUserService_1[_0x8a33bc(0x72)])(_0x30f2e9);if(_0x1de4ff[_0x8a33bc(0x7e)]!==_0x54ee92){_0x4598f1[_0x8a33bc(0x6f)](_0x8a33bc(0x6c));throw new AppError_1['default'](_0x8a33bc(0x69),0x191);}const _0x46922c=new Date(_0x1de4ff[_0x8a33bc(0x7a)][_0x8a33bc(0x7c)]);if(new Date()>_0x46922c)throw new AppError_1['default']('ERR_SUBSCRIPTION_EXPIRED',0x191);const _0x48ba9b=(0x0,CreateTokens_1[_0x8a33bc(0x74)])(_0x1de4ff),_0x45c820=(0x0,CreateTokens_1['createRefreshToken'])(_0x1de4ff),_0x312b33=await(0x0,SerializeUser_1[_0x8a33bc(0x66)])(_0x1de4ff);return{'user':_0x312b33,'newToken':_0x48ba9b,'refreshToken':_0x45c820};}catch(_0x823988){_0x4598f1[_0x8a33bc(0x6f)](_0x8a33bc(0x6c));throw new AppError_1['default'](_0x8a33bc(0x69),0x191);}};exports[a479_0x4ffac0(0x71)]=RefreshTokenService;