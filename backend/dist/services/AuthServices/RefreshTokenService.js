function a479_0x26b6(){const _0x274a9d=['../../helpers/SerializeUser','verify','3771620IQSnqi','6uOiXLl','16454duPhGG','createRefreshToken','ERR_SESSION_EXPIRED','company','refreshSecret','apply','328876pyzknR','10706201XJZnzB','SerializeUser','../../errors/AppError','../UserServices/ShowUserService','default','4HFVtSp','2987558arqxde','dueDate','clearCookie','../../helpers/CreateTokens','6pfmULZ','9sSHQwu','defineProperty','2533795lNgUgS','3363056whEyMw','RefreshTokenService','tokenVersion','jrt','(((.+)+)+)+$','__importDefault','jsonwebtoken','search'];a479_0x26b6=function(){return _0x274a9d;};return a479_0x26b6();}const a479_0xc26b7=a479_0x33ea;(function(_0x546d9e,_0x5852e1){const _0x538f7a=a479_0x33ea,_0x23d14b=_0x546d9e();while(!![]){try{const _0x2db1ea=parseInt(_0x538f7a(0x12b))/0x1+parseInt(_0x538f7a(0x131))/0x2*(parseInt(_0x538f7a(0x11b))/0x3)+parseInt(_0x538f7a(0x137))/0x4*(parseInt(_0x538f7a(0x11e))/0x5)+parseInt(_0x538f7a(0x12a))/0x6*(parseInt(_0x538f7a(0x138))/0x7)+-parseInt(_0x538f7a(0x11f))/0x8+parseInt(_0x538f7a(0x11c))/0x9*(parseInt(_0x538f7a(0x129))/0xa)+-parseInt(_0x538f7a(0x132))/0xb;if(_0x2db1ea===_0x5852e1)break;else _0x23d14b['push'](_0x23d14b['shift']());}catch(_0x28c54d){_0x23d14b['push'](_0x23d14b['shift']());}}}(a479_0x26b6,0x400e4));const a479_0x12e4f5=(function(){let _0x386011=!![];return function(_0x45d7fc,_0x374d6a){const _0x23fbfc=_0x386011?function(){const _0x180b98=a479_0x33ea;if(_0x374d6a){const _0x2273e6=_0x374d6a[_0x180b98(0x130)](_0x45d7fc,arguments);return _0x374d6a=null,_0x2273e6;}}:function(){};return _0x386011=![],_0x23fbfc;};}()),a479_0x120c1b=a479_0x12e4f5(this,function(){const _0x7ee145=a479_0x33ea;return a479_0x120c1b['toString']()[_0x7ee145(0x126)](_0x7ee145(0x123))['toString']()['constructor'](a479_0x120c1b)[_0x7ee145(0x126)](_0x7ee145(0x123));});a479_0x120c1b();'use strict';var __importDefault=this&&this[a479_0xc26b7(0x124)]||function(_0x3de173){return _0x3de173&&_0x3de173['__esModule']?_0x3de173:{'default':_0x3de173};};Object[a479_0xc26b7(0x11d)](exports,'__esModule',{'value':!![]}),exports['RefreshTokenService']=void 0x0;function a479_0x33ea(_0x3fc0a5,_0x1f9539){const _0x36d845=a479_0x26b6();return a479_0x33ea=function(_0x120c1b,_0x12e4f5){_0x120c1b=_0x120c1b-0x11b;let _0x26b642=_0x36d845[_0x120c1b];return _0x26b642;},a479_0x33ea(_0x3fc0a5,_0x1f9539);}const jsonwebtoken_1=require(a479_0xc26b7(0x125)),AppError_1=__importDefault(require(a479_0xc26b7(0x134))),ShowUserService_1=__importDefault(require(a479_0xc26b7(0x135))),auth_1=__importDefault(require('../../config/auth')),CreateTokens_1=require(a479_0xc26b7(0x13b)),SerializeUser_1=require(a479_0xc26b7(0x127)),RefreshTokenService=async(_0x30e9a9,_0x3d18fd)=>{const _0xf6a36d=a479_0xc26b7;try{const _0x2b13be=(0x0,jsonwebtoken_1[_0xf6a36d(0x128)])(_0x3d18fd,auth_1['default'][_0xf6a36d(0x12f)]),{id:_0x598167,tokenVersion:_0x52685a}=_0x2b13be,_0x44e3d4=await(0x0,ShowUserService_1[_0xf6a36d(0x136)])(_0x598167);if(_0x44e3d4[_0xf6a36d(0x121)]!==_0x52685a){_0x30e9a9[_0xf6a36d(0x13a)](_0xf6a36d(0x122));throw new AppError_1[(_0xf6a36d(0x136))](_0xf6a36d(0x12d),0x191);}const _0x175ad7=new Date(_0x44e3d4[_0xf6a36d(0x12e)][_0xf6a36d(0x139)]);if(new Date()>_0x175ad7)throw new AppError_1[(_0xf6a36d(0x136))]('ERR_SUBSCRIPTION_EXPIRED',0x191);const _0x4bdfcb=(0x0,CreateTokens_1['createAccessToken'])(_0x44e3d4),_0x88bbd7=(0x0,CreateTokens_1[_0xf6a36d(0x12c)])(_0x44e3d4),_0x33a922=await(0x0,SerializeUser_1[_0xf6a36d(0x133)])(_0x44e3d4);return{'user':_0x33a922,'newToken':_0x4bdfcb,'refreshToken':_0x88bbd7};}catch(_0x49b9ec){_0x30e9a9['clearCookie'](_0xf6a36d(0x122));throw new AppError_1[(_0xf6a36d(0x136))](_0xf6a36d(0x12d),0x191);}};exports[a479_0xc26b7(0x120)]=RefreshTokenService;