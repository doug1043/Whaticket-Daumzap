const a359_0x5f595d=a359_0x2b3a;function a359_0x347d(){const _0x2ed7b4=['549828GePIaR','__esModule','jrt','default','5716044tayKey','3951348sQwygQ','45acMtBq','clearCookie','apply','466742VDtlTJ','../../helpers/CreateTokens','refreshSecret','2914918rjTQuu','(((.+)+)+)+$','jsonwebtoken','constructor','verify','3792621rLYbVd','toString','RefreshTokenService','79047LHEWtB','__importDefault','../../config/auth','../../errors/AppError','1448koreWT'];a359_0x347d=function(){return _0x2ed7b4;};return a359_0x347d();}(function(_0x7eb1ff,_0x2882b0){const _0x5a0c9a=a359_0x2b3a,_0x16b878=_0x7eb1ff();while(!![]){try{const _0x23816f=parseInt(_0x5a0c9a(0x84))/0x1+parseInt(_0x5a0c9a(0x87))/0x2+parseInt(_0x5a0c9a(0x99))/0x3+-parseInt(_0x5a0c9a(0x94))/0x4*(parseInt(_0x5a0c9a(0x81))/0x5)+parseInt(_0x5a0c9a(0x98))/0x6+-parseInt(_0x5a0c9a(0x8c))/0x7+parseInt(_0x5a0c9a(0x93))/0x8*(-parseInt(_0x5a0c9a(0x8f))/0x9);if(_0x23816f===_0x2882b0)break;else _0x16b878['push'](_0x16b878['shift']());}catch(_0x52fd8c){_0x16b878['push'](_0x16b878['shift']());}}}(a359_0x347d,0xc9808));const a359_0x457ec3=(function(){let _0x551112=!![];return function(_0x28a9c5,_0x582018){const _0x100dbd=_0x551112?function(){const _0x15efb8=a359_0x2b3a;if(_0x582018){const _0xecf590=_0x582018[_0x15efb8(0x83)](_0x28a9c5,arguments);return _0x582018=null,_0xecf590;}}:function(){};return _0x551112=![],_0x100dbd;};}()),a359_0x58d5a9=a359_0x457ec3(this,function(){const _0x5cad7f=a359_0x2b3a;return a359_0x58d5a9[_0x5cad7f(0x8d)]()['search'](_0x5cad7f(0x88))[_0x5cad7f(0x8d)]()[_0x5cad7f(0x8a)](a359_0x58d5a9)['search'](_0x5cad7f(0x88));});a359_0x58d5a9();function a359_0x2b3a(_0x3c81b3,_0x6f8e0e){const _0x4281c8=a359_0x347d();return a359_0x2b3a=function(_0x58d5a9,_0x457ec3){_0x58d5a9=_0x58d5a9-0x81;let _0x347dbb=_0x4281c8[_0x58d5a9];return _0x347dbb;},a359_0x2b3a(_0x3c81b3,_0x6f8e0e);}'use strict';var __importDefault=this&&this[a359_0x5f595d(0x90)]||function(_0x17aff9){return _0x17aff9&&_0x17aff9['__esModule']?_0x17aff9:{'default':_0x17aff9};};Object['defineProperty'](exports,a359_0x5f595d(0x95),{'value':!![]}),exports[a359_0x5f595d(0x8e)]=void 0x0;const jsonwebtoken_1=require(a359_0x5f595d(0x89)),AppError_1=__importDefault(require(a359_0x5f595d(0x92))),ShowUserService_1=__importDefault(require('../UserServices/ShowUserService')),auth_1=__importDefault(require(a359_0x5f595d(0x91))),CreateTokens_1=require(a359_0x5f595d(0x85)),RefreshTokenService=async(_0x102ab0,_0x5cbe12)=>{const _0x2a7b73=a359_0x5f595d;try{const _0x3567f7=(0x0,jsonwebtoken_1[_0x2a7b73(0x8b)])(_0x5cbe12,auth_1[_0x2a7b73(0x97)][_0x2a7b73(0x86)]),{id:_0x5496d1,tokenVersion:_0x263784,companyId:_0x2e6227}=_0x3567f7,_0x5db18=await(0x0,ShowUserService_1[_0x2a7b73(0x97)])(_0x5496d1),_0x30d4f0=(0x0,CreateTokens_1['createAccessToken'])(_0x5db18),_0x1f8ad1=(0x0,CreateTokens_1['createRefreshToken'])(_0x5db18);return{'user':_0x5db18,'newToken':_0x30d4f0,'refreshToken':_0x1f8ad1};}catch(_0x485e90){console['log'](_0x485e90),_0x102ab0[_0x2a7b73(0x82)](_0x2a7b73(0x96));throw new AppError_1[(_0x2a7b73(0x97))]('ERR_SESSION_EXPIRED',0x191);}};exports[a359_0x5f595d(0x8e)]=RefreshTokenService;