const a397_0x152a73=a397_0x3d5a;(function(_0x1b11e3,_0x51ac7a){const _0x5d0199=a397_0x3d5a,_0x58f682=_0x1b11e3();while(!![]){try{const _0x2932d6=parseInt(_0x5d0199(0x1ef))/0x1+parseInt(_0x5d0199(0x1e7))/0x2*(parseInt(_0x5d0199(0x1de))/0x3)+-parseInt(_0x5d0199(0x1d9))/0x4*(parseInt(_0x5d0199(0x1dc))/0x5)+parseInt(_0x5d0199(0x1f9))/0x6*(parseInt(_0x5d0199(0x1f4))/0x7)+parseInt(_0x5d0199(0x1ea))/0x8*(-parseInt(_0x5d0199(0x1f8))/0x9)+parseInt(_0x5d0199(0x1f6))/0xa+parseInt(_0x5d0199(0x1e0))/0xb;if(_0x2932d6===_0x51ac7a)break;else _0x58f682['push'](_0x58f682['shift']());}catch(_0x2b4975){_0x58f682['push'](_0x58f682['shift']());}}}(a397_0xddab,0xe9644));const a397_0x27177e=(function(){let _0x2699a5=!![];return function(_0x112566,_0x1a9c85){const _0xedb164=_0x2699a5?function(){if(_0x1a9c85){const _0x1bcbb7=_0x1a9c85['apply'](_0x112566,arguments);return _0x1a9c85=null,_0x1bcbb7;}}:function(){};return _0x2699a5=![],_0xedb164;};}()),a397_0x2e931b=a397_0x27177e(this,function(){const _0x1b381c=a397_0x3d5a;return a397_0x2e931b[_0x1b381c(0x1e3)]()[_0x1b381c(0x1da)](_0x1b381c(0x1e4))[_0x1b381c(0x1e3)]()[_0x1b381c(0x1f1)](a397_0x2e931b)[_0x1b381c(0x1da)](_0x1b381c(0x1e4));});a397_0x2e931b();'use strict';var __importDefault=this&&this[a397_0x152a73(0x1e6)]||function(_0x1efea6){const _0x4a07dc=a397_0x152a73;return _0x1efea6&&_0x1efea6[_0x4a07dc(0x1f0)]?_0x1efea6:{'default':_0x1efea6};};Object[a397_0x152a73(0x1e2)](exports,a397_0x152a73(0x1f0),{'value':!![]}),exports[a397_0x152a73(0x1ec)]=void 0x0;const jsonwebtoken_1=require(a397_0x152a73(0x1f7)),AppError_1=__importDefault(require(a397_0x152a73(0x1f5))),ShowUserService_1=__importDefault(require(a397_0x152a73(0x1ed))),auth_1=__importDefault(require(a397_0x152a73(0x1e8))),CreateTokens_1=require('../../helpers/CreateTokens'),RefreshTokenService=async(_0x474261,_0xa4080)=>{const _0x20fd8a=a397_0x152a73;try{const _0x3e33e9=(0x0,jsonwebtoken_1[_0x20fd8a(0x1dd)])(_0xa4080,auth_1['default'][_0x20fd8a(0x1e9)]),{id:_0x46f717,tokenVersion:_0x22e61c}=_0x3e33e9,_0x44e508=await(0x0,ShowUserService_1[_0x20fd8a(0x1e1)])(_0x46f717);if(_0x44e508[_0x20fd8a(0x1f2)]!==_0x22e61c){_0x474261[_0x20fd8a(0x1eb)](_0x20fd8a(0x1e5));throw new AppError_1['default'](_0x20fd8a(0x1ee),0x191);}const _0x36af2d=new Date(_0x44e508[_0x20fd8a(0x1db)][_0x20fd8a(0x1d7)]);if(new Date()>_0x36af2d)throw new AppError_1['default'](_0x20fd8a(0x1f3),0x191);const _0xae2d06=(0x0,CreateTokens_1[_0x20fd8a(0x1d8)])(_0x44e508),_0x22e351=(0x0,CreateTokens_1[_0x20fd8a(0x1df)])(_0x44e508);return{'user':_0x44e508,'newToken':_0xae2d06,'refreshToken':_0x22e351};}catch(_0x4e72a2){_0x474261[_0x20fd8a(0x1eb)](_0x20fd8a(0x1e5));throw new AppError_1[(_0x20fd8a(0x1e1))](_0x20fd8a(0x1ee),0x191);}};function a397_0x3d5a(_0xda901a,_0x215e96){const _0x55d45c=a397_0xddab();return a397_0x3d5a=function(_0x2e931b,_0x27177e){_0x2e931b=_0x2e931b-0x1d7;let _0xddab4a=_0x55d45c[_0x2e931b];return _0xddab4a;},a397_0x3d5a(_0xda901a,_0x215e96);}function a397_0xddab(){const _0x492541=['__esModule','constructor','tokenVersion','ERR_SUBSCRIPTION_EXPIRED','91AYRDln','../../errors/AppError','2292430tULRJd','jsonwebtoken','27lrLWlI','629484QkHMbr','dueDate','createAccessToken','1124cheZrJ','search','company','13745JiqiCQ','verify','3YVwquT','createRefreshToken','2170080QNRxqE','default','defineProperty','toString','(((.+)+)+)+$','jrt','__importDefault','1604074UXVemN','../../config/auth','refreshSecret','4860208WKWTZX','clearCookie','RefreshTokenService','../UserServices/ShowUserService','ERR_SESSION_EXPIRED','958577CXjyVt'];a397_0xddab=function(){return _0x492541;};return a397_0xddab();}exports['RefreshTokenService']=RefreshTokenService;