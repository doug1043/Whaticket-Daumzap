function a393_0x3266(){const _0x10411b=['645350UYKOJJ','search','7LwOiTV','1466493NEZHSV','RefreshTokenService','51tWZIjO','(((.+)+)+)+$','jrt','7631541QudVOZ','refreshSecret','../../config/auth','dueDate','__esModule','../../errors/AppError','company','18112VdptnK','verify','__importDefault','clearCookie','ERR_SESSION_EXPIRED','239340CHCPgg','toString','default','createAccessToken','createRefreshToken','ERR_SUBSCRIPTION_EXPIRED','5560384JuQBwn','96216MqZljZ','55kxUFjD','143AptYGQ','jsonwebtoken','../../helpers/CreateTokens','defineProperty'];a393_0x3266=function(){return _0x10411b;};return a393_0x3266();}const a393_0xd7f5e3=a393_0x5330;(function(_0x1412b1,_0x2eda71){const _0x14680a=a393_0x5330,_0x34bfa6=_0x1412b1();while(!![]){try{const _0x3d47d2=parseInt(_0x14680a(0x1df))/0x1*(-parseInt(_0x14680a(0x1e9))/0x2)+parseInt(_0x14680a(0x1dd))/0x3+-parseInt(_0x14680a(0x1ee))/0x4+-parseInt(_0x14680a(0x1f6))/0x5*(parseInt(_0x14680a(0x1f5))/0x6)+parseInt(_0x14680a(0x1dc))/0x7*(parseInt(_0x14680a(0x1f4))/0x8)+parseInt(_0x14680a(0x1e2))/0x9+-parseInt(_0x14680a(0x1da))/0xa*(parseInt(_0x14680a(0x1d6))/0xb);if(_0x3d47d2===_0x2eda71)break;else _0x34bfa6['push'](_0x34bfa6['shift']());}catch(_0x141282){_0x34bfa6['push'](_0x34bfa6['shift']());}}}(a393_0x3266,0x78cc2));const a393_0x2e5795=(function(){let _0x4b372a=!![];return function(_0x3b348b,_0x1ae764){const _0x29ccb7=_0x4b372a?function(){if(_0x1ae764){const _0x17f9d5=_0x1ae764['apply'](_0x3b348b,arguments);return _0x1ae764=null,_0x17f9d5;}}:function(){};return _0x4b372a=![],_0x29ccb7;};}()),a393_0x2d9f2a=a393_0x2e5795(this,function(){const _0x5ca390=a393_0x5330;return a393_0x2d9f2a[_0x5ca390(0x1ef)]()[_0x5ca390(0x1db)](_0x5ca390(0x1e0))[_0x5ca390(0x1ef)]()['constructor'](a393_0x2d9f2a)[_0x5ca390(0x1db)]('(((.+)+)+)+$');});a393_0x2d9f2a();function a393_0x5330(_0x5e7f8f,_0x5e53d0){const _0x5018dd=a393_0x3266();return a393_0x5330=function(_0x2d9f2a,_0x2e5795){_0x2d9f2a=_0x2d9f2a-0x1d6;let _0x32662f=_0x5018dd[_0x2d9f2a];return _0x32662f;},a393_0x5330(_0x5e7f8f,_0x5e53d0);}'use strict';var __importDefault=this&&this[a393_0xd7f5e3(0x1eb)]||function(_0x179911){return _0x179911&&_0x179911['__esModule']?_0x179911:{'default':_0x179911};};Object[a393_0xd7f5e3(0x1d9)](exports,a393_0xd7f5e3(0x1e6),{'value':!![]}),exports[a393_0xd7f5e3(0x1de)]=void 0x0;const jsonwebtoken_1=require(a393_0xd7f5e3(0x1d7)),AppError_1=__importDefault(require(a393_0xd7f5e3(0x1e7))),ShowUserService_1=__importDefault(require('../UserServices/ShowUserService')),auth_1=__importDefault(require(a393_0xd7f5e3(0x1e4))),CreateTokens_1=require(a393_0xd7f5e3(0x1d8)),RefreshTokenService=async(_0x4ea6ca,_0xa8c516)=>{const _0x3ea996=a393_0xd7f5e3;try{const _0x96128a=(0x0,jsonwebtoken_1[_0x3ea996(0x1ea)])(_0xa8c516,auth_1['default'][_0x3ea996(0x1e3)]),{id:_0x40fa7b,tokenVersion:_0x40b61c}=_0x96128a,_0x6b06ec=await(0x0,ShowUserService_1[_0x3ea996(0x1f0)])(_0x40fa7b);if(_0x6b06ec['tokenVersion']!==_0x40b61c){_0x4ea6ca[_0x3ea996(0x1ec)](_0x3ea996(0x1e1));throw new AppError_1['default'](_0x3ea996(0x1ed),0x191);}const _0x16666b=new Date(_0x6b06ec[_0x3ea996(0x1e8)][_0x3ea996(0x1e5)]);if(new Date()>_0x16666b)throw new AppError_1[(_0x3ea996(0x1f0))](_0x3ea996(0x1f3),0x191);const _0x1bda6b=(0x0,CreateTokens_1[_0x3ea996(0x1f1)])(_0x6b06ec),_0x3c8d04=(0x0,CreateTokens_1[_0x3ea996(0x1f2)])(_0x6b06ec);return{'user':_0x6b06ec,'newToken':_0x1bda6b,'refreshToken':_0x3c8d04};}catch(_0x342f1d){_0x4ea6ca['clearCookie'](_0x3ea996(0x1e1));throw new AppError_1[(_0x3ea996(0x1f0))](_0x3ea996(0x1ed),0x191);}};exports[a393_0xd7f5e3(0x1de)]=RefreshTokenService;