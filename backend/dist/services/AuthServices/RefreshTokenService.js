const a394_0x51cdeb=a394_0x3cfd;(function(_0x5aea82,_0x317425){const _0x306d30=a394_0x3cfd,_0x419856=_0x5aea82();while(!![]){try{const _0x5d12aa=-parseInt(_0x306d30(0x1ea))/0x1+-parseInt(_0x306d30(0x1d3))/0x2*(-parseInt(_0x306d30(0x1da))/0x3)+parseInt(_0x306d30(0x1ce))/0x4*(parseInt(_0x306d30(0x1e4))/0x5)+parseInt(_0x306d30(0x1d9))/0x6*(-parseInt(_0x306d30(0x1d0))/0x7)+-parseInt(_0x306d30(0x1e9))/0x8+-parseInt(_0x306d30(0x1e3))/0x9*(parseInt(_0x306d30(0x1cc))/0xa)+parseInt(_0x306d30(0x1e8))/0xb;if(_0x5d12aa===_0x317425)break;else _0x419856['push'](_0x419856['shift']());}catch(_0x513efb){_0x419856['push'](_0x419856['shift']());}}}(a394_0x3257,0x60c28));const a394_0x26e1b7=(function(){let _0x1143a7=!![];return function(_0x1e1f96,_0x5be01b){const _0x409951=_0x1143a7?function(){const _0x42bf12=a394_0x3cfd;if(_0x5be01b){const _0xfb7358=_0x5be01b[_0x42bf12(0x1d8)](_0x1e1f96,arguments);return _0x5be01b=null,_0xfb7358;}}:function(){};return _0x1143a7=![],_0x409951;};}()),a394_0xb7a6ec=a394_0x26e1b7(this,function(){const _0x57bee4=a394_0x3cfd;return a394_0xb7a6ec[_0x57bee4(0x1e1)]()[_0x57bee4(0x1d6)]('(((.+)+)+)+$')[_0x57bee4(0x1e1)]()['constructor'](a394_0xb7a6ec)[_0x57bee4(0x1d6)](_0x57bee4(0x1e6));});a394_0xb7a6ec();'use strict';var __importDefault=this&&this[a394_0x51cdeb(0x1d1)]||function(_0x59b74d){return _0x59b74d&&_0x59b74d['__esModule']?_0x59b74d:{'default':_0x59b74d};};Object[a394_0x51cdeb(0x1cd)](exports,a394_0x51cdeb(0x1e0),{'value':!![]}),exports[a394_0x51cdeb(0x1eb)]=void 0x0;const jsonwebtoken_1=require(a394_0x51cdeb(0x1db)),AppError_1=__importDefault(require(a394_0x51cdeb(0x1d2))),ShowUserService_1=__importDefault(require(a394_0x51cdeb(0x1cf))),auth_1=__importDefault(require(a394_0x51cdeb(0x1df))),CreateTokens_1=require('../../helpers/CreateTokens'),RefreshTokenService=async(_0x2fb8b2,_0x2dff26)=>{const _0x24f291=a394_0x51cdeb;try{const _0x186a53=(0x0,jsonwebtoken_1['verify'])(_0x2dff26,auth_1[_0x24f291(0x1e7)][_0x24f291(0x1d5)]),{id:_0x534ac8,tokenVersion:_0x1e3781}=_0x186a53,_0x59d5e1=await(0x0,ShowUserService_1['default'])(_0x534ac8);if(_0x59d5e1['tokenVersion']!==_0x1e3781){_0x2fb8b2['clearCookie']('jrt');throw new AppError_1[(_0x24f291(0x1e7))]('ERR_SESSION_EXPIRED',0x191);}const _0x23a467=new Date(_0x59d5e1[_0x24f291(0x1de)][_0x24f291(0x1dd)]);if(new Date()>_0x23a467)throw new AppError_1[(_0x24f291(0x1e7))](_0x24f291(0x1dc),0x191);const _0x5333ed=(0x0,CreateTokens_1['createAccessToken'])(_0x59d5e1),_0x1a978b=(0x0,CreateTokens_1[_0x24f291(0x1e2)])(_0x59d5e1);return{'user':_0x59d5e1,'newToken':_0x5333ed,'refreshToken':_0x1a978b};}catch(_0x2c2595){_0x2fb8b2[_0x24f291(0x1d4)](_0x24f291(0x1d7));throw new AppError_1[(_0x24f291(0x1e7))](_0x24f291(0x1e5),0x191);}};function a394_0x3257(){const _0x3d0eb2=['default','13395250dsenWv','2338472hUFHJT','13072QPRTLv','RefreshTokenService','10qaFDfR','defineProperty','44124QySDPH','../UserServices/ShowUserService','62531HaSlFL','__importDefault','../../errors/AppError','7416wpyQEX','clearCookie','refreshSecret','search','jrt','apply','522sSSmBo','51DcutpO','jsonwebtoken','ERR_SUBSCRIPTION_EXPIRED','dueDate','company','../../config/auth','__esModule','toString','createRefreshToken','699129BFecOK','125WGKjMq','ERR_SESSION_EXPIRED','(((.+)+)+)+$'];a394_0x3257=function(){return _0x3d0eb2;};return a394_0x3257();}function a394_0x3cfd(_0x38a676,_0x5d0e1a){const _0xabd2c6=a394_0x3257();return a394_0x3cfd=function(_0xb7a6ec,_0x26e1b7){_0xb7a6ec=_0xb7a6ec-0x1cc;let _0x3257ea=_0xabd2c6[_0xb7a6ec];return _0x3257ea;},a394_0x3cfd(_0x38a676,_0x5d0e1a);}exports[a394_0x51cdeb(0x1eb)]=RefreshTokenService;