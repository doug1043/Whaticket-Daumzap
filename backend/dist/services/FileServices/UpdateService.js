const a430_0x5b38a8=a430_0x21de;(function(_0x431697,_0x1569fe){const _0x5df909=a430_0x21de,_0x5db9cb=_0x431697();while(!![]){try{const _0x511552=parseInt(_0x5df909(0x155))/0x1*(-parseInt(_0x5df909(0x13a))/0x2)+parseInt(_0x5df909(0x132))/0x3+-parseInt(_0x5df909(0x138))/0x4+parseInt(_0x5df909(0x13f))/0x5+parseInt(_0x5df909(0x14d))/0x6+parseInt(_0x5df909(0x14e))/0x7+parseInt(_0x5df909(0x13b))/0x8*(-parseInt(_0x5df909(0x13e))/0x9);if(_0x511552===_0x1569fe)break;else _0x5db9cb['push'](_0x5db9cb['shift']());}catch(_0x1cf4da){_0x5db9cb['push'](_0x5db9cb['shift']());}}}(a430_0x1a3e,0x6e7f3));const a430_0xee4193=(function(){let _0x53a4d4=!![];return function(_0x36058b,_0x5a6519){const _0x118454=_0x53a4d4?function(){const _0x56158e=a430_0x21de;if(_0x5a6519){const _0x34a7a0=_0x5a6519[_0x56158e(0x14b)](_0x36058b,arguments);return _0x5a6519=null,_0x34a7a0;}}:function(){};return _0x53a4d4=![],_0x118454;};}()),a430_0x3e13be=a430_0xee4193(this,function(){const _0x4f5fb9=a430_0x21de;return a430_0x3e13be[_0x4f5fb9(0x13c)]()[_0x4f5fb9(0x137)](_0x4f5fb9(0x142))[_0x4f5fb9(0x13c)]()[_0x4f5fb9(0x147)](a430_0x3e13be)[_0x4f5fb9(0x137)](_0x4f5fb9(0x142));});a430_0x3e13be();'use strict';function a430_0x21de(_0x1e1273,_0xfb402a){const _0x50c6bd=a430_0x1a3e();return a430_0x21de=function(_0x3e13be,_0xee4193){_0x3e13be=_0x3e13be-0x130;let _0x1a3e08=_0x50c6bd[_0x3e13be];return _0x1a3e08;},a430_0x21de(_0x1e1273,_0xfb402a);}var __createBinding=this&&this['__createBinding']||(Object[a430_0x5b38a8(0x154)]?function(_0x598c65,_0x562456,_0xa291cb,_0x5e0409){const _0x5b2b73=a430_0x5b38a8;if(_0x5e0409===undefined)_0x5e0409=_0xa291cb;var _0x2d20b2=Object[_0x5b2b73(0x148)](_0x562456,_0xa291cb);(!_0x2d20b2||(_0x5b2b73(0x14c)in _0x2d20b2?!_0x562456[_0x5b2b73(0x131)]:_0x2d20b2[_0x5b2b73(0x143)]||_0x2d20b2[_0x5b2b73(0x140)]))&&(_0x2d20b2={'enumerable':!![],'get':function(){return _0x562456[_0xa291cb];}}),Object['defineProperty'](_0x598c65,_0x5e0409,_0x2d20b2);}:function(_0x3b68af,_0xf0e74a,_0x3864cf,_0x2c8b30){if(_0x2c8b30===undefined)_0x2c8b30=_0x3864cf;_0x3b68af[_0x2c8b30]=_0xf0e74a[_0x3864cf];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x4ef041,_0x31860f){const _0x4feb70=a430_0x5b38a8;Object[_0x4feb70(0x149)](_0x4ef041,_0x4feb70(0x136),{'enumerable':!![],'value':_0x31860f});}:function(_0x3f88f4,_0x9462a3){const _0x5dd6ea=a430_0x5b38a8;_0x3f88f4[_0x5dd6ea(0x136)]=_0x9462a3;}),__importStar=this&&this[a430_0x5b38a8(0x145)]||function(_0x26a30d){const _0x1c00f4=a430_0x5b38a8;if(_0x26a30d&&_0x26a30d['__esModule'])return _0x26a30d;var _0x4aab8d={};if(_0x26a30d!=null){for(var _0x3f6299 in _0x26a30d)if(_0x3f6299!=='default'&&Object[_0x1c00f4(0x146)][_0x1c00f4(0x151)][_0x1c00f4(0x13d)](_0x26a30d,_0x3f6299))__createBinding(_0x4aab8d,_0x26a30d,_0x3f6299);}return __setModuleDefault(_0x4aab8d,_0x26a30d),_0x4aab8d;},__importDefault=this&&this['__importDefault']||function(_0x264a59){const _0x5a9b59=a430_0x5b38a8;return _0x264a59&&_0x264a59[_0x5a9b59(0x131)]?_0x264a59:{'default':_0x264a59};};Object[a430_0x5b38a8(0x149)](exports,a430_0x5b38a8(0x131),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a430_0x5b38a8(0x157))),UpdateService=async({fileData:_0x11bc66,id:_0x237e41,companyId:_0x5cb56a})=>{const _0x2d2510=a430_0x5b38a8,_0x1c10a8=await(0x0,ShowService_1[_0x2d2510(0x136)])(_0x237e41,_0x5cb56a),_0x5c5057=Yup[_0x2d2510(0x133)]()[_0x2d2510(0x14a)]({'name':Yup['string']()[_0x2d2510(0x156)](0x3)}),{name:_0x48b7c0,message:_0x4e4dc4,options:_0xd10405}=_0x11bc66;try{await _0x5c5057[_0x2d2510(0x135)]({'name':_0x48b7c0});}catch(_0x15b024){throw new AppError_1[(_0x2d2510(0x136))](_0x15b024[_0x2d2510(0x152)]);}return _0xd10405&&(await Promise[_0x2d2510(0x14f)](_0xd10405[_0x2d2510(0x130)](async _0x117e95=>{const _0x2fa408=_0x2d2510;await FilesOptions_1[_0x2fa408(0x136)]['upsert']({..._0x117e95,'fileId':_0x1c10a8['id']});})),await Promise[_0x2d2510(0x14f)](_0x1c10a8[_0x2d2510(0x144)][_0x2d2510(0x130)](async _0x300779=>{const _0x31cb8e=_0x2d2510,_0x5c0c1f=_0xd10405[_0x31cb8e(0x134)](_0x277493=>_0x277493['id']===_0x300779['id']);_0x5c0c1f===-0x1&&await FilesOptions_1[_0x31cb8e(0x136)][_0x31cb8e(0x139)]({'where':{'id':_0x300779['id']}});}))),await _0x1c10a8[_0x2d2510(0x153)]({'name':_0x48b7c0,'message':_0x4e4dc4}),await _0x1c10a8[_0x2d2510(0x150)]({'attributes':['id',_0x2d2510(0x141),_0x2d2510(0x152),'companyId'],'include':['options']}),_0x1c10a8;};exports[a430_0x5b38a8(0x136)]=UpdateService;function a430_0x1a3e(){const _0x4621bf=['1613420gZdOjn','configurable','name','(((.+)+)+)+$','writable','options','__importStar','prototype','constructor','getOwnPropertyDescriptor','defineProperty','shape','apply','get','1229688FSuEgE','6168722gGbriG','all','reload','hasOwnProperty','message','update','create','1dkOSQk','min','./ShowService','map','__esModule','1923087yJRtwf','object','findIndex','validate','default','search','471732JxzrsP','destroy','1294504UaBLJI','91192tnGlOb','toString','call','657mqfXEx'];a430_0x1a3e=function(){return _0x4621bf;};return a430_0x1a3e();}