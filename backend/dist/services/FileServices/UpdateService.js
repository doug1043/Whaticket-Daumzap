const a433_0x3e1208=a433_0x21b7;function a433_0x5af8(){const _0xe72496=['companyId','671545sMHWkG','1197987xVyPrd','__createBinding','defineProperty','create','validate','toString','341107UKFywd','1669476swDrHR','reload','map','yup','object','__importDefault','destroy','default','update','upsert','../../errors/AppError','hasOwnProperty','__esModule','string','2683344zZXtJc','(((.+)+)+)+$','options','2BtwoJQ','getOwnPropertyDescriptor','configurable','message','writable','10gSOznd','min','3045810rcNORP','__setModuleDefault','name','apply','shape','__importStar','32ivUNBE','4072023XdaSOL','call','search'];a433_0x5af8=function(){return _0xe72496;};return a433_0x5af8();}(function(_0x4e9f93,_0x3b21c0){const _0x510fb8=a433_0x21b7,_0x43477d=_0x4e9f93();while(!![]){try{const _0x3a3be8=parseInt(_0x510fb8(0xd6))/0x1*(-parseInt(_0x510fb8(0xbd))/0x2)+parseInt(_0x510fb8(0xd0))/0x3+-parseInt(_0x510fb8(0xba))/0x4+parseInt(_0x510fb8(0xc4))/0x5+parseInt(_0x510fb8(0xd7))/0x6+-parseInt(_0x510fb8(0xcf))/0x7*(parseInt(_0x510fb8(0xca))/0x8)+parseInt(_0x510fb8(0xcb))/0x9*(parseInt(_0x510fb8(0xc2))/0xa);if(_0x3a3be8===_0x3b21c0)break;else _0x43477d['push'](_0x43477d['shift']());}catch(_0x4835f4){_0x43477d['push'](_0x43477d['shift']());}}}(a433_0x5af8,0x53dcd));const a433_0xf92635=(function(){let _0xfaddb0=!![];return function(_0x5cfca5,_0x3a394d){const _0x5dab6f=_0xfaddb0?function(){const _0x4cf81f=a433_0x21b7;if(_0x3a394d){const _0x560cd4=_0x3a394d[_0x4cf81f(0xc7)](_0x5cfca5,arguments);return _0x3a394d=null,_0x560cd4;}}:function(){};return _0xfaddb0=![],_0x5dab6f;};}()),a433_0x414d74=a433_0xf92635(this,function(){const _0x3a498c=a433_0x21b7;return a433_0x414d74[_0x3a498c(0xd5)]()[_0x3a498c(0xcd)](_0x3a498c(0xbb))[_0x3a498c(0xd5)]()['constructor'](a433_0x414d74)[_0x3a498c(0xcd)](_0x3a498c(0xbb));});a433_0x414d74();'use strict';function a433_0x21b7(_0x44f372,_0x2712c0){const _0x4495dc=a433_0x5af8();return a433_0x21b7=function(_0x414d74,_0xf92635){_0x414d74=_0x414d74-0xb5;let _0x5af801=_0x4495dc[_0x414d74];return _0x5af801;},a433_0x21b7(_0x44f372,_0x2712c0);}var __createBinding=this&&this[a433_0x3e1208(0xd1)]||(Object[a433_0x3e1208(0xd3)]?function(_0x4caada,_0x5e4e30,_0x4887ad,_0x4197f0){const _0x4660ce=a433_0x3e1208;if(_0x4197f0===undefined)_0x4197f0=_0x4887ad;var _0x5cdd1a=Object[_0x4660ce(0xbe)](_0x5e4e30,_0x4887ad);(!_0x5cdd1a||('get'in _0x5cdd1a?!_0x5e4e30[_0x4660ce(0xb8)]:_0x5cdd1a[_0x4660ce(0xc1)]||_0x5cdd1a[_0x4660ce(0xbf)]))&&(_0x5cdd1a={'enumerable':!![],'get':function(){return _0x5e4e30[_0x4887ad];}}),Object[_0x4660ce(0xd2)](_0x4caada,_0x4197f0,_0x5cdd1a);}:function(_0x4b42bb,_0x2fe7df,_0x2310d9,_0x3365ee){if(_0x3365ee===undefined)_0x3365ee=_0x2310d9;_0x4b42bb[_0x3365ee]=_0x2fe7df[_0x2310d9];}),__setModuleDefault=this&&this[a433_0x3e1208(0xc5)]||(Object['create']?function(_0x27c026,_0xdd8c3e){const _0x42e0cc=a433_0x3e1208;Object['defineProperty'](_0x27c026,_0x42e0cc(0xde),{'enumerable':!![],'value':_0xdd8c3e});}:function(_0x2ce022,_0xbbde96){const _0x7f093f=a433_0x3e1208;_0x2ce022[_0x7f093f(0xde)]=_0xbbde96;}),__importStar=this&&this[a433_0x3e1208(0xc9)]||function(_0x50fe30){const _0x2bfc57=a433_0x3e1208;if(_0x50fe30&&_0x50fe30[_0x2bfc57(0xb8)])return _0x50fe30;var _0x5833eb={};if(_0x50fe30!=null){for(var _0x3eef79 in _0x50fe30)if(_0x3eef79!==_0x2bfc57(0xde)&&Object['prototype'][_0x2bfc57(0xb7)][_0x2bfc57(0xcc)](_0x50fe30,_0x3eef79))__createBinding(_0x5833eb,_0x50fe30,_0x3eef79);}return __setModuleDefault(_0x5833eb,_0x50fe30),_0x5833eb;},__importDefault=this&&this[a433_0x3e1208(0xdc)]||function(_0x3a2055){const _0x15ccdd=a433_0x3e1208;return _0x3a2055&&_0x3a2055[_0x15ccdd(0xb8)]?_0x3a2055:{'default':_0x3a2055};};Object['defineProperty'](exports,a433_0x3e1208(0xb8),{'value':!![]});const Yup=__importStar(require(a433_0x3e1208(0xda))),AppError_1=__importDefault(require(a433_0x3e1208(0xb6))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x5f208b,id:_0x526fcb,companyId:_0x2aeaf7})=>{const _0x2dd0f1=a433_0x3e1208,_0x112a9f=await(0x0,ShowService_1[_0x2dd0f1(0xde)])(_0x526fcb,_0x2aeaf7),_0x432e15=Yup[_0x2dd0f1(0xdb)]()[_0x2dd0f1(0xc8)]({'name':Yup[_0x2dd0f1(0xb9)]()[_0x2dd0f1(0xc3)](0x3)}),{name:_0x5c3c59,message:_0x428d19,options:_0x2fd44c}=_0x5f208b;try{await _0x432e15[_0x2dd0f1(0xd4)]({'name':_0x5c3c59});}catch(_0x373f28){throw new AppError_1['default'](_0x373f28[_0x2dd0f1(0xc0)]);}return _0x2fd44c&&(await Promise['all'](_0x2fd44c[_0x2dd0f1(0xd9)](async _0x15a4ec=>{const _0x513c9c=_0x2dd0f1;await FilesOptions_1[_0x513c9c(0xde)][_0x513c9c(0xb5)]({..._0x15a4ec,'fileId':_0x112a9f['id']});})),await Promise['all'](_0x112a9f[_0x2dd0f1(0xbc)][_0x2dd0f1(0xd9)](async _0x281c9c=>{const _0x63a47d=_0x2dd0f1,_0xcce979=_0x2fd44c['findIndex'](_0x567de9=>_0x567de9['id']===_0x281c9c['id']);_0xcce979===-0x1&&await FilesOptions_1[_0x63a47d(0xde)][_0x63a47d(0xdd)]({'where':{'id':_0x281c9c['id']}});}))),await _0x112a9f[_0x2dd0f1(0xdf)]({'name':_0x5c3c59,'message':_0x428d19}),await _0x112a9f[_0x2dd0f1(0xd8)]({'attributes':['id',_0x2dd0f1(0xc6),_0x2dd0f1(0xc0),_0x2dd0f1(0xce)],'include':[_0x2dd0f1(0xbc)]}),_0x112a9f;};exports['default']=UpdateService;