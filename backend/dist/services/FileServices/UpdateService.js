'use strict';var a462_0x1b4714=a462_0x3c1d;(function(_0x2503be,_0x157339){var _0x378ecb=a462_0x3c1d,_0x4b0918=_0x2503be();while(!![]){try{var _0x7df78e=parseInt(_0x378ecb(0xa9))/0x1+parseInt(_0x378ecb(0x9d))/0x2+-parseInt(_0x378ecb(0xb4))/0x3*(parseInt(_0x378ecb(0xb7))/0x4)+-parseInt(_0x378ecb(0xa2))/0x5*(-parseInt(_0x378ecb(0xc7))/0x6)+parseInt(_0x378ecb(0xb2))/0x7*(parseInt(_0x378ecb(0xa7))/0x8)+-parseInt(_0x378ecb(0xbe))/0x9+parseInt(_0x378ecb(0xc4))/0xa*(-parseInt(_0x378ecb(0xb9))/0xb);if(_0x7df78e===_0x157339)break;else _0x4b0918['push'](_0x4b0918['shift']());}catch(_0x3a5bfb){_0x4b0918['push'](_0x4b0918['shift']());}}}(a462_0x4308,0xdcaac));function a462_0x4308(){var _0x47b784=['search','__esModule','11576637sqMKLp','configurable','object','findIndex','length','validate','170IJLyzw','(((.+)+)+)+$','__setModuleDefault','3594dIoDcl','__importDefault','min','defineProperty','3131172TnkKGa','companyId','hasOwnProperty','constructor','upsert','7715fxFZUQ','shape','yup','apply','getOwnPropertyNames','8867672HxUGsS','getOwnPropertyDescriptor','1633382OHgexX','reload','./ShowService','prototype','__importStar','../../errors/AppError','map','__createBinding','../../models/FilesOptions','7OHkjZb','options','18hXwRrm','toString','call','136488FGyixt','all','1835581hyDwUN','default','destroy'];a462_0x4308=function(){return _0x47b784;};return a462_0x4308();}var __createBinding=this&&this[a462_0x1b4714(0xb0)]||(Object['create']?function(_0x429d83,_0xc16f3c,_0xe846b3,_0x5df078){var _0x4cd71e=a462_0x1b4714;if(_0x5df078===undefined)_0x5df078=_0xe846b3;var _0xe696b9=Object[_0x4cd71e(0xa8)](_0xc16f3c,_0xe846b3);(!_0xe696b9||('get'in _0xe696b9?!_0xc16f3c[_0x4cd71e(0xbd)]:_0xe696b9['writable']||_0xe696b9[_0x4cd71e(0xbf)]))&&(_0xe696b9={'enumerable':!![],'get':function(){return _0xc16f3c[_0xe846b3];}}),Object['defineProperty'](_0x429d83,_0x5df078,_0xe696b9);}:function(_0xb47fd0,_0x37008e,_0x2d8112,_0x2a736a){if(_0x2a736a===undefined)_0x2a736a=_0x2d8112;_0xb47fd0[_0x2a736a]=_0x37008e[_0x2d8112];}),__setModuleDefault=this&&this[a462_0x1b4714(0xc6)]||(Object['create']?function(_0x30ee03,_0x501f5f){var _0x69c3d2=a462_0x1b4714;Object[_0x69c3d2(0x9c)](_0x30ee03,_0x69c3d2(0xba),{'enumerable':!![],'value':_0x501f5f});}:function(_0x1a25df,_0x250262){var _0x475589=a462_0x1b4714;_0x1a25df[_0x475589(0xba)]=_0x250262;}),__importStar=this&&this[a462_0x1b4714(0xad)]||(function(){var _0x4030e8=(function(){var _0x16e9ae=!![];return function(_0x130257,_0x4fafd4){var _0x336655=_0x16e9ae?function(){var _0x2a613c=a462_0x3c1d;if(_0x4fafd4){var _0x5c6934=_0x4fafd4[_0x2a613c(0xa5)](_0x130257,arguments);return _0x4fafd4=null,_0x5c6934;}}:function(){};return _0x16e9ae=![],_0x336655;};}()),_0x1858e0=_0x4030e8(this,function(){var _0x470877=a462_0x3c1d;return _0x1858e0[_0x470877(0xb5)]()[_0x470877(0xbc)](_0x470877(0xc5))[_0x470877(0xb5)]()[_0x470877(0xa0)](_0x1858e0)[_0x470877(0xbc)](_0x470877(0xc5));});_0x1858e0();var _0x5350ce=function(_0x45f2ac){var _0x2d2fba=a462_0x3c1d;return _0x5350ce=Object[_0x2d2fba(0xa6)]||function(_0x453ae3){var _0x3e12e3=_0x2d2fba,_0x2ee52e=[];for(var _0x510b62 in _0x453ae3)if(Object[_0x3e12e3(0xac)][_0x3e12e3(0x9f)][_0x3e12e3(0xb6)](_0x453ae3,_0x510b62))_0x2ee52e[_0x2ee52e['length']]=_0x510b62;return _0x2ee52e;},_0x5350ce(_0x45f2ac);};return function(_0x4f173e){var _0x19b786=a462_0x3c1d;if(_0x4f173e&&_0x4f173e[_0x19b786(0xbd)])return _0x4f173e;var _0x27d401={};if(_0x4f173e!=null){for(var _0x3ce401=_0x5350ce(_0x4f173e),_0x3aa0ec=0x0;_0x3aa0ec<_0x3ce401[_0x19b786(0xc2)];_0x3aa0ec++)if(_0x3ce401[_0x3aa0ec]!==_0x19b786(0xba))__createBinding(_0x27d401,_0x4f173e,_0x3ce401[_0x3aa0ec]);}return __setModuleDefault(_0x27d401,_0x4f173e),_0x27d401;};}()),__importDefault=this&&this[a462_0x1b4714(0x9a)]||function(_0x2cf572){var _0x176e5c=a462_0x1b4714;return _0x2cf572&&_0x2cf572[_0x176e5c(0xbd)]?_0x2cf572:{'default':_0x2cf572};};Object[a462_0x1b4714(0x9c)](exports,a462_0x1b4714(0xbd),{'value':!![]});function a462_0x3c1d(_0x3fc2c6,_0x614a95){var _0xc150cd=a462_0x4308();return a462_0x3c1d=function(_0x3f6bb4,_0x4bbc0c){_0x3f6bb4=_0x3f6bb4-0x9a;var _0x43087e=_0xc150cd[_0x3f6bb4];return _0x43087e;},a462_0x3c1d(_0x3fc2c6,_0x614a95);}const Yup=__importStar(require(a462_0x1b4714(0xa4))),AppError_1=__importDefault(require(a462_0x1b4714(0xae))),FilesOptions_1=__importDefault(require(a462_0x1b4714(0xb1))),ShowService_1=__importDefault(require(a462_0x1b4714(0xab))),UpdateService=async({fileData:_0x2c1a85,id:_0x58dfc0,companyId:_0xf545e7})=>{var _0x37450b=a462_0x1b4714;const _0x3b93d9=await(0x0,ShowService_1[_0x37450b(0xba)])(_0x58dfc0,_0xf545e7),_0x3bd181=Yup[_0x37450b(0xc0)]()[_0x37450b(0xa3)]({'name':Yup['string']()[_0x37450b(0x9b)](0x3)}),{name:_0x5b26be,message:_0x593688,options:_0x5a33fa}=_0x2c1a85;try{await _0x3bd181[_0x37450b(0xc3)]({'name':_0x5b26be});}catch(_0x50c4e8){throw new AppError_1[(_0x37450b(0xba))](_0x50c4e8['message']);}return _0x5a33fa&&(await Promise['all'](_0x5a33fa['map'](async _0x158f6c=>{var _0xe9d8b9=_0x37450b;await FilesOptions_1[_0xe9d8b9(0xba)][_0xe9d8b9(0xa1)]({..._0x158f6c,'fileId':_0x3b93d9['id']});})),await Promise[_0x37450b(0xb8)](_0x3b93d9[_0x37450b(0xb3)][_0x37450b(0xaf)](async _0x226a61=>{var _0x36f43a=_0x37450b;const _0x46c382=_0x5a33fa[_0x36f43a(0xc1)](_0x1b55c9=>_0x1b55c9['id']===_0x226a61['id']);_0x46c382===-0x1&&await FilesOptions_1['default'][_0x36f43a(0xbb)]({'where':{'id':_0x226a61['id']}});}))),await _0x3b93d9['update']({'name':_0x5b26be,'message':_0x593688}),await _0x3b93d9[_0x37450b(0xaa)]({'attributes':['id','name','message',_0x37450b(0x9e)],'include':[_0x37450b(0xb3)]}),_0x3b93d9;};exports[a462_0x1b4714(0xba)]=UpdateService;