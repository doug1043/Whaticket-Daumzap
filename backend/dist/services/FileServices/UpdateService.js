'use strict';var a466_0x38e2cf=a466_0x20a1;function a466_0x20a1(_0x2fd9b9,_0x3fe6b8){var _0xbc77d5=a466_0x13d5();return a466_0x20a1=function(_0xd74b7a,_0x2e86f1){_0xd74b7a=_0xd74b7a-0x1d0;var _0x13d57a=_0xbc77d5[_0xd74b7a];return _0x13d57a;},a466_0x20a1(_0x2fd9b9,_0x3fe6b8);}(function(_0x4c5d65,_0x3d1ffe){var _0x45390a=a466_0x20a1,_0x483af4=_0x4c5d65();while(!![]){try{var _0x2a15bb=parseInt(_0x45390a(0x1f2))/0x1+parseInt(_0x45390a(0x1d0))/0x2*(parseInt(_0x45390a(0x1ef))/0x3)+parseInt(_0x45390a(0x1fb))/0x4*(-parseInt(_0x45390a(0x1da))/0x5)+parseInt(_0x45390a(0x1db))/0x6+-parseInt(_0x45390a(0x1e8))/0x7*(parseInt(_0x45390a(0x1ee))/0x8)+parseInt(_0x45390a(0x1e0))/0x9+-parseInt(_0x45390a(0x1f3))/0xa;if(_0x2a15bb===_0x3d1ffe)break;else _0x483af4['push'](_0x483af4['shift']());}catch(_0x467655){_0x483af4['push'](_0x483af4['shift']());}}}(a466_0x13d5,0xb9258));var __createBinding=this&&this['__createBinding']||(Object[a466_0x38e2cf(0x1e6)]?function(_0x4f16f3,_0x40ac5e,_0x5c7947,_0x124ee8){var _0x1005bd=a466_0x38e2cf;if(_0x124ee8===undefined)_0x124ee8=_0x5c7947;var _0x3a3f1e=Object[_0x1005bd(0x1f6)](_0x40ac5e,_0x5c7947);(!_0x3a3f1e||(_0x1005bd(0x1d1)in _0x3a3f1e?!_0x40ac5e[_0x1005bd(0x1e3)]:_0x3a3f1e[_0x1005bd(0x1de)]||_0x3a3f1e[_0x1005bd(0x1ec)]))&&(_0x3a3f1e={'enumerable':!![],'get':function(){return _0x40ac5e[_0x5c7947];}}),Object['defineProperty'](_0x4f16f3,_0x124ee8,_0x3a3f1e);}:function(_0x2c064c,_0xe61770,_0x1bba63,_0x2e46ff){if(_0x2e46ff===undefined)_0x2e46ff=_0x1bba63;_0x2c064c[_0x2e46ff]=_0xe61770[_0x1bba63];}),__setModuleDefault=this&&this[a466_0x38e2cf(0x1d7)]||(Object[a466_0x38e2cf(0x1e6)]?function(_0x3f8a70,_0x36a6ce){var _0x5df9c2=a466_0x38e2cf;Object[_0x5df9c2(0x1fa)](_0x3f8a70,'default',{'enumerable':!![],'value':_0x36a6ce});}:function(_0x10fb24,_0x1d9025){var _0x10d8e9=a466_0x38e2cf;_0x10fb24[_0x10d8e9(0x1ed)]=_0x1d9025;}),__importStar=this&&this['__importStar']||(function(){var _0x366a81=(function(){var _0x4ead85=!![];return function(_0x1a954e,_0x4f4485){var _0x581533=_0x4ead85?function(){var _0x2e08b3=a466_0x20a1;if(_0x4f4485){var _0x3f4a42=_0x4f4485[_0x2e08b3(0x1d3)](_0x1a954e,arguments);return _0x4f4485=null,_0x3f4a42;}}:function(){};return _0x4ead85=![],_0x581533;};}()),_0xe2354=_0x366a81(this,function(){var _0x6b6a74=a466_0x20a1;return _0xe2354[_0x6b6a74(0x1ea)]()[_0x6b6a74(0x1e5)](_0x6b6a74(0x1eb))[_0x6b6a74(0x1ea)]()[_0x6b6a74(0x1f4)](_0xe2354)[_0x6b6a74(0x1e5)](_0x6b6a74(0x1eb));});_0xe2354();var _0x2b8248=function(_0x245d83){var _0x5b93dd=a466_0x20a1;return _0x2b8248=Object[_0x5b93dd(0x1d8)]||function(_0x9d46b2){var _0x34f01c=_0x5b93dd,_0x579fdb=[];for(var _0x1e9fe1 in _0x9d46b2)if(Object['prototype'][_0x34f01c(0x1d9)][_0x34f01c(0x1e4)](_0x9d46b2,_0x1e9fe1))_0x579fdb[_0x579fdb[_0x34f01c(0x1df)]]=_0x1e9fe1;return _0x579fdb;},_0x2b8248(_0x245d83);};return function(_0x47a6fe){var _0x30ed98=a466_0x20a1;if(_0x47a6fe&&_0x47a6fe[_0x30ed98(0x1e3)])return _0x47a6fe;var _0x352223={};if(_0x47a6fe!=null){for(var _0x3f5f28=_0x2b8248(_0x47a6fe),_0x2575c7=0x0;_0x2575c7<_0x3f5f28[_0x30ed98(0x1df)];_0x2575c7++)if(_0x3f5f28[_0x2575c7]!=='default')__createBinding(_0x352223,_0x47a6fe,_0x3f5f28[_0x2575c7]);}return __setModuleDefault(_0x352223,_0x47a6fe),_0x352223;};}()),__importDefault=this&&this[a466_0x38e2cf(0x1e7)]||function(_0xe18e3a){var _0x18cffa=a466_0x38e2cf;return _0xe18e3a&&_0xe18e3a[_0x18cffa(0x1e3)]?_0xe18e3a:{'default':_0xe18e3a};};Object[a466_0x38e2cf(0x1fa)](exports,a466_0x38e2cf(0x1e3),{'value':!![]});function a466_0x13d5(){var _0x51f1c8=['validate','defineProperty','2264rmwrDy','20104tVxlyv','get','message','apply','map','min','shape','__setModuleDefault','getOwnPropertyNames','hasOwnProperty','705bMUjzW','1859736qZKjFW','all','options','writable','length','8340381zNgbgr','string','update','__esModule','call','search','create','__importDefault','60053HEJZeS','name','toString','(((.+)+)+)+$','configurable','default','712DmqoVo','393cHjJVm','companyId','destroy','731336cnHQvg','16831160IRRaXS','constructor','reload','getOwnPropertyDescriptor','object','findIndex'];a466_0x13d5=function(){return _0x51f1c8;};return a466_0x13d5();}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x393981,id:_0x109016,companyId:_0x49e1d4})=>{var _0x3f1638=a466_0x38e2cf;const _0x4e93dc=await(0x0,ShowService_1[_0x3f1638(0x1ed)])(_0x109016,_0x49e1d4),_0x4fa81c=Yup[_0x3f1638(0x1f7)]()[_0x3f1638(0x1d6)]({'name':Yup[_0x3f1638(0x1e1)]()[_0x3f1638(0x1d5)](0x3)}),{name:_0x205e0c,message:_0x3c1560,options:_0x5b189d}=_0x393981;try{await _0x4fa81c[_0x3f1638(0x1f9)]({'name':_0x205e0c});}catch(_0x2adaed){throw new AppError_1['default'](_0x2adaed[_0x3f1638(0x1d2)]);}return _0x5b189d&&(await Promise[_0x3f1638(0x1dc)](_0x5b189d[_0x3f1638(0x1d4)](async _0x3af3a9=>{var _0x325a9d=_0x3f1638;await FilesOptions_1[_0x325a9d(0x1ed)]['upsert']({..._0x3af3a9,'fileId':_0x4e93dc['id']});})),await Promise['all'](_0x4e93dc['options'][_0x3f1638(0x1d4)](async _0x54c69b=>{var _0x5490ee=_0x3f1638;const _0x505b19=_0x5b189d[_0x5490ee(0x1f8)](_0x1a3e2c=>_0x1a3e2c['id']===_0x54c69b['id']);_0x505b19===-0x1&&await FilesOptions_1[_0x5490ee(0x1ed)][_0x5490ee(0x1f1)]({'where':{'id':_0x54c69b['id']}});}))),await _0x4e93dc[_0x3f1638(0x1e2)]({'name':_0x205e0c,'message':_0x3c1560}),await _0x4e93dc[_0x3f1638(0x1f5)]({'attributes':['id',_0x3f1638(0x1e9),_0x3f1638(0x1d2),_0x3f1638(0x1f0)],'include':[_0x3f1638(0x1dd)]}),_0x4e93dc;};exports[a466_0x38e2cf(0x1ed)]=UpdateService;