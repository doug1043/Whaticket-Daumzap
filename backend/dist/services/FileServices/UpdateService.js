'use strict';var a462_0x365d0a=a462_0xb57c;(function(_0x44376f,_0x2fc918){var _0x5b3145=a462_0xb57c,_0x206102=_0x44376f();while(!![]){try{var _0x5a7ce9=parseInt(_0x5b3145(0x11b))/0x1+parseInt(_0x5b3145(0x12a))/0x2*(parseInt(_0x5b3145(0x11c))/0x3)+-parseInt(_0x5b3145(0x107))/0x4*(-parseInt(_0x5b3145(0x12d))/0x5)+-parseInt(_0x5b3145(0x114))/0x6*(-parseInt(_0x5b3145(0x10c))/0x7)+parseInt(_0x5b3145(0x118))/0x8+parseInt(_0x5b3145(0x110))/0x9+-parseInt(_0x5b3145(0x129))/0xa;if(_0x5a7ce9===_0x2fc918)break;else _0x206102['push'](_0x206102['shift']());}catch(_0x16138e){_0x206102['push'](_0x206102['shift']());}}}(a462_0x1664,0xca40e));var __createBinding=this&&this[a462_0x365d0a(0x121)]||(Object['create']?function(_0x44254a,_0x6bde7a,_0x1b2b55,_0x43daf7){var _0x4b83f8=a462_0x365d0a;if(_0x43daf7===undefined)_0x43daf7=_0x1b2b55;var _0xdfce4=Object[_0x4b83f8(0x10b)](_0x6bde7a,_0x1b2b55);(!_0xdfce4||('get'in _0xdfce4?!_0x6bde7a[_0x4b83f8(0x127)]:_0xdfce4['writable']||_0xdfce4[_0x4b83f8(0x117)]))&&(_0xdfce4={'enumerable':!![],'get':function(){return _0x6bde7a[_0x1b2b55];}}),Object[_0x4b83f8(0x10d)](_0x44254a,_0x43daf7,_0xdfce4);}:function(_0xda3851,_0xa0790,_0x36d57f,_0x4b96d4){if(_0x4b96d4===undefined)_0x4b96d4=_0x36d57f;_0xda3851[_0x4b96d4]=_0xa0790[_0x36d57f];}),__setModuleDefault=this&&this[a462_0x365d0a(0x10a)]||(Object['create']?function(_0x553eaa,_0x31ba59){var _0x20479e=a462_0x365d0a;Object['defineProperty'](_0x553eaa,_0x20479e(0x109),{'enumerable':!![],'value':_0x31ba59});}:function(_0x1a039a,_0xe4df6e){var _0x4a973b=a462_0x365d0a;_0x1a039a[_0x4a973b(0x109)]=_0xe4df6e;}),__importStar=this&&this[a462_0x365d0a(0x12e)]||(function(){var _0x1342bd=(function(){var _0x2bbd6d=!![];return function(_0xf75c71,_0x2d65f8){var _0x1627c3=_0x2bbd6d?function(){var _0x1af3f0=a462_0xb57c;if(_0x2d65f8){var _0xb66589=_0x2d65f8[_0x1af3f0(0x10e)](_0xf75c71,arguments);return _0x2d65f8=null,_0xb66589;}}:function(){};return _0x2bbd6d=![],_0x1627c3;};}()),_0x27ea83=_0x1342bd(this,function(){var _0x559ff8=a462_0xb57c;return _0x27ea83['toString']()[_0x559ff8(0x10f)]('(((.+)+)+)+$')[_0x559ff8(0x12c)]()[_0x559ff8(0x12f)](_0x27ea83)[_0x559ff8(0x10f)](_0x559ff8(0x130));});_0x27ea83();var _0x5d08f4=function(_0x74a2b7){var _0x36bc25=a462_0xb57c;return _0x5d08f4=Object[_0x36bc25(0x111)]||function(_0x41d0e9){var _0x1e38be=_0x36bc25,_0x75bcc7=[];for(var _0x33bfe8 in _0x41d0e9)if(Object[_0x1e38be(0x119)][_0x1e38be(0x126)][_0x1e38be(0x123)](_0x41d0e9,_0x33bfe8))_0x75bcc7[_0x75bcc7[_0x1e38be(0x115)]]=_0x33bfe8;return _0x75bcc7;},_0x5d08f4(_0x74a2b7);};return function(_0x440914){var _0x413b3c=a462_0xb57c;if(_0x440914&&_0x440914[_0x413b3c(0x127)])return _0x440914;var _0x551590={};if(_0x440914!=null){for(var _0x4e3308=_0x5d08f4(_0x440914),_0x50ef30=0x0;_0x50ef30<_0x4e3308[_0x413b3c(0x115)];_0x50ef30++)if(_0x4e3308[_0x50ef30]!==_0x413b3c(0x109))__createBinding(_0x551590,_0x440914,_0x4e3308[_0x50ef30]);}return __setModuleDefault(_0x551590,_0x440914),_0x551590;};}()),__importDefault=this&&this[a462_0x365d0a(0x11f)]||function(_0x554d6e){var _0x2d6b85=a462_0x365d0a;return _0x554d6e&&_0x554d6e[_0x2d6b85(0x127)]?_0x554d6e:{'default':_0x554d6e};};Object[a462_0x365d0a(0x10d)](exports,a462_0x365d0a(0x127),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a462_0x365d0a(0x106))),FilesOptions_1=__importDefault(require(a462_0x365d0a(0x116))),ShowService_1=__importDefault(require(a462_0x365d0a(0x128))),UpdateService=async({fileData:_0x4c0220,id:_0x19c443,companyId:_0x26c502})=>{var _0xfb890c=a462_0x365d0a;const _0x2d4b15=await(0x0,ShowService_1[_0xfb890c(0x109)])(_0x19c443,_0x26c502),_0x5c9fe1=Yup['object']()[_0xfb890c(0x124)]({'name':Yup[_0xfb890c(0x122)]()[_0xfb890c(0x104)](0x3)}),{name:_0x3364f8,message:_0x2a893c,options:_0x31fdf0}=_0x4c0220;try{await _0x5c9fe1[_0xfb890c(0x112)]({'name':_0x3364f8});}catch(_0x592a23){throw new AppError_1['default'](_0x592a23['message']);}return _0x31fdf0&&(await Promise[_0xfb890c(0x108)](_0x31fdf0[_0xfb890c(0x120)](async _0x1d642d=>{var _0x438cf9=_0xfb890c;await FilesOptions_1[_0x438cf9(0x109)][_0x438cf9(0x113)]({..._0x1d642d,'fileId':_0x2d4b15['id']});})),await Promise[_0xfb890c(0x108)](_0x2d4b15[_0xfb890c(0x125)]['map'](async _0x1e7ca8=>{var _0x2bc400=_0xfb890c;const _0xfa4061=_0x31fdf0[_0x2bc400(0x12b)](_0x14e226=>_0x14e226['id']===_0x1e7ca8['id']);_0xfa4061===-0x1&&await FilesOptions_1[_0x2bc400(0x109)]['destroy']({'where':{'id':_0x1e7ca8['id']}});}))),await _0x2d4b15[_0xfb890c(0x105)]({'name':_0x3364f8,'message':_0x2a893c}),await _0x2d4b15[_0xfb890c(0x11e)]({'attributes':['id',_0xfb890c(0x11a),'message',_0xfb890c(0x11d)],'include':[_0xfb890c(0x125)]}),_0x2d4b15;};exports['default']=UpdateService;function a462_0xb57c(_0xd9551f,_0x58b0de){var _0x546498=a462_0x1664();return a462_0xb57c=function(_0x2a37a7,_0x4c743b){_0x2a37a7=_0x2a37a7-0x104;var _0x1664e3=_0x546498[_0x2a37a7];return _0x1664e3;},a462_0xb57c(_0xd9551f,_0x58b0de);}function a462_0x1664(){var _0x3ba74b=['2xpPxAs','findIndex','toString','795055uxiCJE','__importStar','constructor','(((.+)+)+)+$','min','update','../../errors/AppError','28olDVNN','all','default','__setModuleDefault','getOwnPropertyDescriptor','14qxgMrj','defineProperty','apply','search','3404322OauHmW','getOwnPropertyNames','validate','upsert','1107354dzvvfk','length','../../models/FilesOptions','configurable','4297960FOMsQJ','prototype','name','138467wdBTJZ','2843655OUFJhr','companyId','reload','__importDefault','map','__createBinding','string','call','shape','options','hasOwnProperty','__esModule','./ShowService','26556200iPypCJ'];a462_0x1664=function(){return _0x3ba74b;};return a462_0x1664();}