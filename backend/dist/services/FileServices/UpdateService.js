'use strict';function a461_0x8809(){var _0x175083=['690480joxBfj','__createBinding','./ShowService','../../errors/AppError','defineProperty','2617020tjIALE','../../models/FilesOptions','toString','create','getOwnPropertyDescriptor','__importDefault','length','map','findIndex','call','min','apply','__importStar','all','companyId','configurable','update','prototype','default','options','4211705IxtlLV','upsert','(((.+)+)+)+$','message','destroy','496OsmBtq','68IXVMrz','9908244RGtxzY','search','constructor','879xIubjD','hasOwnProperty','3995152tpGZlN','__esModule','validate','object','__setModuleDefault','writable','36shwFIU'];a461_0x8809=function(){return _0x175083;};return a461_0x8809();}var a461_0x3501cb=a461_0x2dbb;(function(_0x219dc0,_0x590ce1){var _0xc79220=a461_0x2dbb,_0x3b3859=_0x219dc0();while(!![]){try{var _0x32b4b1=parseInt(_0xc79220(0xaa))/0x1*(-parseInt(_0xc79220(0xa9))/0x2)+-parseInt(_0xc79220(0xae))/0x3*(-parseInt(_0xc79220(0xb6))/0x4)+parseInt(_0xc79220(0xa4))/0x5+-parseInt(_0xc79220(0xb7))/0x6+parseInt(_0xc79220(0xbc))/0x7+parseInt(_0xc79220(0xb0))/0x8+-parseInt(_0xc79220(0xab))/0x9;if(_0x32b4b1===_0x590ce1)break;else _0x3b3859['push'](_0x3b3859['shift']());}catch(_0x3af262){_0x3b3859['push'](_0x3b3859['shift']());}}}(a461_0x8809,0x767fc));function a461_0x2dbb(_0xa68f7b,_0x175ed8){var _0x6ebdac=a461_0x8809();return a461_0x2dbb=function(_0x22393c,_0x46a66b){_0x22393c=_0x22393c-0x9d;var _0x8809db=_0x6ebdac[_0x22393c];return _0x8809db;},a461_0x2dbb(_0xa68f7b,_0x175ed8);}var __createBinding=this&&this[a461_0x3501cb(0xb8)]||(Object[a461_0x3501cb(0xbf)]?function(_0x404986,_0x1028d1,_0x354f3f,_0x24861d){var _0x1be89e=a461_0x3501cb;if(_0x24861d===undefined)_0x24861d=_0x354f3f;var _0x1c9b7a=Object[_0x1be89e(0xc0)](_0x1028d1,_0x354f3f);(!_0x1c9b7a||('get'in _0x1c9b7a?!_0x1028d1[_0x1be89e(0xb1)]:_0x1c9b7a[_0x1be89e(0xb5)]||_0x1c9b7a[_0x1be89e(0x9f)]))&&(_0x1c9b7a={'enumerable':!![],'get':function(){return _0x1028d1[_0x354f3f];}}),Object['defineProperty'](_0x404986,_0x24861d,_0x1c9b7a);}:function(_0x5c2f36,_0x47ed92,_0x21f644,_0x27e02f){if(_0x27e02f===undefined)_0x27e02f=_0x21f644;_0x5c2f36[_0x27e02f]=_0x47ed92[_0x21f644];}),__setModuleDefault=this&&this[a461_0x3501cb(0xb4)]||(Object[a461_0x3501cb(0xbf)]?function(_0x4ed44d,_0x1b743e){var _0x36fdbf=a461_0x3501cb;Object[_0x36fdbf(0xbb)](_0x4ed44d,_0x36fdbf(0xa2),{'enumerable':!![],'value':_0x1b743e});}:function(_0x152c33,_0x3daa21){_0x152c33['default']=_0x3daa21;}),__importStar=this&&this[a461_0x3501cb(0xc8)]||(function(){var _0x38a64d=(function(){var _0x19b4e9=!![];return function(_0x80fbfa,_0xa8121c){var _0x1ed922=_0x19b4e9?function(){var _0x3a9e95=a461_0x2dbb;if(_0xa8121c){var _0x99f047=_0xa8121c[_0x3a9e95(0xc7)](_0x80fbfa,arguments);return _0xa8121c=null,_0x99f047;}}:function(){};return _0x19b4e9=![],_0x1ed922;};}()),_0x24e3e1=_0x38a64d(this,function(){var _0x4878bb=a461_0x2dbb;return _0x24e3e1[_0x4878bb(0xbe)]()[_0x4878bb(0xac)](_0x4878bb(0xa6))['toString']()[_0x4878bb(0xad)](_0x24e3e1)[_0x4878bb(0xac)](_0x4878bb(0xa6));});_0x24e3e1();var _0x117ed0=function(_0x166e3c){return _0x117ed0=Object['getOwnPropertyNames']||function(_0x10a498){var _0x1f7b2a=a461_0x2dbb,_0x5d1530=[];for(var _0x29d9d3 in _0x10a498)if(Object[_0x1f7b2a(0xa1)][_0x1f7b2a(0xaf)][_0x1f7b2a(0xc5)](_0x10a498,_0x29d9d3))_0x5d1530[_0x5d1530[_0x1f7b2a(0xc2)]]=_0x29d9d3;return _0x5d1530;},_0x117ed0(_0x166e3c);};return function(_0x32b07d){if(_0x32b07d&&_0x32b07d['__esModule'])return _0x32b07d;var _0x5a99da={};if(_0x32b07d!=null){for(var _0x3e4591=_0x117ed0(_0x32b07d),_0x366933=0x0;_0x366933<_0x3e4591['length'];_0x366933++)if(_0x3e4591[_0x366933]!=='default')__createBinding(_0x5a99da,_0x32b07d,_0x3e4591[_0x366933]);}return __setModuleDefault(_0x5a99da,_0x32b07d),_0x5a99da;};}()),__importDefault=this&&this[a461_0x3501cb(0xc1)]||function(_0xb1c56f){return _0xb1c56f&&_0xb1c56f['__esModule']?_0xb1c56f:{'default':_0xb1c56f};};Object[a461_0x3501cb(0xbb)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a461_0x3501cb(0xba))),FilesOptions_1=__importDefault(require(a461_0x3501cb(0xbd))),ShowService_1=__importDefault(require(a461_0x3501cb(0xb9))),UpdateService=async({fileData:_0x180bfd,id:_0x558fdb,companyId:_0x9844af})=>{var _0x3379be=a461_0x3501cb;const _0x303b87=await(0x0,ShowService_1['default'])(_0x558fdb,_0x9844af),_0x26d096=Yup[_0x3379be(0xb3)]()['shape']({'name':Yup['string']()[_0x3379be(0xc6)](0x3)}),{name:_0x505e43,message:_0x41388e,options:_0x5d5863}=_0x180bfd;try{await _0x26d096[_0x3379be(0xb2)]({'name':_0x505e43});}catch(_0x448218){throw new AppError_1[(_0x3379be(0xa2))](_0x448218[_0x3379be(0xa7)]);}return _0x5d5863&&(await Promise[_0x3379be(0x9d)](_0x5d5863['map'](async _0x5810e=>{var _0x14f776=_0x3379be;await FilesOptions_1[_0x14f776(0xa2)][_0x14f776(0xa5)]({..._0x5810e,'fileId':_0x303b87['id']});})),await Promise[_0x3379be(0x9d)](_0x303b87[_0x3379be(0xa3)][_0x3379be(0xc3)](async _0x390b59=>{var _0x95a2ed=_0x3379be;const _0x58be70=_0x5d5863[_0x95a2ed(0xc4)](_0x36e14d=>_0x36e14d['id']===_0x390b59['id']);_0x58be70===-0x1&&await FilesOptions_1[_0x95a2ed(0xa2)][_0x95a2ed(0xa8)]({'where':{'id':_0x390b59['id']}});}))),await _0x303b87[_0x3379be(0xa0)]({'name':_0x505e43,'message':_0x41388e}),await _0x303b87['reload']({'attributes':['id','name',_0x3379be(0xa7),_0x3379be(0x9e)],'include':[_0x3379be(0xa3)]}),_0x303b87;};exports[a461_0x3501cb(0xa2)]=UpdateService;