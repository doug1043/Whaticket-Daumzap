function a428_0x47fa(){const _0x1cad82=['toString','name','options','all','1600hHAlaj','prototype','80OKXokX','get','writable','getOwnPropertyDescriptor','2464980pyLXfo','reload','21169104IXsqUZ','companyId','min','findIndex','./ShowService','default','../../errors/AppError','call','__setModuleDefault','shape','4749297qghLjk','223948zJqqOW','create','configurable','update','__createBinding','(((.+)+)+)+$','message','8wZgFLw','destroy','validate','defineProperty','yup','36234xlJbgj','apply','string','search','2597043YsUDtl','__esModule','../../models/FilesOptions','__importStar','__importDefault','map','90947ymTqyZ','14RfnCEg'];a428_0x47fa=function(){return _0x1cad82;};return a428_0x47fa();}const a428_0xeb34cd=a428_0x4463;(function(_0x583ea1,_0x5ab51b){const _0x3b5abd=a428_0x4463,_0x420b6f=_0x583ea1();while(!![]){try{const _0x2609bb=parseInt(_0x3b5abd(0x186))/0x1*(parseInt(_0x3b5abd(0x187))/0x2)+-parseInt(_0x3b5abd(0x180))/0x3+parseInt(_0x3b5abd(0x19f))/0x4*(parseInt(_0x3b5abd(0x18e))/0x5)+parseInt(_0x3b5abd(0x192))/0x6+-parseInt(_0x3b5abd(0x19e))/0x7*(-parseInt(_0x3b5abd(0x1a6))/0x8)+-parseInt(_0x3b5abd(0x17c))/0x9*(-parseInt(_0x3b5abd(0x18c))/0xa)+-parseInt(_0x3b5abd(0x194))/0xb;if(_0x2609bb===_0x5ab51b)break;else _0x420b6f['push'](_0x420b6f['shift']());}catch(_0x417782){_0x420b6f['push'](_0x420b6f['shift']());}}}(a428_0x47fa,0x74259));const a428_0x3c04ae=(function(){let _0x104076=!![];return function(_0x19ad6d,_0x2952be){const _0x55a7c4=_0x104076?function(){const _0x2eb637=a428_0x4463;if(_0x2952be){const _0x38c4ad=_0x2952be[_0x2eb637(0x17d)](_0x19ad6d,arguments);return _0x2952be=null,_0x38c4ad;}}:function(){};return _0x104076=![],_0x55a7c4;};}()),a428_0xa13e16=a428_0x3c04ae(this,function(){const _0x5e7520=a428_0x4463;return a428_0xa13e16[_0x5e7520(0x188)]()[_0x5e7520(0x17f)](_0x5e7520(0x1a4))['toString']()['constructor'](a428_0xa13e16)[_0x5e7520(0x17f)](_0x5e7520(0x1a4));});a428_0xa13e16();function a428_0x4463(_0xf62f41,_0x20da45){const _0x5be55=a428_0x47fa();return a428_0x4463=function(_0xa13e16,_0x3c04ae){_0xa13e16=_0xa13e16-0x179;let _0x47fa9c=_0x5be55[_0xa13e16];return _0x47fa9c;},a428_0x4463(_0xf62f41,_0x20da45);}'use strict';var __createBinding=this&&this[a428_0xeb34cd(0x1a3)]||(Object[a428_0xeb34cd(0x1a0)]?function(_0x4f5075,_0x28e6fa,_0x160cca,_0x23a230){const _0x5d5bbb=a428_0xeb34cd;if(_0x23a230===undefined)_0x23a230=_0x160cca;var _0x36f7a3=Object[_0x5d5bbb(0x191)](_0x28e6fa,_0x160cca);(!_0x36f7a3||(_0x5d5bbb(0x18f)in _0x36f7a3?!_0x28e6fa[_0x5d5bbb(0x181)]:_0x36f7a3[_0x5d5bbb(0x190)]||_0x36f7a3[_0x5d5bbb(0x1a1)]))&&(_0x36f7a3={'enumerable':!![],'get':function(){return _0x28e6fa[_0x160cca];}}),Object[_0x5d5bbb(0x17a)](_0x4f5075,_0x23a230,_0x36f7a3);}:function(_0x11c761,_0x5eac30,_0x2ee175,_0x345a1a){if(_0x345a1a===undefined)_0x345a1a=_0x2ee175;_0x11c761[_0x345a1a]=_0x5eac30[_0x2ee175];}),__setModuleDefault=this&&this[a428_0xeb34cd(0x19c)]||(Object[a428_0xeb34cd(0x1a0)]?function(_0x2e6132,_0x3d683f){const _0x52a004=a428_0xeb34cd;Object[_0x52a004(0x17a)](_0x2e6132,_0x52a004(0x199),{'enumerable':!![],'value':_0x3d683f});}:function(_0x28258e,_0x455fa4){const _0x120367=a428_0xeb34cd;_0x28258e[_0x120367(0x199)]=_0x455fa4;}),__importStar=this&&this[a428_0xeb34cd(0x183)]||function(_0x46019a){const _0x15e5b0=a428_0xeb34cd;if(_0x46019a&&_0x46019a[_0x15e5b0(0x181)])return _0x46019a;var _0x3fe747={};if(_0x46019a!=null){for(var _0x42d083 in _0x46019a)if(_0x42d083!==_0x15e5b0(0x199)&&Object[_0x15e5b0(0x18d)]['hasOwnProperty'][_0x15e5b0(0x19b)](_0x46019a,_0x42d083))__createBinding(_0x3fe747,_0x46019a,_0x42d083);}return __setModuleDefault(_0x3fe747,_0x46019a),_0x3fe747;},__importDefault=this&&this[a428_0xeb34cd(0x184)]||function(_0x5ae4f0){const _0x4a7d4e=a428_0xeb34cd;return _0x5ae4f0&&_0x5ae4f0[_0x4a7d4e(0x181)]?_0x5ae4f0:{'default':_0x5ae4f0};};Object[a428_0xeb34cd(0x17a)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a428_0xeb34cd(0x17b))),AppError_1=__importDefault(require(a428_0xeb34cd(0x19a))),FilesOptions_1=__importDefault(require(a428_0xeb34cd(0x182))),ShowService_1=__importDefault(require(a428_0xeb34cd(0x198))),UpdateService=async({fileData:_0x1d9ce8,id:_0x1b4e91,companyId:_0x4b5680})=>{const _0x6ac21a=a428_0xeb34cd,_0x25f7e8=await(0x0,ShowService_1[_0x6ac21a(0x199)])(_0x1b4e91,_0x4b5680),_0x105acd=Yup['object']()[_0x6ac21a(0x19d)]({'name':Yup[_0x6ac21a(0x17e)]()[_0x6ac21a(0x196)](0x3)}),{name:_0x1d8846,message:_0x2ba242,options:_0x13c927}=_0x1d9ce8;try{await _0x105acd[_0x6ac21a(0x179)]({'name':_0x1d8846});}catch(_0xce29c4){throw new AppError_1[(_0x6ac21a(0x199))](_0xce29c4[_0x6ac21a(0x1a5)]);}return _0x13c927&&(await Promise['all'](_0x13c927[_0x6ac21a(0x185)](async _0x269b15=>{await FilesOptions_1['default']['upsert']({..._0x269b15,'fileId':_0x25f7e8['id']});})),await Promise[_0x6ac21a(0x18b)](_0x25f7e8[_0x6ac21a(0x18a)][_0x6ac21a(0x185)](async _0x34c634=>{const _0x9ae97e=_0x6ac21a,_0x413136=_0x13c927[_0x9ae97e(0x197)](_0x50e54b=>_0x50e54b['id']===_0x34c634['id']);_0x413136===-0x1&&await FilesOptions_1[_0x9ae97e(0x199)][_0x9ae97e(0x1a7)]({'where':{'id':_0x34c634['id']}});}))),await _0x25f7e8[_0x6ac21a(0x1a2)]({'name':_0x1d8846,'message':_0x2ba242}),await _0x25f7e8[_0x6ac21a(0x193)]({'attributes':['id',_0x6ac21a(0x189),'message',_0x6ac21a(0x195)],'include':[_0x6ac21a(0x18a)]}),_0x25f7e8;};exports[a428_0xeb34cd(0x199)]=UpdateService;