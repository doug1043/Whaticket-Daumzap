'use strict';var a465_0x1f2cd3=a465_0x5905;(function(_0x250428,_0x51def3){var _0x4485b7=a465_0x5905,_0x74abad=_0x250428();while(!![]){try{var _0x5b2597=-parseInt(_0x4485b7(0x1a8))/0x1*(parseInt(_0x4485b7(0x1c7))/0x2)+-parseInt(_0x4485b7(0x1c6))/0x3*(-parseInt(_0x4485b7(0x1ba))/0x4)+-parseInt(_0x4485b7(0x1b1))/0x5+-parseInt(_0x4485b7(0x1ce))/0x6*(parseInt(_0x4485b7(0x1af))/0x7)+-parseInt(_0x4485b7(0x1aa))/0x8+-parseInt(_0x4485b7(0x1be))/0x9*(parseInt(_0x4485b7(0x1bc))/0xa)+parseInt(_0x4485b7(0x1ab))/0xb*(parseInt(_0x4485b7(0x1c9))/0xc);if(_0x5b2597===_0x51def3)break;else _0x74abad['push'](_0x74abad['shift']());}catch(_0x5804d9){_0x74abad['push'](_0x74abad['shift']());}}}(a465_0x3800,0x1b823));function a465_0x3800(){var _0x30ef3c=['destroy','getOwnPropertyDescriptor','map','364818TESKrJ','__importDefault','__setModuleDefault','companyId','defineProperty','findIndex','configurable','../../errors/AppError','prototype','179107McKZrI','./ShowService','1262416YvfjPj','33NnOIJz','object','default','__createBinding','7gxczpu','(((.+)+)+)+$','346815GnjOhE','message','__esModule','__importStar','validate','shape','constructor','all','search','279308FkuCoR','options','963640ehSIcE','toString','18FfaFZt','min','getOwnPropertyNames','update','length','reload','get','writable','3pkkDhw','2DmjdDm','create','2810604rrUDJF','string'];a465_0x3800=function(){return _0x30ef3c;};return a465_0x3800();}function a465_0x5905(_0x440a42,_0x305300){var _0x2c283c=a465_0x3800();return a465_0x5905=function(_0x3fbc7c,_0x27932e){_0x3fbc7c=_0x3fbc7c-0x1a6;var _0x3800ad=_0x2c283c[_0x3fbc7c];return _0x3800ad;},a465_0x5905(_0x440a42,_0x305300);}var __createBinding=this&&this[a465_0x1f2cd3(0x1ae)]||(Object['create']?function(_0x46a306,_0x2a64ee,_0x16e2fa,_0x2e3c7){var _0x19ad79=a465_0x1f2cd3;if(_0x2e3c7===undefined)_0x2e3c7=_0x16e2fa;var _0x12ae58=Object[_0x19ad79(0x1cc)](_0x2a64ee,_0x16e2fa);(!_0x12ae58||(_0x19ad79(0x1c4)in _0x12ae58?!_0x2a64ee[_0x19ad79(0x1b3)]:_0x12ae58[_0x19ad79(0x1c5)]||_0x12ae58[_0x19ad79(0x1d4)]))&&(_0x12ae58={'enumerable':!![],'get':function(){return _0x2a64ee[_0x16e2fa];}}),Object['defineProperty'](_0x46a306,_0x2e3c7,_0x12ae58);}:function(_0x5786f9,_0x2d2e5d,_0x4286e7,_0x51efa2){if(_0x51efa2===undefined)_0x51efa2=_0x4286e7;_0x5786f9[_0x51efa2]=_0x2d2e5d[_0x4286e7];}),__setModuleDefault=this&&this[a465_0x1f2cd3(0x1d0)]||(Object[a465_0x1f2cd3(0x1c8)]?function(_0x17b89a,_0x11bdf1){var _0x479bc5=a465_0x1f2cd3;Object[_0x479bc5(0x1d2)](_0x17b89a,_0x479bc5(0x1ad),{'enumerable':!![],'value':_0x11bdf1});}:function(_0x41dd0b,_0x339b32){_0x41dd0b['default']=_0x339b32;}),__importStar=this&&this[a465_0x1f2cd3(0x1b4)]||(function(){var _0x341ed6=(function(){var _0x4381de=!![];return function(_0x68f809,_0x1c3746){var _0x17e9e3=_0x4381de?function(){if(_0x1c3746){var _0x139a7e=_0x1c3746['apply'](_0x68f809,arguments);return _0x1c3746=null,_0x139a7e;}}:function(){};return _0x4381de=![],_0x17e9e3;};}()),_0x35494b=_0x341ed6(this,function(){var _0x46fe1f=a465_0x5905;return _0x35494b[_0x46fe1f(0x1bd)]()[_0x46fe1f(0x1b9)](_0x46fe1f(0x1b0))['toString']()[_0x46fe1f(0x1b7)](_0x35494b)[_0x46fe1f(0x1b9)]('(((.+)+)+)+$');});_0x35494b();var _0x202345=function(_0x5802ec){var _0x315ec6=a465_0x5905;return _0x202345=Object[_0x315ec6(0x1c0)]||function(_0x5ad084){var _0xf58e2a=_0x315ec6,_0x352eed=[];for(var _0x3543b1 in _0x5ad084)if(Object[_0xf58e2a(0x1a7)]['hasOwnProperty']['call'](_0x5ad084,_0x3543b1))_0x352eed[_0x352eed[_0xf58e2a(0x1c2)]]=_0x3543b1;return _0x352eed;},_0x202345(_0x5802ec);};return function(_0x30269d){var _0x2b197a=a465_0x5905;if(_0x30269d&&_0x30269d[_0x2b197a(0x1b3)])return _0x30269d;var _0x75aa17={};if(_0x30269d!=null){for(var _0x40d422=_0x202345(_0x30269d),_0x32d99a=0x0;_0x32d99a<_0x40d422['length'];_0x32d99a++)if(_0x40d422[_0x32d99a]!==_0x2b197a(0x1ad))__createBinding(_0x75aa17,_0x30269d,_0x40d422[_0x32d99a]);}return __setModuleDefault(_0x75aa17,_0x30269d),_0x75aa17;};}()),__importDefault=this&&this[a465_0x1f2cd3(0x1cf)]||function(_0x3f684e){var _0xb5add8=a465_0x1f2cd3;return _0x3f684e&&_0x3f684e[_0xb5add8(0x1b3)]?_0x3f684e:{'default':_0x3f684e};};Object[a465_0x1f2cd3(0x1d2)](exports,a465_0x1f2cd3(0x1b3),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a465_0x1f2cd3(0x1a6))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a465_0x1f2cd3(0x1a9))),UpdateService=async({fileData:_0x376ff3,id:_0x51c952,companyId:_0x98a89c})=>{var _0x40ae97=a465_0x1f2cd3;const _0x5a1921=await(0x0,ShowService_1[_0x40ae97(0x1ad)])(_0x51c952,_0x98a89c),_0x2ed0f9=Yup[_0x40ae97(0x1ac)]()[_0x40ae97(0x1b6)]({'name':Yup[_0x40ae97(0x1ca)]()[_0x40ae97(0x1bf)](0x3)}),{name:_0x2b9d2c,message:_0x594245,options:_0x4da80f}=_0x376ff3;try{await _0x2ed0f9[_0x40ae97(0x1b5)]({'name':_0x2b9d2c});}catch(_0x46fcc7){throw new AppError_1['default'](_0x46fcc7[_0x40ae97(0x1b2)]);}return _0x4da80f&&(await Promise[_0x40ae97(0x1b8)](_0x4da80f[_0x40ae97(0x1cd)](async _0x19a7dc=>{var _0x241a4f=_0x40ae97;await FilesOptions_1[_0x241a4f(0x1ad)]['upsert']({..._0x19a7dc,'fileId':_0x5a1921['id']});})),await Promise[_0x40ae97(0x1b8)](_0x5a1921[_0x40ae97(0x1bb)][_0x40ae97(0x1cd)](async _0x1e1228=>{var _0x441eeb=_0x40ae97;const _0x33845e=_0x4da80f[_0x441eeb(0x1d3)](_0x1dd9e6=>_0x1dd9e6['id']===_0x1e1228['id']);_0x33845e===-0x1&&await FilesOptions_1[_0x441eeb(0x1ad)][_0x441eeb(0x1cb)]({'where':{'id':_0x1e1228['id']}});}))),await _0x5a1921[_0x40ae97(0x1c1)]({'name':_0x2b9d2c,'message':_0x594245}),await _0x5a1921[_0x40ae97(0x1c3)]({'attributes':['id','name','message',_0x40ae97(0x1d1)],'include':[_0x40ae97(0x1bb)]}),_0x5a1921;};exports[a465_0x1f2cd3(0x1ad)]=UpdateService;