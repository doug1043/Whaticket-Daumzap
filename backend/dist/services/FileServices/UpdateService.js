function a431_0x2bdf(_0x214689,_0x123acd){const _0x4607dd=a431_0x1195();return a431_0x2bdf=function(_0x2f77b3,_0x3e2357){_0x2f77b3=_0x2f77b3-0x193;let _0x119555=_0x4607dd[_0x2f77b3];return _0x119555;},a431_0x2bdf(_0x214689,_0x123acd);}const a431_0x5eb922=a431_0x2bdf;(function(_0x40c694,_0x4728c7){const _0x4ab2e9=a431_0x2bdf,_0x41ce4c=_0x40c694();while(!![]){try{const _0x19574e=parseInt(_0x4ab2e9(0x1a7))/0x1+-parseInt(_0x4ab2e9(0x1b9))/0x2*(-parseInt(_0x4ab2e9(0x1ad))/0x3)+parseInt(_0x4ab2e9(0x1bc))/0x4+parseInt(_0x4ab2e9(0x19a))/0x5*(parseInt(_0x4ab2e9(0x1a9))/0x6)+-parseInt(_0x4ab2e9(0x19c))/0x7+-parseInt(_0x4ab2e9(0x198))/0x8*(parseInt(_0x4ab2e9(0x1b1))/0x9)+-parseInt(_0x4ab2e9(0x19f))/0xa*(parseInt(_0x4ab2e9(0x1ba))/0xb);if(_0x19574e===_0x4728c7)break;else _0x41ce4c['push'](_0x41ce4c['shift']());}catch(_0x37cd90){_0x41ce4c['push'](_0x41ce4c['shift']());}}}(a431_0x1195,0x99ae1));const a431_0x3e2357=(function(){let _0x4fcd4f=!![];return function(_0x9222e7,_0x128987){const _0x1cd169=_0x4fcd4f?function(){const _0x45664e=a431_0x2bdf;if(_0x128987){const _0x59cade=_0x128987[_0x45664e(0x1a1)](_0x9222e7,arguments);return _0x128987=null,_0x59cade;}}:function(){};return _0x4fcd4f=![],_0x1cd169;};}()),a431_0x2f77b3=a431_0x3e2357(this,function(){const _0x249f73=a431_0x2bdf;return a431_0x2f77b3[_0x249f73(0x19b)]()[_0x249f73(0x1a5)](_0x249f73(0x1b3))[_0x249f73(0x19b)]()[_0x249f73(0x1b6)](a431_0x2f77b3)['search']('(((.+)+)+)+$');});a431_0x2f77b3();'use strict';var __createBinding=this&&this[a431_0x5eb922(0x1b4)]||(Object[a431_0x5eb922(0x1af)]?function(_0x263e50,_0x596bee,_0x1468a9,_0x641b6b){const _0x2891a7=a431_0x5eb922;if(_0x641b6b===undefined)_0x641b6b=_0x1468a9;var _0x54d041=Object[_0x2891a7(0x194)](_0x596bee,_0x1468a9);(!_0x54d041||(_0x2891a7(0x193)in _0x54d041?!_0x596bee[_0x2891a7(0x197)]:_0x54d041['writable']||_0x54d041[_0x2891a7(0x1b8)]))&&(_0x54d041={'enumerable':!![],'get':function(){return _0x596bee[_0x1468a9];}}),Object[_0x2891a7(0x1a3)](_0x263e50,_0x641b6b,_0x54d041);}:function(_0x5a4fb3,_0x5575a4,_0x54df49,_0x14535d){if(_0x14535d===undefined)_0x14535d=_0x54df49;_0x5a4fb3[_0x14535d]=_0x5575a4[_0x54df49];}),__setModuleDefault=this&&this[a431_0x5eb922(0x1ae)]||(Object[a431_0x5eb922(0x1af)]?function(_0x2ca56b,_0x21eead){Object['defineProperty'](_0x2ca56b,'default',{'enumerable':!![],'value':_0x21eead});}:function(_0x5195e8,_0x882356){_0x5195e8['default']=_0x882356;}),__importStar=this&&this[a431_0x5eb922(0x1aa)]||function(_0x544c0b){const _0x225099=a431_0x5eb922;if(_0x544c0b&&_0x544c0b[_0x225099(0x197)])return _0x544c0b;var _0x23b8a8={};if(_0x544c0b!=null){for(var _0x5aea34 in _0x544c0b)if(_0x5aea34!=='default'&&Object['prototype']['hasOwnProperty'][_0x225099(0x1ab)](_0x544c0b,_0x5aea34))__createBinding(_0x23b8a8,_0x544c0b,_0x5aea34);}return __setModuleDefault(_0x23b8a8,_0x544c0b),_0x23b8a8;},__importDefault=this&&this[a431_0x5eb922(0x1a4)]||function(_0x3c28ed){const _0x513c16=a431_0x5eb922;return _0x3c28ed&&_0x3c28ed[_0x513c16(0x197)]?_0x3c28ed:{'default':_0x3c28ed};};Object[a431_0x5eb922(0x1a3)](exports,a431_0x5eb922(0x197),{'value':!![]});const Yup=__importStar(require(a431_0x5eb922(0x1a0))),AppError_1=__importDefault(require(a431_0x5eb922(0x1b7))),FilesOptions_1=__importDefault(require(a431_0x5eb922(0x1bb))),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x167fc6,id:_0x22064e,companyId:_0x110cb5})=>{const _0x4ea28f=a431_0x5eb922,_0x5ebd1f=await(0x0,ShowService_1[_0x4ea28f(0x1a8)])(_0x22064e,_0x110cb5),_0x5ee96a=Yup['object']()[_0x4ea28f(0x1ac)]({'name':Yup['string']()[_0x4ea28f(0x19e)](0x3)}),{name:_0x2dc09e,message:_0x25c04f,options:_0x463b4c}=_0x167fc6;try{await _0x5ee96a['validate']({'name':_0x2dc09e});}catch(_0x3e7fe9){throw new AppError_1['default'](_0x3e7fe9[_0x4ea28f(0x199)]);}return _0x463b4c&&(await Promise[_0x4ea28f(0x196)](_0x463b4c[_0x4ea28f(0x1b2)](async _0x476ad0=>{const _0x379bdc=_0x4ea28f;await FilesOptions_1[_0x379bdc(0x1a8)]['upsert']({..._0x476ad0,'fileId':_0x5ebd1f['id']});})),await Promise[_0x4ea28f(0x196)](_0x5ebd1f[_0x4ea28f(0x1a6)][_0x4ea28f(0x1b2)](async _0x1c4ab8=>{const _0x3f54ff=_0x4ea28f,_0x3b45b9=_0x463b4c[_0x3f54ff(0x1b5)](_0x4773ff=>_0x4773ff['id']===_0x1c4ab8['id']);_0x3b45b9===-0x1&&await FilesOptions_1['default']['destroy']({'where':{'id':_0x1c4ab8['id']}});}))),await _0x5ebd1f[_0x4ea28f(0x1b0)]({'name':_0x2dc09e,'message':_0x25c04f}),await _0x5ebd1f[_0x4ea28f(0x195)]({'attributes':['id',_0x4ea28f(0x1a2),_0x4ea28f(0x199),_0x4ea28f(0x19d)],'include':['options']}),_0x5ebd1f;};function a431_0x1195(){const _0x265f47=['63KQNQIj','map','(((.+)+)+)+$','__createBinding','findIndex','constructor','../../errors/AppError','configurable','330386ljyZBS','561143IFxzbU','../../models/FilesOptions','1985176pyknny','get','getOwnPropertyDescriptor','reload','all','__esModule','918872vVACGd','message','20TRQwaR','toString','7534520ZHIoHg','companyId','min','30OAWzFN','yup','apply','name','defineProperty','__importDefault','search','options','681669PbfGmv','default','1731804evrksa','__importStar','call','shape','6txDRho','__setModuleDefault','create','update'];a431_0x1195=function(){return _0x265f47;};return a431_0x1195();}exports['default']=UpdateService;