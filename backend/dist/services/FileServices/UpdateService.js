'use strict';var a546_0x422f4b=a546_0x3849;(function(_0x3c3b15,_0x24788f){var _0x284f85=a546_0x3849,_0x4926e8=_0x3c3b15();while(!![]){try{var _0x56e101=parseInt(_0x284f85(0xd0))/0x1*(parseInt(_0x284f85(0xec))/0x2)+-parseInt(_0x284f85(0xc9))/0x3+parseInt(_0x284f85(0xee))/0x4+parseInt(_0x284f85(0xcc))/0x5*(-parseInt(_0x284f85(0xcf))/0x6)+-parseInt(_0x284f85(0xcb))/0x7+-parseInt(_0x284f85(0xe6))/0x8+parseInt(_0x284f85(0xf3))/0x9;if(_0x56e101===_0x24788f)break;else _0x4926e8['push'](_0x4926e8['shift']());}catch(_0x1f11f1){_0x4926e8['push'](_0x4926e8['shift']());}}}(a546_0x1100,0xe3db5));function a546_0x1100(){var _0x15d976=['(((.+)+)+)+$','toString','hasOwnProperty','32286249DiBeMK','__esModule','2919765tlYsui','all','9213246DsrJIH','274260mUzUOz','name','object','144UVSjRO','5GfaPFb','create','shape','get','search','yup','prototype','./ShowService','defineProperty','call','../../errors/AppError','findIndex','../../models/FilesOptions','message','constructor','map','upsert','__createBinding','default','apply','update','destroy','6020176rruAgr','length','options','min','reload','string','399434ovLMms','__importDefault','2823032WXrCoG','companyId'];a546_0x1100=function(){return _0x15d976;};return a546_0x1100();}var __createBinding=this&&this[a546_0x422f4b(0xe1)]||(Object['create']?function(_0x584451,_0x470a68,_0x399da8,_0x2bf2ce){var _0x4c3d27=a546_0x422f4b;if(_0x2bf2ce===undefined)_0x2bf2ce=_0x399da8;var _0x455667=Object['getOwnPropertyDescriptor'](_0x470a68,_0x399da8);(!_0x455667||(_0x4c3d27(0xd3)in _0x455667?!_0x470a68[_0x4c3d27(0xc8)]:_0x455667['writable']||_0x455667['configurable']))&&(_0x455667={'enumerable':!![],'get':function(){return _0x470a68[_0x399da8];}}),Object[_0x4c3d27(0xd8)](_0x584451,_0x2bf2ce,_0x455667);}:function(_0x2b39d1,_0x168837,_0x28e294,_0xccfe32){if(_0xccfe32===undefined)_0xccfe32=_0x28e294;_0x2b39d1[_0xccfe32]=_0x168837[_0x28e294];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a546_0x422f4b(0xd1)]?function(_0x19dab9,_0x568419){var _0x58621e=a546_0x422f4b;Object[_0x58621e(0xd8)](_0x19dab9,_0x58621e(0xe2),{'enumerable':!![],'value':_0x568419});}:function(_0x4b3e6a,_0x493633){var _0x490be5=a546_0x422f4b;_0x4b3e6a[_0x490be5(0xe2)]=_0x493633;}),__importStar=this&&this['__importStar']||(function(){var _0x1fa7a1=(function(){var _0x4d7d1f=!![];return function(_0x3ceb19,_0x4fc31d){var _0x5503c3=_0x4d7d1f?function(){var _0x5b218b=a546_0x3849;if(_0x4fc31d){var _0x3a1874=_0x4fc31d[_0x5b218b(0xe3)](_0x3ceb19,arguments);return _0x4fc31d=null,_0x3a1874;}}:function(){};return _0x4d7d1f=![],_0x5503c3;};}()),_0x12eeb4=_0x1fa7a1(this,function(){var _0x329103=a546_0x3849;return _0x12eeb4[_0x329103(0xf1)]()[_0x329103(0xd4)](_0x329103(0xf0))[_0x329103(0xf1)]()[_0x329103(0xde)](_0x12eeb4)['search'](_0x329103(0xf0));});_0x12eeb4();var _0x3a7c5e=function(_0x5ac68d){return _0x3a7c5e=Object['getOwnPropertyNames']||function(_0x5694ad){var _0x14860b=a546_0x3849,_0x16f824=[];for(var _0x565bcc in _0x5694ad)if(Object[_0x14860b(0xd6)][_0x14860b(0xf2)][_0x14860b(0xd9)](_0x5694ad,_0x565bcc))_0x16f824[_0x16f824[_0x14860b(0xe7)]]=_0x565bcc;return _0x16f824;},_0x3a7c5e(_0x5ac68d);};return function(_0x42ba09){var _0xc8ed29=a546_0x3849;if(_0x42ba09&&_0x42ba09['__esModule'])return _0x42ba09;var _0x3a69c7={};if(_0x42ba09!=null){for(var _0x4b1570=_0x3a7c5e(_0x42ba09),_0x527b55=0x0;_0x527b55<_0x4b1570['length'];_0x527b55++)if(_0x4b1570[_0x527b55]!==_0xc8ed29(0xe2))__createBinding(_0x3a69c7,_0x42ba09,_0x4b1570[_0x527b55]);}return __setModuleDefault(_0x3a69c7,_0x42ba09),_0x3a69c7;};}()),__importDefault=this&&this[a546_0x422f4b(0xed)]||function(_0x1362c9){return _0x1362c9&&_0x1362c9['__esModule']?_0x1362c9:{'default':_0x1362c9};};Object[a546_0x422f4b(0xd8)](exports,'__esModule',{'value':!![]});function a546_0x3849(_0x22af8c,_0x33cb56){var _0x200214=a546_0x1100();return a546_0x3849=function(_0x9189b2,_0x2268c9){_0x9189b2=_0x9189b2-0xc8;var _0x1100ec=_0x200214[_0x9189b2];return _0x1100ec;},a546_0x3849(_0x22af8c,_0x33cb56);}const Yup=__importStar(require(a546_0x422f4b(0xd5))),AppError_1=__importDefault(require(a546_0x422f4b(0xda))),FilesOptions_1=__importDefault(require(a546_0x422f4b(0xdc))),ShowService_1=__importDefault(require(a546_0x422f4b(0xd7))),UpdateService=async({fileData:_0x4eb62d,id:_0x2a84b4,companyId:_0x3d1834})=>{var _0x318dee=a546_0x422f4b;const _0x30116a=await(0x0,ShowService_1['default'])(_0x2a84b4,_0x3d1834),_0x4597b2=Yup[_0x318dee(0xce)]()[_0x318dee(0xd2)]({'name':Yup[_0x318dee(0xeb)]()[_0x318dee(0xe9)](0x3)}),{name:_0x473b6e,message:_0x8feff5,options:_0x928c5}=_0x4eb62d;try{await _0x4597b2['validate']({'name':_0x473b6e});}catch(_0x3ae428){throw new AppError_1['default'](_0x3ae428[_0x318dee(0xdd)]);}return _0x928c5&&(await Promise[_0x318dee(0xca)](_0x928c5[_0x318dee(0xdf)](async _0x53116d=>{var _0x27819=_0x318dee;await FilesOptions_1[_0x27819(0xe2)][_0x27819(0xe0)]({..._0x53116d,'fileId':_0x30116a['id']});})),await Promise[_0x318dee(0xca)](_0x30116a[_0x318dee(0xe8)][_0x318dee(0xdf)](async _0x36eb86=>{var _0x1b7013=_0x318dee;const _0x56eaf8=_0x928c5[_0x1b7013(0xdb)](_0x44b89e=>_0x44b89e['id']===_0x36eb86['id']);_0x56eaf8===-0x1&&await FilesOptions_1['default'][_0x1b7013(0xe5)]({'where':{'id':_0x36eb86['id']}});}))),await _0x30116a[_0x318dee(0xe4)]({'name':_0x473b6e,'message':_0x8feff5}),await _0x30116a[_0x318dee(0xea)]({'attributes':['id',_0x318dee(0xcd),_0x318dee(0xdd),_0x318dee(0xef)],'include':['options']}),_0x30116a;};exports[a546_0x422f4b(0xe2)]=UpdateService;