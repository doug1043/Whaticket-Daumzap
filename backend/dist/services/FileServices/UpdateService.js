'use strict';var a456_0x4d0ec2=a456_0xe0c1;(function(_0x1e0841,_0x9c0f62){var _0x562281=a456_0xe0c1,_0x536347=_0x1e0841();while(!![]){try{var _0xb988f1=-parseInt(_0x562281(0x1fc))/0x1*(parseInt(_0x562281(0x1e0))/0x2)+parseInt(_0x562281(0x1e2))/0x3*(parseInt(_0x562281(0x1ea))/0x4)+parseInt(_0x562281(0x1db))/0x5+-parseInt(_0x562281(0x1f5))/0x6*(parseInt(_0x562281(0x1d9))/0x7)+parseInt(_0x562281(0x1ee))/0x8+-parseInt(_0x562281(0x1e9))/0x9*(-parseInt(_0x562281(0x1fb))/0xa)+-parseInt(_0x562281(0x1df))/0xb;if(_0xb988f1===_0x9c0f62)break;else _0x536347['push'](_0x536347['shift']());}catch(_0x45364a){_0x536347['push'](_0x536347['shift']());}}}(a456_0x2978,0xde7b0));var __createBinding=this&&this['__createBinding']||(Object[a456_0x4d0ec2(0x1fd)]?function(_0x3ed3f4,_0x103880,_0x3143d2,_0x272cfd){var _0x4da339=a456_0x4d0ec2;if(_0x272cfd===undefined)_0x272cfd=_0x3143d2;var _0x33f3b4=Object[_0x4da339(0x1f8)](_0x103880,_0x3143d2);(!_0x33f3b4||('get'in _0x33f3b4?!_0x103880['__esModule']:_0x33f3b4[_0x4da339(0x1fe)]||_0x33f3b4[_0x4da339(0x1f0)]))&&(_0x33f3b4={'enumerable':!![],'get':function(){return _0x103880[_0x3143d2];}}),Object[_0x4da339(0x1e3)](_0x3ed3f4,_0x272cfd,_0x33f3b4);}:function(_0x1cd0ac,_0xfde43e,_0xefe932,_0x135c92){if(_0x135c92===undefined)_0x135c92=_0xefe932;_0x1cd0ac[_0x135c92]=_0xfde43e[_0xefe932];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a456_0x4d0ec2(0x1fd)]?function(_0x42372c,_0x1bea71){var _0x410981=a456_0x4d0ec2;Object[_0x410981(0x1e3)](_0x42372c,'default',{'enumerable':!![],'value':_0x1bea71});}:function(_0x4b0af1,_0x5862e7){var _0x350d6d=a456_0x4d0ec2;_0x4b0af1[_0x350d6d(0x1e7)]=_0x5862e7;}),__importStar=this&&this[a456_0x4d0ec2(0x1f3)]||(function(){var _0x4ee2d5=(function(){var _0x1f7cea=!![];return function(_0x3c07f8,_0x5322f7){var _0x5ea05e=_0x1f7cea?function(){if(_0x5322f7){var _0x360c4d=_0x5322f7['apply'](_0x3c07f8,arguments);return _0x5322f7=null,_0x360c4d;}}:function(){};return _0x1f7cea=![],_0x5ea05e;};}()),_0x122652=_0x4ee2d5(this,function(){var _0x213197=a456_0xe0c1;return _0x122652[_0x213197(0x1ed)]()['search'](_0x213197(0x1e6))['toString']()[_0x213197(0x1dc)](_0x122652)[_0x213197(0x1e8)](_0x213197(0x1e6));});_0x122652();var _0x374377=function(_0x5eef3d){var _0x55b3bd=a456_0xe0c1;return _0x374377=Object[_0x55b3bd(0x1e1)]||function(_0x5c1acc){var _0x547448=_0x55b3bd,_0x2a9464=[];for(var _0x3ab8b5 in _0x5c1acc)if(Object[_0x547448(0x1f1)][_0x547448(0x1e4)]['call'](_0x5c1acc,_0x3ab8b5))_0x2a9464[_0x2a9464[_0x547448(0x1de)]]=_0x3ab8b5;return _0x2a9464;},_0x374377(_0x5eef3d);};return function(_0x8581f9){var _0x472175=a456_0xe0c1;if(_0x8581f9&&_0x8581f9[_0x472175(0x1eb)])return _0x8581f9;var _0x156c43={};if(_0x8581f9!=null){for(var _0x18f287=_0x374377(_0x8581f9),_0x54de7a=0x0;_0x54de7a<_0x18f287[_0x472175(0x1de)];_0x54de7a++)if(_0x18f287[_0x54de7a]!==_0x472175(0x1e7))__createBinding(_0x156c43,_0x8581f9,_0x18f287[_0x54de7a]);}return __setModuleDefault(_0x156c43,_0x8581f9),_0x156c43;};}()),__importDefault=this&&this[a456_0x4d0ec2(0x1ff)]||function(_0x1c7088){return _0x1c7088&&_0x1c7088['__esModule']?_0x1c7088:{'default':_0x1c7088};};function a456_0xe0c1(_0x5f10f5,_0x2e0e21){var _0x2e30a4=a456_0x2978();return a456_0xe0c1=function(_0x2fd516,_0x42a0cc){_0x2fd516=_0x2fd516-0x1d9;var _0x2978d5=_0x2e30a4[_0x2fd516];return _0x2978d5;},a456_0xe0c1(_0x5f10f5,_0x2e0e21);}Object[a456_0x4d0ec2(0x1e3)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a456_0x4d0ec2(0x200))),AppError_1=__importDefault(require(a456_0x4d0ec2(0x1e5))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a456_0x4d0ec2(0x1ec))),UpdateService=async({fileData:_0xf26efe,id:_0x52d35e,companyId:_0x3e2a6d})=>{var _0x36cb69=a456_0x4d0ec2;const _0x5c9a69=await(0x0,ShowService_1[_0x36cb69(0x1e7)])(_0x52d35e,_0x3e2a6d),_0x335bf9=Yup[_0x36cb69(0x1fa)]()[_0x36cb69(0x1dd)]({'name':Yup[_0x36cb69(0x1da)]()[_0x36cb69(0x1f9)](0x3)}),{name:_0x2aabe5,message:_0x4228dc,options:_0x19200f}=_0xf26efe;try{await _0x335bf9[_0x36cb69(0x1f2)]({'name':_0x2aabe5});}catch(_0x29d0fa){throw new AppError_1['default'](_0x29d0fa[_0x36cb69(0x1ef)]);}return _0x19200f&&(await Promise[_0x36cb69(0x1f4)](_0x19200f['map'](async _0x18fd5d=>{var _0x4bd0aa=_0x36cb69;await FilesOptions_1[_0x4bd0aa(0x1e7)]['upsert']({..._0x18fd5d,'fileId':_0x5c9a69['id']});})),await Promise[_0x36cb69(0x1f4)](_0x5c9a69['options'][_0x36cb69(0x1f7)](async _0x4badac=>{var _0x3b4459=_0x36cb69;const _0x36fba5=_0x19200f['findIndex'](_0x1ae87c=>_0x1ae87c['id']===_0x4badac['id']);_0x36fba5===-0x1&&await FilesOptions_1[_0x3b4459(0x1e7)]['destroy']({'where':{'id':_0x4badac['id']}});}))),await _0x5c9a69['update']({'name':_0x2aabe5,'message':_0x4228dc}),await _0x5c9a69['reload']({'attributes':['id',_0x36cb69(0x1f6),_0x36cb69(0x1ef),'companyId'],'include':['options']}),_0x5c9a69;};exports[a456_0x4d0ec2(0x1e7)]=UpdateService;function a456_0x2978(){var _0x47703f=['getOwnPropertyNames','1893qbMTaO','defineProperty','hasOwnProperty','../../errors/AppError','(((.+)+)+)+$','default','search','8478EQCqhs','2844oJIoeM','__esModule','./ShowService','toString','5442760ZhTgXw','message','configurable','prototype','validate','__importStar','all','144WEmShS','name','map','getOwnPropertyDescriptor','min','object','1790RfCuHN','79YmCedO','create','writable','__importDefault','yup','405993PRUzkx','string','6351390IddseE','constructor','shape','length','1479643KVkPJP','3294mfJXYn'];a456_0x2978=function(){return _0x47703f;};return a456_0x2978();}