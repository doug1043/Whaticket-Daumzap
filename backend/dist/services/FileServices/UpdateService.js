'use strict';var a465_0x143a36=a465_0x559a;(function(_0x434c43,_0x5a4aa2){var _0x436678=a465_0x559a,_0x304b4e=_0x434c43();while(!![]){try{var _0x45ac47=-parseInt(_0x436678(0x1f5))/0x1+parseInt(_0x436678(0x1f4))/0x2*(-parseInt(_0x436678(0x206))/0x3)+parseInt(_0x436678(0x1ff))/0x4+parseInt(_0x436678(0x1f6))/0x5*(parseInt(_0x436678(0x1ef))/0x6)+parseInt(_0x436678(0x1f0))/0x7+parseInt(_0x436678(0x201))/0x8*(-parseInt(_0x436678(0x207))/0x9)+-parseInt(_0x436678(0x200))/0xa;if(_0x45ac47===_0x5a4aa2)break;else _0x304b4e['push'](_0x304b4e['shift']());}catch(_0x422b9b){_0x304b4e['push'](_0x304b4e['shift']());}}}(a465_0x173a,0xab94e));var __createBinding=this&&this[a465_0x143a36(0x20a)]||(Object[a465_0x143a36(0x205)]?function(_0x1fc137,_0x598480,_0x2f0fbf,_0x13b03e){var _0x335f6f=a465_0x143a36;if(_0x13b03e===undefined)_0x13b03e=_0x2f0fbf;var _0x252acf=Object[_0x335f6f(0x212)](_0x598480,_0x2f0fbf);(!_0x252acf||('get'in _0x252acf?!_0x598480[_0x335f6f(0x20f)]:_0x252acf['writable']||_0x252acf[_0x335f6f(0x1fd)]))&&(_0x252acf={'enumerable':!![],'get':function(){return _0x598480[_0x2f0fbf];}}),Object[_0x335f6f(0x20e)](_0x1fc137,_0x13b03e,_0x252acf);}:function(_0x100f59,_0x5510ae,_0x46bdc5,_0x9d8ef3){if(_0x9d8ef3===undefined)_0x9d8ef3=_0x46bdc5;_0x100f59[_0x9d8ef3]=_0x5510ae[_0x46bdc5];}),__setModuleDefault=this&&this[a465_0x143a36(0x214)]||(Object[a465_0x143a36(0x205)]?function(_0x11d448,_0x305cc4){var _0x40476b=a465_0x143a36;Object[_0x40476b(0x20e)](_0x11d448,_0x40476b(0x210),{'enumerable':!![],'value':_0x305cc4});}:function(_0x5cacd6,_0x40ba56){var _0x2cf743=a465_0x143a36;_0x5cacd6[_0x2cf743(0x210)]=_0x40ba56;}),__importStar=this&&this[a465_0x143a36(0x1f1)]||(function(){var _0x295392=(function(){var _0x293265=!![];return function(_0x1016cf,_0x4deee2){var _0x351ee4=_0x293265?function(){if(_0x4deee2){var _0x4b2200=_0x4deee2['apply'](_0x1016cf,arguments);return _0x4deee2=null,_0x4b2200;}}:function(){};return _0x293265=![],_0x351ee4;};}()),_0x216e7c=_0x295392(this,function(){var _0x5525cc=a465_0x559a;return _0x216e7c[_0x5525cc(0x1f2)]()[_0x5525cc(0x204)]('(((.+)+)+)+$')['toString']()['constructor'](_0x216e7c)[_0x5525cc(0x204)](_0x5525cc(0x1ed));});_0x216e7c();var _0x542e8c=function(_0x362c83){return _0x542e8c=Object['getOwnPropertyNames']||function(_0x56701c){var _0x4b321d=a465_0x559a,_0x2f8c86=[];for(var _0x42610e in _0x56701c)if(Object[_0x4b321d(0x1ee)][_0x4b321d(0x1fb)][_0x4b321d(0x1f8)](_0x56701c,_0x42610e))_0x2f8c86[_0x2f8c86[_0x4b321d(0x1ec)]]=_0x42610e;return _0x2f8c86;},_0x542e8c(_0x362c83);};return function(_0x28f7f7){var _0x44b8a7=a465_0x559a;if(_0x28f7f7&&_0x28f7f7[_0x44b8a7(0x20f)])return _0x28f7f7;var _0x117cbc={};if(_0x28f7f7!=null){for(var _0x1dc50e=_0x542e8c(_0x28f7f7),_0x41e2ab=0x0;_0x41e2ab<_0x1dc50e['length'];_0x41e2ab++)if(_0x1dc50e[_0x41e2ab]!==_0x44b8a7(0x210))__createBinding(_0x117cbc,_0x28f7f7,_0x1dc50e[_0x41e2ab]);}return __setModuleDefault(_0x117cbc,_0x28f7f7),_0x117cbc;};}()),__importDefault=this&&this[a465_0x143a36(0x1fc)]||function(_0x392836){return _0x392836&&_0x392836['__esModule']?_0x392836:{'default':_0x392836};};Object[a465_0x143a36(0x20e)](exports,a465_0x143a36(0x20f),{'value':!![]});const Yup=__importStar(require(a465_0x143a36(0x1eb))),AppError_1=__importDefault(require(a465_0x143a36(0x1fa))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x31f4bf,id:_0x4020ed,companyId:_0x4c9dff})=>{var _0x28e20b=a465_0x143a36;const _0x4db1cb=await(0x0,ShowService_1[_0x28e20b(0x210)])(_0x4020ed,_0x4c9dff),_0x2e42f1=Yup['object']()[_0x28e20b(0x20c)]({'name':Yup[_0x28e20b(0x1f9)]()['min'](0x3)}),{name:_0x1a23f8,message:_0x337fce,options:_0x1d277c}=_0x31f4bf;try{await _0x2e42f1[_0x28e20b(0x211)]({'name':_0x1a23f8});}catch(_0x1f2fed){throw new AppError_1[(_0x28e20b(0x210))](_0x1f2fed[_0x28e20b(0x20b)]);}return _0x1d277c&&(await Promise[_0x28e20b(0x202)](_0x1d277c[_0x28e20b(0x1fe)](async _0x1df0fa=>{var _0x2f2ef0=_0x28e20b;await FilesOptions_1['default'][_0x2f2ef0(0x1ea)]({..._0x1df0fa,'fileId':_0x4db1cb['id']});})),await Promise[_0x28e20b(0x202)](_0x4db1cb[_0x28e20b(0x209)][_0x28e20b(0x1fe)](async _0x279d31=>{var _0x25512b=_0x28e20b;const _0x3b35f9=_0x1d277c[_0x25512b(0x1f3)](_0x43ca60=>_0x43ca60['id']===_0x279d31['id']);_0x3b35f9===-0x1&&await FilesOptions_1[_0x25512b(0x210)][_0x25512b(0x1f7)]({'where':{'id':_0x279d31['id']}});}))),await _0x4db1cb[_0x28e20b(0x203)]({'name':_0x1a23f8,'message':_0x337fce}),await _0x4db1cb[_0x28e20b(0x213)]({'attributes':['id',_0x28e20b(0x208),'message',_0x28e20b(0x20d)],'include':['options']}),_0x4db1cb;};function a465_0x559a(_0x4559c1,_0x5e66ce){var _0x21ecbe=a465_0x173a();return a465_0x559a=function(_0x3289db,_0x4c2fcd){_0x3289db=_0x3289db-0x1ea;var _0x173a0c=_0x21ecbe[_0x3289db];return _0x173a0c;},a465_0x559a(_0x4559c1,_0x5e66ce);}exports[a465_0x143a36(0x210)]=UpdateService;function a465_0x173a(){var _0x59a2a5=['default','validate','getOwnPropertyDescriptor','reload','__setModuleDefault','upsert','yup','length','(((.+)+)+)+$','prototype','6VEjNST','2344062FVHzsR','__importStar','toString','findIndex','2LfLLib','1012439UBQJoC','3112415uCqqpO','destroy','call','string','../../errors/AppError','hasOwnProperty','__importDefault','configurable','map','4852544lZYuaf','2999350QujfiQ','512gOcKyv','all','update','search','create','287571bDjxBI','8361ZjoXLD','name','options','__createBinding','message','shape','companyId','defineProperty','__esModule'];a465_0x173a=function(){return _0x59a2a5;};return a465_0x173a();}