const a432_0x321c10=a432_0xd93f;(function(_0xaeec5d,_0x59b800){const _0xa6d2bc=a432_0xd93f,_0x1c8c51=_0xaeec5d();while(!![]){try{const _0x2baaeb=-parseInt(_0xa6d2bc(0xec))/0x1*(parseInt(_0xa6d2bc(0xee))/0x2)+-parseInt(_0xa6d2bc(0xdb))/0x3*(parseInt(_0xa6d2bc(0x101))/0x4)+-parseInt(_0xa6d2bc(0xe8))/0x5*(-parseInt(_0xa6d2bc(0xdf))/0x6)+parseInt(_0xa6d2bc(0xea))/0x7+-parseInt(_0xa6d2bc(0xfd))/0x8*(-parseInt(_0xa6d2bc(0x102))/0x9)+parseInt(_0xa6d2bc(0xf4))/0xa*(parseInt(_0xa6d2bc(0xfe))/0xb)+-parseInt(_0xa6d2bc(0xe4))/0xc*(parseInt(_0xa6d2bc(0xe0))/0xd);if(_0x2baaeb===_0x59b800)break;else _0x1c8c51['push'](_0x1c8c51['shift']());}catch(_0x442f57){_0x1c8c51['push'](_0x1c8c51['shift']());}}}(a432_0x50c1,0xcb4ad));function a432_0x50c1(){const _0x18d5fb=['(((.+)+)+)+$','yup','companyId','11371128rVEXOd','writable','destroy','../../errors/AppError','5480430zYPtNT','get','1535037sgUkKp','getOwnPropertyDescriptor','1gQraEg','search','920482kSxBpP','create','configurable','message','__importStar','min','10HkXrLL','defineProperty','__createBinding','object','__setModuleDefault','all','default','constructor','../../models/FilesOptions','11054024EWUxjq','12950531hJdtcT','call','options','6535724roEjRN','9whSfxR','validate','3OCLHFA','map','__esModule','toString','6eACrzy','13wPKjCn'];a432_0x50c1=function(){return _0x18d5fb;};return a432_0x50c1();}const a432_0x2db9b7=(function(){let _0x256677=!![];return function(_0x4f39ea,_0x15f71d){const _0x229820=_0x256677?function(){if(_0x15f71d){const _0x360cb0=_0x15f71d['apply'](_0x4f39ea,arguments);return _0x15f71d=null,_0x360cb0;}}:function(){};return _0x256677=![],_0x229820;};}()),a432_0x8d7ad3=a432_0x2db9b7(this,function(){const _0x4360ee=a432_0xd93f;return a432_0x8d7ad3[_0x4360ee(0xde)]()['search'](_0x4360ee(0xe1))[_0x4360ee(0xde)]()[_0x4360ee(0xfb)](a432_0x8d7ad3)[_0x4360ee(0xed)](_0x4360ee(0xe1));});a432_0x8d7ad3();function a432_0xd93f(_0x37314a,_0x46be77){const _0x1d9a42=a432_0x50c1();return a432_0xd93f=function(_0x8d7ad3,_0x2db9b7){_0x8d7ad3=_0x8d7ad3-0xda;let _0x50c1f1=_0x1d9a42[_0x8d7ad3];return _0x50c1f1;},a432_0xd93f(_0x37314a,_0x46be77);}'use strict';var __createBinding=this&&this[a432_0x321c10(0xf6)]||(Object[a432_0x321c10(0xef)]?function(_0x43b3b3,_0x13f4a6,_0x447d44,_0x1498bb){const _0x38d227=a432_0x321c10;if(_0x1498bb===undefined)_0x1498bb=_0x447d44;var _0x4ef00a=Object[_0x38d227(0xeb)](_0x13f4a6,_0x447d44);(!_0x4ef00a||(_0x38d227(0xe9)in _0x4ef00a?!_0x13f4a6[_0x38d227(0xdd)]:_0x4ef00a[_0x38d227(0xe5)]||_0x4ef00a[_0x38d227(0xf0)]))&&(_0x4ef00a={'enumerable':!![],'get':function(){return _0x13f4a6[_0x447d44];}}),Object[_0x38d227(0xf5)](_0x43b3b3,_0x1498bb,_0x4ef00a);}:function(_0x4cdf53,_0x808007,_0x3ba34d,_0x19a685){if(_0x19a685===undefined)_0x19a685=_0x3ba34d;_0x4cdf53[_0x19a685]=_0x808007[_0x3ba34d];}),__setModuleDefault=this&&this[a432_0x321c10(0xf8)]||(Object['create']?function(_0xb6a72c,_0x3cb8f7){const _0x1a0544=a432_0x321c10;Object[_0x1a0544(0xf5)](_0xb6a72c,_0x1a0544(0xfa),{'enumerable':!![],'value':_0x3cb8f7});}:function(_0x588f7d,_0x2fed64){_0x588f7d['default']=_0x2fed64;}),__importStar=this&&this[a432_0x321c10(0xf2)]||function(_0x319d51){const _0x36d8a1=a432_0x321c10;if(_0x319d51&&_0x319d51[_0x36d8a1(0xdd)])return _0x319d51;var _0x28856e={};if(_0x319d51!=null){for(var _0x478646 in _0x319d51)if(_0x478646!=='default'&&Object['prototype']['hasOwnProperty'][_0x36d8a1(0xff)](_0x319d51,_0x478646))__createBinding(_0x28856e,_0x319d51,_0x478646);}return __setModuleDefault(_0x28856e,_0x319d51),_0x28856e;},__importDefault=this&&this['__importDefault']||function(_0x2dd0fa){return _0x2dd0fa&&_0x2dd0fa['__esModule']?_0x2dd0fa:{'default':_0x2dd0fa};};Object['defineProperty'](exports,a432_0x321c10(0xdd),{'value':!![]});const Yup=__importStar(require(a432_0x321c10(0xe2))),AppError_1=__importDefault(require(a432_0x321c10(0xe7))),FilesOptions_1=__importDefault(require(a432_0x321c10(0xfc))),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x23d137,id:_0x524c20,companyId:_0x4c0a89})=>{const _0x182c42=a432_0x321c10,_0x456eb9=await(0x0,ShowService_1[_0x182c42(0xfa)])(_0x524c20,_0x4c0a89),_0x315034=Yup[_0x182c42(0xf7)]()['shape']({'name':Yup['string']()[_0x182c42(0xf3)](0x3)}),{name:_0x235ea3,message:_0x4e3e9d,options:_0xd76556}=_0x23d137;try{await _0x315034[_0x182c42(0xda)]({'name':_0x235ea3});}catch(_0x53b861){throw new AppError_1['default'](_0x53b861['message']);}return _0xd76556&&(await Promise['all'](_0xd76556['map'](async _0x5e605c=>{const _0x16faa5=_0x182c42;await FilesOptions_1[_0x16faa5(0xfa)]['upsert']({..._0x5e605c,'fileId':_0x456eb9['id']});})),await Promise[_0x182c42(0xf9)](_0x456eb9[_0x182c42(0x100)][_0x182c42(0xdc)](async _0x5ddc0d=>{const _0xd8cb1e=_0x182c42,_0xebab26=_0xd76556['findIndex'](_0x4f582b=>_0x4f582b['id']===_0x5ddc0d['id']);_0xebab26===-0x1&&await FilesOptions_1[_0xd8cb1e(0xfa)][_0xd8cb1e(0xe6)]({'where':{'id':_0x5ddc0d['id']}});}))),await _0x456eb9['update']({'name':_0x235ea3,'message':_0x4e3e9d}),await _0x456eb9['reload']({'attributes':['id','name',_0x182c42(0xf1),_0x182c42(0xe3)],'include':[_0x182c42(0x100)]}),_0x456eb9;};exports[a432_0x321c10(0xfa)]=UpdateService;