'use strict';var a547_0xb0d77=a547_0x454e;(function(_0x22cf2,_0x55035d){var _0x599029=a547_0x454e,_0x279c98=_0x22cf2();while(!![]){try{var _0x3c43a7=-parseInt(_0x599029(0x11f))/0x1+-parseInt(_0x599029(0x118))/0x2+-parseInt(_0x599029(0x124))/0x3*(-parseInt(_0x599029(0x11e))/0x4)+-parseInt(_0x599029(0x131))/0x5+-parseInt(_0x599029(0x128))/0x6+parseInt(_0x599029(0x110))/0x7+parseInt(_0x599029(0x134))/0x8;if(_0x3c43a7===_0x55035d)break;else _0x279c98['push'](_0x279c98['shift']());}catch(_0x3160b5){_0x279c98['push'](_0x279c98['shift']());}}}(a547_0x4ef7,0xd6813));function a547_0x454e(_0x262bf2,_0x4e677b){var _0x5301c2=a547_0x4ef7();return a547_0x454e=function(_0x6c95ba,_0x5d974a){_0x6c95ba=_0x6c95ba-0x10c;var _0x4ef72b=_0x5301c2[_0x6c95ba];return _0x4ef72b;},a547_0x454e(_0x262bf2,_0x4e677b);}var __createBinding=this&&this['__createBinding']||(Object[a547_0xb0d77(0x12a)]?function(_0x176e73,_0x5eec14,_0x1be30f,_0x5cb115){var _0x5ebae9=a547_0xb0d77;if(_0x5cb115===undefined)_0x5cb115=_0x1be30f;var _0xb3f3d1=Object[_0x5ebae9(0x126)](_0x5eec14,_0x1be30f);(!_0xb3f3d1||(_0x5ebae9(0x117)in _0xb3f3d1?!_0x5eec14[_0x5ebae9(0x11b)]:_0xb3f3d1['writable']||_0xb3f3d1[_0x5ebae9(0x11a)]))&&(_0xb3f3d1={'enumerable':!![],'get':function(){return _0x5eec14[_0x1be30f];}}),Object[_0x5ebae9(0x119)](_0x176e73,_0x5cb115,_0xb3f3d1);}:function(_0x5ec36b,_0xcd8e49,_0x2e860f,_0x1def23){if(_0x1def23===undefined)_0x1def23=_0x2e860f;_0x5ec36b[_0x1def23]=_0xcd8e49[_0x2e860f];}),__setModuleDefault=this&&this[a547_0xb0d77(0x129)]||(Object[a547_0xb0d77(0x12a)]?function(_0x18db16,_0x39cdb2){var _0x5f1bf7=a547_0xb0d77;Object[_0x5f1bf7(0x119)](_0x18db16,'default',{'enumerable':!![],'value':_0x39cdb2});}:function(_0x1efc98,_0x54832d){var _0x5ccc03=a547_0xb0d77;_0x1efc98[_0x5ccc03(0x115)]=_0x54832d;}),__importStar=this&&this[a547_0xb0d77(0x10d)]||(function(){var _0x4ef852=(function(){var _0x205fa3=!![];return function(_0x5d3b58,_0x17e8e3){var _0x35ec89=_0x205fa3?function(){if(_0x17e8e3){var _0x1c02ed=_0x17e8e3['apply'](_0x5d3b58,arguments);return _0x17e8e3=null,_0x1c02ed;}}:function(){};return _0x205fa3=![],_0x35ec89;};}()),_0x2bbb51=_0x4ef852(this,function(){var _0x3baa2d=a547_0x454e;return _0x2bbb51[_0x3baa2d(0x113)]()[_0x3baa2d(0x12e)](_0x3baa2d(0x130))[_0x3baa2d(0x113)]()[_0x3baa2d(0x10f)](_0x2bbb51)[_0x3baa2d(0x12e)]('(((.+)+)+)+$');});_0x2bbb51();var _0x135944=function(_0x4413b7){return _0x135944=Object['getOwnPropertyNames']||function(_0x2bce73){var _0x56c624=a547_0x454e,_0x544b95=[];for(var _0x550058 in _0x2bce73)if(Object[_0x56c624(0x132)][_0x56c624(0x12d)][_0x56c624(0x11d)](_0x2bce73,_0x550058))_0x544b95[_0x544b95[_0x56c624(0x111)]]=_0x550058;return _0x544b95;},_0x135944(_0x4413b7);};return function(_0x4eb9e7){var _0x262ad6=a547_0x454e;if(_0x4eb9e7&&_0x4eb9e7['__esModule'])return _0x4eb9e7;var _0x391125={};if(_0x4eb9e7!=null){for(var _0x41fefb=_0x135944(_0x4eb9e7),_0x22bec2=0x0;_0x22bec2<_0x41fefb[_0x262ad6(0x111)];_0x22bec2++)if(_0x41fefb[_0x22bec2]!==_0x262ad6(0x115))__createBinding(_0x391125,_0x4eb9e7,_0x41fefb[_0x22bec2]);}return __setModuleDefault(_0x391125,_0x4eb9e7),_0x391125;};}()),__importDefault=this&&this[a547_0xb0d77(0x133)]||function(_0x31726d){var _0x397435=a547_0xb0d77;return _0x31726d&&_0x31726d[_0x397435(0x11b)]?_0x31726d:{'default':_0x31726d};};function a547_0x4ef7(){var _0x513513=['search','validate','(((.+)+)+)+$','6211545RRdJOz','prototype','__importDefault','28178056osYPJE','yup','__importStar','update','constructor','6418139sZBcnD','length','all','toString','../../errors/AppError','default','string','get','2260074ulZQmq','defineProperty','configurable','__esModule','reload','call','4bmDMqA','974405FyzvcX','shape','./ShowService','options','destroy','4293117LMQPaJ','name','getOwnPropertyDescriptor','../../models/FilesOptions','9868866xoQYJt','__setModuleDefault','create','message','findIndex','hasOwnProperty'];a547_0x4ef7=function(){return _0x513513;};return a547_0x4ef7();}Object[a547_0xb0d77(0x119)](exports,a547_0xb0d77(0x11b),{'value':!![]});const Yup=__importStar(require(a547_0xb0d77(0x10c))),AppError_1=__importDefault(require(a547_0xb0d77(0x114))),FilesOptions_1=__importDefault(require(a547_0xb0d77(0x127))),ShowService_1=__importDefault(require(a547_0xb0d77(0x121))),UpdateService=async({fileData:_0x57aa4c,id:_0x46f96,companyId:_0x517fe4})=>{var _0x3dc958=a547_0xb0d77;const _0x5146d5=await(0x0,ShowService_1[_0x3dc958(0x115)])(_0x46f96,_0x517fe4),_0x2f97c2=Yup['object']()[_0x3dc958(0x120)]({'name':Yup[_0x3dc958(0x116)]()['min'](0x3)}),{name:_0x16b261,message:_0x3d9f25,options:_0xace88f}=_0x57aa4c;try{await _0x2f97c2[_0x3dc958(0x12f)]({'name':_0x16b261});}catch(_0x2edb01){throw new AppError_1['default'](_0x2edb01[_0x3dc958(0x12b)]);}return _0xace88f&&(await Promise[_0x3dc958(0x112)](_0xace88f['map'](async _0x5f262d=>{var _0x5baa9c=_0x3dc958;await FilesOptions_1[_0x5baa9c(0x115)]['upsert']({..._0x5f262d,'fileId':_0x5146d5['id']});})),await Promise[_0x3dc958(0x112)](_0x5146d5[_0x3dc958(0x122)]['map'](async _0x27e395=>{var _0x30d336=_0x3dc958;const _0x11bf44=_0xace88f[_0x30d336(0x12c)](_0x275462=>_0x275462['id']===_0x27e395['id']);_0x11bf44===-0x1&&await FilesOptions_1['default'][_0x30d336(0x123)]({'where':{'id':_0x27e395['id']}});}))),await _0x5146d5[_0x3dc958(0x10e)]({'name':_0x16b261,'message':_0x3d9f25}),await _0x5146d5[_0x3dc958(0x11c)]({'attributes':['id',_0x3dc958(0x125),_0x3dc958(0x12b),'companyId'],'include':['options']}),_0x5146d5;};exports[a547_0xb0d77(0x115)]=UpdateService;