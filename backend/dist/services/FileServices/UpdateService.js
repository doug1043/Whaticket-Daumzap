const a432_0x471ca9=a432_0x228a;function a432_0x228a(_0x46eab0,_0x5d2c57){const _0x5d930a=a432_0x7c81();return a432_0x228a=function(_0xdba76b,_0x7d2fa2){_0xdba76b=_0xdba76b-0x103;let _0x7c8197=_0x5d930a[_0xdba76b];return _0x7c8197;},a432_0x228a(_0x46eab0,_0x5d2c57);}(function(_0x523628,_0x4cd309){const _0x2ece8d=a432_0x228a,_0x49197f=_0x523628();while(!![]){try{const _0x5203ed=parseInt(_0x2ece8d(0x10c))/0x1+parseInt(_0x2ece8d(0x107))/0x2+parseInt(_0x2ece8d(0x117))/0x3*(parseInt(_0x2ece8d(0x11e))/0x4)+parseInt(_0x2ece8d(0x12b))/0x5*(parseInt(_0x2ece8d(0x105))/0x6)+parseInt(_0x2ece8d(0x122))/0x7*(parseInt(_0x2ece8d(0x121))/0x8)+parseInt(_0x2ece8d(0x123))/0x9*(parseInt(_0x2ece8d(0x10d))/0xa)+-parseInt(_0x2ece8d(0x116))/0xb;if(_0x5203ed===_0x4cd309)break;else _0x49197f['push'](_0x49197f['shift']());}catch(_0x1f5b40){_0x49197f['push'](_0x49197f['shift']());}}}(a432_0x7c81,0x9d26b));const a432_0x7d2fa2=(function(){let _0x35493f=!![];return function(_0x5145b3,_0x4d7e68){const _0x51cbb1=_0x35493f?function(){if(_0x4d7e68){const _0x29a849=_0x4d7e68['apply'](_0x5145b3,arguments);return _0x4d7e68=null,_0x29a849;}}:function(){};return _0x35493f=![],_0x51cbb1;};}()),a432_0xdba76b=a432_0x7d2fa2(this,function(){const _0x2e6df5=a432_0x228a;return a432_0xdba76b['toString']()['search'](_0x2e6df5(0x10b))[_0x2e6df5(0x129)]()[_0x2e6df5(0x104)](a432_0xdba76b)[_0x2e6df5(0x103)](_0x2e6df5(0x10b));});a432_0xdba76b();function a432_0x7c81(){const _0x1a325f=['2177tqMOrW','45WfgiVJ','call','min','name','validate','upsert','toString','yup','4095iSMWSw','default','companyId','shape','search','constructor','9174BGTJTW','__setModuleDefault','466210NlwBwI','__createBinding','configurable','__esModule','(((.+)+)+)+$','104059qdEaiF','1591090QrvWxH','__importDefault','message','hasOwnProperty','findIndex','../../models/FilesOptions','update','getOwnPropertyDescriptor','destroy','44308759vpnWzM','5574xqUSHG','create','all','prototype','defineProperty','string','map','2324AGypAc','reload','get','31056dpoKtn'];a432_0x7c81=function(){return _0x1a325f;};return a432_0x7c81();}'use strict';var __createBinding=this&&this[a432_0x471ca9(0x108)]||(Object['create']?function(_0xba627f,_0x43b317,_0x57da4c,_0x138296){const _0x19c820=a432_0x471ca9;if(_0x138296===undefined)_0x138296=_0x57da4c;var _0x55372a=Object[_0x19c820(0x114)](_0x43b317,_0x57da4c);(!_0x55372a||(_0x19c820(0x120)in _0x55372a?!_0x43b317[_0x19c820(0x10a)]:_0x55372a['writable']||_0x55372a[_0x19c820(0x109)]))&&(_0x55372a={'enumerable':!![],'get':function(){return _0x43b317[_0x57da4c];}}),Object[_0x19c820(0x11b)](_0xba627f,_0x138296,_0x55372a);}:function(_0x21d6d5,_0x15782f,_0x24de13,_0x211a7e){if(_0x211a7e===undefined)_0x211a7e=_0x24de13;_0x21d6d5[_0x211a7e]=_0x15782f[_0x24de13];}),__setModuleDefault=this&&this[a432_0x471ca9(0x106)]||(Object[a432_0x471ca9(0x118)]?function(_0x5e3f32,_0x206f1e){const _0x59cda0=a432_0x471ca9;Object[_0x59cda0(0x11b)](_0x5e3f32,_0x59cda0(0x12c),{'enumerable':!![],'value':_0x206f1e});}:function(_0x35f176,_0x11863a){const _0x1e2bc2=a432_0x471ca9;_0x35f176[_0x1e2bc2(0x12c)]=_0x11863a;}),__importStar=this&&this['__importStar']||function(_0x30a8bc){const _0x279bd5=a432_0x471ca9;if(_0x30a8bc&&_0x30a8bc[_0x279bd5(0x10a)])return _0x30a8bc;var _0x38fb2d={};if(_0x30a8bc!=null){for(var _0x552e0c in _0x30a8bc)if(_0x552e0c!==_0x279bd5(0x12c)&&Object[_0x279bd5(0x11a)][_0x279bd5(0x110)][_0x279bd5(0x124)](_0x30a8bc,_0x552e0c))__createBinding(_0x38fb2d,_0x30a8bc,_0x552e0c);}return __setModuleDefault(_0x38fb2d,_0x30a8bc),_0x38fb2d;},__importDefault=this&&this[a432_0x471ca9(0x10e)]||function(_0x3a81c3){return _0x3a81c3&&_0x3a81c3['__esModule']?_0x3a81c3:{'default':_0x3a81c3};};Object[a432_0x471ca9(0x11b)](exports,a432_0x471ca9(0x10a),{'value':!![]});const Yup=__importStar(require(a432_0x471ca9(0x12a))),AppError_1=__importDefault(require('../../errors/AppError')),FilesOptions_1=__importDefault(require(a432_0x471ca9(0x112))),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0xfa8d2,id:_0xa9d17,companyId:_0x4e1e47})=>{const _0x36afae=a432_0x471ca9,_0xa3f93c=await(0x0,ShowService_1[_0x36afae(0x12c)])(_0xa9d17,_0x4e1e47),_0x155edd=Yup['object']()[_0x36afae(0x12e)]({'name':Yup[_0x36afae(0x11c)]()[_0x36afae(0x125)](0x3)}),{name:_0x3b6c3a,message:_0x35e8ea,options:_0x29578d}=_0xfa8d2;try{await _0x155edd[_0x36afae(0x127)]({'name':_0x3b6c3a});}catch(_0x2b99fd){throw new AppError_1[(_0x36afae(0x12c))](_0x2b99fd[_0x36afae(0x10f)]);}return _0x29578d&&(await Promise[_0x36afae(0x119)](_0x29578d['map'](async _0x5e654b=>{const _0x5f2cc2=_0x36afae;await FilesOptions_1[_0x5f2cc2(0x12c)][_0x5f2cc2(0x128)]({..._0x5e654b,'fileId':_0xa3f93c['id']});})),await Promise[_0x36afae(0x119)](_0xa3f93c['options'][_0x36afae(0x11d)](async _0x29430e=>{const _0x1c8f7f=_0x36afae,_0x5eacd1=_0x29578d[_0x1c8f7f(0x111)](_0xd76f23=>_0xd76f23['id']===_0x29430e['id']);_0x5eacd1===-0x1&&await FilesOptions_1[_0x1c8f7f(0x12c)][_0x1c8f7f(0x115)]({'where':{'id':_0x29430e['id']}});}))),await _0xa3f93c[_0x36afae(0x113)]({'name':_0x3b6c3a,'message':_0x35e8ea}),await _0xa3f93c[_0x36afae(0x11f)]({'attributes':['id',_0x36afae(0x126),_0x36afae(0x10f),_0x36afae(0x12d)],'include':['options']}),_0xa3f93c;};exports['default']=UpdateService;