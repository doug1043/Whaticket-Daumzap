'use strict';function a460_0x26a4(_0x4a35d9,_0x373068){var _0x543889=a460_0x3b99();return a460_0x26a4=function(_0x572d7f,_0x33f821){_0x572d7f=_0x572d7f-0x148;var _0x3b990f=_0x543889[_0x572d7f];return _0x3b990f;},a460_0x26a4(_0x4a35d9,_0x373068);}var a460_0x4ca8a2=a460_0x26a4;function a460_0x3b99(){var _0x5946c2=['default','../../models/FilesOptions','options','call','6IoGisD','constructor','shape','2591830knndmN','search','defineProperty','hasOwnProperty','./ShowService','__setModuleDefault','findIndex','__importStar','map','getOwnPropertyDescriptor','9GgnEqG','all','configurable','create','length','__esModule','508084fCWTIn','validate','669448lnFeBc','apply','message','prototype','(((.+)+)+)+$','../../errors/AppError','7707QCSgDH','28420469rdRHAq','update','toString','__importDefault','776717qUAOpr','string','yup','__createBinding','destroy','min','name','reload','object','writable','36ppTFqO','159745RnGhuh','upsert','7624lFopYH','getOwnPropertyNames'];a460_0x3b99=function(){return _0x5946c2;};return a460_0x3b99();}(function(_0x5b76f3,_0x4118f8){var _0x435bae=a460_0x26a4,_0x3d3aa0=_0x5b76f3();while(!![]){try{var _0x20006a=parseInt(_0x435bae(0x14b))/0x1+-parseInt(_0x435bae(0x171))/0x2*(-parseInt(_0x435bae(0x16b))/0x3)+-parseInt(_0x435bae(0x173))/0x4+parseInt(_0x435bae(0x156))/0x5*(-parseInt(_0x435bae(0x15e))/0x6)+parseInt(_0x435bae(0x179))/0x7*(parseInt(_0x435bae(0x158))/0x8)+-parseInt(_0x435bae(0x155))/0x9*(-parseInt(_0x435bae(0x161))/0xa)+-parseInt(_0x435bae(0x17a))/0xb;if(_0x20006a===_0x4118f8)break;else _0x3d3aa0['push'](_0x3d3aa0['shift']());}catch(_0xfa7a9b){_0x3d3aa0['push'](_0x3d3aa0['shift']());}}}(a460_0x3b99,0xcd86e));var __createBinding=this&&this[a460_0x4ca8a2(0x14e)]||(Object[a460_0x4ca8a2(0x16e)]?function(_0xb538c4,_0x2afc43,_0x332aa3,_0x302a2f){var _0x34ab80=a460_0x4ca8a2;if(_0x302a2f===undefined)_0x302a2f=_0x332aa3;var _0x1d55e4=Object[_0x34ab80(0x16a)](_0x2afc43,_0x332aa3);(!_0x1d55e4||('get'in _0x1d55e4?!_0x2afc43['__esModule']:_0x1d55e4[_0x34ab80(0x154)]||_0x1d55e4[_0x34ab80(0x16d)]))&&(_0x1d55e4={'enumerable':!![],'get':function(){return _0x2afc43[_0x332aa3];}}),Object['defineProperty'](_0xb538c4,_0x302a2f,_0x1d55e4);}:function(_0x42ed67,_0x344d9d,_0x2fbf05,_0x2fa05b){if(_0x2fa05b===undefined)_0x2fa05b=_0x2fbf05;_0x42ed67[_0x2fa05b]=_0x344d9d[_0x2fbf05];}),__setModuleDefault=this&&this[a460_0x4ca8a2(0x166)]||(Object['create']?function(_0x142d42,_0x32286e){var _0xc912dd=a460_0x4ca8a2;Object[_0xc912dd(0x163)](_0x142d42,_0xc912dd(0x15a),{'enumerable':!![],'value':_0x32286e});}:function(_0x52c0e8,_0x501424){var _0x41db5d=a460_0x4ca8a2;_0x52c0e8[_0x41db5d(0x15a)]=_0x501424;}),__importStar=this&&this[a460_0x4ca8a2(0x168)]||(function(){var _0x429be2=(function(){var _0x4a4d89=!![];return function(_0x1148c8,_0x20a4ba){var _0x14c14a=_0x4a4d89?function(){var _0x52bf09=a460_0x26a4;if(_0x20a4ba){var _0x3c408f=_0x20a4ba[_0x52bf09(0x174)](_0x1148c8,arguments);return _0x20a4ba=null,_0x3c408f;}}:function(){};return _0x4a4d89=![],_0x14c14a;};}()),_0x1f11ef=_0x429be2(this,function(){var _0x263c10=a460_0x26a4;return _0x1f11ef[_0x263c10(0x149)]()[_0x263c10(0x162)]('(((.+)+)+)+$')[_0x263c10(0x149)]()[_0x263c10(0x15f)](_0x1f11ef)['search'](_0x263c10(0x177));});_0x1f11ef();var _0x218175=function(_0x2086d1){var _0xd10341=a460_0x26a4;return _0x218175=Object[_0xd10341(0x159)]||function(_0x300718){var _0x3f71d9=_0xd10341,_0x29a8ed=[];for(var _0x2d6f03 in _0x300718)if(Object[_0x3f71d9(0x176)][_0x3f71d9(0x164)][_0x3f71d9(0x15d)](_0x300718,_0x2d6f03))_0x29a8ed[_0x29a8ed['length']]=_0x2d6f03;return _0x29a8ed;},_0x218175(_0x2086d1);};return function(_0x56191d){var _0x3b7793=a460_0x26a4;if(_0x56191d&&_0x56191d['__esModule'])return _0x56191d;var _0x30454e={};if(_0x56191d!=null){for(var _0x33e150=_0x218175(_0x56191d),_0x29964f=0x0;_0x29964f<_0x33e150[_0x3b7793(0x16f)];_0x29964f++)if(_0x33e150[_0x29964f]!=='default')__createBinding(_0x30454e,_0x56191d,_0x33e150[_0x29964f]);}return __setModuleDefault(_0x30454e,_0x56191d),_0x30454e;};}()),__importDefault=this&&this[a460_0x4ca8a2(0x14a)]||function(_0x35b248){var _0x2c0563=a460_0x4ca8a2;return _0x35b248&&_0x35b248[_0x2c0563(0x170)]?_0x35b248:{'default':_0x35b248};};Object['defineProperty'](exports,a460_0x4ca8a2(0x170),{'value':!![]});const Yup=__importStar(require(a460_0x4ca8a2(0x14d))),AppError_1=__importDefault(require(a460_0x4ca8a2(0x178))),FilesOptions_1=__importDefault(require(a460_0x4ca8a2(0x15b))),ShowService_1=__importDefault(require(a460_0x4ca8a2(0x165))),UpdateService=async({fileData:_0xcff246,id:_0x2ff75c,companyId:_0x16167b})=>{var _0x471f5d=a460_0x4ca8a2;const _0x3f80ac=await(0x0,ShowService_1[_0x471f5d(0x15a)])(_0x2ff75c,_0x16167b),_0x43f7b1=Yup[_0x471f5d(0x153)]()[_0x471f5d(0x160)]({'name':Yup[_0x471f5d(0x14c)]()[_0x471f5d(0x150)](0x3)}),{name:_0x4919bc,message:_0x2131c3,options:_0x18eff2}=_0xcff246;try{await _0x43f7b1[_0x471f5d(0x172)]({'name':_0x4919bc});}catch(_0x3c9392){throw new AppError_1[(_0x471f5d(0x15a))](_0x3c9392[_0x471f5d(0x175)]);}return _0x18eff2&&(await Promise['all'](_0x18eff2[_0x471f5d(0x169)](async _0x370e96=>{var _0x1fb14e=_0x471f5d;await FilesOptions_1[_0x1fb14e(0x15a)][_0x1fb14e(0x157)]({..._0x370e96,'fileId':_0x3f80ac['id']});})),await Promise[_0x471f5d(0x16c)](_0x3f80ac[_0x471f5d(0x15c)][_0x471f5d(0x169)](async _0x11eca3=>{var _0x386ebe=_0x471f5d;const _0x335846=_0x18eff2[_0x386ebe(0x167)](_0x4e69b6=>_0x4e69b6['id']===_0x11eca3['id']);_0x335846===-0x1&&await FilesOptions_1[_0x386ebe(0x15a)][_0x386ebe(0x14f)]({'where':{'id':_0x11eca3['id']}});}))),await _0x3f80ac[_0x471f5d(0x148)]({'name':_0x4919bc,'message':_0x2131c3}),await _0x3f80ac[_0x471f5d(0x152)]({'attributes':['id',_0x471f5d(0x151),_0x471f5d(0x175),'companyId'],'include':['options']}),_0x3f80ac;};exports[a460_0x4ca8a2(0x15a)]=UpdateService;