const a431_0x29c47a=a431_0x4289;function a431_0x4b7a(){const _0x3b45b0=['writable','name','default','getOwnPropertyDescriptor','3204592bnZibo','create','43ZFfxVc','findIndex','update','__esModule','apply','(((.+)+)+)+$','5VlOZPR','317496wtguou','all','search','1038444XdUJAo','11DaUclk','reload','object','108556FSfJbK','defineProperty','map','./ShowService','message','333693goxmui','companyId','__createBinding','188oUSRuy','yup','get','hasOwnProperty','30MPumwo','prototype','../../errors/AppError','2728HOBdTZ','toString','options','21870XqYBdn','shape','min'];a431_0x4b7a=function(){return _0x3b45b0;};return a431_0x4b7a();}(function(_0x184918,_0x483c3e){const _0x464656=a431_0x4289,_0x24792f=_0x184918();while(!![]){try{const _0x24559c=-parseInt(_0x464656(0x1da))/0x1*(-parseInt(_0x464656(0x1ce))/0x2)+parseInt(_0x464656(0x1d1))/0x3*(-parseInt(_0x464656(0x1f0))/0x4)+parseInt(_0x464656(0x1e0))/0x5*(parseInt(_0x464656(0x1e4))/0x6)+parseInt(_0x464656(0x1e8))/0x7+parseInt(_0x464656(0x1d8))/0x8+-parseInt(_0x464656(0x1ed))/0x9*(parseInt(_0x464656(0x1cb))/0xa)+-parseInt(_0x464656(0x1e5))/0xb*(-parseInt(_0x464656(0x1e1))/0xc);if(_0x24559c===_0x483c3e)break;else _0x24792f['push'](_0x24792f['shift']());}catch(_0x16ffcc){_0x24792f['push'](_0x24792f['shift']());}}}(a431_0x4b7a,0x35cf5));const a431_0x36e676=(function(){let _0x3e318d=!![];return function(_0x1b55d5,_0x559459){const _0x4e9893=_0x3e318d?function(){const _0x4d3fb3=a431_0x4289;if(_0x559459){const _0x30b014=_0x559459[_0x4d3fb3(0x1de)](_0x1b55d5,arguments);return _0x559459=null,_0x30b014;}}:function(){};return _0x3e318d=![],_0x4e9893;};}()),a431_0x542e9d=a431_0x36e676(this,function(){const _0x3facb1=a431_0x4289;return a431_0x542e9d['toString']()[_0x3facb1(0x1e3)](_0x3facb1(0x1df))[_0x3facb1(0x1cf)]()['constructor'](a431_0x542e9d)[_0x3facb1(0x1e3)](_0x3facb1(0x1df));});a431_0x542e9d();'use strict';var __createBinding=this&&this[a431_0x29c47a(0x1ef)]||(Object[a431_0x29c47a(0x1d9)]?function(_0x52d5f4,_0x3c1f3d,_0x520a50,_0x39ed57){const _0x2e7fdf=a431_0x29c47a;if(_0x39ed57===undefined)_0x39ed57=_0x520a50;var _0x1ce797=Object[_0x2e7fdf(0x1d7)](_0x3c1f3d,_0x520a50);(!_0x1ce797||(_0x2e7fdf(0x1f2)in _0x1ce797?!_0x3c1f3d[_0x2e7fdf(0x1dd)]:_0x1ce797[_0x2e7fdf(0x1d4)]||_0x1ce797['configurable']))&&(_0x1ce797={'enumerable':!![],'get':function(){return _0x3c1f3d[_0x520a50];}}),Object[_0x2e7fdf(0x1e9)](_0x52d5f4,_0x39ed57,_0x1ce797);}:function(_0x4e86c7,_0x35bd34,_0x3280a0,_0x3db98c){if(_0x3db98c===undefined)_0x3db98c=_0x3280a0;_0x4e86c7[_0x3db98c]=_0x35bd34[_0x3280a0];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a431_0x29c47a(0x1d9)]?function(_0x15fe73,_0x3a7972){const _0x40b66d=a431_0x29c47a;Object[_0x40b66d(0x1e9)](_0x15fe73,_0x40b66d(0x1d6),{'enumerable':!![],'value':_0x3a7972});}:function(_0x1e2960,_0x2b5d53){const _0x13d21f=a431_0x29c47a;_0x1e2960[_0x13d21f(0x1d6)]=_0x2b5d53;}),__importStar=this&&this['__importStar']||function(_0x30d8d7){const _0x465d78=a431_0x29c47a;if(_0x30d8d7&&_0x30d8d7[_0x465d78(0x1dd)])return _0x30d8d7;var _0x4a296a={};if(_0x30d8d7!=null){for(var _0x3110a7 in _0x30d8d7)if(_0x3110a7!=='default'&&Object[_0x465d78(0x1cc)][_0x465d78(0x1f3)]['call'](_0x30d8d7,_0x3110a7))__createBinding(_0x4a296a,_0x30d8d7,_0x3110a7);}return __setModuleDefault(_0x4a296a,_0x30d8d7),_0x4a296a;},__importDefault=this&&this['__importDefault']||function(_0x1610cb){const _0x1cc2d3=a431_0x29c47a;return _0x1610cb&&_0x1610cb[_0x1cc2d3(0x1dd)]?_0x1610cb:{'default':_0x1610cb};};function a431_0x4289(_0x97d88d,_0x3c00d4){const _0x1b2b57=a431_0x4b7a();return a431_0x4289=function(_0x542e9d,_0x36e676){_0x542e9d=_0x542e9d-0x1cb;let _0x4b7a8f=_0x1b2b57[_0x542e9d];return _0x4b7a8f;},a431_0x4289(_0x97d88d,_0x3c00d4);}Object['defineProperty'](exports,a431_0x29c47a(0x1dd),{'value':!![]});const Yup=__importStar(require(a431_0x29c47a(0x1f1))),AppError_1=__importDefault(require(a431_0x29c47a(0x1cd))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a431_0x29c47a(0x1eb))),UpdateService=async({fileData:_0x56fea7,id:_0x5d6f2b,companyId:_0x56f5de})=>{const _0x5c770b=a431_0x29c47a,_0x550211=await(0x0,ShowService_1[_0x5c770b(0x1d6)])(_0x5d6f2b,_0x56f5de),_0x21a210=Yup[_0x5c770b(0x1e7)]()[_0x5c770b(0x1d2)]({'name':Yup['string']()[_0x5c770b(0x1d3)](0x3)}),{name:_0xe1a6a9,message:_0x591ec7,options:_0x5f46a4}=_0x56fea7;try{await _0x21a210['validate']({'name':_0xe1a6a9});}catch(_0x3d8492){throw new AppError_1[(_0x5c770b(0x1d6))](_0x3d8492[_0x5c770b(0x1ec)]);}return _0x5f46a4&&(await Promise['all'](_0x5f46a4[_0x5c770b(0x1ea)](async _0x53fc4a=>{const _0xb5bc69=_0x5c770b;await FilesOptions_1[_0xb5bc69(0x1d6)]['upsert']({..._0x53fc4a,'fileId':_0x550211['id']});})),await Promise[_0x5c770b(0x1e2)](_0x550211[_0x5c770b(0x1d0)][_0x5c770b(0x1ea)](async _0x5a73fc=>{const _0xde5ec2=_0x5c770b,_0x19be2e=_0x5f46a4[_0xde5ec2(0x1db)](_0x505e5e=>_0x505e5e['id']===_0x5a73fc['id']);_0x19be2e===-0x1&&await FilesOptions_1[_0xde5ec2(0x1d6)]['destroy']({'where':{'id':_0x5a73fc['id']}});}))),await _0x550211[_0x5c770b(0x1dc)]({'name':_0xe1a6a9,'message':_0x591ec7}),await _0x550211[_0x5c770b(0x1e6)]({'attributes':['id',_0x5c770b(0x1d5),_0x5c770b(0x1ec),_0x5c770b(0x1ee)],'include':[_0x5c770b(0x1d0)]}),_0x550211;};exports['default']=UpdateService;