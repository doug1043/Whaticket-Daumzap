'use strict';var a547_0x4409ab=a547_0xc1de;function a547_0x338d(){var _0x371165=['shape','constructor','apply','getOwnPropertyNames','101204qwhcNH','__setModuleDefault','get','upsert','(((.+)+)+)+$','call','string','24823770lrSPYb','__createBinding','destroy','yup','6RVOSAO','update','686696YGArgO','reload','13827312ApAVNM','../../models/FilesOptions','object','getOwnPropertyDescriptor','findIndex','min','toString','102AoNTlm','__esModule','__importStar','hasOwnProperty','default','defineProperty','options','message','validate','all','length','5654365RUbKJt','map','prototype','companyId','1004652hazohl','create','./ShowService','__importDefault','8qiQBiT','10752161OeCSwZ','search'];a547_0x338d=function(){return _0x371165;};return a547_0x338d();}(function(_0x3861aa,_0x545a6c){var _0x4a7962=a547_0xc1de,_0x5907ae=_0x3861aa();while(!![]){try{var _0x30cd20=-parseInt(_0x4a7962(0xf1))/0x1+-parseInt(_0x4a7962(0xd9))/0x2+-parseInt(_0x4a7962(0xe2))/0x3*(-parseInt(_0x4a7962(0xfc))/0x4)+-parseInt(_0x4a7962(0xed))/0x5*(parseInt(_0x4a7962(0xd7))/0x6)+-parseInt(_0x4a7962(0xf6))/0x7*(parseInt(_0x4a7962(0xf5))/0x8)+parseInt(_0x4a7962(0xdb))/0x9+parseInt(_0x4a7962(0xd3))/0xa;if(_0x30cd20===_0x545a6c)break;else _0x5907ae['push'](_0x5907ae['shift']());}catch(_0x2bae04){_0x5907ae['push'](_0x5907ae['shift']());}}}(a547_0x338d,0xd2f53));function a547_0xc1de(_0x5ae32a,_0x214824){var _0x4881f0=a547_0x338d();return a547_0xc1de=function(_0x4ee5e5,_0x32d05f){_0x4ee5e5=_0x4ee5e5-0xd2;var _0x338d26=_0x4881f0[_0x4ee5e5];return _0x338d26;},a547_0xc1de(_0x5ae32a,_0x214824);}var __createBinding=this&&this[a547_0x4409ab(0xd4)]||(Object[a547_0x4409ab(0xf2)]?function(_0xfd2606,_0x5b47f0,_0x210232,_0x28def9){var _0x335f66=a547_0x4409ab;if(_0x28def9===undefined)_0x28def9=_0x210232;var _0x1b826e=Object[_0x335f66(0xde)](_0x5b47f0,_0x210232);(!_0x1b826e||(_0x335f66(0xfe)in _0x1b826e?!_0x5b47f0[_0x335f66(0xe3)]:_0x1b826e['writable']||_0x1b826e['configurable']))&&(_0x1b826e={'enumerable':!![],'get':function(){return _0x5b47f0[_0x210232];}}),Object[_0x335f66(0xe7)](_0xfd2606,_0x28def9,_0x1b826e);}:function(_0x556ada,_0x1721d7,_0x484edb,_0x5abe80){if(_0x5abe80===undefined)_0x5abe80=_0x484edb;_0x556ada[_0x5abe80]=_0x1721d7[_0x484edb];}),__setModuleDefault=this&&this[a547_0x4409ab(0xfd)]||(Object[a547_0x4409ab(0xf2)]?function(_0x53d66b,_0x2add4f){var _0x42d913=a547_0x4409ab;Object[_0x42d913(0xe7)](_0x53d66b,_0x42d913(0xe6),{'enumerable':!![],'value':_0x2add4f});}:function(_0xd67704,_0x3fb8e8){var _0x4a0fcd=a547_0x4409ab;_0xd67704[_0x4a0fcd(0xe6)]=_0x3fb8e8;}),__importStar=this&&this[a547_0x4409ab(0xe4)]||(function(){var _0x13e8f0=(function(){var _0x26cfa7=!![];return function(_0xfbaf7,_0x1873ce){var _0x230c6e=_0x26cfa7?function(){var _0x3ae272=a547_0xc1de;if(_0x1873ce){var _0x18d3ac=_0x1873ce[_0x3ae272(0xfa)](_0xfbaf7,arguments);return _0x1873ce=null,_0x18d3ac;}}:function(){};return _0x26cfa7=![],_0x230c6e;};}()),_0x559ddd=_0x13e8f0(this,function(){var _0x2a795a=a547_0xc1de;return _0x559ddd['toString']()[_0x2a795a(0xf7)](_0x2a795a(0x100))[_0x2a795a(0xe1)]()[_0x2a795a(0xf9)](_0x559ddd)[_0x2a795a(0xf7)]('(((.+)+)+)+$');});_0x559ddd();var _0x1d732e=function(_0x56fb3f){var _0x576520=a547_0xc1de;return _0x1d732e=Object[_0x576520(0xfb)]||function(_0x2ecee5){var _0x246b4c=_0x576520,_0x379354=[];for(var _0x2071a7 in _0x2ecee5)if(Object[_0x246b4c(0xef)][_0x246b4c(0xe5)][_0x246b4c(0x101)](_0x2ecee5,_0x2071a7))_0x379354[_0x379354[_0x246b4c(0xec)]]=_0x2071a7;return _0x379354;},_0x1d732e(_0x56fb3f);};return function(_0x579f35){var _0x492d5b=a547_0xc1de;if(_0x579f35&&_0x579f35[_0x492d5b(0xe3)])return _0x579f35;var _0x3d7225={};if(_0x579f35!=null){for(var _0x58ea5b=_0x1d732e(_0x579f35),_0x1077b0=0x0;_0x1077b0<_0x58ea5b[_0x492d5b(0xec)];_0x1077b0++)if(_0x58ea5b[_0x1077b0]!==_0x492d5b(0xe6))__createBinding(_0x3d7225,_0x579f35,_0x58ea5b[_0x1077b0]);}return __setModuleDefault(_0x3d7225,_0x579f35),_0x3d7225;};}()),__importDefault=this&&this[a547_0x4409ab(0xf4)]||function(_0x2a608b){var _0x16f9b2=a547_0x4409ab;return _0x2a608b&&_0x2a608b[_0x16f9b2(0xe3)]?_0x2a608b:{'default':_0x2a608b};};Object[a547_0x4409ab(0xe7)](exports,a547_0x4409ab(0xe3),{'value':!![]});const Yup=__importStar(require(a547_0x4409ab(0xd6))),AppError_1=__importDefault(require('../../errors/AppError')),FilesOptions_1=__importDefault(require(a547_0x4409ab(0xdc))),ShowService_1=__importDefault(require(a547_0x4409ab(0xf3))),UpdateService=async({fileData:_0x276d2f,id:_0x5a6d61,companyId:_0x5aec0f})=>{var _0x5cda2c=a547_0x4409ab;const _0x56e838=await(0x0,ShowService_1[_0x5cda2c(0xe6)])(_0x5a6d61,_0x5aec0f),_0x907f14=Yup[_0x5cda2c(0xdd)]()[_0x5cda2c(0xf8)]({'name':Yup[_0x5cda2c(0xd2)]()[_0x5cda2c(0xe0)](0x3)}),{name:_0xe89961,message:_0x4c090b,options:_0x1b4115}=_0x276d2f;try{await _0x907f14[_0x5cda2c(0xea)]({'name':_0xe89961});}catch(_0x479ac5){throw new AppError_1[(_0x5cda2c(0xe6))](_0x479ac5[_0x5cda2c(0xe9)]);}return _0x1b4115&&(await Promise[_0x5cda2c(0xeb)](_0x1b4115[_0x5cda2c(0xee)](async _0x19f334=>{var _0x25dec9=_0x5cda2c;await FilesOptions_1[_0x25dec9(0xe6)][_0x25dec9(0xff)]({..._0x19f334,'fileId':_0x56e838['id']});})),await Promise[_0x5cda2c(0xeb)](_0x56e838[_0x5cda2c(0xe8)][_0x5cda2c(0xee)](async _0xbebece=>{var _0x43a329=_0x5cda2c;const _0x7f34e2=_0x1b4115[_0x43a329(0xdf)](_0x6499b0=>_0x6499b0['id']===_0xbebece['id']);_0x7f34e2===-0x1&&await FilesOptions_1[_0x43a329(0xe6)][_0x43a329(0xd5)]({'where':{'id':_0xbebece['id']}});}))),await _0x56e838[_0x5cda2c(0xd8)]({'name':_0xe89961,'message':_0x4c090b}),await _0x56e838[_0x5cda2c(0xda)]({'attributes':['id','name','message',_0x5cda2c(0xf0)],'include':['options']}),_0x56e838;};exports[a547_0x4409ab(0xe6)]=UpdateService;