const a422_0x23e40a=a422_0x5adc;(function(_0x23a6ad,_0x75f9f1){const _0x523bc7=a422_0x5adc,_0x48bb95=_0x23a6ad();while(!![]){try{const _0x528a94=-parseInt(_0x523bc7(0x152))/0x1*(parseInt(_0x523bc7(0x148))/0x2)+-parseInt(_0x523bc7(0x14d))/0x3*(parseInt(_0x523bc7(0x139))/0x4)+-parseInt(_0x523bc7(0x155))/0x5+-parseInt(_0x523bc7(0x153))/0x6*(parseInt(_0x523bc7(0x150))/0x7)+-parseInt(_0x523bc7(0x131))/0x8*(-parseInt(_0x523bc7(0x147))/0x9)+-parseInt(_0x523bc7(0x14e))/0xa+parseInt(_0x523bc7(0x137))/0xb*(parseInt(_0x523bc7(0x158))/0xc);if(_0x528a94===_0x75f9f1)break;else _0x48bb95['push'](_0x48bb95['shift']());}catch(_0x5b79cf){_0x48bb95['push'](_0x48bb95['shift']());}}}(a422_0x73ef,0x69225));const a422_0x55047c=(function(){let _0x2cb098=!![];return function(_0x38c2c6,_0x5658f7){const _0x587bb0=_0x2cb098?function(){if(_0x5658f7){const _0x4e24f7=_0x5658f7['apply'](_0x38c2c6,arguments);return _0x5658f7=null,_0x4e24f7;}}:function(){};return _0x2cb098=![],_0x587bb0;};}()),a422_0x100b57=a422_0x55047c(this,function(){const _0x1c4cf8=a422_0x5adc;return a422_0x100b57[_0x1c4cf8(0x12d)]()[_0x1c4cf8(0x151)](_0x1c4cf8(0x14f))[_0x1c4cf8(0x12d)]()[_0x1c4cf8(0x141)](a422_0x100b57)[_0x1c4cf8(0x151)](_0x1c4cf8(0x14f));});a422_0x100b57();'use strict';var __createBinding=this&&this[a422_0x23e40a(0x13b)]||(Object['create']?function(_0x1f847d,_0x1ad3d8,_0x8e42cc,_0x41b597){const _0x366b52=a422_0x23e40a;if(_0x41b597===undefined)_0x41b597=_0x8e42cc;var _0x1360ba=Object['getOwnPropertyDescriptor'](_0x1ad3d8,_0x8e42cc);(!_0x1360ba||(_0x366b52(0x130)in _0x1360ba?!_0x1ad3d8['__esModule']:_0x1360ba['writable']||_0x1360ba[_0x366b52(0x143)]))&&(_0x1360ba={'enumerable':!![],'get':function(){return _0x1ad3d8[_0x8e42cc];}}),Object[_0x366b52(0x13f)](_0x1f847d,_0x41b597,_0x1360ba);}:function(_0x5c6a84,_0x4689b5,_0x274eda,_0x87a9c2){if(_0x87a9c2===undefined)_0x87a9c2=_0x274eda;_0x5c6a84[_0x87a9c2]=_0x4689b5[_0x274eda];}),__setModuleDefault=this&&this[a422_0x23e40a(0x140)]||(Object[a422_0x23e40a(0x146)]?function(_0x25bb4f,_0x20dab1){const _0x3623ae=a422_0x23e40a;Object[_0x3623ae(0x13f)](_0x25bb4f,_0x3623ae(0x12c),{'enumerable':!![],'value':_0x20dab1});}:function(_0x2aa92b,_0x41154e){const _0x11c989=a422_0x23e40a;_0x2aa92b[_0x11c989(0x12c)]=_0x41154e;}),__importStar=this&&this['__importStar']||function(_0x1567eb){const _0x2bb04d=a422_0x23e40a;if(_0x1567eb&&_0x1567eb['__esModule'])return _0x1567eb;var _0x24c53a={};if(_0x1567eb!=null){for(var _0x33484c in _0x1567eb)if(_0x33484c!==_0x2bb04d(0x12c)&&Object[_0x2bb04d(0x13e)][_0x2bb04d(0x13a)][_0x2bb04d(0x144)](_0x1567eb,_0x33484c))__createBinding(_0x24c53a,_0x1567eb,_0x33484c);}return __setModuleDefault(_0x24c53a,_0x1567eb),_0x24c53a;},__importDefault=this&&this[a422_0x23e40a(0x14a)]||function(_0x39c49a){const _0x2c5f9c=a422_0x23e40a;return _0x39c49a&&_0x39c49a[_0x2c5f9c(0x135)]?_0x39c49a:{'default':_0x39c49a};};Object[a422_0x23e40a(0x13f)](exports,'__esModule',{'value':!![]});function a422_0x5adc(_0x4425b6,_0x2ae2ab){const _0x5c69c2=a422_0x73ef();return a422_0x5adc=function(_0x100b57,_0x55047c){_0x100b57=_0x100b57-0x12c;let _0x73ef6a=_0x5c69c2[_0x100b57];return _0x73ef6a;},a422_0x5adc(_0x4425b6,_0x2ae2ab);}const Yup=__importStar(require(a422_0x23e40a(0x149))),AppError_1=__importDefault(require(a422_0x23e40a(0x154))),Files_1=__importDefault(require(a422_0x23e40a(0x13d))),FilesOptions_1=__importDefault(require(a422_0x23e40a(0x145))),ShowService_1=__importDefault(require(a422_0x23e40a(0x133))),CreateService=async({name:_0x56f499,message:_0x3a3e96,companyId:_0x1a7ae1,options:_0x17eabe})=>{const _0x531d4f=a422_0x23e40a,_0x2bbc96=Yup[_0x531d4f(0x12f)]()[_0x531d4f(0x12e)]({'name':Yup['string']()[_0x531d4f(0x13c)]()[_0x531d4f(0x14c)](0x3)[_0x531d4f(0x138)]('Check-unique-name',_0x531d4f(0x132),async _0x45d596=>{const _0x303c11=_0x531d4f;if(_0x45d596){const _0x72dc78=await Files_1[_0x303c11(0x12c)]['findOne']({'where':{'name':_0x45d596,'companyId':_0x1a7ae1}});return!_0x72dc78;}return![];})});try{await _0x2bbc96[_0x531d4f(0x157)]({'name':_0x56f499});}catch(_0x4549ac){throw new AppError_1[(_0x531d4f(0x12c))](_0x4549ac[_0x531d4f(0x134)]);}let _0x692553=await Files_1[_0x531d4f(0x12c)][_0x531d4f(0x146)]({'name':_0x56f499,'message':_0x3a3e96,'companyId':_0x1a7ae1});return _0x17eabe&&_0x17eabe[_0x531d4f(0x136)]>0x0&&await Promise[_0x531d4f(0x156)](_0x17eabe[_0x531d4f(0x14b)](async _0x1c2550=>{const _0x13f542=_0x531d4f;await FilesOptions_1[_0x13f542(0x12c)][_0x13f542(0x142)]({..._0x1c2550,'fileId':_0x692553['id']});})),_0x692553=await(0x0,ShowService_1[_0x531d4f(0x12c)])(_0x692553['id'],_0x1a7ae1),_0x692553;};function a422_0x73ef(){const _0x577a4c=['search','131899LaTCXp','108lqTPJh','../../errors/AppError','3806625iTRowa','all','validate','1908QSyPIR','default','toString','shape','object','get','2685736ZpgDKB','ERR_RATING_NAME_ALREADY_EXISTS','./ShowService','message','__esModule','length','144749OtvIte','test','12QcyEMJ','hasOwnProperty','__createBinding','required','../../models/Files','prototype','defineProperty','__setModuleDefault','constructor','upsert','configurable','call','../../models/FilesOptions','create','9ruxhDw','2AmPWbH','yup','__importDefault','map','min','121017RAjNRK','1412860ABXZyv','(((.+)+)+)+$','327383WdHbzk'];a422_0x73ef=function(){return _0x577a4c;};return a422_0x73ef();}exports[a422_0x23e40a(0x12c)]=CreateService;