function a426_0x522c(){const _0x294663=['__esModule','__createBinding','search','../../models/Files','3159402WmuDUi','test','prototype','map','hasOwnProperty','apply','../../errors/AppError','40qBZHPo','353013xRcPzQ','6095996JMaYyI','upsert','writable','default','toString','findOne','shape','2337034lrXzWu','object','3240819aXgiBG','all','(((.+)+)+)+$','../../models/FilesOptions','3YfwQMC','defineProperty','create','16nWgVgr','required','7366905fkfJgF','__importDefault','ERR_RATING_NAME_ALREADY_EXISTS','yup','getOwnPropertyDescriptor','3910375nkFNRB','Check-unique-name','get'];a426_0x522c=function(){return _0x294663;};return a426_0x522c();}const a426_0x24d333=a426_0xa46b;(function(_0x504d7b,_0x3b7b53){const _0x30fdb7=a426_0xa46b,_0x2fa36e=_0x504d7b();while(!![]){try{const _0x2ce10f=-parseInt(_0x30fdb7(0x19d))/0x1+-parseInt(_0x30fdb7(0x1a5))/0x2*(-parseInt(_0x30fdb7(0x1ab))/0x3)+-parseInt(_0x30fdb7(0x19e))/0x4+parseInt(_0x30fdb7(0x1b0))/0x5+parseInt(_0x30fdb7(0x1bc))/0x6+-parseInt(_0x30fdb7(0x1b5))/0x7*(-parseInt(_0x30fdb7(0x1ae))/0x8)+parseInt(_0x30fdb7(0x1a7))/0x9*(-parseInt(_0x30fdb7(0x19c))/0xa);if(_0x2ce10f===_0x3b7b53)break;else _0x2fa36e['push'](_0x2fa36e['shift']());}catch(_0x5c2441){_0x2fa36e['push'](_0x2fa36e['shift']());}}}(a426_0x522c,0xec693));const a426_0x4729d7=(function(){let _0x2cef62=!![];return function(_0x30b23a,_0x1fb8f2){const _0x25fbc4=_0x2cef62?function(){const _0xc214e4=a426_0xa46b;if(_0x1fb8f2){const _0x28731b=_0x1fb8f2[_0xc214e4(0x19a)](_0x30b23a,arguments);return _0x1fb8f2=null,_0x28731b;}}:function(){};return _0x2cef62=![],_0x25fbc4;};}()),a426_0x19df40=a426_0x4729d7(this,function(){const _0x1226c3=a426_0xa46b;return a426_0x19df40['toString']()[_0x1226c3(0x1ba)](_0x1226c3(0x1a9))[_0x1226c3(0x1a2)]()['constructor'](a426_0x19df40)[_0x1226c3(0x1ba)](_0x1226c3(0x1a9));});a426_0x19df40();'use strict';var __createBinding=this&&this[a426_0x24d333(0x1b9)]||(Object[a426_0x24d333(0x1ad)]?function(_0x4fe392,_0x1545c5,_0x5dbbe0,_0x14cc61){const _0x273f47=a426_0x24d333;if(_0x14cc61===undefined)_0x14cc61=_0x5dbbe0;var _0x13cbae=Object[_0x273f47(0x1b4)](_0x1545c5,_0x5dbbe0);(!_0x13cbae||(_0x273f47(0x1b7)in _0x13cbae?!_0x1545c5['__esModule']:_0x13cbae[_0x273f47(0x1a0)]||_0x13cbae['configurable']))&&(_0x13cbae={'enumerable':!![],'get':function(){return _0x1545c5[_0x5dbbe0];}}),Object[_0x273f47(0x1ac)](_0x4fe392,_0x14cc61,_0x13cbae);}:function(_0x36ab0b,_0x47b3b8,_0x291a16,_0x3078f9){if(_0x3078f9===undefined)_0x3078f9=_0x291a16;_0x36ab0b[_0x3078f9]=_0x47b3b8[_0x291a16];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a426_0x24d333(0x1ad)]?function(_0x516b03,_0x5ebd86){const _0x5eec7d=a426_0x24d333;Object[_0x5eec7d(0x1ac)](_0x516b03,_0x5eec7d(0x1a1),{'enumerable':!![],'value':_0x5ebd86});}:function(_0x2b7fe2,_0x5735fe){_0x2b7fe2['default']=_0x5735fe;}),__importStar=this&&this['__importStar']||function(_0x4fdb42){const _0x1ef0a6=a426_0x24d333;if(_0x4fdb42&&_0x4fdb42[_0x1ef0a6(0x1b8)])return _0x4fdb42;var _0x109b39={};if(_0x4fdb42!=null){for(var _0x5039f8 in _0x4fdb42)if(_0x5039f8!==_0x1ef0a6(0x1a1)&&Object[_0x1ef0a6(0x1be)][_0x1ef0a6(0x199)]['call'](_0x4fdb42,_0x5039f8))__createBinding(_0x109b39,_0x4fdb42,_0x5039f8);}return __setModuleDefault(_0x109b39,_0x4fdb42),_0x109b39;},__importDefault=this&&this[a426_0x24d333(0x1b1)]||function(_0x5f5a7c){const _0x532deb=a426_0x24d333;return _0x5f5a7c&&_0x5f5a7c[_0x532deb(0x1b8)]?_0x5f5a7c:{'default':_0x5f5a7c};};function a426_0xa46b(_0x1db35c,_0x3a1f5d){const _0x3f3271=a426_0x522c();return a426_0xa46b=function(_0x19df40,_0x4729d7){_0x19df40=_0x19df40-0x198;let _0x522c00=_0x3f3271[_0x19df40];return _0x522c00;},a426_0xa46b(_0x1db35c,_0x3a1f5d);}Object[a426_0x24d333(0x1ac)](exports,a426_0x24d333(0x1b8),{'value':!![]});const Yup=__importStar(require(a426_0x24d333(0x1b3))),AppError_1=__importDefault(require(a426_0x24d333(0x19b))),Files_1=__importDefault(require(a426_0x24d333(0x1bb))),FilesOptions_1=__importDefault(require(a426_0x24d333(0x1aa))),ShowService_1=__importDefault(require('./ShowService')),CreateService=async({name:_0x58178d,message:_0x1a7a26,companyId:_0x280898,options:_0x37d0f7})=>{const _0x426c98=a426_0x24d333,_0x1bca47=Yup[_0x426c98(0x1a6)]()[_0x426c98(0x1a4)]({'name':Yup['string']()[_0x426c98(0x1af)]()['min'](0x3)[_0x426c98(0x1bd)](_0x426c98(0x1b6),_0x426c98(0x1b2),async _0x489cdf=>{const _0x5d6402=_0x426c98;if(_0x489cdf){const _0x3ab9c9=await Files_1['default'][_0x5d6402(0x1a3)]({'where':{'name':_0x489cdf,'companyId':_0x280898}});return!_0x3ab9c9;}return![];})});try{await _0x1bca47['validate']({'name':_0x58178d});}catch(_0x32e184){throw new AppError_1[(_0x426c98(0x1a1))](_0x32e184['message']);}let _0x551c9c=await Files_1[_0x426c98(0x1a1)][_0x426c98(0x1ad)]({'name':_0x58178d,'message':_0x1a7a26,'companyId':_0x280898});return _0x37d0f7&&_0x37d0f7['length']>0x0&&await Promise[_0x426c98(0x1a8)](_0x37d0f7[_0x426c98(0x198)](async _0x6bf13c=>{const _0xa68492=_0x426c98;await FilesOptions_1['default'][_0xa68492(0x19f)]({..._0x6bf13c,'fileId':_0x551c9c['id']});})),_0x551c9c=await(0x0,ShowService_1[_0x426c98(0x1a1)])(_0x551c9c['id'],_0x280898),_0x551c9c;};exports[a426_0x24d333(0x1a1)]=CreateService;