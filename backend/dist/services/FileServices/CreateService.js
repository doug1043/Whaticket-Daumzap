const a425_0x1af562=a425_0x5887;(function(_0x4f774e,_0x6c0aa2){const _0x25aff4=a425_0x5887,_0x7c964=_0x4f774e();while(!![]){try{const _0x27187f=parseInt(_0x25aff4(0x99))/0x1*(-parseInt(_0x25aff4(0x96))/0x2)+-parseInt(_0x25aff4(0x8f))/0x3+parseInt(_0x25aff4(0x97))/0x4+parseInt(_0x25aff4(0x8d))/0x5*(-parseInt(_0x25aff4(0x7e))/0x6)+-parseInt(_0x25aff4(0x9a))/0x7*(parseInt(_0x25aff4(0x85))/0x8)+-parseInt(_0x25aff4(0x8c))/0x9*(-parseInt(_0x25aff4(0x98))/0xa)+parseInt(_0x25aff4(0x81))/0xb;if(_0x27187f===_0x6c0aa2)break;else _0x7c964['push'](_0x7c964['shift']());}catch(_0x102d12){_0x7c964['push'](_0x7c964['shift']());}}}(a425_0x81c9,0xc8a26));function a425_0x5887(_0x40fd25,_0x2ac7b1){const _0x5d50ce=a425_0x81c9();return a425_0x5887=function(_0x1eae96,_0x59f0f6){_0x1eae96=_0x1eae96-0x78;let _0x81c92b=_0x5d50ce[_0x1eae96];return _0x81c92b;},a425_0x5887(_0x40fd25,_0x2ac7b1);}function a425_0x81c9(){const _0x55f749=['map','default','shape','upsert','__esModule','search','2846002uxEoos','5026356YPAZRU','10ruqcOP','1RBlIUj','2384137xnAjbA','yup','ERR_RATING_NAME_ALREADY_EXISTS','../../models/FilesOptions','message','findOne','writable','get','call','__createBinding','hasOwnProperty','../../models/Files','defineProperty','__importStar','6149298yUSStx','create','../../errors/AppError','30172428hRHjGL','(((.+)+)+)+$','string','all','24skGamj','length','configurable','min','required','test','toString','12754188ViwuoM','5jbUJzo','prototype','3375642ETSgTe'];a425_0x81c9=function(){return _0x55f749;};return a425_0x81c9();}const a425_0x59f0f6=(function(){let _0x52d91c=!![];return function(_0x136e51,_0x37764e){const _0x27e957=_0x52d91c?function(){if(_0x37764e){const _0x2a2885=_0x37764e['apply'](_0x136e51,arguments);return _0x37764e=null,_0x2a2885;}}:function(){};return _0x52d91c=![],_0x27e957;};}()),a425_0x1eae96=a425_0x59f0f6(this,function(){const _0x1f1e77=a425_0x5887;return a425_0x1eae96[_0x1f1e77(0x8b)]()[_0x1f1e77(0x95)](_0x1f1e77(0x82))[_0x1f1e77(0x8b)]()['constructor'](a425_0x1eae96)[_0x1f1e77(0x95)](_0x1f1e77(0x82));});a425_0x1eae96();'use strict';var __createBinding=this&&this[a425_0x1af562(0x79)]||(Object[a425_0x1af562(0x7f)]?function(_0x18dc1c,_0x3f8616,_0x1d00b2,_0x2b094f){const _0x4dc272=a425_0x1af562;if(_0x2b094f===undefined)_0x2b094f=_0x1d00b2;var _0xaaf3ed=Object['getOwnPropertyDescriptor'](_0x3f8616,_0x1d00b2);(!_0xaaf3ed||(_0x4dc272(0xa1)in _0xaaf3ed?!_0x3f8616[_0x4dc272(0x94)]:_0xaaf3ed[_0x4dc272(0xa0)]||_0xaaf3ed[_0x4dc272(0x87)]))&&(_0xaaf3ed={'enumerable':!![],'get':function(){return _0x3f8616[_0x1d00b2];}}),Object['defineProperty'](_0x18dc1c,_0x2b094f,_0xaaf3ed);}:function(_0x5edee4,_0x912be6,_0xe7f2e1,_0x89237e){if(_0x89237e===undefined)_0x89237e=_0xe7f2e1;_0x5edee4[_0x89237e]=_0x912be6[_0xe7f2e1];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x3311f3,_0x560d2d){const _0xa27914=a425_0x1af562;Object[_0xa27914(0x7c)](_0x3311f3,'default',{'enumerable':!![],'value':_0x560d2d});}:function(_0x3ccdfe,_0x4371af){const _0x3ade85=a425_0x1af562;_0x3ccdfe[_0x3ade85(0x91)]=_0x4371af;}),__importStar=this&&this[a425_0x1af562(0x7d)]||function(_0x2e17e6){const _0x4ca808=a425_0x1af562;if(_0x2e17e6&&_0x2e17e6[_0x4ca808(0x94)])return _0x2e17e6;var _0x562b84={};if(_0x2e17e6!=null){for(var _0x400ec5 in _0x2e17e6)if(_0x400ec5!==_0x4ca808(0x91)&&Object[_0x4ca808(0x8e)][_0x4ca808(0x7a)][_0x4ca808(0x78)](_0x2e17e6,_0x400ec5))__createBinding(_0x562b84,_0x2e17e6,_0x400ec5);}return __setModuleDefault(_0x562b84,_0x2e17e6),_0x562b84;},__importDefault=this&&this['__importDefault']||function(_0x35e893){return _0x35e893&&_0x35e893['__esModule']?_0x35e893:{'default':_0x35e893};};Object['defineProperty'](exports,a425_0x1af562(0x94),{'value':!![]});const Yup=__importStar(require(a425_0x1af562(0x9b))),AppError_1=__importDefault(require(a425_0x1af562(0x80))),Files_1=__importDefault(require(a425_0x1af562(0x7b))),FilesOptions_1=__importDefault(require(a425_0x1af562(0x9d))),ShowService_1=__importDefault(require('./ShowService')),CreateService=async({name:_0x17bf2a,message:_0x98250b,companyId:_0x2f74c7,options:_0x3511a2})=>{const _0x5a669f=a425_0x1af562,_0x5131fb=Yup['object']()[_0x5a669f(0x92)]({'name':Yup[_0x5a669f(0x83)]()[_0x5a669f(0x89)]()[_0x5a669f(0x88)](0x3)[_0x5a669f(0x8a)]('Check-unique-name',_0x5a669f(0x9c),async _0x443fe0=>{const _0x3aae7b=_0x5a669f;if(_0x443fe0){const _0x42b3e5=await Files_1[_0x3aae7b(0x91)][_0x3aae7b(0x9f)]({'where':{'name':_0x443fe0,'companyId':_0x2f74c7}});return!_0x42b3e5;}return![];})});try{await _0x5131fb['validate']({'name':_0x17bf2a});}catch(_0x3405a4){throw new AppError_1[(_0x5a669f(0x91))](_0x3405a4[_0x5a669f(0x9e)]);}let _0x10b561=await Files_1['default']['create']({'name':_0x17bf2a,'message':_0x98250b,'companyId':_0x2f74c7});return _0x3511a2&&_0x3511a2[_0x5a669f(0x86)]>0x0&&await Promise[_0x5a669f(0x84)](_0x3511a2[_0x5a669f(0x90)](async _0xb2c366=>{const _0x5a2907=_0x5a669f;await FilesOptions_1[_0x5a2907(0x91)][_0x5a2907(0x93)]({..._0xb2c366,'fileId':_0x10b561['id']});})),_0x10b561=await(0x0,ShowService_1['default'])(_0x10b561['id'],_0x2f74c7),_0x10b561;};exports[a425_0x1af562(0x91)]=CreateService;