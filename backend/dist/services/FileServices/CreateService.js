const a425_0x3a0bc5=a425_0x50fc;(function(_0x1b3d47,_0x4ca6d0){const _0x6ff958=a425_0x50fc,_0x1010cb=_0x1b3d47();while(!![]){try{const _0x4dc17b=parseInt(_0x6ff958(0x13e))/0x1+parseInt(_0x6ff958(0x137))/0x2+parseInt(_0x6ff958(0x130))/0x3*(-parseInt(_0x6ff958(0x13a))/0x4)+parseInt(_0x6ff958(0x142))/0x5*(-parseInt(_0x6ff958(0x132))/0x6)+-parseInt(_0x6ff958(0x13b))/0x7+parseInt(_0x6ff958(0x138))/0x8*(parseInt(_0x6ff958(0x146))/0x9)+-parseInt(_0x6ff958(0x154))/0xa*(-parseInt(_0x6ff958(0x148))/0xb);if(_0x4dc17b===_0x4ca6d0)break;else _0x1010cb['push'](_0x1010cb['shift']());}catch(_0x4cee20){_0x1010cb['push'](_0x1010cb['shift']());}}}(a425_0x2534,0x68d25));const a425_0x3caf85=(function(){let _0x4536b3=!![];return function(_0x272dac,_0x16ee66){const _0x458fcb=_0x4536b3?function(){const _0x4cb830=a425_0x50fc;if(_0x16ee66){const _0x391e02=_0x16ee66[_0x4cb830(0x12a)](_0x272dac,arguments);return _0x16ee66=null,_0x391e02;}}:function(){};return _0x4536b3=![],_0x458fcb;};}()),a425_0xb74eda=a425_0x3caf85(this,function(){const _0x203936=a425_0x50fc;return a425_0xb74eda['toString']()['search'](_0x203936(0x136))[_0x203936(0x140)]()['constructor'](a425_0xb74eda)[_0x203936(0x141)]('(((.+)+)+)+$');});function a425_0x50fc(_0x19ab9b,_0x362517){const _0x5c895d=a425_0x2534();return a425_0x50fc=function(_0xb74eda,_0x3caf85){_0xb74eda=_0xb74eda-0x129;let _0x2534ba=_0x5c895d[_0xb74eda];return _0x2534ba;},a425_0x50fc(_0x19ab9b,_0x362517);}a425_0xb74eda();'use strict';var __createBinding=this&&this[a425_0x3a0bc5(0x12c)]||(Object[a425_0x3a0bc5(0x13c)]?function(_0x152449,_0xc4ac00,_0x304b0b,_0x34ac4a){const _0x247a5d=a425_0x3a0bc5;if(_0x34ac4a===undefined)_0x34ac4a=_0x304b0b;var _0x19da11=Object[_0x247a5d(0x12e)](_0xc4ac00,_0x304b0b);(!_0x19da11||(_0x247a5d(0x14d)in _0x19da11?!_0xc4ac00[_0x247a5d(0x149)]:_0x19da11[_0x247a5d(0x13d)]||_0x19da11['configurable']))&&(_0x19da11={'enumerable':!![],'get':function(){return _0xc4ac00[_0x304b0b];}}),Object[_0x247a5d(0x12f)](_0x152449,_0x34ac4a,_0x19da11);}:function(_0x2f5a16,_0x537d18,_0x3f787a,_0x44af73){if(_0x44af73===undefined)_0x44af73=_0x3f787a;_0x2f5a16[_0x44af73]=_0x537d18[_0x3f787a];}),__setModuleDefault=this&&this[a425_0x3a0bc5(0x134)]||(Object['create']?function(_0x3a3058,_0x55541d){const _0x453cf2=a425_0x3a0bc5;Object[_0x453cf2(0x12f)](_0x3a3058,_0x453cf2(0x14b),{'enumerable':!![],'value':_0x55541d});}:function(_0x4b028d,_0x4f0dd4){const _0x39cd39=a425_0x3a0bc5;_0x4b028d[_0x39cd39(0x14b)]=_0x4f0dd4;}),__importStar=this&&this[a425_0x3a0bc5(0x131)]||function(_0x5cf70a){const _0x1e55f1=a425_0x3a0bc5;if(_0x5cf70a&&_0x5cf70a[_0x1e55f1(0x149)])return _0x5cf70a;var _0xe067d6={};if(_0x5cf70a!=null){for(var _0x208de5 in _0x5cf70a)if(_0x208de5!==_0x1e55f1(0x14b)&&Object[_0x1e55f1(0x150)][_0x1e55f1(0x135)]['call'](_0x5cf70a,_0x208de5))__createBinding(_0xe067d6,_0x5cf70a,_0x208de5);}return __setModuleDefault(_0xe067d6,_0x5cf70a),_0xe067d6;},__importDefault=this&&this[a425_0x3a0bc5(0x14c)]||function(_0xb5376c){const _0x719c04=a425_0x3a0bc5;return _0xb5376c&&_0xb5376c[_0x719c04(0x149)]?_0xb5376c:{'default':_0xb5376c};};Object[a425_0x3a0bc5(0x12f)](exports,a425_0x3a0bc5(0x149),{'value':!![]});const Yup=__importStar(require(a425_0x3a0bc5(0x14e))),AppError_1=__importDefault(require(a425_0x3a0bc5(0x14a))),Files_1=__importDefault(require(a425_0x3a0bc5(0x14f))),FilesOptions_1=__importDefault(require(a425_0x3a0bc5(0x143))),ShowService_1=__importDefault(require('./ShowService')),CreateService=async({name:_0x247afa,message:_0x410239,companyId:_0x4634e4,options:_0x11a3cf})=>{const _0x2ff142=a425_0x3a0bc5,_0x1f414e=Yup[_0x2ff142(0x129)]()['shape']({'name':Yup[_0x2ff142(0x12b)]()[_0x2ff142(0x13f)]()[_0x2ff142(0x151)](0x3)[_0x2ff142(0x147)](_0x2ff142(0x152),_0x2ff142(0x145),async _0x1ab51b=>{const _0x515e05=_0x2ff142;if(_0x1ab51b){const _0x55f810=await Files_1[_0x515e05(0x14b)][_0x515e05(0x133)]({'where':{'name':_0x1ab51b,'companyId':_0x4634e4}});return!_0x55f810;}return![];})});try{await _0x1f414e[_0x2ff142(0x139)]({'name':_0x247afa});}catch(_0x462d98){throw new AppError_1[(_0x2ff142(0x14b))](_0x462d98[_0x2ff142(0x12d)]);}let _0x38ec08=await Files_1[_0x2ff142(0x14b)][_0x2ff142(0x13c)]({'name':_0x247afa,'message':_0x410239,'companyId':_0x4634e4});return _0x11a3cf&&_0x11a3cf[_0x2ff142(0x144)]>0x0&&await Promise['all'](_0x11a3cf[_0x2ff142(0x153)](async _0x3ebe96=>{const _0x1193b4=_0x2ff142;await FilesOptions_1[_0x1193b4(0x14b)]['upsert']({..._0x3ebe96,'fileId':_0x38ec08['id']});})),_0x38ec08=await(0x0,ShowService_1[_0x2ff142(0x14b)])(_0x38ec08['id'],_0x4634e4),_0x38ec08;};function a425_0x2534(){const _0xe0ae76=['__esModule','../../errors/AppError','default','__importDefault','get','yup','../../models/Files','prototype','min','Check-unique-name','map','8765480hJvZJr','object','apply','string','__createBinding','message','getOwnPropertyDescriptor','defineProperty','519243kDjabC','__importStar','30bJjvVZ','findOne','__setModuleDefault','hasOwnProperty','(((.+)+)+)+$','1462676UUMKIo','207056FqOMfa','validate','4hqJwRw','2740899qnsATk','create','writable','209194mmrWrr','required','toString','search','848975ULHrrp','../../models/FilesOptions','length','ERR_RATING_NAME_ALREADY_EXISTS','9krhQUF','test','11DAZTJG'];a425_0x2534=function(){return _0xe0ae76;};return a425_0x2534();}exports['default']=CreateService;