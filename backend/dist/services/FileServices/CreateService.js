const a424_0x1192fa=a424_0x145a;(function(_0x20606e,_0x2f5982){const _0x281171=a424_0x145a,_0x51c44b=_0x20606e();while(!![]){try{const _0x438719=-parseInt(_0x281171(0x1a2))/0x1+parseInt(_0x281171(0x192))/0x2+-parseInt(_0x281171(0x19f))/0x3*(parseInt(_0x281171(0x193))/0x4)+parseInt(_0x281171(0x18d))/0x5*(parseInt(_0x281171(0x1a5))/0x6)+parseInt(_0x281171(0x1af))/0x7*(parseInt(_0x281171(0x1a7))/0x8)+-parseInt(_0x281171(0x1a3))/0x9+-parseInt(_0x281171(0x18f))/0xa;if(_0x438719===_0x2f5982)break;else _0x51c44b['push'](_0x51c44b['shift']());}catch(_0x4e71e5){_0x51c44b['push'](_0x51c44b['shift']());}}}(a424_0x26f8,0xe8417));const a424_0x3ca2fc=(function(){let _0x1ada85=!![];return function(_0x31514b,_0x127dff){const _0x292f85=_0x1ada85?function(){if(_0x127dff){const _0x4f5c8d=_0x127dff['apply'](_0x31514b,arguments);return _0x127dff=null,_0x4f5c8d;}}:function(){};return _0x1ada85=![],_0x292f85;};}()),a424_0xd5646f=a424_0x3ca2fc(this,function(){const _0x1361bf=a424_0x145a;return a424_0xd5646f['toString']()[_0x1361bf(0x1b5)](_0x1361bf(0x1a4))['toString']()[_0x1361bf(0x1b2)](a424_0xd5646f)[_0x1361bf(0x1b5)](_0x1361bf(0x1a4));});a424_0xd5646f();'use strict';function a424_0x26f8(){const _0x350cd2=['all','writable','map','__esModule','__createBinding','shape','object','133MXPHQq','findOne','ERR_RATING_NAME_ALREADY_EXISTS','constructor','length','Check-unique-name','search','get','../../models/Files','create','4092880ijezTs','message','4211220IDNntf','hasOwnProperty','configurable','2215770FTgiKi','148pOOpvh','upsert','call','__importDefault','defineProperty','__setModuleDefault','./ShowService','yup','min','prototype','string','test','87297vgkTvA','getOwnPropertyDescriptor','validate','450621krFcUG','1782594kPjsjE','(((.+)+)+)+$','12uSRdbb','default','148528NOunSt'];a424_0x26f8=function(){return _0x350cd2;};return a424_0x26f8();}function a424_0x145a(_0x5a4410,_0x502592){const _0xcc37f5=a424_0x26f8();return a424_0x145a=function(_0xd5646f,_0x3ca2fc){_0xd5646f=_0xd5646f-0x18d;let _0x26f82d=_0xcc37f5[_0xd5646f];return _0x26f82d;},a424_0x145a(_0x5a4410,_0x502592);}var __createBinding=this&&this[a424_0x1192fa(0x1ac)]||(Object[a424_0x1192fa(0x1b8)]?function(_0x11b4da,_0x256e63,_0x546b8d,_0x1ffab4){const _0x5085d9=a424_0x1192fa;if(_0x1ffab4===undefined)_0x1ffab4=_0x546b8d;var _0x3758a8=Object[_0x5085d9(0x1a0)](_0x256e63,_0x546b8d);(!_0x3758a8||(_0x5085d9(0x1b6)in _0x3758a8?!_0x256e63[_0x5085d9(0x1ab)]:_0x3758a8[_0x5085d9(0x1a9)]||_0x3758a8[_0x5085d9(0x191)]))&&(_0x3758a8={'enumerable':!![],'get':function(){return _0x256e63[_0x546b8d];}}),Object['defineProperty'](_0x11b4da,_0x1ffab4,_0x3758a8);}:function(_0x1226d4,_0xa31318,_0x277225,_0x4279dd){if(_0x4279dd===undefined)_0x4279dd=_0x277225;_0x1226d4[_0x4279dd]=_0xa31318[_0x277225];}),__setModuleDefault=this&&this[a424_0x1192fa(0x198)]||(Object[a424_0x1192fa(0x1b8)]?function(_0x1ba91c,_0x4c54df){const _0x219138=a424_0x1192fa;Object[_0x219138(0x197)](_0x1ba91c,'default',{'enumerable':!![],'value':_0x4c54df});}:function(_0x3f21ad,_0x249c96){const _0x5c54b8=a424_0x1192fa;_0x3f21ad[_0x5c54b8(0x1a6)]=_0x249c96;}),__importStar=this&&this['__importStar']||function(_0x595e48){const _0xda847a=a424_0x1192fa;if(_0x595e48&&_0x595e48['__esModule'])return _0x595e48;var _0x3f2016={};if(_0x595e48!=null){for(var _0x2ad50b in _0x595e48)if(_0x2ad50b!==_0xda847a(0x1a6)&&Object[_0xda847a(0x19c)][_0xda847a(0x190)][_0xda847a(0x195)](_0x595e48,_0x2ad50b))__createBinding(_0x3f2016,_0x595e48,_0x2ad50b);}return __setModuleDefault(_0x3f2016,_0x595e48),_0x3f2016;},__importDefault=this&&this[a424_0x1192fa(0x196)]||function(_0x5ef9c0){const _0x4d65d0=a424_0x1192fa;return _0x5ef9c0&&_0x5ef9c0[_0x4d65d0(0x1ab)]?_0x5ef9c0:{'default':_0x5ef9c0};};Object[a424_0x1192fa(0x197)](exports,a424_0x1192fa(0x1ab),{'value':!![]});const Yup=__importStar(require(a424_0x1192fa(0x19a))),AppError_1=__importDefault(require('../../errors/AppError')),Files_1=__importDefault(require(a424_0x1192fa(0x1b7))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a424_0x1192fa(0x199))),CreateService=async({name:_0xe8946,message:_0x563e9f,companyId:_0x871b65,options:_0xe0abfa})=>{const _0x171b1e=a424_0x1192fa,_0x1303f5=Yup[_0x171b1e(0x1ae)]()[_0x171b1e(0x1ad)]({'name':Yup[_0x171b1e(0x19d)]()['required']()[_0x171b1e(0x19b)](0x3)[_0x171b1e(0x19e)](_0x171b1e(0x1b4),_0x171b1e(0x1b1),async _0x344d44=>{const _0x4a5cae=_0x171b1e;if(_0x344d44){const _0x264765=await Files_1[_0x4a5cae(0x1a6)][_0x4a5cae(0x1b0)]({'where':{'name':_0x344d44,'companyId':_0x871b65}});return!_0x264765;}return![];})});try{await _0x1303f5[_0x171b1e(0x1a1)]({'name':_0xe8946});}catch(_0x1d4a53){throw new AppError_1[(_0x171b1e(0x1a6))](_0x1d4a53[_0x171b1e(0x18e)]);}let _0x8eb621=await Files_1[_0x171b1e(0x1a6)][_0x171b1e(0x1b8)]({'name':_0xe8946,'message':_0x563e9f,'companyId':_0x871b65});return _0xe0abfa&&_0xe0abfa[_0x171b1e(0x1b3)]>0x0&&await Promise[_0x171b1e(0x1a8)](_0xe0abfa[_0x171b1e(0x1aa)](async _0x224af2=>{const _0x375e98=_0x171b1e;await FilesOptions_1[_0x375e98(0x1a6)][_0x375e98(0x194)]({..._0x224af2,'fileId':_0x8eb621['id']});})),_0x8eb621=await(0x0,ShowService_1[_0x171b1e(0x1a6)])(_0x8eb621['id'],_0x871b65),_0x8eb621;};exports[a424_0x1192fa(0x1a6)]=CreateService;