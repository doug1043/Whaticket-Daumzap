'use strict';var a540_0x3ff100=a540_0x1d18;function a540_0x1d18(_0x2ddffd,_0x4ceb24){var _0x12c3fe=a540_0x51c1();return a540_0x1d18=function(_0x367555,_0x53ac14){_0x367555=_0x367555-0x73;var _0x51c14a=_0x12c3fe[_0x367555];return _0x51c14a;},a540_0x1d18(_0x2ddffd,_0x4ceb24);}(function(_0x552fc0,_0x1923d6){var _0x22a0dc=a540_0x1d18,_0x268684=_0x552fc0();while(!![]){try{var _0x3cfc52=-parseInt(_0x22a0dc(0x8e))/0x1+parseInt(_0x22a0dc(0x82))/0x2*(-parseInt(_0x22a0dc(0x90))/0x3)+-parseInt(_0x22a0dc(0x83))/0x4*(parseInt(_0x22a0dc(0x86))/0x5)+parseInt(_0x22a0dc(0x7a))/0x6+-parseInt(_0x22a0dc(0x7e))/0x7+parseInt(_0x22a0dc(0x8b))/0x8+parseInt(_0x22a0dc(0x74))/0x9;if(_0x3cfc52===_0x1923d6)break;else _0x268684['push'](_0x268684['shift']());}catch(_0x548d30){_0x268684['push'](_0x268684['shift']());}}}(a540_0x51c1,0x2149d));var __createBinding=this&&this[a540_0x3ff100(0x77)]||(Object[a540_0x3ff100(0x79)]?function(_0x2663a2,_0x4e738f,_0x10deed,_0x3d30b4){var _0x2c6766=a540_0x3ff100;if(_0x3d30b4===undefined)_0x3d30b4=_0x10deed;var _0x19faff=Object[_0x2c6766(0x8c)](_0x4e738f,_0x10deed);(!_0x19faff||('get'in _0x19faff?!_0x4e738f[_0x2c6766(0x96)]:_0x19faff[_0x2c6766(0x92)]||_0x19faff['configurable']))&&(_0x19faff={'enumerable':!![],'get':function(){return _0x4e738f[_0x10deed];}}),Object[_0x2c6766(0x7b)](_0x2663a2,_0x3d30b4,_0x19faff);}:function(_0x1b7555,_0x1f44d9,_0x57a698,_0x59a48d){if(_0x59a48d===undefined)_0x59a48d=_0x57a698;_0x1b7555[_0x59a48d]=_0x1f44d9[_0x57a698];}),__setModuleDefault=this&&this[a540_0x3ff100(0x9c)]||(Object[a540_0x3ff100(0x79)]?function(_0xcdae4c,_0x374423){var _0x2a8dc6=a540_0x3ff100;Object[_0x2a8dc6(0x7b)](_0xcdae4c,'default',{'enumerable':!![],'value':_0x374423});}:function(_0x26f658,_0x207355){var _0x1d1316=a540_0x3ff100;_0x26f658[_0x1d1316(0x7f)]=_0x207355;}),__importStar=this&&this[a540_0x3ff100(0x78)]||(function(){var _0x205973=(function(){var _0x5cca9a=!![];return function(_0x18b26c,_0x24da30){var _0x528da6=_0x5cca9a?function(){var _0xf154e6=a540_0x1d18;if(_0x24da30){var _0x276003=_0x24da30[_0xf154e6(0x95)](_0x18b26c,arguments);return _0x24da30=null,_0x276003;}}:function(){};return _0x5cca9a=![],_0x528da6;};}()),_0x1c0af2=_0x205973(this,function(){var _0x5233d1=a540_0x1d18;return _0x1c0af2[_0x5233d1(0x99)]()['search'](_0x5233d1(0x7d))[_0x5233d1(0x99)]()[_0x5233d1(0x80)](_0x1c0af2)[_0x5233d1(0x7c)](_0x5233d1(0x7d));});_0x1c0af2();var _0x53df03=function(_0x4db056){var _0x59babd=a540_0x1d18;return _0x53df03=Object[_0x59babd(0x91)]||function(_0x396817){var _0x41e33f=_0x59babd,_0x33c159=[];for(var _0x33b607 in _0x396817)if(Object['prototype']['hasOwnProperty'][_0x41e33f(0x84)](_0x396817,_0x33b607))_0x33c159[_0x33c159[_0x41e33f(0x8a)]]=_0x33b607;return _0x33c159;},_0x53df03(_0x4db056);};return function(_0x2ecde6){var _0x37c37d=a540_0x1d18;if(_0x2ecde6&&_0x2ecde6[_0x37c37d(0x96)])return _0x2ecde6;var _0xb47019={};if(_0x2ecde6!=null){for(var _0x27a99c=_0x53df03(_0x2ecde6),_0xb44eb8=0x0;_0xb44eb8<_0x27a99c[_0x37c37d(0x8a)];_0xb44eb8++)if(_0x27a99c[_0xb44eb8]!=='default')__createBinding(_0xb47019,_0x2ecde6,_0x27a99c[_0xb44eb8]);}return __setModuleDefault(_0xb47019,_0x2ecde6),_0xb47019;};}()),__importDefault=this&&this['__importDefault']||function(_0x2917ef){var _0x4a39a5=a540_0x3ff100;return _0x2917ef&&_0x2917ef[_0x4a39a5(0x96)]?_0x2917ef:{'default':_0x2917ef};};Object[a540_0x3ff100(0x7b)](exports,a540_0x3ff100(0x96),{'value':!![]});const Yup=__importStar(require(a540_0x3ff100(0x97))),AppError_1=__importDefault(require(a540_0x3ff100(0x88))),Files_1=__importDefault(require(a540_0x3ff100(0x9a))),FilesOptions_1=__importDefault(require(a540_0x3ff100(0x85))),ShowService_1=__importDefault(require(a540_0x3ff100(0x8d))),CreateService=async({name:_0x1b4c14,message:_0x2dbd91,companyId:_0x4fc6e3,options:_0x47a917})=>{var _0x29402a=a540_0x3ff100;const _0x51c1fa=Yup['object']()[_0x29402a(0x98)]({'name':Yup[_0x29402a(0x9b)]()[_0x29402a(0x89)]()['min'](0x3)[_0x29402a(0x76)](_0x29402a(0x87),_0x29402a(0x94),async _0x35d8af=>{var _0x11a31a=_0x29402a;if(_0x35d8af){const _0x296769=await Files_1[_0x11a31a(0x7f)]['findOne']({'where':{'name':_0x35d8af,'companyId':_0x4fc6e3}});return!_0x296769;}return![];})});try{await _0x51c1fa[_0x29402a(0x81)]({'name':_0x1b4c14});}catch(_0x26d2e9){throw new AppError_1[(_0x29402a(0x7f))](_0x26d2e9[_0x29402a(0x93)]);}let _0x35403c=await Files_1['default'][_0x29402a(0x79)]({'name':_0x1b4c14,'message':_0x2dbd91,'companyId':_0x4fc6e3});return _0x47a917&&_0x47a917[_0x29402a(0x8a)]>0x0&&await Promise[_0x29402a(0x75)](_0x47a917[_0x29402a(0x8f)](async _0x25c9e0=>{var _0x501cbb=_0x29402a;await FilesOptions_1['default'][_0x501cbb(0x73)]({..._0x25c9e0,'fileId':_0x35403c['id']});})),_0x35403c=await(0x0,ShowService_1[_0x29402a(0x7f)])(_0x35403c['id'],_0x4fc6e3),_0x35403c;};function a540_0x51c1(){var _0xf897c0=['getOwnPropertyDescriptor','./ShowService','141836AOIYJl','map','407016cyDPAP','getOwnPropertyNames','writable','message','ERR_RATING_NAME_ALREADY_EXISTS','apply','__esModule','yup','shape','toString','../../models/Files','string','__setModuleDefault','upsert','3602295tmxklk','all','test','__createBinding','__importStar','create','484650ykWqJg','defineProperty','search','(((.+)+)+)+$','169127PqUeBT','default','constructor','validate','2GTQFMC','4PzyBKU','call','../../models/FilesOptions','1218215OYuMnA','Check-unique-name','../../errors/AppError','required','length','1605048RafrgL'];a540_0x51c1=function(){return _0xf897c0;};return a540_0x51c1();}exports[a540_0x3ff100(0x7f)]=CreateService;