'use strict';function a541_0x26d3(){var _0x1261da=['./ShowService','16KMNXCn','10259780pqPfPq','getOwnPropertyDescriptor','80XRrfQU','getOwnPropertyNames','35665gZaBWw','configurable','length','../../models/Files','204868tVIFOJ','1272knjQiQ','__importStar','216010mxucNu','9mEswps','default','../../errors/AppError','min','564MAtHto','shape','writable','toString','required','yup','405427CbTvDk','../../models/FilesOptions','__importDefault','__esModule','upsert','prototype','create','constructor','search','findOne','131089gOwUZF','Check-unique-name','string','__createBinding','defineProperty','1822797rahyHk','(((.+)+)+)+$','get','message','hasOwnProperty','ERR_RATING_NAME_ALREADY_EXISTS','all'];a541_0x26d3=function(){return _0x1261da;};return a541_0x26d3();}var a541_0x3eae1b=a541_0x2047;(function(_0x542b7d,_0x3b0b05){var _0x4636e9=a541_0x2047,_0x20bdd9=_0x542b7d();while(!![]){try{var _0x499b60=parseInt(_0x4636e9(0x131))/0x1+-parseInt(_0x4636e9(0x119))/0x2*(parseInt(_0x4636e9(0x11d))/0x3)+-parseInt(_0x4636e9(0x113))/0x4*(-parseInt(_0x4636e9(0x11c))/0x5)+-parseInt(_0x4636e9(0x11a))/0x6*(parseInt(_0x4636e9(0x115))/0x7)+-parseInt(_0x4636e9(0x110))/0x8*(-parseInt(_0x4636e9(0x136))/0x9)+-parseInt(_0x4636e9(0x111))/0xa+parseInt(_0x4636e9(0x127))/0xb*(parseInt(_0x4636e9(0x121))/0xc);if(_0x499b60===_0x3b0b05)break;else _0x20bdd9['push'](_0x20bdd9['shift']());}catch(_0x3b87a8){_0x20bdd9['push'](_0x20bdd9['shift']());}}}(a541_0x26d3,0xaf8ce));var __createBinding=this&&this[a541_0x3eae1b(0x134)]||(Object[a541_0x3eae1b(0x12d)]?function(_0x13714c,_0x26ac33,_0x2cd8b7,_0x487897){var _0x25b329=a541_0x3eae1b;if(_0x487897===undefined)_0x487897=_0x2cd8b7;var _0x532e91=Object[_0x25b329(0x112)](_0x26ac33,_0x2cd8b7);(!_0x532e91||(_0x25b329(0x138)in _0x532e91?!_0x26ac33['__esModule']:_0x532e91[_0x25b329(0x123)]||_0x532e91[_0x25b329(0x116)]))&&(_0x532e91={'enumerable':!![],'get':function(){return _0x26ac33[_0x2cd8b7];}}),Object[_0x25b329(0x135)](_0x13714c,_0x487897,_0x532e91);}:function(_0x248ae8,_0x5ad2f8,_0x382f72,_0x4ce34d){if(_0x4ce34d===undefined)_0x4ce34d=_0x382f72;_0x248ae8[_0x4ce34d]=_0x5ad2f8[_0x382f72];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a541_0x3eae1b(0x12d)]?function(_0x5b2eb4,_0x533579){var _0x5b3187=a541_0x3eae1b;Object[_0x5b3187(0x135)](_0x5b2eb4,_0x5b3187(0x11e),{'enumerable':!![],'value':_0x533579});}:function(_0x4a5e0e,_0x44038f){var _0x4a8858=a541_0x3eae1b;_0x4a5e0e[_0x4a8858(0x11e)]=_0x44038f;}),__importStar=this&&this[a541_0x3eae1b(0x11b)]||(function(){var _0x44f47d=(function(){var _0x5bfebc=!![];return function(_0x3541da,_0x3b4a94){var _0x9311c4=_0x5bfebc?function(){if(_0x3b4a94){var _0xa309a0=_0x3b4a94['apply'](_0x3541da,arguments);return _0x3b4a94=null,_0xa309a0;}}:function(){};return _0x5bfebc=![],_0x9311c4;};}()),_0x41860e=_0x44f47d(this,function(){var _0x2a8fac=a541_0x2047;return _0x41860e[_0x2a8fac(0x124)]()['search']('(((.+)+)+)+$')[_0x2a8fac(0x124)]()[_0x2a8fac(0x12e)](_0x41860e)[_0x2a8fac(0x12f)](_0x2a8fac(0x137));});_0x41860e();var _0x152544=function(_0x255b85){var _0xefe281=a541_0x2047;return _0x152544=Object[_0xefe281(0x114)]||function(_0x35459d){var _0x249bf2=_0xefe281,_0x549a60=[];for(var _0x1f5e6f in _0x35459d)if(Object[_0x249bf2(0x12c)][_0x249bf2(0x10c)]['call'](_0x35459d,_0x1f5e6f))_0x549a60[_0x549a60['length']]=_0x1f5e6f;return _0x549a60;},_0x152544(_0x255b85);};return function(_0x1e94ff){var _0x460441=a541_0x2047;if(_0x1e94ff&&_0x1e94ff[_0x460441(0x12a)])return _0x1e94ff;var _0x38854c={};if(_0x1e94ff!=null){for(var _0x523ea4=_0x152544(_0x1e94ff),_0xc3a168=0x0;_0xc3a168<_0x523ea4[_0x460441(0x117)];_0xc3a168++)if(_0x523ea4[_0xc3a168]!==_0x460441(0x11e))__createBinding(_0x38854c,_0x1e94ff,_0x523ea4[_0xc3a168]);}return __setModuleDefault(_0x38854c,_0x1e94ff),_0x38854c;};}()),__importDefault=this&&this[a541_0x3eae1b(0x129)]||function(_0x299521){var _0x5117c7=a541_0x3eae1b;return _0x299521&&_0x299521[_0x5117c7(0x12a)]?_0x299521:{'default':_0x299521};};function a541_0x2047(_0x3c6308,_0x4581ca){var _0x4baa3d=a541_0x26d3();return a541_0x2047=function(_0x4c02bb,_0x4f3b3a){_0x4c02bb=_0x4c02bb-0x10b;var _0x26d35d=_0x4baa3d[_0x4c02bb];return _0x26d35d;},a541_0x2047(_0x3c6308,_0x4581ca);}Object[a541_0x3eae1b(0x135)](exports,a541_0x3eae1b(0x12a),{'value':!![]});const Yup=__importStar(require(a541_0x3eae1b(0x126))),AppError_1=__importDefault(require(a541_0x3eae1b(0x11f))),Files_1=__importDefault(require(a541_0x3eae1b(0x118))),FilesOptions_1=__importDefault(require(a541_0x3eae1b(0x128))),ShowService_1=__importDefault(require(a541_0x3eae1b(0x10f))),CreateService=async({name:_0x10f97d,message:_0x3b3f6f,companyId:_0x9ed4b7,options:_0x36daf5})=>{var _0x4add0d=a541_0x3eae1b;const _0x3e71d2=Yup['object']()[_0x4add0d(0x122)]({'name':Yup[_0x4add0d(0x133)]()[_0x4add0d(0x125)]()[_0x4add0d(0x120)](0x3)['test'](_0x4add0d(0x132),_0x4add0d(0x10d),async _0x1129c4=>{var _0x3967e2=_0x4add0d;if(_0x1129c4){const _0x349320=await Files_1['default'][_0x3967e2(0x130)]({'where':{'name':_0x1129c4,'companyId':_0x9ed4b7}});return!_0x349320;}return![];})});try{await _0x3e71d2['validate']({'name':_0x10f97d});}catch(_0x48f725){throw new AppError_1[(_0x4add0d(0x11e))](_0x48f725[_0x4add0d(0x10b)]);}let _0x1c0a8b=await Files_1[_0x4add0d(0x11e)][_0x4add0d(0x12d)]({'name':_0x10f97d,'message':_0x3b3f6f,'companyId':_0x9ed4b7});return _0x36daf5&&_0x36daf5['length']>0x0&&await Promise[_0x4add0d(0x10e)](_0x36daf5['map'](async _0x590f29=>{var _0x464db8=_0x4add0d;await FilesOptions_1['default'][_0x464db8(0x12b)]({..._0x590f29,'fileId':_0x1c0a8b['id']});})),_0x1c0a8b=await(0x0,ShowService_1[_0x4add0d(0x11e)])(_0x1c0a8b['id'],_0x9ed4b7),_0x1c0a8b;};exports[a541_0x3eae1b(0x11e)]=CreateService;