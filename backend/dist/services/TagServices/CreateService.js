'use strict';var a537_0x42e04f=a537_0x520c;function a537_0x5748(){var _0x8a96ea=['length','(((.+)+)+)+$','1568528HBsHxF','default','create','reload','shape','109781XsLpDH','writable','956980kxotlb','constructor','defineProperty','search','2659520XYlAiO','../../errors/AppError','hasOwnProperty','string','message','call','yup','getOwnPropertyNames','apply','54zbLAUS','33372euweSC','object','__importStar','configurable','__createBinding','required','__esModule','validate','toString','getOwnPropertyDescriptor','5813696PGRvXP','1577316lLaGWp'];a537_0x5748=function(){return _0x8a96ea;};return a537_0x5748();}(function(_0x581941,_0x71c788){var _0x1d94c2=a537_0x520c,_0x729138=_0x581941();while(!![]){try{var _0x41fecb=parseInt(_0x1d94c2(0x164))/0x1+-parseInt(_0x1d94c2(0x161))/0x2+parseInt(_0x1d94c2(0x156))/0x3+parseInt(_0x1d94c2(0x160))/0x4+-parseInt(_0x1d94c2(0x148))/0x5*(parseInt(_0x1d94c2(0x155))/0x6)+parseInt(_0x1d94c2(0x169))/0x7+parseInt(_0x1d94c2(0x14c))/0x8;if(_0x41fecb===_0x71c788)break;else _0x729138['push'](_0x729138['shift']());}catch(_0x19c5e9){_0x729138['push'](_0x729138['shift']());}}}(a537_0x5748,0xd4659));var __createBinding=this&&this[a537_0x42e04f(0x15a)]||(Object['create']?function(_0x5a0a37,_0x492d3d,_0xb201f9,_0x510072){var _0x45d2be=a537_0x42e04f;if(_0x510072===undefined)_0x510072=_0xb201f9;var _0x58640c=Object[_0x45d2be(0x15f)](_0x492d3d,_0xb201f9);(!_0x58640c||('get'in _0x58640c?!_0x492d3d[_0x45d2be(0x15c)]:_0x58640c[_0x45d2be(0x16a)]||_0x58640c[_0x45d2be(0x159)]))&&(_0x58640c={'enumerable':!![],'get':function(){return _0x492d3d[_0xb201f9];}}),Object[_0x45d2be(0x14a)](_0x5a0a37,_0x510072,_0x58640c);}:function(_0x4f7966,_0x32683c,_0x33be54,_0x3df8e3){if(_0x3df8e3===undefined)_0x3df8e3=_0x33be54;_0x4f7966[_0x3df8e3]=_0x32683c[_0x33be54];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a537_0x42e04f(0x166)]?function(_0x1b76a2,_0x35f6b1){var _0x1ce8c4=a537_0x42e04f;Object[_0x1ce8c4(0x14a)](_0x1b76a2,'default',{'enumerable':!![],'value':_0x35f6b1});}:function(_0x45ca8c,_0x594d47){var _0x52bf38=a537_0x42e04f;_0x45ca8c[_0x52bf38(0x165)]=_0x594d47;}),__importStar=this&&this[a537_0x42e04f(0x158)]||(function(){var _0x58ca16=(function(){var _0x251f57=!![];return function(_0x407a26,_0x4571a1){var _0x81e67c=_0x251f57?function(){var _0x30dfca=a537_0x520c;if(_0x4571a1){var _0x5034bd=_0x4571a1[_0x30dfca(0x154)](_0x407a26,arguments);return _0x4571a1=null,_0x5034bd;}}:function(){};return _0x251f57=![],_0x81e67c;};}()),_0x2d4f93=_0x58ca16(this,function(){var _0x39efc4=a537_0x520c;return _0x2d4f93[_0x39efc4(0x15e)]()[_0x39efc4(0x14b)](_0x39efc4(0x163))[_0x39efc4(0x15e)]()[_0x39efc4(0x149)](_0x2d4f93)['search']('(((.+)+)+)+$');});_0x2d4f93();var _0x4d9ed9=function(_0x109c6d){var _0x4b46a6=a537_0x520c;return _0x4d9ed9=Object[_0x4b46a6(0x153)]||function(_0x3a272a){var _0x30114a=_0x4b46a6,_0x1375ad=[];for(var _0x3db586 in _0x3a272a)if(Object['prototype'][_0x30114a(0x14e)][_0x30114a(0x151)](_0x3a272a,_0x3db586))_0x1375ad[_0x1375ad[_0x30114a(0x162)]]=_0x3db586;return _0x1375ad;},_0x4d9ed9(_0x109c6d);};return function(_0x358bed){var _0x5399e6=a537_0x520c;if(_0x358bed&&_0x358bed['__esModule'])return _0x358bed;var _0x197e53={};if(_0x358bed!=null){for(var _0x54e40b=_0x4d9ed9(_0x358bed),_0x3e4c57=0x0;_0x3e4c57<_0x54e40b[_0x5399e6(0x162)];_0x3e4c57++)if(_0x54e40b[_0x3e4c57]!==_0x5399e6(0x165))__createBinding(_0x197e53,_0x358bed,_0x54e40b[_0x3e4c57]);}return __setModuleDefault(_0x197e53,_0x358bed),_0x197e53;};}()),__importDefault=this&&this['__importDefault']||function(_0x206598){var _0x40edae=a537_0x42e04f;return _0x206598&&_0x206598[_0x40edae(0x15c)]?_0x206598:{'default':_0x206598};};Object[a537_0x42e04f(0x14a)](exports,a537_0x42e04f(0x15c),{'value':!![]});const Yup=__importStar(require(a537_0x42e04f(0x152))),AppError_1=__importDefault(require(a537_0x42e04f(0x14d))),Tag_1=__importDefault(require('../../models/Tag')),CreateService=async({name:_0x1fd2a4,color:color='#A4CCCC',kanban:_0xe4c46f,companyId:_0x4708b0})=>{var _0x59a4dc=a537_0x42e04f;const _0x338a6e=Yup[_0x59a4dc(0x157)]()[_0x59a4dc(0x168)]({'name':Yup[_0x59a4dc(0x14f)]()[_0x59a4dc(0x15b)]()['min'](0x3)});try{await _0x338a6e[_0x59a4dc(0x15d)]({'name':_0x1fd2a4});}catch(_0x2f02a6){throw new AppError_1[(_0x59a4dc(0x165))](_0x2f02a6[_0x59a4dc(0x150)]);}_0xe4c46f===null&&(_0xe4c46f=0x0);const [_0x17e6ff]=await Tag_1[_0x59a4dc(0x165)]['findOrCreate']({'where':{'name':_0x1fd2a4,'color':color,'kanban':_0xe4c46f,'companyId':_0x4708b0},'defaults':{'name':_0x1fd2a4,'color':color,'kanban':_0xe4c46f,'companyId':_0x4708b0}});return await _0x17e6ff[_0x59a4dc(0x167)](),_0x17e6ff;};function a537_0x520c(_0x1a7290,_0x1c04b8){var _0x55248c=a537_0x5748();return a537_0x520c=function(_0x597f92,_0x145918){_0x597f92=_0x597f92-0x148;var _0x5748f6=_0x55248c[_0x597f92];return _0x5748f6;},a537_0x520c(_0x1a7290,_0x1c04b8);}exports['default']=CreateService;