const a513_0x1fc3a5=a513_0x2281;(function(_0x1046ba,_0x503081){const _0x42acf3=a513_0x2281,_0x2da8b1=_0x1046ba();while(!![]){try{const _0x3d0296=parseInt(_0x42acf3(0x1f7))/0x1+-parseInt(_0x42acf3(0x1e6))/0x2*(-parseInt(_0x42acf3(0x1ec))/0x3)+parseInt(_0x42acf3(0x1ea))/0x4+parseInt(_0x42acf3(0x1f4))/0x5+-parseInt(_0x42acf3(0x1f1))/0x6*(parseInt(_0x42acf3(0x1e8))/0x7)+parseInt(_0x42acf3(0x1ee))/0x8*(-parseInt(_0x42acf3(0x1ed))/0x9)+-parseInt(_0x42acf3(0x1f0))/0xa;if(_0x3d0296===_0x503081)break;else _0x2da8b1['push'](_0x2da8b1['shift']());}catch(_0x2bd397){_0x2da8b1['push'](_0x2da8b1['shift']());}}}(a513_0x4f7a,0x6c68b));const a513_0x5f90b=(function(){let _0xeb44d9=!![];return function(_0x1584ee,_0x3f970a){const _0x272cbb=_0xeb44d9?function(){const _0x30f1ae=a513_0x2281;if(_0x3f970a){const _0x52366f=_0x3f970a[_0x30f1ae(0x1f9)](_0x1584ee,arguments);return _0x3f970a=null,_0x52366f;}}:function(){};return _0xeb44d9=![],_0x272cbb;};}()),a513_0x48e9ee=a513_0x5f90b(this,function(){const _0x263acf=a513_0x2281;return a513_0x48e9ee[_0x263acf(0x1f2)]()['search']('(((.+)+)+)+$')[_0x263acf(0x1f2)]()['constructor'](a513_0x48e9ee)[_0x263acf(0x1e4)]('(((.+)+)+)+$');});a513_0x48e9ee();'use strict';function a513_0x4f7a(){const _0x4ae8b5=['48woDmbs','../../models/Contact','12194420PpvzOd','10542uXeHAJ','toString','-ticket','4056080ikVhXS','tagUpdate','companyId','885849UCbIAu','status','apply','destroy','company-','map','../../models/TicketTag','__importDefault','search','notification','964120vPEvRL','default','2317quCKdf','findByPk','2190548ccTgWd','__esModule','3msAzxJ','722565CXAGho'];a513_0x4f7a=function(){return _0x4ae8b5;};return a513_0x4f7a();}var __importDefault=this&&this[a513_0x1fc3a5(0x1fe)]||function(_0x582322){const _0x1fb28f=a513_0x1fc3a5;return _0x582322&&_0x582322[_0x1fb28f(0x1eb)]?_0x582322:{'default':_0x582322};};Object['defineProperty'](exports,a513_0x1fc3a5(0x1eb),{'value':!![]});const socket_1=require('../../libs/socket'),Contact_1=__importDefault(require(a513_0x1fc3a5(0x1ef))),Tag_1=__importDefault(require('../../models/Tag')),Ticket_1=__importDefault(require('../../models/Ticket')),TicketTag_1=__importDefault(require(a513_0x1fc3a5(0x1fd))),SyncTags=async({tags:_0x1c9465,ticketId:_0x325c62})=>{const _0x44627c=a513_0x1fc3a5,_0x3d225f=(0x0,socket_1['getIO'])(),_0x396e02=await Ticket_1[_0x44627c(0x1e7)][_0x44627c(0x1e9)](_0x325c62,{'include':[Tag_1[_0x44627c(0x1e7)]]}),_0x266660=_0x396e02?.[_0x44627c(0x1f6)],_0xe5ac23=_0x1c9465[_0x44627c(0x1fc)](_0x49899d=>({'tagId':_0x49899d['id'],'ticketId':_0x325c62}));await TicketTag_1['default'][_0x44627c(0x1fa)]({'where':{'ticketId':_0x325c62}}),await TicketTag_1[_0x44627c(0x1e7)]['bulkCreate'](_0xe5ac23);const _0x58182b=await Ticket_1[_0x44627c(0x1e7)][_0x44627c(0x1e9)](_0x325c62,{'include':[Tag_1[_0x44627c(0x1e7)],Contact_1[_0x44627c(0x1e7)]]});return _0x396e02?.['reload'](),_0x3d225f['to'](_0x396e02[_0x44627c(0x1f8)])['to'](_0x44627c(0x1e5))['to'](_0x325c62[_0x44627c(0x1f2)]())['emit'](_0x44627c(0x1fb)+_0x266660+_0x44627c(0x1f3),{'action':_0x44627c(0x1f5),'ticket':_0x58182b}),_0x396e02;};function a513_0x2281(_0x3d12c2,_0x254e5b){const _0x103cfe=a513_0x4f7a();return a513_0x2281=function(_0x48e9ee,_0x5f90b){_0x48e9ee=_0x48e9ee-0x1e4;let _0x4f7a47=_0x103cfe[_0x48e9ee];return _0x4f7a47;},a513_0x2281(_0x3d12c2,_0x254e5b);}exports[a513_0x1fc3a5(0x1e7)]=SyncTags;