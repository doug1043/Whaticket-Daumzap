const a503_0x5385a3=a503_0x2ac4;(function(_0x119334,_0x18212e){const _0x3af070=a503_0x2ac4,_0xcaaa25=_0x119334();while(!![]){try{const _0x48fadb=parseInt(_0x3af070(0xa8))/0x1*(-parseInt(_0x3af070(0xad))/0x2)+parseInt(_0x3af070(0xa2))/0x3+-parseInt(_0x3af070(0xa4))/0x4+parseInt(_0x3af070(0xb1))/0x5*(parseInt(_0x3af070(0xb2))/0x6)+parseInt(_0x3af070(0x9e))/0x7+-parseInt(_0x3af070(0xa6))/0x8*(parseInt(_0x3af070(0xb0))/0x9)+parseInt(_0x3af070(0xba))/0xa;if(_0x48fadb===_0x18212e)break;else _0xcaaa25['push'](_0xcaaa25['shift']());}catch(_0x3d9f82){_0xcaaa25['push'](_0xcaaa25['shift']());}}}(a503_0x2044,0x339e9));function a503_0x2ac4(_0x1b3924,_0x46e7bb){const _0x4881d7=a503_0x2044();return a503_0x2ac4=function(_0x2b5789,_0x378888){_0x2b5789=_0x2b5789-0x99;let _0x20444f=_0x4881d7[_0x2b5789];return _0x20444f;},a503_0x2ac4(_0x1b3924,_0x46e7bb);}const a503_0x378888=(function(){let _0x4208bf=!![];return function(_0x1b50bd,_0x429231){const _0xc271fb=_0x4208bf?function(){const _0x440ca2=a503_0x2ac4;if(_0x429231){const _0x2878df=_0x429231[_0x440ca2(0xb9)](_0x1b50bd,arguments);return _0x429231=null,_0x2878df;}}:function(){};return _0x4208bf=![],_0xc271fb;};}()),a503_0x2b5789=a503_0x378888(this,function(){const _0x2ac632=a503_0x2ac4;return a503_0x2b5789[_0x2ac632(0xac)]()[_0x2ac632(0xaf)](_0x2ac632(0xae))['toString']()[_0x2ac632(0x9b)](a503_0x2b5789)[_0x2ac632(0xaf)](_0x2ac632(0xae));});a503_0x2b5789();'use strict';function a503_0x2044(){const _0x56c41e=['emit','../../models/Contact','2069158DKfkkb','-ticket','companyId','notification','1132569xHjLoy','company-','1103152mPiSxh','__importDefault','8dsCckA','default','6877OQLfmd','__esModule','reload','status','toString','58JvmdAE','(((.+)+)+)+$','search','1973961cFEfoN','470qtUrRE','11646KeDrTl','findByPk','../../models/Tag','../../libs/socket','getIO','../../models/TicketTag','bulkCreate','apply','504120RtXQQR','../../models/Ticket','defineProperty','constructor'];a503_0x2044=function(){return _0x56c41e;};return a503_0x2044();}var __importDefault=this&&this[a503_0x5385a3(0xa5)]||function(_0x220ab8){const _0xaccc4b=a503_0x5385a3;return _0x220ab8&&_0x220ab8[_0xaccc4b(0xa9)]?_0x220ab8:{'default':_0x220ab8};};Object[a503_0x5385a3(0x9a)](exports,a503_0x5385a3(0xa9),{'value':!![]});const socket_1=require(a503_0x5385a3(0xb5)),Contact_1=__importDefault(require(a503_0x5385a3(0x9d))),Tag_1=__importDefault(require(a503_0x5385a3(0xb4))),Ticket_1=__importDefault(require(a503_0x5385a3(0x99))),TicketTag_1=__importDefault(require(a503_0x5385a3(0xb7))),SyncTags=async({tags:_0x353010,ticketId:_0xedb476})=>{const _0x22c5e5=a503_0x5385a3,_0x5b9145=(0x0,socket_1[_0x22c5e5(0xb6)])(),_0x1c804d=await Ticket_1[_0x22c5e5(0xa7)][_0x22c5e5(0xb3)](_0xedb476,{'include':[Tag_1[_0x22c5e5(0xa7)]]}),_0x43f56a=_0x1c804d?.[_0x22c5e5(0xa0)],_0x1e5b2b=_0x353010['map'](_0x29d70a=>({'tagId':_0x29d70a['id'],'ticketId':_0xedb476}));await TicketTag_1[_0x22c5e5(0xa7)]['destroy']({'where':{'ticketId':_0xedb476}}),await TicketTag_1[_0x22c5e5(0xa7)][_0x22c5e5(0xb8)](_0x1e5b2b);const _0x573a93=await Ticket_1[_0x22c5e5(0xa7)][_0x22c5e5(0xb3)](_0xedb476,{'include':[Tag_1['default'],Contact_1[_0x22c5e5(0xa7)]]});return _0x1c804d?.[_0x22c5e5(0xaa)](),_0x5b9145['to'](_0x1c804d[_0x22c5e5(0xab)])['to'](_0x22c5e5(0xa1))['to'](_0xedb476[_0x22c5e5(0xac)]())[_0x22c5e5(0x9c)](_0x22c5e5(0xa3)+_0x43f56a+_0x22c5e5(0x9f),{'action':'tagUpdate','ticket':_0x573a93}),_0x1c804d;};exports[a503_0x5385a3(0xa7)]=SyncTags;