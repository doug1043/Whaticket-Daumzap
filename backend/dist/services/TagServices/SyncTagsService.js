function a511_0x55b1(){const _0x1b0968=['../../models/TicketTag','constructor','3387cqYqUt','../../models/Contact','toString','status','emit','18475713DrMCFG','tagUpdate','findByPk','company-','notification','1674kTPbXz','../../libs/socket','17563yzIikr','__esModule','default','reload','2756AdOCrz','search','1318462GljWBQ','(((.+)+)+)+$','889212EHIeFu','bulkCreate','6056744hxvsOi','map','2591185iFWOcX'];a511_0x55b1=function(){return _0x1b0968;};return a511_0x55b1();}const a511_0x1a99bf=a511_0x1de6;(function(_0xa6ce1e,_0x3e508d){const _0x5313ed=a511_0x1de6,_0x2da0aa=_0xa6ce1e();while(!![]){try{const _0x2edc2e=-parseInt(_0x5313ed(0x158))/0x1+parseInt(_0x5313ed(0x156))/0x2+parseInt(_0x5313ed(0x144))/0x3*(-parseInt(_0x5313ed(0x154))/0x4)+-parseInt(_0x5313ed(0x141))/0x5+-parseInt(_0x5313ed(0x14e))/0x6*(parseInt(_0x5313ed(0x150))/0x7)+parseInt(_0x5313ed(0x13f))/0x8+parseInt(_0x5313ed(0x149))/0x9;if(_0x2edc2e===_0x3e508d)break;else _0x2da0aa['push'](_0x2da0aa['shift']());}catch(_0x4aa6c4){_0x2da0aa['push'](_0x2da0aa['shift']());}}}(a511_0x55b1,0x8e8a0));const a511_0x232402=(function(){let _0x51ddd0=!![];return function(_0x43dca3,_0x5ca741){const _0x216f9e=_0x51ddd0?function(){if(_0x5ca741){const _0xc27e4c=_0x5ca741['apply'](_0x43dca3,arguments);return _0x5ca741=null,_0xc27e4c;}}:function(){};return _0x51ddd0=![],_0x216f9e;};}()),a511_0x137af2=a511_0x232402(this,function(){const _0x4b500a=a511_0x1de6;return a511_0x137af2['toString']()[_0x4b500a(0x155)](_0x4b500a(0x157))[_0x4b500a(0x146)]()[_0x4b500a(0x143)](a511_0x137af2)[_0x4b500a(0x155)](_0x4b500a(0x157));});a511_0x137af2();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5b0e98){const _0x5b9795=a511_0x1de6;return _0x5b0e98&&_0x5b0e98[_0x5b9795(0x151)]?_0x5b0e98:{'default':_0x5b0e98};};function a511_0x1de6(_0x1a4301,_0x27fdac){const _0x2d3f59=a511_0x55b1();return a511_0x1de6=function(_0x137af2,_0x232402){_0x137af2=_0x137af2-0x13f;let _0x55b147=_0x2d3f59[_0x137af2];return _0x55b147;},a511_0x1de6(_0x1a4301,_0x27fdac);}Object['defineProperty'](exports,a511_0x1a99bf(0x151),{'value':!![]});const socket_1=require(a511_0x1a99bf(0x14f)),Contact_1=__importDefault(require(a511_0x1a99bf(0x145))),Tag_1=__importDefault(require('../../models/Tag')),Ticket_1=__importDefault(require('../../models/Ticket')),TicketTag_1=__importDefault(require(a511_0x1a99bf(0x142))),SyncTags=async({tags:_0x3b4aa5,ticketId:_0xc40a47})=>{const _0x5a17ba=a511_0x1a99bf,_0x2d743e=(0x0,socket_1['getIO'])(),_0x1646ae=await Ticket_1[_0x5a17ba(0x152)][_0x5a17ba(0x14b)](_0xc40a47,{'include':[Tag_1[_0x5a17ba(0x152)]]}),_0x4a1198=_0x1646ae?.['companyId'],_0x686930=_0x3b4aa5[_0x5a17ba(0x140)](_0x2665de=>({'tagId':_0x2665de['id'],'ticketId':_0xc40a47}));await TicketTag_1['default']['destroy']({'where':{'ticketId':_0xc40a47}}),await TicketTag_1[_0x5a17ba(0x152)][_0x5a17ba(0x159)](_0x686930);const _0x30ab3a=await Ticket_1[_0x5a17ba(0x152)][_0x5a17ba(0x14b)](_0xc40a47,{'include':[Tag_1[_0x5a17ba(0x152)],Contact_1[_0x5a17ba(0x152)]]});return _0x1646ae?.[_0x5a17ba(0x153)](),_0x2d743e['to'](_0x1646ae[_0x5a17ba(0x147)])['to'](_0x5a17ba(0x14d))['to'](_0xc40a47[_0x5a17ba(0x146)]())[_0x5a17ba(0x148)](_0x5a17ba(0x14c)+_0x4a1198+'-ticket',{'action':_0x5a17ba(0x14a),'ticket':_0x30ab3a}),_0x1646ae;};exports[a511_0x1a99bf(0x152)]=SyncTags;