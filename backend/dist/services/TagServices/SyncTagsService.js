const a511_0x3cf37a=a511_0x3d86;(function(_0x270f1d,_0x320deb){const _0x24ff76=a511_0x3d86,_0x451283=_0x270f1d();while(!![]){try{const _0x49d303=-parseInt(_0x24ff76(0x79))/0x1+parseInt(_0x24ff76(0x75))/0x2*(-parseInt(_0x24ff76(0x90))/0x3)+-parseInt(_0x24ff76(0x8a))/0x4*(parseInt(_0x24ff76(0x8e))/0x5)+parseInt(_0x24ff76(0x80))/0x6*(-parseInt(_0x24ff76(0x74))/0x7)+parseInt(_0x24ff76(0x82))/0x8+-parseInt(_0x24ff76(0x8c))/0x9*(-parseInt(_0x24ff76(0x87))/0xa)+parseInt(_0x24ff76(0x84))/0xb;if(_0x49d303===_0x320deb)break;else _0x451283['push'](_0x451283['shift']());}catch(_0x544eb8){_0x451283['push'](_0x451283['shift']());}}}(a511_0x130e,0xae8d9));function a511_0x3d86(_0x1b2ec2,_0x5dfe82){const _0x167197=a511_0x130e();return a511_0x3d86=function(_0x25f09d,_0x5196a3){_0x25f09d=_0x25f09d-0x6f;let _0x130e6a=_0x167197[_0x25f09d];return _0x130e6a;},a511_0x3d86(_0x1b2ec2,_0x5dfe82);}const a511_0x5196a3=(function(){let _0x367883=!![];return function(_0x45f144,_0xe7fa1c){const _0x27b57c=_0x367883?function(){const _0x169347=a511_0x3d86;if(_0xe7fa1c){const _0x5f11a1=_0xe7fa1c[_0x169347(0x7b)](_0x45f144,arguments);return _0xe7fa1c=null,_0x5f11a1;}}:function(){};return _0x367883=![],_0x27b57c;};}()),a511_0x25f09d=a511_0x5196a3(this,function(){const _0x13aa63=a511_0x3d86;return a511_0x25f09d[_0x13aa63(0x77)]()[_0x13aa63(0x85)](_0x13aa63(0x7c))['toString']()['constructor'](a511_0x25f09d)[_0x13aa63(0x85)](_0x13aa63(0x7c));});a511_0x25f09d();'use strict';function a511_0x130e(){const _0x4df43a=['46130JNASht','__importDefault','5619ftYiGW','default','bulkCreate','reload','findByPk','../../libs/socket','6979343rAvwhP','932VcxPUB','../../models/Tag','toString','-ticket','16634Qjplxa','../../models/TicketTag','apply','(((.+)+)+)+$','notification','status','companyId','6bYGqCZ','defineProperty','933008KCtiay','../../models/Ticket','24046616uuMMjW','search','company-','577220tIXVeR','map','__esModule','396uogLSw','../../models/Contact','189rtrlLR','emit'];a511_0x130e=function(){return _0x4df43a;};return a511_0x130e();}var __importDefault=this&&this[a511_0x3cf37a(0x8f)]||function(_0x93c7d5){const _0x391962=a511_0x3cf37a;return _0x93c7d5&&_0x93c7d5[_0x391962(0x89)]?_0x93c7d5:{'default':_0x93c7d5};};Object[a511_0x3cf37a(0x81)](exports,'__esModule',{'value':!![]});const socket_1=require(a511_0x3cf37a(0x73)),Contact_1=__importDefault(require(a511_0x3cf37a(0x8b))),Tag_1=__importDefault(require(a511_0x3cf37a(0x76))),Ticket_1=__importDefault(require(a511_0x3cf37a(0x83))),TicketTag_1=__importDefault(require(a511_0x3cf37a(0x7a))),SyncTags=async({tags:_0x5ebff7,ticketId:_0x6d42c3})=>{const _0x30c64a=a511_0x3cf37a,_0x4cfb96=(0x0,socket_1['getIO'])(),_0x843d8a=await Ticket_1[_0x30c64a(0x6f)][_0x30c64a(0x72)](_0x6d42c3,{'include':[Tag_1['default']]}),_0x27d602=_0x843d8a?.[_0x30c64a(0x7f)],_0x49322b=_0x5ebff7[_0x30c64a(0x88)](_0x52658c=>({'tagId':_0x52658c['id'],'ticketId':_0x6d42c3}));await TicketTag_1[_0x30c64a(0x6f)]['destroy']({'where':{'ticketId':_0x6d42c3}}),await TicketTag_1[_0x30c64a(0x6f)][_0x30c64a(0x70)](_0x49322b);const _0x187aff=await Ticket_1['default'][_0x30c64a(0x72)](_0x6d42c3,{'include':[Tag_1[_0x30c64a(0x6f)],Contact_1[_0x30c64a(0x6f)]]});return _0x843d8a?.[_0x30c64a(0x71)](),_0x4cfb96['to'](_0x843d8a[_0x30c64a(0x7e)])['to'](_0x30c64a(0x7d))['to'](_0x6d42c3['toString']())[_0x30c64a(0x8d)](_0x30c64a(0x86)+_0x27d602+_0x30c64a(0x78),{'action':'tagUpdate','ticket':_0x187aff}),_0x843d8a;};exports[a511_0x3cf37a(0x6f)]=SyncTags;