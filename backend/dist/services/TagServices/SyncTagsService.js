const a510_0x288ce5=a510_0x34fc;(function(_0x12c36b,_0x530e85){const _0x57c83e=a510_0x34fc,_0x310011=_0x12c36b();while(!![]){try{const _0x454450=parseInt(_0x57c83e(0x7c))/0x1*(parseInt(_0x57c83e(0x7a))/0x2)+-parseInt(_0x57c83e(0x6e))/0x3+parseInt(_0x57c83e(0x71))/0x4+-parseInt(_0x57c83e(0x77))/0x5+-parseInt(_0x57c83e(0x75))/0x6*(-parseInt(_0x57c83e(0x79))/0x7)+-parseInt(_0x57c83e(0x74))/0x8+parseInt(_0x57c83e(0x6c))/0x9*(parseInt(_0x57c83e(0x86))/0xa);if(_0x454450===_0x530e85)break;else _0x310011['push'](_0x310011['shift']());}catch(_0x1e31c8){_0x310011['push'](_0x310011['shift']());}}}(a510_0x4f41,0x45a3f));const a510_0x13732f=(function(){let _0x1f471f=!![];return function(_0x490959,_0x1350b9){const _0x2d0cdc=_0x1f471f?function(){if(_0x1350b9){const _0xd4a793=_0x1350b9['apply'](_0x490959,arguments);return _0x1350b9=null,_0xd4a793;}}:function(){};return _0x1f471f=![],_0x2d0cdc;};}()),a510_0x142f86=a510_0x13732f(this,function(){const _0x146648=a510_0x34fc;return a510_0x142f86['toString']()[_0x146648(0x83)]('(((.+)+)+)+$')[_0x146648(0x87)]()[_0x146648(0x73)](a510_0x142f86)[_0x146648(0x83)](_0x146648(0x7d));});a510_0x142f86();'use strict';function a510_0x4f41(){const _0x29af4d=['findByPk','emit','591872NWjrYg','defineProperty','constructor','1927480kCZfzP','12lDquAU','tagUpdate','2353700VtEHeU','default','32655zqIVLm','3572CxjeKy','companyId','163eviKFY','(((.+)+)+)+$','../../models/TicketTag','../../libs/socket','../../models/Tag','company-','../../models/Contact','search','map','__importDefault','794090vEvYfG','toString','63kuFEUh','__esModule','22071ESOCNh'];a510_0x4f41=function(){return _0x29af4d;};return a510_0x4f41();}var __importDefault=this&&this[a510_0x288ce5(0x85)]||function(_0x636cda){const _0x556ba6=a510_0x288ce5;return _0x636cda&&_0x636cda[_0x556ba6(0x6d)]?_0x636cda:{'default':_0x636cda};};function a510_0x34fc(_0x4473b2,_0x94e618){const _0x564294=a510_0x4f41();return a510_0x34fc=function(_0x142f86,_0x13732f){_0x142f86=_0x142f86-0x6c;let _0x4f41d9=_0x564294[_0x142f86];return _0x4f41d9;},a510_0x34fc(_0x4473b2,_0x94e618);}Object[a510_0x288ce5(0x72)](exports,'__esModule',{'value':!![]});const socket_1=require(a510_0x288ce5(0x7f)),Contact_1=__importDefault(require(a510_0x288ce5(0x82))),Tag_1=__importDefault(require(a510_0x288ce5(0x80))),Ticket_1=__importDefault(require('../../models/Ticket')),TicketTag_1=__importDefault(require(a510_0x288ce5(0x7e))),SyncTags=async({tags:_0x4f3596,ticketId:_0x47a5f4})=>{const _0x47d223=a510_0x288ce5,_0xccfca5=(0x0,socket_1['getIO'])(),_0x3ac5ad=await Ticket_1[_0x47d223(0x78)][_0x47d223(0x6f)](_0x47a5f4,{'include':[Tag_1['default']]}),_0x4b0d2e=_0x3ac5ad?.[_0x47d223(0x7b)],_0x1cc353=_0x4f3596[_0x47d223(0x84)](_0x2e4932=>({'tagId':_0x2e4932['id'],'ticketId':_0x47a5f4}));await TicketTag_1[_0x47d223(0x78)]['destroy']({'where':{'ticketId':_0x47a5f4}}),await TicketTag_1[_0x47d223(0x78)]['bulkCreate'](_0x1cc353);const _0x19e31e=await Ticket_1[_0x47d223(0x78)]['findByPk'](_0x47a5f4,{'include':[Tag_1[_0x47d223(0x78)],Contact_1[_0x47d223(0x78)]]});return _0x3ac5ad?.['reload'](),_0xccfca5['to'](_0x3ac5ad['status'])['to']('notification')['to'](_0x47a5f4[_0x47d223(0x87)]())[_0x47d223(0x70)](_0x47d223(0x81)+_0x4b0d2e+'-ticket',{'action':_0x47d223(0x76),'ticket':_0x19e31e}),_0x3ac5ad;};exports[a510_0x288ce5(0x78)]=SyncTags;