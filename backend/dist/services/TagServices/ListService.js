const a537_0x1e39cc=a537_0x1b60;(function(_0x32b791,_0x3401cf){const _0x5c11b7=a537_0x1b60,_0x3f11ca=_0x32b791();while(!![]){try{const _0x113567=-parseInt(_0x5c11b7(0x1ce))/0x1+parseInt(_0x5c11b7(0x1bf))/0x2+-parseInt(_0x5c11b7(0x1d2))/0x3+-parseInt(_0x5c11b7(0x1cb))/0x4*(parseInt(_0x5c11b7(0x1c5))/0x5)+-parseInt(_0x5c11b7(0x1d1))/0x6*(parseInt(_0x5c11b7(0x1d0))/0x7)+-parseInt(_0x5c11b7(0x1ca))/0x8*(-parseInt(_0x5c11b7(0x1c2))/0x9)+parseInt(_0x5c11b7(0x1c0))/0xa;if(_0x113567===_0x3401cf)break;else _0x3f11ca['push'](_0x3f11ca['shift']());}catch(_0x12ac3a){_0x3f11ca['push'](_0x3f11ca['shift']());}}}(a537_0x3a25,0x784ed));const a537_0x22cb5b=(function(){let _0x5a219c=!![];return function(_0x5ba214,_0xda789f){const _0x1faba2=_0x5a219c?function(){const _0x53345b=a537_0x1b60;if(_0xda789f){const _0x1602d9=_0xda789f[_0x53345b(0x1c1)](_0x5ba214,arguments);return _0xda789f=null,_0x1602d9;}}:function(){};return _0x5a219c=![],_0x1faba2;};}()),a537_0x19be82=a537_0x22cb5b(this,function(){const _0x1b830e=a537_0x1b60;return a537_0x19be82[_0x1b830e(0x1cc)]()[_0x1b830e(0x1b6)]('(((.+)+)+)+$')[_0x1b830e(0x1cc)]()[_0x1b830e(0x1be)](a537_0x19be82)[_0x1b830e(0x1b6)](_0x1b830e(0x1cd));});function a537_0x3a25(){const _0x4da2f8=['ticketTags.tagId','constructor','566504luDosa','15020770iaussP','apply','5465781QDAkij','forEach','sequelize','537090oAMrwn','../../models/Tag','like','defineProperty','__esModule','8iwxtHy','4xHsart','toString','(((.+)+)+)+$','918222rkNnfu','length','14392fbyRVB','1224ziXDUi','1364379zMYpyh','default','color','search','ticketsCount','__importDefault','ASC','Tag.id','kanban','name'];a537_0x3a25=function(){return _0x4da2f8;};return a537_0x3a25();}function a537_0x1b60(_0x400188,_0x5ef2a7){const _0x185a6a=a537_0x3a25();return a537_0x1b60=function(_0x19be82,_0x22cb5b){_0x19be82=_0x19be82-0x1b4;let _0x3a250d=_0x185a6a[_0x19be82];return _0x3a250d;},a537_0x1b60(_0x400188,_0x5ef2a7);}a537_0x19be82();'use strict';var __importDefault=this&&this[a537_0x1e39cc(0x1b8)]||function(_0x3f5822){const _0x5cf48b=a537_0x1e39cc;return _0x3f5822&&_0x3f5822[_0x5cf48b(0x1c9)]?_0x3f5822:{'default':_0x3f5822};};Object[a537_0x1e39cc(0x1c8)](exports,a537_0x1e39cc(0x1c9),{'value':!![]});const sequelize_1=require(a537_0x1e39cc(0x1c4)),Tag_1=__importDefault(require(a537_0x1e39cc(0x1c6))),TicketTag_1=__importDefault(require('../../models/TicketTag')),ListService=async({companyId:_0x1fae0e,searchParam:_0x3aeeaa,pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x293dac=a537_0x1e39cc;let _0x12597f={};const _0x4707b8=0x14,_0x362bce=_0x4707b8*(+pageNumber-0x1);_0x3aeeaa&&(_0x12597f={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0x3aeeaa+'%'}},{'color':{[sequelize_1['Op'][_0x293dac(0x1c7)]]:'%'+_0x3aeeaa+'%'}}]});const {count:_0x48f219,rows:_0x1de64d}=await Tag_1[_0x293dac(0x1b4)]['findAndCountAll']({'where':{..._0x12597f,'companyId':_0x1fae0e,'kanban':kanban},'limit':_0x4707b8,'offset':_0x362bce,'order':[[_0x293dac(0x1bc),_0x293dac(0x1b9)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x293dac(0x1b4)],'as':'ticketTags','attributes':[],'required':![]}],'attributes':['id',_0x293dac(0x1bc),_0x293dac(0x1b5),_0x293dac(0x1bb),[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1['col'])(_0x293dac(0x1bd))),_0x293dac(0x1b7)]],'group':[_0x293dac(0x1ba)]});let _0x5818a2=0x0;Object['keys'](_0x48f219)[_0x293dac(0x1c3)](_0x1ba2bb=>{_0x5818a2+=_0x48f219[_0x1ba2bb]['count'];});const _0x5b78de=_0x5818a2>_0x362bce+_0x1de64d[_0x293dac(0x1cf)];return{'tags':_0x1de64d,'count':_0x5818a2,'hasMore':_0x5b78de};};exports[a537_0x1e39cc(0x1b4)]=ListService;