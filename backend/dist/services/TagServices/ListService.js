const a508_0x54cc54=a508_0x5d00;function a508_0x576e(){const _0x191679=['10YizNtR','160300kJgrRo','__esModule','ticketsCount','1073657EiSInE','24BDLffH','defineProperty','toString','search','ASC','187bHMWMo','1297602pHzEWd','constructor','21ULlgYC','Tag.id','6hrsFxe','2024LWHABw','like','508916qgQMNn','323274oNYMim','findAndCountAll','count','ticketTags.tagId','13966XSCLtR','default','../../models/TicketTag','(((.+)+)+)+$','name','3269qzgRSL'];a508_0x576e=function(){return _0x191679;};return a508_0x576e();}function a508_0x5d00(_0x134371,_0x30458){const _0x35a406=a508_0x576e();return a508_0x5d00=function(_0xf37e79,_0x290bb2){_0xf37e79=_0xf37e79-0xaa;let _0x576e48=_0x35a406[_0xf37e79];return _0x576e48;},a508_0x5d00(_0x134371,_0x30458);}(function(_0x1f613a,_0x3c934d){const _0x48005d=a508_0x5d00,_0x16e790=_0x1f613a();while(!![]){try{const _0x5f5483=-parseInt(_0x48005d(0xb3))/0x1*(-parseInt(_0x48005d(0xbd))/0x2)+-parseInt(_0x48005d(0xb5))/0x3*(-parseInt(_0x48005d(0xb8))/0x4)+parseInt(_0x48005d(0xc3))/0x5*(-parseInt(_0x48005d(0xb9))/0x6)+parseInt(_0x48005d(0xc2))/0x7*(-parseInt(_0x48005d(0xb6))/0x8)+-parseInt(_0x48005d(0xb1))/0x9+-parseInt(_0x48005d(0xc4))/0xa*(-parseInt(_0x48005d(0xb0))/0xb)+parseInt(_0x48005d(0xab))/0xc*(-parseInt(_0x48005d(0xaa))/0xd);if(_0x5f5483===_0x3c934d)break;else _0x16e790['push'](_0x16e790['shift']());}catch(_0x54d8ef){_0x16e790['push'](_0x16e790['shift']());}}}(a508_0x576e,0x21c6a));const a508_0x290bb2=(function(){let _0x1d5d14=!![];return function(_0x12b1b4,_0x424e11){const _0xa46057=_0x1d5d14?function(){if(_0x424e11){const _0x53c270=_0x424e11['apply'](_0x12b1b4,arguments);return _0x424e11=null,_0x53c270;}}:function(){};return _0x1d5d14=![],_0xa46057;};}()),a508_0xf37e79=a508_0x290bb2(this,function(){const _0x3a0ac1=a508_0x5d00;return a508_0xf37e79[_0x3a0ac1(0xad)]()[_0x3a0ac1(0xae)](_0x3a0ac1(0xc0))[_0x3a0ac1(0xad)]()[_0x3a0ac1(0xb2)](a508_0xf37e79)[_0x3a0ac1(0xae)]('(((.+)+)+)+$');});a508_0xf37e79();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xa24f8c){const _0x12df79=a508_0x5d00;return _0xa24f8c&&_0xa24f8c[_0x12df79(0xc5)]?_0xa24f8c:{'default':_0xa24f8c};};Object[a508_0x54cc54(0xac)](exports,a508_0x54cc54(0xc5),{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require('../../models/Tag')),TicketTag_1=__importDefault(require(a508_0x54cc54(0xbf))),ListService=async({companyId:_0x1db801,searchParam:_0x2480d6,pageNumber:pageNumber='1'})=>{const _0x5caa62=a508_0x54cc54;let _0x5a757d={};const _0x25e4fd=0x14,_0x115b6b=_0x25e4fd*(+pageNumber-0x1);_0x2480d6&&(_0x5a757d={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x5caa62(0xb7)]]:'%'+_0x2480d6+'%'}},{'color':{[sequelize_1['Op'][_0x5caa62(0xb7)]]:'%'+_0x2480d6+'%'}}]});const {count:_0x4320ca,rows:_0x483f4f}=await Tag_1[_0x5caa62(0xbe)][_0x5caa62(0xba)]({'where':{..._0x5a757d,'companyId':_0x1db801},'limit':_0x25e4fd,'offset':_0x115b6b,'order':[['name',_0x5caa62(0xaf)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x5caa62(0xbe)],'as':'ticketTags','attributes':[],'required':![]}],'attributes':['id',_0x5caa62(0xc1),'color',[(0x0,sequelize_1['fn'])(_0x5caa62(0xbb),(0x0,sequelize_1['col'])(_0x5caa62(0xbc))),_0x5caa62(0xc6)]],'group':[_0x5caa62(0xb4)]}),_0x15a41b=_0x4320ca>_0x115b6b+_0x483f4f['length'];return{'tags':_0x483f4f,'count':_0x4320ca,'hasMore':_0x15a41b};};exports[a508_0x54cc54(0xbe)]=ListService;