const a507_0x1e376c=a507_0x47d3;(function(_0x1d6cce,_0x1df8c7){const _0x30d83d=a507_0x47d3,_0x5af804=_0x1d6cce();while(!![]){try{const _0x3ec1e9=-parseInt(_0x30d83d(0x16a))/0x1+-parseInt(_0x30d83d(0x167))/0x2*(-parseInt(_0x30d83d(0x15d))/0x3)+parseInt(_0x30d83d(0x179))/0x4*(-parseInt(_0x30d83d(0x166))/0x5)+-parseInt(_0x30d83d(0x162))/0x6+parseInt(_0x30d83d(0x16c))/0x7*(parseInt(_0x30d83d(0x178))/0x8)+parseInt(_0x30d83d(0x175))/0x9*(-parseInt(_0x30d83d(0x17a))/0xa)+parseInt(_0x30d83d(0x16b))/0xb;if(_0x3ec1e9===_0x1df8c7)break;else _0x5af804['push'](_0x5af804['shift']());}catch(_0x34254b){_0x5af804['push'](_0x5af804['shift']());}}}(a507_0xce94,0xb0363));function a507_0x47d3(_0x31f114,_0x5eaeb5){const _0x485aac=a507_0xce94();return a507_0x47d3=function(_0xedfd7b,_0x382630){_0xedfd7b=_0xedfd7b-0x15d;let _0xce948f=_0x485aac[_0xedfd7b];return _0xce948f;},a507_0x47d3(_0x31f114,_0x5eaeb5);}const a507_0x382630=(function(){let _0x601dec=!![];return function(_0x27259b,_0x11cb33){const _0xa8967b=_0x601dec?function(){const _0x18c515=a507_0x47d3;if(_0x11cb33){const _0x5d270a=_0x11cb33[_0x18c515(0x177)](_0x27259b,arguments);return _0x11cb33=null,_0x5d270a;}}:function(){};return _0x601dec=![],_0xa8967b;};}()),a507_0xedfd7b=a507_0x382630(this,function(){const _0x204a3b=a507_0x47d3;return a507_0xedfd7b['toString']()[_0x204a3b(0x171)](_0x204a3b(0x15e))[_0x204a3b(0x169)]()[_0x204a3b(0x16f)](a507_0xedfd7b)[_0x204a3b(0x171)]('(((.+)+)+)+$');});a507_0xedfd7b();'use strict';function a507_0xce94(){const _0x3bace8=['ticketTags.tagId','ticketTags','75910jqFCAx','4fZFqUN','name','toString','748229AuCMBE','33020526sfPCmU','3493jDiFjq','ASC','default','constructor','../../models/Tag','search','Tag.id','defineProperty','__importDefault','8793PUuUuV','length','apply','3328ywHqjL','316zOTMCz','12570UxgNwJ','1698759CduLuZ','(((.+)+)+)+$','__esModule','like','col','2666982MwCtDC','../../models/TicketTag'];a507_0xce94=function(){return _0x3bace8;};return a507_0xce94();}var __importDefault=this&&this[a507_0x1e376c(0x174)]||function(_0x3cb8a6){const _0x42b5e8=a507_0x1e376c;return _0x3cb8a6&&_0x3cb8a6[_0x42b5e8(0x15f)]?_0x3cb8a6:{'default':_0x3cb8a6};};Object[a507_0x1e376c(0x173)](exports,a507_0x1e376c(0x15f),{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require(a507_0x1e376c(0x170))),TicketTag_1=__importDefault(require(a507_0x1e376c(0x163))),ListService=async({companyId:_0x2ef4de,searchParam:_0x43f612,pageNumber:pageNumber='1'})=>{const _0x59a4fb=a507_0x1e376c;let _0x23ed51={};const _0x5331fc=0x14,_0x4225a8=_0x5331fc*(+pageNumber-0x1);_0x43f612&&(_0x23ed51={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x59a4fb(0x160)]]:'%'+_0x43f612+'%'}},{'color':{[sequelize_1['Op']['like']]:'%'+_0x43f612+'%'}}]});const {count:_0x265c5d,rows:_0x16dc28}=await Tag_1[_0x59a4fb(0x16e)]['findAndCountAll']({'where':{..._0x23ed51,'companyId':_0x2ef4de},'limit':_0x5331fc,'offset':_0x4225a8,'order':[[_0x59a4fb(0x168),_0x59a4fb(0x16d)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x59a4fb(0x16e)],'as':_0x59a4fb(0x165),'attributes':[],'required':![]}],'attributes':['id',_0x59a4fb(0x168),'color',[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1[_0x59a4fb(0x161)])(_0x59a4fb(0x164))),'ticketsCount']],'group':[_0x59a4fb(0x172)]}),_0x2f9e60=_0x265c5d>_0x4225a8+_0x16dc28[_0x59a4fb(0x176)];return{'tags':_0x16dc28,'count':_0x265c5d,'hasMore':_0x2f9e60};};exports[a507_0x1e376c(0x16e)]=ListService;