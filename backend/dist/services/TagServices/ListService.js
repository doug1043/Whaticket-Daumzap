const a507_0x5c1967=a507_0x3d97;(function(_0x1f93e4,_0x4ff17c){const _0x116b2c=a507_0x3d97,_0x3275d9=_0x1f93e4();while(!![]){try{const _0x418c59=-parseInt(_0x116b2c(0x7d))/0x1*(-parseInt(_0x116b2c(0x79))/0x2)+-parseInt(_0x116b2c(0x80))/0x3*(parseInt(_0x116b2c(0x84))/0x4)+parseInt(_0x116b2c(0x78))/0x5+-parseInt(_0x116b2c(0x7a))/0x6+parseInt(_0x116b2c(0x7e))/0x7+-parseInt(_0x116b2c(0x83))/0x8*(-parseInt(_0x116b2c(0x72))/0x9)+parseInt(_0x116b2c(0x6a))/0xa;if(_0x418c59===_0x4ff17c)break;else _0x3275d9['push'](_0x3275d9['shift']());}catch(_0x48fb35){_0x3275d9['push'](_0x3275d9['shift']());}}}(a507_0x6432,0xa12a9));const a507_0x4694b6=(function(){let _0x284511=!![];return function(_0x26902e,_0xa4f85c){const _0x12b6db=_0x284511?function(){const _0x388700=a507_0x3d97;if(_0xa4f85c){const _0x6c7925=_0xa4f85c[_0x388700(0x73)](_0x26902e,arguments);return _0xa4f85c=null,_0x6c7925;}}:function(){};return _0x284511=![],_0x12b6db;};}()),a507_0xd2d97=a507_0x4694b6(this,function(){const _0x2e1fb2=a507_0x3d97;return a507_0xd2d97[_0x2e1fb2(0x75)]()[_0x2e1fb2(0x6e)]('(((.+)+)+)+$')['toString']()[_0x2e1fb2(0x77)](a507_0xd2d97)['search'](_0x2e1fb2(0x6c));});a507_0xd2d97();'use strict';var __importDefault=this&&this[a507_0x5c1967(0x82)]||function(_0x29df2c){const _0x213712=a507_0x5c1967;return _0x29df2c&&_0x29df2c[_0x213712(0x7c)]?_0x29df2c:{'default':_0x29df2c};};Object['defineProperty'](exports,a507_0x5c1967(0x7c),{'value':!![]});function a507_0x6432(){const _0xfe0c10=['apply','default','toString','Tag.id','constructor','2975705OTfnjJ','88014vhZuVW','4955016KygXbk','ticketTags.tagId','__esModule','6MWFrtT','3283917EXqxFY','ASC','855240qPkWBc','col','__importDefault','6936632eLRdFr','16kHdTly','4309000HXRmrd','like','(((.+)+)+)+$','length','search','ticketTags','findAndCountAll','name','9kfaxNy'];a507_0x6432=function(){return _0xfe0c10;};return a507_0x6432();}function a507_0x3d97(_0x4ee3ad,_0x50e1bd){const _0x3a9824=a507_0x6432();return a507_0x3d97=function(_0xd2d97,_0x4694b6){_0xd2d97=_0xd2d97-0x6a;let _0x6432ab=_0x3a9824[_0xd2d97];return _0x6432ab;},a507_0x3d97(_0x4ee3ad,_0x50e1bd);}const sequelize_1=require('sequelize'),Tag_1=__importDefault(require('../../models/Tag')),TicketTag_1=__importDefault(require('../../models/TicketTag')),ListService=async({companyId:_0x10aecb,searchParam:_0x40a83d,pageNumber:pageNumber='1'})=>{const _0x4101e2=a507_0x5c1967;let _0x1a4a97={};const _0x591b05=0x14,_0x488615=_0x591b05*(+pageNumber-0x1);_0x40a83d&&(_0x1a4a97={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x4101e2(0x6b)]]:'%'+_0x40a83d+'%'}},{'color':{[sequelize_1['Op'][_0x4101e2(0x6b)]]:'%'+_0x40a83d+'%'}}]});const {count:_0x71821,rows:_0x39f21d}=await Tag_1[_0x4101e2(0x74)][_0x4101e2(0x70)]({'where':{..._0x1a4a97,'companyId':_0x10aecb},'limit':_0x591b05,'offset':_0x488615,'order':[[_0x4101e2(0x71),_0x4101e2(0x7f)]],'subQuery':![],'include':[{'model':TicketTag_1['default'],'as':_0x4101e2(0x6f),'attributes':[],'required':![]}],'attributes':['id',_0x4101e2(0x71),'color',[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1[_0x4101e2(0x81)])(_0x4101e2(0x7b))),'ticketsCount']],'group':[_0x4101e2(0x76)]}),_0xdf90e8=_0x71821>_0x488615+_0x39f21d[_0x4101e2(0x6d)];return{'tags':_0x39f21d,'count':_0x71821,'hasMore':_0xdf90e8};};exports[a507_0x5c1967(0x74)]=ListService;