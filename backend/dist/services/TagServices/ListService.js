const a507_0x315c9d=a507_0x199f;(function(_0x571c65,_0x53c551){const _0x1e90d3=a507_0x199f,_0x368dd8=_0x571c65();while(!![]){try{const _0x812d8a=parseInt(_0x1e90d3(0xbf))/0x1+parseInt(_0x1e90d3(0xcc))/0x2*(-parseInt(_0x1e90d3(0xc3))/0x3)+-parseInt(_0x1e90d3(0xc7))/0x4+parseInt(_0x1e90d3(0xcb))/0x5+parseInt(_0x1e90d3(0xbd))/0x6*(parseInt(_0x1e90d3(0xd7))/0x7)+parseInt(_0x1e90d3(0xc0))/0x8+-parseInt(_0x1e90d3(0xc6))/0x9;if(_0x812d8a===_0x53c551)break;else _0x368dd8['push'](_0x368dd8['shift']());}catch(_0x40e870){_0x368dd8['push'](_0x368dd8['shift']());}}}(a507_0x5b90,0x67df6));const a507_0x5af02d=(function(){let _0x17759d=!![];return function(_0x4dc538,_0x38f217){const _0x521ea9=_0x17759d?function(){const _0x3d9ddc=a507_0x199f;if(_0x38f217){const _0x179a7a=_0x38f217[_0x3d9ddc(0xbb)](_0x4dc538,arguments);return _0x38f217=null,_0x179a7a;}}:function(){};return _0x17759d=![],_0x521ea9;};}()),a507_0x4ace80=a507_0x5af02d(this,function(){const _0x1b60b1=a507_0x199f;return a507_0x4ace80['toString']()[_0x1b60b1(0xd6)]('(((.+)+)+)+$')[_0x1b60b1(0xd8)]()['constructor'](a507_0x4ace80)['search'](_0x1b60b1(0xbc));});a507_0x4ace80();'use strict';function a507_0x5b90(){const _0x3cf7e9=['../../models/Tag','findAndCountAll','search','6965mXtDCD','toString','apply','(((.+)+)+)+$','1386ZgEPZH','col','686411FBlWTK','1947816swnGma','length','ticketTags.tagId','6771ubpycz','defineProperty','color','2475981palxKj','797656qsAnqC','ticketTags','__importDefault','ASC','2233465NbUFov','626DtHUIT','Tag.id','ticketsCount','name','__esModule','default','like','../../models/TicketTag'];a507_0x5b90=function(){return _0x3cf7e9;};return a507_0x5b90();}function a507_0x199f(_0x496052,_0x203071){const _0x3b9d35=a507_0x5b90();return a507_0x199f=function(_0x4ace80,_0x5af02d){_0x4ace80=_0x4ace80-0xbb;let _0x5b90ab=_0x3b9d35[_0x4ace80];return _0x5b90ab;},a507_0x199f(_0x496052,_0x203071);}var __importDefault=this&&this[a507_0x315c9d(0xc9)]||function(_0x2aacf6){const _0x40a354=a507_0x315c9d;return _0x2aacf6&&_0x2aacf6[_0x40a354(0xd0)]?_0x2aacf6:{'default':_0x2aacf6};};Object[a507_0x315c9d(0xc4)](exports,a507_0x315c9d(0xd0),{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require(a507_0x315c9d(0xd4))),TicketTag_1=__importDefault(require(a507_0x315c9d(0xd3))),ListService=async({companyId:_0x17a543,searchParam:_0x225306,pageNumber:pageNumber='1'})=>{const _0x5936c6=a507_0x315c9d;let _0xbd27a5={};const _0x57b080=0x14,_0x4eb6dc=_0x57b080*(+pageNumber-0x1);_0x225306&&(_0xbd27a5={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0x225306+'%'}},{'color':{[sequelize_1['Op'][_0x5936c6(0xd2)]]:'%'+_0x225306+'%'}}]});const {count:_0x49d4d3,rows:_0x498cab}=await Tag_1[_0x5936c6(0xd1)][_0x5936c6(0xd5)]({'where':{..._0xbd27a5,'companyId':_0x17a543},'limit':_0x57b080,'offset':_0x4eb6dc,'order':[[_0x5936c6(0xcf),_0x5936c6(0xca)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x5936c6(0xd1)],'as':_0x5936c6(0xc8),'attributes':[],'required':![]}],'attributes':['id','name',_0x5936c6(0xc5),[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1[_0x5936c6(0xbe)])(_0x5936c6(0xc2))),_0x5936c6(0xce)]],'group':[_0x5936c6(0xcd)]}),_0x4cd4a8=_0x49d4d3>_0x4eb6dc+_0x498cab[_0x5936c6(0xc1)];return{'tags':_0x498cab,'count':_0x49d4d3,'hasMore':_0x4cd4a8};};exports[a507_0x315c9d(0xd1)]=ListService;