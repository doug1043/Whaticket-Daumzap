const a431_0x250552=a431_0x1356;(function(_0x52eacf,_0x57969a){const _0x30ad6b=a431_0x1356,_0x455f97=_0x52eacf();while(!![]){try{const _0x4b0e4f=parseInt(_0x30ad6b(0x1bd))/0x1+parseInt(_0x30ad6b(0x1cf))/0x2+parseInt(_0x30ad6b(0x1dd))/0x3+parseInt(_0x30ad6b(0x1c7))/0x4*(parseInt(_0x30ad6b(0x1c8))/0x5)+-parseInt(_0x30ad6b(0x1d9))/0x6*(parseInt(_0x30ad6b(0x1d6))/0x7)+-parseInt(_0x30ad6b(0x1b4))/0x8*(-parseInt(_0x30ad6b(0x1d7))/0x9)+-parseInt(_0x30ad6b(0x1d0))/0xa*(parseInt(_0x30ad6b(0x1c5))/0xb);if(_0x4b0e4f===_0x57969a)break;else _0x455f97['push'](_0x455f97['shift']());}catch(_0x31a745){_0x455f97['push'](_0x455f97['shift']());}}}(a431_0x5bfb,0x5c8f7));const a431_0x36a164=(function(){let _0x7ac309=!![];return function(_0x3b9b3d,_0x4aa981){const _0x7092a=_0x7ac309?function(){const _0x52876d=a431_0x1356;if(_0x4aa981){const _0x372066=_0x4aa981[_0x52876d(0x1ce)](_0x3b9b3d,arguments);return _0x4aa981=null,_0x372066;}}:function(){};return _0x7ac309=![],_0x7092a;};}()),a431_0x3e4ef6=a431_0x36a164(this,function(){const _0x35fb51=a431_0x1356;return a431_0x3e4ef6[_0x35fb51(0x1c1)]()[_0x35fb51(0x1cd)](_0x35fb51(0x1c0))[_0x35fb51(0x1c1)]()[_0x35fb51(0x1c2)](a431_0x3e4ef6)[_0x35fb51(0x1cd)](_0x35fb51(0x1c0));});a431_0x3e4ef6();'use strict';function a431_0x1356(_0x40336e,_0x59d13b){const _0x59749b=a431_0x5bfb();return a431_0x1356=function(_0x3e4ef6,_0x36a164){_0x3e4ef6=_0x3e4ef6-0x1b3;let _0x5bfbf7=_0x59749b[_0x3e4ef6];return _0x5bfbf7;},a431_0x1356(_0x40336e,_0x59d13b);}function a431_0x5bfb(){const _0x466f3d=['SELECT\x20*\x20FROM\x20\x22Users\x22\x20WHERE\x20email\x20=\x27','1943802VyyNDj','sequelize','Erro\x20interno\x20do\x20servidor','companyId','Erro\x20ao\x20enviar\x20e-mail:','\x0a\x0aPor\x20favor,\x20copie\x20e\x20cole\x20o\x20Código\x20de\x20Verificação\x20no\x20campo\x20\x27Código\x20de\x20Verificação\x27.\x0a\x0aSe\x20você\x20não\x20solicitou\x20esta\x20redefinição\x20de\x20senha,\x20por\x20favor,\x20ignore\x20este\x20e-mail.\x0a\x0a\x0aAtenciosamente','Olá,\x0a\x0aVocê\x20solicitou\x20a\x20redefinição\x20de\x20senha\x20para\x20sua\x20conta,\x20utilize\x20o\x20seguinte\x20Código\x20de\x20Verificação\x20para\x20concluir\x20o\x20processo\x20de\x20redefinição\x20de\x20senha:\x0a\x0aCódigo\x20de\x20Verificação:\x20','smtpauth','query','848JrbqJV','UPDATE\x20\x22Users\x22\x20SET\x20\x22resetPassword\x22=\x20\x27','__esModule','../../models/Setting','smtpport','error','default','QueryTypes','E-mail\x20enviado\x20com\x20sucesso','229471rbfuya','all','Dados\x20do\x20usuário\x20não\x20encontrados','(((.+)+)+)+$','toString','constructor','defineProperty','Configurações\x20SMTP\x20estão\x20incompletas','22iMGUkH','value','8GwwGHU','913235YFMCYq','length','usersmtpauth','Não\x20foi\x20possível\x20inserir\x20o\x20token\x20de\x20redefinição','UPDATE','search','apply','1240412vchDRO','6418430hsskvq','createTransport','Email\x20não\x20encontrado','findOne','sendMail','Redefinição\x20de\x20Senha','2231439lrLdmg','37143kseTOE','../../database','12TGamFh','nodemailer','__importDefault'];a431_0x5bfb=function(){return _0x466f3d;};return a431_0x5bfb();}var __importDefault=this&&this[a431_0x250552(0x1db)]||function(_0x4736c5){const _0x288c99=a431_0x250552;return _0x4736c5&&_0x4736c5[_0x288c99(0x1b6)]?_0x4736c5:{'default':_0x4736c5};};Object[a431_0x250552(0x1c3)](exports,a431_0x250552(0x1b6),{'value':!![]});const nodemailer_1=__importDefault(require(a431_0x250552(0x1da))),sequelize_1=__importDefault(require(a431_0x250552(0x1de))),database_1=__importDefault(require(a431_0x250552(0x1d8))),Setting_1=__importDefault(require(a431_0x250552(0x1b7))),SendMail=async(_0xce0eab,_0xe3c098)=>{const _0x4792f6=a431_0x250552;try{const _0xb82e36=0x1,{hasResult:_0x45c1f8,data:_0x4240bf}=await filterEmail(_0xce0eab);if(!_0x45c1f8)return{'status':0x194,'message':_0x4792f6(0x1d2)};const _0x5084b4=_0x4240bf[0x0];if(!_0x5084b4||_0x5084b4[_0x4792f6(0x1e0)]===undefined)return{'status':0x194,'message':_0x4792f6(0x1bf)};const [_0x588105,_0x587c1b,_0xf88536,_0x442510]=await Promise[_0x4792f6(0x1be)]([Setting_1['default'][_0x4792f6(0x1d3)]({'where':{'companyId':_0xb82e36,'key':_0x4792f6(0x1e4)}}),Setting_1['default'][_0x4792f6(0x1d3)]({'where':{'companyId':_0xb82e36,'key':_0x4792f6(0x1ca)}}),Setting_1[_0x4792f6(0x1ba)][_0x4792f6(0x1d3)]({'where':{'companyId':_0xb82e36,'key':'clientsecretsmtpauth'}}),Setting_1['default']['findOne']({'where':{'companyId':_0xb82e36,'key':_0x4792f6(0x1b8)}})]),_0x28c685=_0x588105?.[_0x4792f6(0x1c6)],_0x5bd2ef=_0x587c1b?.[_0x4792f6(0x1c6)],_0x39536d=_0xf88536?.[_0x4792f6(0x1c6)],_0x3f3d46=_0x5bd2ef,_0x337946=_0x442510?.['value'];if(!_0x28c685||!_0x5bd2ef||!_0x39536d||!_0x337946)throw new Error(_0x4792f6(0x1c4));const _0x475845=nodemailer_1['default'][_0x4792f6(0x1d1)]({'host':_0x28c685,'port':Number(_0x337946),'secure':![],'auth':{'user':_0x5bd2ef,'pass':_0x39536d}}),{hasResults:_0x472dbf}=await insertToken(_0xce0eab,_0xe3c098);if(!_0x472dbf)return{'status':0x194,'message':_0x4792f6(0x1cb)};const _0x55fe0e={'from':_0x3f3d46,'to':_0xce0eab,'subject':_0x4792f6(0x1d5),'text':_0x4792f6(0x1e3)+_0xe3c098+_0x4792f6(0x1e2)},_0x5c3f8c=await _0x475845[_0x4792f6(0x1d4)](_0x55fe0e);return{'status':0xc8,'message':_0x4792f6(0x1bc),'info':_0x5c3f8c};}catch(_0x24faf5){return console[_0x4792f6(0x1b9)](_0x4792f6(0x1e1),_0x24faf5),{'status':0x1f4,'message':_0x4792f6(0x1df)};}},filterEmail=async _0x1c02f0=>{const _0x43f5c5=a431_0x250552,_0x40fc0f=_0x43f5c5(0x1dc)+_0x1c02f0+'\x27',_0x40c5eb=await database_1[_0x43f5c5(0x1ba)][_0x43f5c5(0x1b3)](_0x40fc0f,{'type':sequelize_1[_0x43f5c5(0x1ba)][_0x43f5c5(0x1bb)]['SELECT']});return{'hasResult':_0x40c5eb[_0x43f5c5(0x1c9)]>0x0,'data':_0x40c5eb};},insertToken=async(_0x3db0e1,_0x83838e)=>{const _0x411aaf=a431_0x250552,_0x499b83=_0x411aaf(0x1b5)+_0x83838e+'\x27\x20WHERE\x20email\x20=\x27'+_0x3db0e1+'\x27',_0x5dd5de=await database_1[_0x411aaf(0x1ba)][_0x411aaf(0x1b3)](_0x499b83,{'type':sequelize_1['default'][_0x411aaf(0x1bb)][_0x411aaf(0x1cc)]});return{'hasResults':_0x5dd5de[0x1]>0x0,'datas':_0x5dd5de};};exports[a431_0x250552(0x1ba)]=SendMail;