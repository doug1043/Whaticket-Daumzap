function a431_0x2f6a(){const _0x3bd1de=['apply','UPDATE','Erro\x20interno\x20do\x20servidor','SELECT','UPDATE\x20\x22Users\x22\x20SET\x20\x22resetPassword\x22=\x20\x27','1760590GNEDBA','companyId','16qTwiGr','__importDefault','search','../../database','SELECT\x20*\x20FROM\x20\x22Users\x22\x20WHERE\x20email\x20=\x27','Dados\x20do\x20usuário\x20não\x20encontrados','error','2371482FmrGIO','smtpauth','usersmtpauth','QueryTypes','smtpport','1413602HTcIKp','Redefinição\x20de\x20Senha','(((.+)+)+)+$','Olá,\x0a\x0aVocê\x20solicitou\x20a\x20redefinição\x20de\x20senha\x20para\x20sua\x20conta,\x20utilize\x20o\x20seguinte\x20Código\x20de\x20Verificação\x20para\x20concluir\x20o\x20processo\x20de\x20redefinição\x20de\x20senha:\x0a\x0aCódigo\x20de\x20Verificação:\x20','sendMail','1982403ofykZV','\x0a\x0aPor\x20favor,\x20copie\x20e\x20cole\x20o\x20Código\x20de\x20Verificação\x20no\x20campo\x20\x27Código\x20de\x20Verificação\x27.\x0a\x0aSe\x20você\x20não\x20solicitou\x20esta\x20redefinição\x20de\x20senha,\x20por\x20favor,\x20ignore\x20este\x20e-mail.\x0a\x0a\x0aAtenciosamente','1OUwHTp','121bozjFM','../../models/Setting','findOne','__esModule','\x27\x20WHERE\x20email\x20=\x27','query','2128287qQBouG','12aiXQvg','Não\x20foi\x20possível\x20inserir\x20o\x20token\x20de\x20redefinição','toString','default','value','5849646Igjdbv','1645510nheFmC','length','defineProperty','Configurações\x20SMTP\x20estão\x20incompletas','sequelize','createTransport'];a431_0x2f6a=function(){return _0x3bd1de;};return a431_0x2f6a();}const a431_0x12a16e=a431_0x27bc;(function(_0x21a7ee,_0x23eb3b){const _0x38289b=a431_0x27bc,_0x424cd0=_0x21a7ee();while(!![]){try{const _0x4dc835=parseInt(_0x38289b(0x95))/0x1*(parseInt(_0x38289b(0x8e))/0x2)+parseInt(_0x38289b(0x93))/0x3+-parseInt(_0x38289b(0x9d))/0x4*(parseInt(_0x38289b(0xa3))/0x5)+-parseInt(_0x38289b(0xa2))/0x6+-parseInt(_0x38289b(0x9c))/0x7+-parseInt(_0x38289b(0xb0))/0x8*(parseInt(_0x38289b(0xb7))/0x9)+-parseInt(_0x38289b(0xae))/0xa*(-parseInt(_0x38289b(0x96))/0xb);if(_0x4dc835===_0x23eb3b)break;else _0x424cd0['push'](_0x424cd0['shift']());}catch(_0x3edb65){_0x424cd0['push'](_0x424cd0['shift']());}}}(a431_0x2f6a,0x7cbf7));function a431_0x27bc(_0x4db95f,_0x2531e0){const _0x5b2ec8=a431_0x2f6a();return a431_0x27bc=function(_0xb01e00,_0x37c20e){_0xb01e00=_0xb01e00-0x8e;let _0x2f6aa6=_0x5b2ec8[_0xb01e00];return _0x2f6aa6;},a431_0x27bc(_0x4db95f,_0x2531e0);}const a431_0x37c20e=(function(){let _0x34795d=!![];return function(_0x3a24ab,_0xad5364){const _0x447155=_0x34795d?function(){const _0xd71f33=a431_0x27bc;if(_0xad5364){const _0x551fda=_0xad5364[_0xd71f33(0xa9)](_0x3a24ab,arguments);return _0xad5364=null,_0x551fda;}}:function(){};return _0x34795d=![],_0x447155;};}()),a431_0xb01e00=a431_0x37c20e(this,function(){const _0x51cc9e=a431_0x27bc;return a431_0xb01e00[_0x51cc9e(0x9f)]()[_0x51cc9e(0xb2)]('(((.+)+)+)+$')['toString']()['constructor'](a431_0xb01e00)[_0x51cc9e(0xb2)](_0x51cc9e(0x90));});a431_0xb01e00();'use strict';var __importDefault=this&&this[a431_0x12a16e(0xb1)]||function(_0x4e55ed){const _0x477f05=a431_0x12a16e;return _0x4e55ed&&_0x4e55ed[_0x477f05(0x99)]?_0x4e55ed:{'default':_0x4e55ed};};Object[a431_0x12a16e(0xa5)](exports,'__esModule',{'value':!![]});const nodemailer_1=__importDefault(require('nodemailer')),sequelize_1=__importDefault(require(a431_0x12a16e(0xa7))),database_1=__importDefault(require(a431_0x12a16e(0xb3))),Setting_1=__importDefault(require(a431_0x12a16e(0x97))),SendMail=async(_0x1e403a,_0x207f04)=>{const _0x5c5f36=a431_0x12a16e;try{const _0x157c1b=0x1,{hasResult:_0x15e9cb,data:_0xc1e4a8}=await filterEmail(_0x1e403a);if(!_0x15e9cb)return{'status':0x194,'message':'Email\x20não\x20encontrado'};const _0x35f028=_0xc1e4a8[0x0];if(!_0x35f028||_0x35f028[_0x5c5f36(0xaf)]===undefined)return{'status':0x194,'message':_0x5c5f36(0xb5)};const [_0x57f6ec,_0x4f2511,_0x1d1664,_0xc48113]=await Promise['all']([Setting_1[_0x5c5f36(0xa0)]['findOne']({'where':{'companyId':_0x157c1b,'key':_0x5c5f36(0xb8)}}),Setting_1[_0x5c5f36(0xa0)][_0x5c5f36(0x98)]({'where':{'companyId':_0x157c1b,'key':_0x5c5f36(0xb9)}}),Setting_1[_0x5c5f36(0xa0)]['findOne']({'where':{'companyId':_0x157c1b,'key':'clientsecretsmtpauth'}}),Setting_1[_0x5c5f36(0xa0)][_0x5c5f36(0x98)]({'where':{'companyId':_0x157c1b,'key':_0x5c5f36(0xbb)}})]),_0x4d1d97=_0x57f6ec?.[_0x5c5f36(0xa1)],_0xdb910d=_0x4f2511?.[_0x5c5f36(0xa1)],_0x1a5dab=_0x1d1664?.[_0x5c5f36(0xa1)],_0x235aa7=_0xdb910d,_0x43131b=_0xc48113?.[_0x5c5f36(0xa1)];if(!_0x4d1d97||!_0xdb910d||!_0x1a5dab||!_0x43131b)throw new Error(_0x5c5f36(0xa6));const _0x4bf913=nodemailer_1[_0x5c5f36(0xa0)][_0x5c5f36(0xa8)]({'host':_0x4d1d97,'port':Number(_0x43131b),'secure':![],'auth':{'user':_0xdb910d,'pass':_0x1a5dab}}),{hasResults:_0x30a2f2}=await insertToken(_0x1e403a,_0x207f04);if(!_0x30a2f2)return{'status':0x194,'message':_0x5c5f36(0x9e)};const _0x3dae13={'from':_0x235aa7,'to':_0x1e403a,'subject':_0x5c5f36(0x8f),'text':_0x5c5f36(0x91)+_0x207f04+_0x5c5f36(0x94)},_0x1db366=await _0x4bf913[_0x5c5f36(0x92)](_0x3dae13);return{'status':0xc8,'message':'E-mail\x20enviado\x20com\x20sucesso','info':_0x1db366};}catch(_0x4f6df5){return console[_0x5c5f36(0xb6)]('Erro\x20ao\x20enviar\x20e-mail:',_0x4f6df5),{'status':0x1f4,'message':_0x5c5f36(0xab)};}},filterEmail=async _0xdd1111=>{const _0x2a0f4c=a431_0x12a16e,_0x19f190=_0x2a0f4c(0xb4)+_0xdd1111+'\x27',_0x551279=await database_1[_0x2a0f4c(0xa0)][_0x2a0f4c(0x9b)](_0x19f190,{'type':sequelize_1[_0x2a0f4c(0xa0)]['QueryTypes'][_0x2a0f4c(0xac)]});return{'hasResult':_0x551279[_0x2a0f4c(0xa4)]>0x0,'data':_0x551279};},insertToken=async(_0x3e83a3,_0x2ea969)=>{const _0xc221c=a431_0x12a16e,_0x42d08b=_0xc221c(0xad)+_0x2ea969+_0xc221c(0x9a)+_0x3e83a3+'\x27',_0x4528ab=await database_1[_0xc221c(0xa0)][_0xc221c(0x9b)](_0x42d08b,{'type':sequelize_1[_0xc221c(0xa0)][_0xc221c(0xba)][_0xc221c(0xaa)]});return{'hasResults':_0x4528ab[0x1]>0x0,'datas':_0x4528ab};};exports[a431_0x12a16e(0xa0)]=SendMail;