'use strict';var a497_0xb782d=a497_0x1d58;(function(_0x57c78e,_0x1a6f46){var _0x947738=a497_0x1d58,_0x22914b=_0x57c78e();while(!![]){try{var _0xcc7370=-parseInt(_0x947738(0x17b))/0x1+parseInt(_0x947738(0x179))/0x2+parseInt(_0x947738(0x19b))/0x3+parseInt(_0x947738(0x18e))/0x4+parseInt(_0x947738(0x17c))/0x5*(parseInt(_0x947738(0x183))/0x6)+-parseInt(_0x947738(0x17d))/0x7*(parseInt(_0x947738(0x178))/0x8)+-parseInt(_0x947738(0x185))/0x9;if(_0xcc7370===_0x1a6f46)break;else _0x22914b['push'](_0x22914b['shift']());}catch(_0x471355){_0x22914b['push'](_0x22914b['shift']());}}}(a497_0x13b1,0x22ff5));function a497_0x1d58(_0x1464f9,_0x4aec2b){var _0x170071=a497_0x13b1();return a497_0x1d58=function(_0x5b7c24,_0x5ae341){_0x5b7c24=_0x5b7c24-0x175;var _0x13b1bf=_0x170071[_0x5b7c24];return _0x13b1bf;},a497_0x1d58(_0x1464f9,_0x4aec2b);}var __createBinding=this&&this[a497_0xb782d(0x18c)]||(Object['create']?function(_0x2165fd,_0x345064,_0x5923c4,_0x130442){var _0x3dc995=a497_0xb782d;if(_0x130442===undefined)_0x130442=_0x5923c4;var _0xa5eef7=Object[_0x3dc995(0x177)](_0x345064,_0x5923c4);(!_0xa5eef7||(_0x3dc995(0x180)in _0xa5eef7?!_0x345064['__esModule']:_0xa5eef7[_0x3dc995(0x199)]||_0xa5eef7['configurable']))&&(_0xa5eef7={'enumerable':!![],'get':function(){return _0x345064[_0x5923c4];}}),Object[_0x3dc995(0x17a)](_0x2165fd,_0x130442,_0xa5eef7);}:function(_0x2172b5,_0x260f7f,_0x66e1e4,_0x453d0b){if(_0x453d0b===undefined)_0x453d0b=_0x66e1e4;_0x2172b5[_0x453d0b]=_0x260f7f[_0x66e1e4];}),__setModuleDefault=this&&this[a497_0xb782d(0x193)]||(Object['create']?function(_0x451246,_0x2b5a2e){var _0x3f8f44=a497_0xb782d;Object['defineProperty'](_0x451246,_0x3f8f44(0x175),{'enumerable':!![],'value':_0x2b5a2e});}:function(_0x323950,_0x46ce8d){var _0x158144=a497_0xb782d;_0x323950[_0x158144(0x175)]=_0x46ce8d;}),__importStar=this&&this[a497_0xb782d(0x18f)]||(function(){var _0x16ba30=(function(){var _0x26afa1=!![];return function(_0x2835af,_0x5548b7){var _0x42147e=_0x26afa1?function(){var _0xca5419=a497_0x1d58;if(_0x5548b7){var _0x2f6d80=_0x5548b7[_0xca5419(0x18d)](_0x2835af,arguments);return _0x5548b7=null,_0x2f6d80;}}:function(){};return _0x26afa1=![],_0x42147e;};}()),_0x451f80=_0x16ba30(this,function(){var _0x5359c0=a497_0x1d58;return _0x451f80[_0x5359c0(0x187)]()[_0x5359c0(0x18a)](_0x5359c0(0x191))[_0x5359c0(0x187)]()[_0x5359c0(0x198)](_0x451f80)[_0x5359c0(0x18a)](_0x5359c0(0x191));});_0x451f80();var _0x5a0baa=function(_0x1ae76b){var _0x21c191=a497_0x1d58;return _0x5a0baa=Object[_0x21c191(0x196)]||function(_0x4eeea4){var _0xce61a7=_0x21c191,_0x123d1f=[];for(var _0xe40000 in _0x4eeea4)if(Object['prototype'][_0xce61a7(0x182)][_0xce61a7(0x192)](_0x4eeea4,_0xe40000))_0x123d1f[_0x123d1f[_0xce61a7(0x189)]]=_0xe40000;return _0x123d1f;},_0x5a0baa(_0x1ae76b);};return function(_0x51fc6f){var _0x47d5cd=a497_0x1d58;if(_0x51fc6f&&_0x51fc6f[_0x47d5cd(0x176)])return _0x51fc6f;var _0x1d3f79={};if(_0x51fc6f!=null){for(var _0x346e8d=_0x5a0baa(_0x51fc6f),_0x409c68=0x0;_0x409c68<_0x346e8d['length'];_0x409c68++)if(_0x346e8d[_0x409c68]!==_0x47d5cd(0x175))__createBinding(_0x1d3f79,_0x51fc6f,_0x346e8d[_0x409c68]);}return __setModuleDefault(_0x1d3f79,_0x51fc6f),_0x1d3f79;};}()),__importDefault=this&&this[a497_0xb782d(0x18b)]||function(_0x413c05){var _0x3d85ed=a497_0xb782d;return _0x413c05&&_0x413c05[_0x3d85ed(0x176)]?_0x413c05:{'default':_0x413c05};};Object['defineProperty'](exports,a497_0xb782d(0x176),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),QueueIntegrations_1=__importDefault(require(a497_0xb782d(0x194))),CreateQueueIntegrationService=async({type:_0xc2c930,name:_0x111cd8,projectName:_0x103d42,urlN8N:_0x260a8a,companyId:_0x216eef,typebotExpires:_0x1329bd,typebotKeywordFinish:_0x398a0a,typebotSlug:_0x2cde19,typebotUnknownMessage:_0x2e4d93,typebotDelayMessage:_0x5a02c8,typebotKeywordRestart:_0xd4e043,typebotRestartMessage:_0x256d74})=>{var _0x52c2c0=a497_0xb782d;const _0x3af1f4=Yup[_0x52c2c0(0x181)]()[_0x52c2c0(0x184)]({'name':Yup[_0x52c2c0(0x190)]()[_0x52c2c0(0x195)]()[_0x52c2c0(0x197)](0x2)['test'](_0x52c2c0(0x186),_0x52c2c0(0x19a),async _0x521326=>{var _0x528f5e=_0x52c2c0;if(!_0x521326)return![];const _0x2296fb=await QueueIntegrations_1['default'][_0x528f5e(0x17f)]({'where':{'name':_0x521326,'companyId':_0x216eef}});return!_0x2296fb;})});try{await _0x3af1f4['validate']({'type':_0xc2c930,'name':_0x111cd8,'projectName':_0x103d42,'urlN8N':_0x260a8a,'companyId':_0x216eef});}catch(_0x1c948f){throw new AppError_1[(_0x52c2c0(0x175))](_0x1c948f[_0x52c2c0(0x188)]);}const _0x33fb13=await QueueIntegrations_1[_0x52c2c0(0x175)][_0x52c2c0(0x17e)]({'type':_0xc2c930,'name':_0x111cd8,'projectName':_0x103d42,'urlN8N':_0x260a8a,'companyId':_0x216eef,'typebotExpires':_0x1329bd,'typebotKeywordFinish':_0x398a0a,'typebotSlug':_0x2cde19,'typebotUnknownMessage':_0x2e4d93,'typebotDelayMessage':_0x5a02c8,'typebotKeywordRestart':_0xd4e043,'typebotRestartMessage':_0x256d74});return _0x33fb13;};exports[a497_0xb782d(0x175)]=CreateQueueIntegrationService;function a497_0x13b1(){var _0x1cc86b=['writable','This\x20integration\x20name\x20is\x20already\x20used.','836289FvnMKB','default','__esModule','getOwnPropertyDescriptor','153944QYzEYw','390746rOybnJ','defineProperty','8432qLVsBr','431650gpaAoN','21ImgwkH','create','findOne','get','object','hasOwnProperty','6AXCZee','shape','5166333wBQWIi','Check-name','toString','message','length','search','__importDefault','__createBinding','apply','892324TfVToI','__importStar','string','(((.+)+)+)+$','call','__setModuleDefault','../../models/QueueIntegrations','required','getOwnPropertyNames','min','constructor'];a497_0x13b1=function(){return _0x1cc86b;};return a497_0x13b1();}