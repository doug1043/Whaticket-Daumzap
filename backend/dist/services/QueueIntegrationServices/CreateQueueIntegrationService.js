'use strict';function a492_0x337c(_0x5d096d,_0x1044b3){var _0x2c9fe8=a492_0x5d59();return a492_0x337c=function(_0x4e58d2,_0x3d95f3){_0x4e58d2=_0x4e58d2-0x7d;var _0x5d59e1=_0x2c9fe8[_0x4e58d2];return _0x5d59e1;},a492_0x337c(_0x5d096d,_0x1044b3);}var a492_0x1053c0=a492_0x337c;(function(_0x41c63a,_0x4abd6e){var _0x5e584c=a492_0x337c,_0x1ec312=_0x41c63a();while(!![]){try{var _0x3af104=parseInt(_0x5e584c(0xa0))/0x1*(parseInt(_0x5e584c(0xa3))/0x2)+parseInt(_0x5e584c(0x80))/0x3*(parseInt(_0x5e584c(0x7d))/0x4)+parseInt(_0x5e584c(0x93))/0x5+-parseInt(_0x5e584c(0x90))/0x6+parseInt(_0x5e584c(0x8e))/0x7*(parseInt(_0x5e584c(0xa1))/0x8)+parseInt(_0x5e584c(0x83))/0x9*(parseInt(_0x5e584c(0xa6))/0xa)+-parseInt(_0x5e584c(0x86))/0xb*(parseInt(_0x5e584c(0x7f))/0xc);if(_0x3af104===_0x4abd6e)break;else _0x1ec312['push'](_0x1ec312['shift']());}catch(_0x4d8f33){_0x1ec312['push'](_0x1ec312['shift']());}}}(a492_0x5d59,0x777d4));var __createBinding=this&&this[a492_0x1053c0(0xa5)]||(Object[a492_0x1053c0(0x8f)]?function(_0x4a836e,_0x4f9979,_0x34daa7,_0x27dbaf){var _0x2a1a7b=a492_0x1053c0;if(_0x27dbaf===undefined)_0x27dbaf=_0x34daa7;var _0x4dbff4=Object[_0x2a1a7b(0x84)](_0x4f9979,_0x34daa7);(!_0x4dbff4||('get'in _0x4dbff4?!_0x4f9979[_0x2a1a7b(0x95)]:_0x4dbff4[_0x2a1a7b(0x9b)]||_0x4dbff4[_0x2a1a7b(0x87)]))&&(_0x4dbff4={'enumerable':!![],'get':function(){return _0x4f9979[_0x34daa7];}}),Object['defineProperty'](_0x4a836e,_0x27dbaf,_0x4dbff4);}:function(_0x1c1da2,_0x1a2113,_0x12a0cb,_0x220b21){if(_0x220b21===undefined)_0x220b21=_0x12a0cb;_0x1c1da2[_0x220b21]=_0x1a2113[_0x12a0cb];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a492_0x1053c0(0x8f)]?function(_0x97832,_0x1c3dcc){var _0x225ed8=a492_0x1053c0;Object[_0x225ed8(0x9c)](_0x97832,_0x225ed8(0x7e),{'enumerable':!![],'value':_0x1c3dcc});}:function(_0x1fda53,_0x2e8bcb){var _0x512dfb=a492_0x1053c0;_0x1fda53[_0x512dfb(0x7e)]=_0x2e8bcb;}),__importStar=this&&this[a492_0x1053c0(0x9e)]||(function(){var _0x3895d4=(function(){var _0xe45943=!![];return function(_0x32e5a6,_0x53a5f7){var _0x47b6e5=_0xe45943?function(){var _0x3b924f=a492_0x337c;if(_0x53a5f7){var _0xb7af89=_0x53a5f7[_0x3b924f(0xa4)](_0x32e5a6,arguments);return _0x53a5f7=null,_0xb7af89;}}:function(){};return _0xe45943=![],_0x47b6e5;};}()),_0x6a28b9=_0x3895d4(this,function(){var _0x31ec88=a492_0x337c;return _0x6a28b9[_0x31ec88(0x91)]()[_0x31ec88(0x88)](_0x31ec88(0x8d))[_0x31ec88(0x91)]()[_0x31ec88(0x96)](_0x6a28b9)[_0x31ec88(0x88)](_0x31ec88(0x8d));});_0x6a28b9();var _0x40897b=function(_0x1ef829){var _0x3d2248=a492_0x337c;return _0x40897b=Object[_0x3d2248(0xa2)]||function(_0x484d5a){var _0x2e666f=_0x3d2248,_0x2162f9=[];for(var _0x27a016 in _0x484d5a)if(Object[_0x2e666f(0x81)][_0x2e666f(0x9a)][_0x2e666f(0xa7)](_0x484d5a,_0x27a016))_0x2162f9[_0x2162f9[_0x2e666f(0x9f)]]=_0x27a016;return _0x2162f9;},_0x40897b(_0x1ef829);};return function(_0x43b182){var _0x350ea0=a492_0x337c;if(_0x43b182&&_0x43b182[_0x350ea0(0x95)])return _0x43b182;var _0x47de52={};if(_0x43b182!=null){for(var _0x6384a4=_0x40897b(_0x43b182),_0x3f25e9=0x0;_0x3f25e9<_0x6384a4[_0x350ea0(0x9f)];_0x3f25e9++)if(_0x6384a4[_0x3f25e9]!==_0x350ea0(0x7e))__createBinding(_0x47de52,_0x43b182,_0x6384a4[_0x3f25e9]);}return __setModuleDefault(_0x47de52,_0x43b182),_0x47de52;};}()),__importDefault=this&&this[a492_0x1053c0(0x82)]||function(_0x29163e){var _0x5ac8c7=a492_0x1053c0;return _0x29163e&&_0x29163e[_0x5ac8c7(0x95)]?_0x29163e:{'default':_0x29163e};};Object[a492_0x1053c0(0x9c)](exports,a492_0x1053c0(0x95),{'value':!![]});const Yup=__importStar(require(a492_0x1053c0(0x9d))),AppError_1=__importDefault(require(a492_0x1053c0(0x92))),QueueIntegrations_1=__importDefault(require('../../models/QueueIntegrations')),CreateQueueIntegrationService=async({type:_0x5ca78a,name:_0x2f82f1,projectName:_0x187eb8,urlN8N:_0x47488a,companyId:_0x34c370,typebotExpires:_0x6231ee,typebotKeywordFinish:_0x14743c,typebotSlug:_0x166339,typebotUnknownMessage:_0x1a506f,typebotDelayMessage:_0x358dba,typebotKeywordRestart:_0x1e00af,typebotRestartMessage:_0x50ed4f})=>{var _0x5a5d0d=a492_0x1053c0;const _0x268fdf=Yup[_0x5a5d0d(0x8a)]()[_0x5a5d0d(0x89)]({'name':Yup['string']()[_0x5a5d0d(0x97)]()[_0x5a5d0d(0x94)](0x2)['test'](_0x5a5d0d(0x85),_0x5a5d0d(0x8b),async _0x23d2aa=>{var _0x1c16c4=_0x5a5d0d;if(!_0x23d2aa)return![];const _0x330558=await QueueIntegrations_1[_0x1c16c4(0x7e)][_0x1c16c4(0x99)]({'where':{'name':_0x23d2aa,'companyId':_0x34c370}});return!_0x330558;})});try{await _0x268fdf[_0x5a5d0d(0x98)]({'type':_0x5ca78a,'name':_0x2f82f1,'projectName':_0x187eb8,'urlN8N':_0x47488a,'companyId':_0x34c370});}catch(_0x4fd847){throw new AppError_1[(_0x5a5d0d(0x7e))](_0x4fd847[_0x5a5d0d(0x8c)]);}const _0x5d4eab=await QueueIntegrations_1[_0x5a5d0d(0x7e)]['create']({'type':_0x5ca78a,'name':_0x2f82f1,'projectName':_0x187eb8,'urlN8N':_0x47488a,'companyId':_0x34c370,'typebotExpires':_0x6231ee,'typebotKeywordFinish':_0x14743c,'typebotSlug':_0x166339,'typebotUnknownMessage':_0x1a506f,'typebotDelayMessage':_0x358dba,'typebotKeywordRestart':_0x1e00af,'typebotRestartMessage':_0x50ed4f});return _0x5d4eab;};function a492_0x5d59(){var _0x538436=['__createBinding','1875070sGqPft','call','36MxYfOq','default','156txPoPP','190878bzqPdX','prototype','__importDefault','36RardLv','getOwnPropertyDescriptor','Check-name','1268707goeDKy','configurable','search','shape','object','This\x20integration\x20name\x20is\x20already\x20used.','message','(((.+)+)+)+$','952cBCXMH','create','4825158NrMKxR','toString','../../errors/AppError','1795945MyCVhB','min','__esModule','constructor','required','validate','findOne','hasOwnProperty','writable','defineProperty','yup','__importStar','length','1WHsUta','47472wNXXDG','getOwnPropertyNames','608254iZZaLD','apply'];a492_0x5d59=function(){return _0x538436;};return a492_0x5d59();}exports[a492_0x1053c0(0x7e)]=CreateQueueIntegrationService;