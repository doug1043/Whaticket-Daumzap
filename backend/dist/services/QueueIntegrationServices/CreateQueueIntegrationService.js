'use strict';var a494_0x92435d=a494_0x2c51;(function(_0x31a855,_0x3e8a0d){var _0x347039=a494_0x2c51,_0xe7f8e9=_0x31a855();while(!![]){try{var _0x133938=parseInt(_0x347039(0x13f))/0x1*(-parseInt(_0x347039(0x148))/0x2)+-parseInt(_0x347039(0x14f))/0x3+-parseInt(_0x347039(0x142))/0x4+parseInt(_0x347039(0x145))/0x5+parseInt(_0x347039(0x133))/0x6*(-parseInt(_0x347039(0x14d))/0x7)+parseInt(_0x347039(0x13d))/0x8+parseInt(_0x347039(0x146))/0x9*(parseInt(_0x347039(0x14e))/0xa);if(_0x133938===_0x3e8a0d)break;else _0xe7f8e9['push'](_0xe7f8e9['shift']());}catch(_0x1ef520){_0xe7f8e9['push'](_0xe7f8e9['shift']());}}}(a494_0x5627,0x828c3));function a494_0x5627(){var _0x9a2dbf=['__importStar','__importDefault','required','6wukCzw','default','__esModule','test','toString','Check-name','create','../../models/QueueIntegrations','shape','../../errors/AppError','3800936oHitOV','string','89593PogSdn','getOwnPropertyNames','search','3194788HOsAlu','configurable','writable','3604945qDaBYn','9fnhxfl','constructor','20jyfinN','__createBinding','defineProperty','(((.+)+)+)+$','length','107303ciZKzL','18360020Vqeukf','2362287yVeqYf','hasOwnProperty','prototype','min'];a494_0x5627=function(){return _0x9a2dbf;};return a494_0x5627();}var __createBinding=this&&this[a494_0x92435d(0x149)]||(Object[a494_0x92435d(0x139)]?function(_0x2e8a66,_0x59c644,_0x78b967,_0x140da0){var _0x423b8b=a494_0x92435d;if(_0x140da0===undefined)_0x140da0=_0x78b967;var _0x31ab45=Object['getOwnPropertyDescriptor'](_0x59c644,_0x78b967);(!_0x31ab45||('get'in _0x31ab45?!_0x59c644['__esModule']:_0x31ab45[_0x423b8b(0x144)]||_0x31ab45[_0x423b8b(0x143)]))&&(_0x31ab45={'enumerable':!![],'get':function(){return _0x59c644[_0x78b967];}}),Object[_0x423b8b(0x14a)](_0x2e8a66,_0x140da0,_0x31ab45);}:function(_0x112feb,_0xe37c64,_0x6ddb40,_0xa519bf){if(_0xa519bf===undefined)_0xa519bf=_0x6ddb40;_0x112feb[_0xa519bf]=_0xe37c64[_0x6ddb40];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a494_0x92435d(0x139)]?function(_0x485486,_0x4d4aee){var _0x468f49=a494_0x92435d;Object[_0x468f49(0x14a)](_0x485486,_0x468f49(0x134),{'enumerable':!![],'value':_0x4d4aee});}:function(_0x46d5da,_0x49b784){_0x46d5da['default']=_0x49b784;}),__importStar=this&&this[a494_0x92435d(0x153)]||(function(){var _0x451d36=(function(){var _0x2984d7=!![];return function(_0x350fc9,_0x30b241){var _0x3967cb=_0x2984d7?function(){if(_0x30b241){var _0x38bbf8=_0x30b241['apply'](_0x350fc9,arguments);return _0x30b241=null,_0x38bbf8;}}:function(){};return _0x2984d7=![],_0x3967cb;};}()),_0x3013a0=_0x451d36(this,function(){var _0x409a4e=a494_0x2c51;return _0x3013a0[_0x409a4e(0x137)]()[_0x409a4e(0x141)](_0x409a4e(0x14b))[_0x409a4e(0x137)]()[_0x409a4e(0x147)](_0x3013a0)['search'](_0x409a4e(0x14b));});_0x3013a0();var _0x168f0f=function(_0x13090f){var _0x3ecc45=a494_0x2c51;return _0x168f0f=Object[_0x3ecc45(0x140)]||function(_0x5761f7){var _0x3a4025=_0x3ecc45,_0xec004d=[];for(var _0x306eaa in _0x5761f7)if(Object[_0x3a4025(0x151)][_0x3a4025(0x150)]['call'](_0x5761f7,_0x306eaa))_0xec004d[_0xec004d[_0x3a4025(0x14c)]]=_0x306eaa;return _0xec004d;},_0x168f0f(_0x13090f);};return function(_0x14637d){var _0x5612dd=a494_0x2c51;if(_0x14637d&&_0x14637d[_0x5612dd(0x135)])return _0x14637d;var _0x60a357={};if(_0x14637d!=null){for(var _0x465667=_0x168f0f(_0x14637d),_0x245311=0x0;_0x245311<_0x465667[_0x5612dd(0x14c)];_0x245311++)if(_0x465667[_0x245311]!=='default')__createBinding(_0x60a357,_0x14637d,_0x465667[_0x245311]);}return __setModuleDefault(_0x60a357,_0x14637d),_0x60a357;};}()),__importDefault=this&&this[a494_0x92435d(0x154)]||function(_0x597649){return _0x597649&&_0x597649['__esModule']?_0x597649:{'default':_0x597649};};Object[a494_0x92435d(0x14a)](exports,a494_0x92435d(0x135),{'value':!![]});function a494_0x2c51(_0x2645eb,_0x2ef86c){var _0x93bdf4=a494_0x5627();return a494_0x2c51=function(_0xaecd59,_0x148b00){_0xaecd59=_0xaecd59-0x132;var _0x56274b=_0x93bdf4[_0xaecd59];return _0x56274b;},a494_0x2c51(_0x2645eb,_0x2ef86c);}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a494_0x92435d(0x13c))),QueueIntegrations_1=__importDefault(require(a494_0x92435d(0x13a))),CreateQueueIntegrationService=async({type:_0x334d9c,name:_0x169c92,projectName:_0x18b6ef,urlN8N:_0x1700db,companyId:_0x59e5a3,typebotExpires:_0x562f6d,typebotKeywordFinish:_0x5847f0,typebotSlug:_0x31c63f,typebotUnknownMessage:_0x33ff6d,typebotDelayMessage:_0x389887,typebotKeywordRestart:_0x18fc39,typebotRestartMessage:_0x691c2c})=>{var _0x4272c4=a494_0x92435d;const _0x401bd2=Yup['object']()[_0x4272c4(0x13b)]({'name':Yup[_0x4272c4(0x13e)]()[_0x4272c4(0x132)]()[_0x4272c4(0x152)](0x2)[_0x4272c4(0x136)](_0x4272c4(0x138),'This\x20integration\x20name\x20is\x20already\x20used.',async _0x573c55=>{var _0x1e94b2=_0x4272c4;if(!_0x573c55)return![];const _0x48a8ae=await QueueIntegrations_1[_0x1e94b2(0x134)]['findOne']({'where':{'name':_0x573c55,'companyId':_0x59e5a3}});return!_0x48a8ae;})});try{await _0x401bd2['validate']({'type':_0x334d9c,'name':_0x169c92,'projectName':_0x18b6ef,'urlN8N':_0x1700db,'companyId':_0x59e5a3});}catch(_0x9a7653){throw new AppError_1[(_0x4272c4(0x134))](_0x9a7653['message']);}const _0x21143b=await QueueIntegrations_1[_0x4272c4(0x134)][_0x4272c4(0x139)]({'type':_0x334d9c,'name':_0x169c92,'projectName':_0x18b6ef,'urlN8N':_0x1700db,'companyId':_0x59e5a3,'typebotExpires':_0x562f6d,'typebotKeywordFinish':_0x5847f0,'typebotSlug':_0x31c63f,'typebotUnknownMessage':_0x33ff6d,'typebotDelayMessage':_0x389887,'typebotKeywordRestart':_0x18fc39,'typebotRestartMessage':_0x691c2c});return _0x21143b;};exports[a494_0x92435d(0x134)]=CreateQueueIntegrationService;