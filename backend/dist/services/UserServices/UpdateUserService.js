'use strict';function a680_0x40af(_0x1687dc,_0x425f34){const _0x2a2e36=a680_0x2caf();return a680_0x40af=function(_0x24ebc8,_0x2c3fb8){_0x24ebc8=_0x24ebc8-0x1ca;let _0x2caf85=_0x2a2e36[_0x24ebc8];return _0x2caf85;},a680_0x40af(_0x1687dc,_0x425f34);}const a680_0x39cae2=a680_0x40af;function a680_0x2caf(){const _0x3c74a4=['===\x20UPDATE\x20USER\x20===','yup','reload','hasOwnProperty','./ShowUserService','Tipo\x20whatsappId:','default','get','findByPk','companyId','constructor','profile','apply','validate','email','create','1029bUuAul','../../models/Company','message','search','min','1604475PUGpjj','string','getOwnPropertyNames','8hDkaDJ','16204572RYPyCR','Tipo:','(((.+)+)+)+$','3770636KcbOzI','../../errors/AppError','allowedWeekDays\x20recebido:','name','1065274HrubHX','__importStar','ERR_FORBIDDEN','length','update','admin','writable','defineProperty','super','getOwnPropertyDescriptor','__importDefault','__esModule','__setModuleDefault','prototype','call','../../models/User','4856ZWclEh','shape','configurable','283408taxIuP','allowedWeekDays','log','7100718bZzRnA'];a680_0x2caf=function(){return _0x3c74a4;};return a680_0x2caf();}(function(_0x292d84,_0x147b0b){const _0x334ae5=a680_0x40af,_0xe035b7=_0x292d84();while(!![]){try{const _0x2668e1=-parseInt(_0x334ae5(0x1fc))/0x1+-parseInt(_0x334ae5(0x1f9))/0x2*(parseInt(_0x334ae5(0x1d9))/0x3)+-parseInt(_0x334ae5(0x1e5))/0x4+-parseInt(_0x334ae5(0x1de))/0x5+parseInt(_0x334ae5(0x1ff))/0x6+parseInt(_0x334ae5(0x1e9))/0x7+parseInt(_0x334ae5(0x1e1))/0x8*(parseInt(_0x334ae5(0x1e2))/0x9);if(_0x2668e1===_0x147b0b)break;else _0xe035b7['push'](_0xe035b7['shift']());}catch(_0x371dac){_0xe035b7['push'](_0xe035b7['shift']());}}}(a680_0x2caf,0xb8a99));var __createBinding=this&&this['__createBinding']||(Object[a680_0x39cae2(0x1d8)]?function(_0x2f8900,_0x40d0dc,_0x3b59a0,_0x222241){const _0x1abb44=a680_0x39cae2;if(_0x222241===undefined)_0x222241=_0x3b59a0;var _0x24a2a4=Object[_0x1abb44(0x1f2)](_0x40d0dc,_0x3b59a0);(!_0x24a2a4||(_0x1abb44(0x1d0)in _0x24a2a4?!_0x40d0dc[_0x1abb44(0x1f4)]:_0x24a2a4[_0x1abb44(0x1ef)]||_0x24a2a4[_0x1abb44(0x1fb)]))&&(_0x24a2a4={'enumerable':!![],'get':function(){return _0x40d0dc[_0x3b59a0];}}),Object['defineProperty'](_0x2f8900,_0x222241,_0x24a2a4);}:function(_0x443f02,_0x388bd6,_0x526995,_0x457686){if(_0x457686===undefined)_0x457686=_0x526995;_0x443f02[_0x457686]=_0x388bd6[_0x526995];}),__setModuleDefault=this&&this[a680_0x39cae2(0x1f5)]||(Object[a680_0x39cae2(0x1d8)]?function(_0x23a5cb,_0x4b267c){const _0x517647=a680_0x39cae2;Object[_0x517647(0x1f0)](_0x23a5cb,_0x517647(0x1cf),{'enumerable':!![],'value':_0x4b267c});}:function(_0x21dba9,_0x4fba1f){_0x21dba9['default']=_0x4fba1f;}),__importStar=this&&this[a680_0x39cae2(0x1ea)]||(function(){const _0x494f9a=(function(){let _0x2f649c=!![];return function(_0x48ccbf,_0xe22400){const _0x4d9de5=_0x2f649c?function(){const _0x500db8=a680_0x40af;if(_0xe22400){const _0x2a0a9b=_0xe22400[_0x500db8(0x1d5)](_0x48ccbf,arguments);return _0xe22400=null,_0x2a0a9b;}}:function(){};return _0x2f649c=![],_0x4d9de5;};}()),_0x1f5a05=_0x494f9a(this,function(){const _0x3f5b15=a680_0x40af;return _0x1f5a05['toString']()[_0x3f5b15(0x1dc)](_0x3f5b15(0x1e4))['toString']()[_0x3f5b15(0x1d3)](_0x1f5a05)[_0x3f5b15(0x1dc)](_0x3f5b15(0x1e4));});_0x1f5a05();var _0x152a34=function(_0x401aaa){const _0x4d8c88=a680_0x40af;return _0x152a34=Object[_0x4d8c88(0x1e0)]||function(_0x9a04fe){const _0x424a74=_0x4d8c88;var _0x3c3b55=[];for(var _0x217442 in _0x9a04fe)if(Object[_0x424a74(0x1f6)][_0x424a74(0x1cc)][_0x424a74(0x1f7)](_0x9a04fe,_0x217442))_0x3c3b55[_0x3c3b55['length']]=_0x217442;return _0x3c3b55;},_0x152a34(_0x401aaa);};return function(_0x2295f2){const _0x304f88=a680_0x40af;if(_0x2295f2&&_0x2295f2[_0x304f88(0x1f4)])return _0x2295f2;var _0x50f5e4={};if(_0x2295f2!=null){for(var _0x10b0fd=_0x152a34(_0x2295f2),_0x55ba23=0x0;_0x55ba23<_0x10b0fd[_0x304f88(0x1ec)];_0x55ba23++)if(_0x10b0fd[_0x55ba23]!=='default')__createBinding(_0x50f5e4,_0x2295f2,_0x10b0fd[_0x55ba23]);}return __setModuleDefault(_0x50f5e4,_0x2295f2),_0x50f5e4;};}()),__importDefault=this&&this[a680_0x39cae2(0x1f3)]||function(_0x37fe69){const _0x1a806f=a680_0x39cae2;return _0x37fe69&&_0x37fe69[_0x1a806f(0x1f4)]?_0x37fe69:{'default':_0x37fe69};};Object[a680_0x39cae2(0x1f0)](exports,a680_0x39cae2(0x1f4),{'value':!![]});const Yup=__importStar(require(a680_0x39cae2(0x1ca))),AppError_1=__importDefault(require(a680_0x39cae2(0x1e6))),ShowUserService_1=__importDefault(require(a680_0x39cae2(0x1cd))),Company_1=__importDefault(require(a680_0x39cae2(0x1da))),User_1=__importDefault(require(a680_0x39cae2(0x1f8))),UpdateUserService=async({userData:_0x2fe425,userId:_0xdfc5b2,requestUserId:_0x4a90ae})=>{const _0x2e0330=a680_0x39cae2,_0x48f0b0=await(0x0,ShowUserService_1['default'])(_0xdfc5b2,_0x4a90ae),_0x1faa16=await User_1[_0x2e0330(0x1cf)][_0x2e0330(0x1d1)](_0x4a90ae);if(!_0x1faa16[_0x2e0330(0x1f1)]&&+_0xdfc5b2!==_0x1faa16['id']&&(_0x48f0b0[_0x2e0330(0x1d2)]!==_0x1faa16['companyId']||_0x1faa16[_0x2e0330(0x1d4)]!==_0x2e0330(0x1ee)))throw new AppError_1['default'](_0x2e0330(0x1eb),0x193);const _0x364071=Yup['object']()[_0x2e0330(0x1fa)]({'name':Yup['string']()[_0x2e0330(0x1dd)](0x2),'email':Yup['string']()[_0x2e0330(0x1d7)](),'profile':Yup['string'](),'password':Yup[_0x2e0330(0x1df)]()}),{email:_0x5ab927,password:_0x384f15,profile:_0x49fc3e,name:_0x463959,queueIds:queueIds=[],isTricked:_0x1c10b9,spy:_0xcb0b26,allTicket:_0x5b05b4,whatsappId:_0x4308b1,startWork:_0x1e0159,endWork:_0x51c72f,allowedWeekDays:_0xea7ce9,defaultMenu:_0x11981b,super:_0x3e795e}=_0x2fe425;try{await _0x364071[_0x2e0330(0x1d6)]({'email':_0x5ab927,'password':_0x384f15,'profile':_0x49fc3e,'name':_0x463959});}catch(_0x14cc81){throw new AppError_1['default'](_0x14cc81[_0x2e0330(0x1db)]);}if(_0x1faa16[_0x2e0330(0x1d4)]===_0x2e0330(0x1ee)||_0x1faa16[_0x2e0330(0x1f1)]){console[_0x2e0330(0x1fe)](_0x2e0330(0x200)),console[_0x2e0330(0x1fe)](_0x2e0330(0x1e7),_0xea7ce9),console['log'](_0x2e0330(0x1e3),typeof _0xea7ce9),console[_0x2e0330(0x1fe)]('whatsappId\x20recebido:',_0x4308b1),console[_0x2e0330(0x1fe)](_0x2e0330(0x1ce),typeof _0x4308b1);let _0x19d910=null;_0x4308b1&&_0x4308b1!==''&&(_0x19d910=typeof _0x4308b1==='string'?parseInt(_0x4308b1):_0x4308b1),await _0x48f0b0[_0x2e0330(0x1ed)]({'email':_0x5ab927,'password':_0x384f15,'profile':_0x49fc3e,'name':_0x463959,'isTricked':_0x1c10b9,'spy':_0xcb0b26,'allTicket':_0x5b05b4,'whatsappId':_0x19d910,'startWork':_0x1e0159,'endWork':_0x51c72f,'allowedWeekDays':_0xea7ce9,'defaultMenu':_0x11981b}),console[_0x2e0330(0x1fe)]('allowedWeekDays\x20ap√≥s\x20salvar:',_0x48f0b0[_0x2e0330(0x1fd)]),await _0x48f0b0['$set']('queues',queueIds),_0x1faa16['super']&&_0x3e795e!==undefined&&await _0x48f0b0[_0x2e0330(0x1ed)]({'super':_0x3e795e});}else await _0x48f0b0[_0x2e0330(0x1ed)]({'email':_0x5ab927,'password':_0x384f15,'name':_0x463959});await _0x48f0b0[_0x2e0330(0x1cb)]();const _0x59c5d4=await Company_1[_0x2e0330(0x1cf)][_0x2e0330(0x1d1)](_0x48f0b0['companyId']),_0x1f4b74={'id':_0x48f0b0['id'],'name':_0x48f0b0[_0x2e0330(0x1e8)],'email':_0x48f0b0[_0x2e0330(0x1d7)],'profile':_0x48f0b0['profile'],'companyId':_0x48f0b0[_0x2e0330(0x1d2)],'company':_0x59c5d4,'queues':_0x48f0b0['queues']};return _0x1f4b74;};exports[a680_0x39cae2(0x1cf)]=UpdateUserService;