'use strict';const a681_0x33d981=a681_0x2f8a;function a681_0x2f8a(_0x4c8da0,_0x1bb4cb){const _0x2f867c=a681_0x2fb9();return a681_0x2f8a=function(_0x520bdb,_0xd69d8){_0x520bdb=_0x520bdb-0x96;let _0x2fb9b4=_0x2f867c[_0x520bdb];return _0x2fb9b4;},a681_0x2f8a(_0x4c8da0,_0x1bb4cb);}(function(_0x1e632a,_0x30fd9f){const _0x530fa2=a681_0x2f8a,_0x5de690=_0x1e632a();while(!![]){try{const _0x3cb1e5=parseInt(_0x530fa2(0xb5))/0x1*(parseInt(_0x530fa2(0x96))/0x2)+parseInt(_0x530fa2(0xa2))/0x3+-parseInt(_0x530fa2(0xb0))/0x4*(-parseInt(_0x530fa2(0xa9))/0x5)+parseInt(_0x530fa2(0xac))/0x6*(parseInt(_0x530fa2(0xbe))/0x7)+-parseInt(_0x530fa2(0x9a))/0x8*(parseInt(_0x530fa2(0x9c))/0x9)+parseInt(_0x530fa2(0xc2))/0xa+-parseInt(_0x530fa2(0xa6))/0xb*(parseInt(_0x530fa2(0x9e))/0xc);if(_0x3cb1e5===_0x30fd9f)break;else _0x5de690['push'](_0x5de690['shift']());}catch(_0x1f2a33){_0x5de690['push'](_0x5de690['shift']());}}}(a681_0x2fb9,0x56c4f));var __createBinding=this&&this['__createBinding']||(Object[a681_0x33d981(0xa1)]?function(_0x24cf42,_0x5e7695,_0x1ef204,_0x2d4d54){const _0x16b819=a681_0x33d981;if(_0x2d4d54===undefined)_0x2d4d54=_0x1ef204;var _0x14c880=Object[_0x16b819(0xa7)](_0x5e7695,_0x1ef204);(!_0x14c880||(_0x16b819(0xb6)in _0x14c880?!_0x5e7695[_0x16b819(0xae)]:_0x14c880['writable']||_0x14c880['configurable']))&&(_0x14c880={'enumerable':!![],'get':function(){return _0x5e7695[_0x1ef204];}}),Object[_0x16b819(0xcc)](_0x24cf42,_0x2d4d54,_0x14c880);}:function(_0x4f077,_0x56ef7d,_0x3f78c2,_0x5e191f){if(_0x5e191f===undefined)_0x5e191f=_0x3f78c2;_0x4f077[_0x5e191f]=_0x56ef7d[_0x3f78c2];}),__setModuleDefault=this&&this[a681_0x33d981(0xb9)]||(Object[a681_0x33d981(0xa1)]?function(_0x1c990d,_0x9b171a){const _0x590b25=a681_0x33d981;Object[_0x590b25(0xcc)](_0x1c990d,_0x590b25(0xc8),{'enumerable':!![],'value':_0x9b171a});}:function(_0x36fb7b,_0x3b419d){const _0x366d2a=a681_0x33d981;_0x36fb7b[_0x366d2a(0xc8)]=_0x3b419d;}),__importStar=this&&this[a681_0x33d981(0xc7)]||(function(){const _0x472524=(function(){let _0xc1b760=!![];return function(_0x44fbeb,_0x44f00b){const _0x1890d7=_0xc1b760?function(){if(_0x44f00b){const _0x117abd=_0x44f00b['apply'](_0x44fbeb,arguments);return _0x44f00b=null,_0x117abd;}}:function(){};return _0xc1b760=![],_0x1890d7;};}()),_0x5f1d7b=_0x472524(this,function(){const _0x4fb59d=a681_0x2f8a;return _0x5f1d7b[_0x4fb59d(0xc0)]()['search']('(((.+)+)+)+$')[_0x4fb59d(0xc0)]()[_0x4fb59d(0xaf)](_0x5f1d7b)['search'](_0x4fb59d(0xb4));});_0x5f1d7b();var _0x3c402c=function(_0x180cc2){const _0x49e230=a681_0x2f8a;return _0x3c402c=Object[_0x49e230(0xab)]||function(_0x58ea3e){const _0x34687e=_0x49e230;var _0x2c87a4=[];for(var _0x55ae51 in _0x58ea3e)if(Object[_0x34687e(0xa5)][_0x34687e(0xc1)]['call'](_0x58ea3e,_0x55ae51))_0x2c87a4[_0x2c87a4['length']]=_0x55ae51;return _0x2c87a4;},_0x3c402c(_0x180cc2);};return function(_0x507466){const _0x23d50b=a681_0x2f8a;if(_0x507466&&_0x507466[_0x23d50b(0xae)])return _0x507466;var _0x36071b={};if(_0x507466!=null){for(var _0x4c22b7=_0x3c402c(_0x507466),_0xf3ffbd=0x0;_0xf3ffbd<_0x4c22b7['length'];_0xf3ffbd++)if(_0x4c22b7[_0xf3ffbd]!==_0x23d50b(0xc8))__createBinding(_0x36071b,_0x507466,_0x4c22b7[_0xf3ffbd]);}return __setModuleDefault(_0x36071b,_0x507466),_0x36071b;};}()),__importDefault=this&&this[a681_0x33d981(0xb2)]||function(_0x3266b1){const _0x42c7a9=a681_0x33d981;return _0x3266b1&&_0x3266b1[_0x42c7a9(0xae)]?_0x3266b1:{'default':_0x3266b1};};Object[a681_0x33d981(0xcc)](exports,a681_0x33d981(0xae),{'value':!![]});const Yup=__importStar(require(a681_0x33d981(0x97))),AppError_1=__importDefault(require(a681_0x33d981(0xb1))),ShowUserService_1=__importDefault(require(a681_0x33d981(0xb8))),Company_1=__importDefault(require(a681_0x33d981(0xc6))),User_1=__importDefault(require(a681_0x33d981(0xa8))),UpdateUserService=async({userData:_0x4a5204,userId:_0x15b134,requestUserId:_0x254d75})=>{const _0x4f4107=a681_0x33d981,_0x4ad73c=await(0x0,ShowUserService_1['default'])(_0x15b134,_0x254d75),_0x37d850=await User_1['default'][_0x4f4107(0xba)](_0x254d75);if(!_0x37d850[_0x4f4107(0xc3)]&&+_0x15b134!==_0x37d850['id']&&(_0x4ad73c[_0x4f4107(0xbd)]!==_0x37d850[_0x4f4107(0xbd)]||_0x37d850[_0x4f4107(0xb3)]!==_0x4f4107(0xc4)))throw new AppError_1[(_0x4f4107(0xc8))](_0x4f4107(0xb7),0x193);const _0x3189fd=Yup[_0x4f4107(0xad)]()[_0x4f4107(0xcb)]({'name':Yup[_0x4f4107(0xbc)]()[_0x4f4107(0x9f)](0x2),'email':Yup[_0x4f4107(0xbc)]()['email'](),'profile':Yup[_0x4f4107(0xbc)](),'password':Yup[_0x4f4107(0xbc)]()}),{email:_0x2dbfdc,password:_0x43a6fc,profile:_0x5ec6f1,name:_0x248663,queueIds:queueIds=[],isTricked:_0x580d1f,spy:_0x1c87d4,allTicket:_0x2d0762,whatsappId:_0x61f338,startWork:_0x48d802,endWork:_0x47f6a5,allowedWeekDays:_0x5d72ee,defaultMenu:_0x2f3d68,super:_0x675ef5}=_0x4a5204;try{await _0x3189fd[_0x4f4107(0xbb)]({'email':_0x2dbfdc,'password':_0x43a6fc,'profile':_0x5ec6f1,'name':_0x248663});}catch(_0x486934){throw new AppError_1[(_0x4f4107(0xc8))](_0x486934[_0x4f4107(0x9d)]);}if(_0x37d850[_0x4f4107(0xb3)]===_0x4f4107(0xc4)||_0x37d850[_0x4f4107(0xc3)]){console[_0x4f4107(0x98)](_0x4f4107(0xa3)),console['log'](_0x4f4107(0xc5),_0x5d72ee),console['log'](_0x4f4107(0xa0),typeof _0x5d72ee),console['log'](_0x4f4107(0xbf),_0x61f338),console['log'](_0x4f4107(0xc9),typeof _0x61f338);let _0x51974b=null;_0x61f338&&_0x61f338!==''&&(_0x51974b=typeof _0x61f338==='string'?parseInt(_0x61f338):_0x61f338),await _0x4ad73c['update']({'email':_0x2dbfdc,'password':_0x43a6fc,'profile':_0x5ec6f1,'name':_0x248663,'isTricked':_0x580d1f,'spy':_0x1c87d4,'allTicket':_0x2d0762,'whatsappId':_0x51974b,'startWork':_0x48d802,'endWork':_0x47f6a5,'allowedWeekDays':_0x5d72ee,'defaultMenu':_0x2f3d68}),console[_0x4f4107(0x98)]('allowedWeekDays\x20ap√≥s\x20salvar:',_0x4ad73c[_0x4f4107(0x9b)]),await _0x4ad73c[_0x4f4107(0xaa)](_0x4f4107(0xca),queueIds),_0x37d850[_0x4f4107(0xc3)]&&_0x675ef5!==undefined&&await _0x4ad73c[_0x4f4107(0x99)]({'super':_0x675ef5});}else await _0x4ad73c['update']({'email':_0x2dbfdc,'password':_0x43a6fc,'name':_0x248663});await _0x4ad73c['reload']();const _0x198c0f=await Company_1['default'][_0x4f4107(0xba)](_0x4ad73c['companyId']),_0x4bd88c={'id':_0x4ad73c['id'],'name':_0x4ad73c['name'],'email':_0x4ad73c[_0x4f4107(0xa4)],'profile':_0x4ad73c[_0x4f4107(0xb3)],'companyId':_0x4ad73c[_0x4f4107(0xbd)],'company':_0x198c0f,'queues':_0x4ad73c[_0x4f4107(0xca)]};return _0x4bd88c;};function a681_0x2fb9(){const _0x429a8f=['constructor','64jBltvy','../../errors/AppError','__importDefault','profile','(((.+)+)+)+$','19rCgqKq','get','ERR_FORBIDDEN','./ShowUserService','__setModuleDefault','findByPk','validate','string','companyId','322DxvILe','whatsappId\x20recebido:','toString','hasOwnProperty','3522500BxfIpx','super','admin','allowedWeekDays\x20recebido:','../../models/Company','__importStar','default','Tipo\x20whatsappId:','queues','shape','defineProperty','12392ucVBdU','yup','log','update','3910552joftMN','allowedWeekDays','9dGFjLO','message','24mTlNHM','min','Tipo:','create','1318488OrAAlv','===\x20UPDATE\x20USER\x20===','email','prototype','3207259sgxlGl','getOwnPropertyDescriptor','../../models/User','88975HHlyfr','$set','getOwnPropertyNames','30414FoXfDS','object','__esModule'];a681_0x2fb9=function(){return _0x429a8f;};return a681_0x2fb9();}exports['default']=UpdateUserService;