'use strict';function a571_0x2b9b(_0x206a9c,_0x717a55){const _0x285577=a571_0x2de8();return a571_0x2b9b=function(_0x569391,_0x21e0b3){_0x569391=_0x569391-0x112;let _0x2de851=_0x285577[_0x569391];return _0x2de851;},a571_0x2b9b(_0x206a9c,_0x717a55);}const a571_0x3d563d=a571_0x2b9b;(function(_0x56a40a,_0x4f1ef7){const _0x25f2b8=a571_0x2b9b,_0x3e488d=_0x56a40a();while(!![]){try{const _0x145c6c=parseInt(_0x25f2b8(0x12d))/0x1+parseInt(_0x25f2b8(0x11b))/0x2+parseInt(_0x25f2b8(0x128))/0x3*(parseInt(_0x25f2b8(0x113))/0x4)+-parseInt(_0x25f2b8(0x112))/0x5*(-parseInt(_0x25f2b8(0x132))/0x6)+parseInt(_0x25f2b8(0x136))/0x7*(-parseInt(_0x25f2b8(0x127))/0x8)+-parseInt(_0x25f2b8(0x124))/0x9+-parseInt(_0x25f2b8(0x116))/0xa;if(_0x145c6c===_0x4f1ef7)break;else _0x3e488d['push'](_0x3e488d['shift']());}catch(_0x593a3e){_0x3e488d['push'](_0x3e488d['shift']());}}}(a571_0x2de8,0xdacc3));var __createBinding=this&&this[a571_0x3d563d(0x12c)]||(Object[a571_0x3d563d(0x11d)]?function(_0x3d16d2,_0x41f946,_0x35814e,_0x4b68f){const _0x492591=a571_0x3d563d;if(_0x4b68f===undefined)_0x4b68f=_0x35814e;var _0x53fff5=Object[_0x492591(0x114)](_0x41f946,_0x35814e);(!_0x53fff5||('get'in _0x53fff5?!_0x41f946[_0x492591(0x11c)]:_0x53fff5[_0x492591(0x13c)]||_0x53fff5['configurable']))&&(_0x53fff5={'enumerable':!![],'get':function(){return _0x41f946[_0x35814e];}}),Object[_0x492591(0x134)](_0x3d16d2,_0x4b68f,_0x53fff5);}:function(_0x1fd1ab,_0x2f7450,_0x30581f,_0xe8b8a){if(_0xe8b8a===undefined)_0xe8b8a=_0x30581f;_0x1fd1ab[_0xe8b8a]=_0x2f7450[_0x30581f];}),__setModuleDefault=this&&this[a571_0x3d563d(0x117)]||(Object[a571_0x3d563d(0x11d)]?function(_0x4784d,_0xae65f6){const _0x4d2425=a571_0x3d563d;Object['defineProperty'](_0x4784d,_0x4d2425(0x123),{'enumerable':!![],'value':_0xae65f6});}:function(_0x329b00,_0x4f808e){const _0x644e6a=a571_0x3d563d;_0x329b00[_0x644e6a(0x123)]=_0x4f808e;}),__importStar=this&&this[a571_0x3d563d(0x13e)]||(function(){const _0x28ffe3=(function(){let _0xbf6a36=!![];return function(_0x412139,_0x1db66a){const _0x5a4366=_0xbf6a36?function(){const _0x4a7164=a571_0x2b9b;if(_0x1db66a){const _0x428212=_0x1db66a[_0x4a7164(0x122)](_0x412139,arguments);return _0x1db66a=null,_0x428212;}}:function(){};return _0xbf6a36=![],_0x5a4366;};}()),_0x4230e9=_0x28ffe3(this,function(){const _0x494616=a571_0x2b9b;return _0x4230e9['toString']()[_0x494616(0x13a)](_0x494616(0x130))['toString']()[_0x494616(0x120)](_0x4230e9)[_0x494616(0x13a)]('(((.+)+)+)+$');});_0x4230e9();var _0x1b578e=function(_0x524214){const _0x40a123=a571_0x2b9b;return _0x1b578e=Object[_0x40a123(0x12e)]||function(_0x3f1471){const _0x583c5b=_0x40a123;var _0x3da00a=[];for(var _0x2eaa26 in _0x3f1471)if(Object[_0x583c5b(0x11f)][_0x583c5b(0x121)][_0x583c5b(0x11e)](_0x3f1471,_0x2eaa26))_0x3da00a[_0x3da00a[_0x583c5b(0x115)]]=_0x2eaa26;return _0x3da00a;},_0x1b578e(_0x524214);};return function(_0x3c97b9){const _0x4b8685=a571_0x2b9b;if(_0x3c97b9&&_0x3c97b9[_0x4b8685(0x11c)])return _0x3c97b9;var _0x4d2bdd={};if(_0x3c97b9!=null){for(var _0x5a398f=_0x1b578e(_0x3c97b9),_0x5b3a7a=0x0;_0x5b3a7a<_0x5a398f[_0x4b8685(0x115)];_0x5b3a7a++)if(_0x5a398f[_0x5b3a7a]!==_0x4b8685(0x123))__createBinding(_0x4d2bdd,_0x3c97b9,_0x5a398f[_0x5b3a7a]);}return __setModuleDefault(_0x4d2bdd,_0x3c97b9),_0x4d2bdd;};}()),__importDefault=this&&this['__importDefault']||function(_0x33d51f){const _0x8235b1=a571_0x3d563d;return _0x33d51f&&_0x33d51f[_0x8235b1(0x11c)]?_0x33d51f:{'default':_0x33d51f};};Object[a571_0x3d563d(0x134)](exports,a571_0x3d563d(0x11c),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a571_0x3d563d(0x12f))),ShowUserService_1=__importDefault(require(a571_0x3d563d(0x142))),Company_1=__importDefault(require(a571_0x3d563d(0x118))),User_1=__importDefault(require(a571_0x3d563d(0x12b))),UpdateUserService=async({userData:_0x21bca5,userId:_0x2fa08f,requestUserId:_0x4cfda1})=>{const _0x370219=a571_0x3d563d,_0x4bf23e=await(0x0,ShowUserService_1['default'])(_0x2fa08f,_0x4cfda1),_0x34c613=await User_1[_0x370219(0x123)][_0x370219(0x135)](_0x4cfda1);if(!_0x34c613[_0x370219(0x133)]&&+_0x2fa08f!==_0x34c613['id']&&(_0x4bf23e[_0x370219(0x125)]!==_0x34c613[_0x370219(0x125)]||_0x34c613['profile']!==_0x370219(0x131)))throw new AppError_1['default'](_0x370219(0x12a),0x193);const _0x5c77ad=Yup[_0x370219(0x11a)]()[_0x370219(0x13d)]({'name':Yup[_0x370219(0x137)]()[_0x370219(0x129)](0x2),'email':Yup[_0x370219(0x137)]()[_0x370219(0x139)](),'profile':Yup[_0x370219(0x137)](),'password':Yup['string']()}),{email:_0x1fa473,password:_0x387ebc,profile:_0x5a1776,name:_0x478a0c,queueIds:queueIds=[]}=_0x21bca5;try{await _0x5c77ad[_0x370219(0x119)]({'email':_0x1fa473,'password':_0x387ebc,'profile':_0x5a1776,'name':_0x478a0c});}catch(_0x142811){throw new AppError_1[(_0x370219(0x123))](_0x142811[_0x370219(0x140)]);}_0x34c613[_0x370219(0x13f)]===_0x370219(0x131)?(await _0x4bf23e[_0x370219(0x126)]({'email':_0x1fa473,'password':_0x387ebc,'profile':_0x5a1776,'name':_0x478a0c}),await _0x4bf23e[_0x370219(0x13b)]('queues',queueIds)):await _0x4bf23e['update']({'email':_0x1fa473,'password':_0x387ebc,'name':_0x478a0c});await _0x4bf23e['reload']();const _0x3d2cd3=await Company_1[_0x370219(0x123)][_0x370219(0x135)](_0x4bf23e[_0x370219(0x125)]),_0x5e48d6={'id':_0x4bf23e['id'],'name':_0x4bf23e[_0x370219(0x138)],'email':_0x4bf23e[_0x370219(0x139)],'profile':_0x4bf23e[_0x370219(0x13f)],'companyId':_0x4bf23e[_0x370219(0x125)],'company':_0x3d2cd3,'queues':_0x4bf23e[_0x370219(0x141)]};return _0x5e48d6;};exports[a571_0x3d563d(0x123)]=UpdateUserService;function a571_0x2de8(){const _0x196159=['../../models/User','__createBinding','774358xXzRZq','getOwnPropertyNames','../../errors/AppError','(((.+)+)+)+$','admin','3745542uaYdif','super','defineProperty','findByPk','7zrBjgM','string','name','email','search','$set','writable','shape','__importStar','profile','message','queues','./ShowUserService','5CzdlGQ','3647224QRsuMy','getOwnPropertyDescriptor','length','9941200riqNes','__setModuleDefault','../../models/Company','validate','object','2437070zNdHCr','__esModule','create','call','prototype','constructor','hasOwnProperty','apply','default','5445360ujKihr','companyId','update','8268808PZxVHc','3OrPIGd','min','ERR_FORBIDDEN'];a571_0x2de8=function(){return _0x196159;};return a571_0x2de8();}