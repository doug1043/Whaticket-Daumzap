const a540_0x54976a=a540_0x5952;function a540_0x5952(_0x838443,_0x47242d){const _0x426566=a540_0x1cb0();return a540_0x5952=function(_0x11b7cd,_0x24a66e){_0x11b7cd=_0x11b7cd-0xa1;let _0x1cb0c0=_0x426566[_0x11b7cd];return _0x1cb0c0;},a540_0x5952(_0x838443,_0x47242d);}(function(_0x60c9ca,_0x174db4){const _0x411016=a540_0x5952,_0xfe8384=_0x60c9ca();while(!![]){try{const _0x2cf50b=-parseInt(_0x411016(0xd1))/0x1*(-parseInt(_0x411016(0xb3))/0x2)+parseInt(_0x411016(0xce))/0x3+parseInt(_0x411016(0xbc))/0x4+parseInt(_0x411016(0xc0))/0x5+-parseInt(_0x411016(0xcf))/0x6+parseInt(_0x411016(0xbf))/0x7*(parseInt(_0x411016(0xc2))/0x8)+-parseInt(_0x411016(0xa1))/0x9;if(_0x2cf50b===_0x174db4)break;else _0xfe8384['push'](_0xfe8384['shift']());}catch(_0x3a5cde){_0xfe8384['push'](_0xfe8384['shift']());}}}(a540_0x1cb0,0x1eb9a));const a540_0x24a66e=(function(){let _0x1c3832=!![];return function(_0x15f812,_0x2e55ce){const _0x3e887a=_0x1c3832?function(){const _0x41a006=a540_0x5952;if(_0x2e55ce){const _0x576bdc=_0x2e55ce[_0x41a006(0xc3)](_0x15f812,arguments);return _0x2e55ce=null,_0x576bdc;}}:function(){};return _0x1c3832=![],_0x3e887a;};}()),a540_0x11b7cd=a540_0x24a66e(this,function(){const _0x289bdb=a540_0x5952;return a540_0x11b7cd[_0x289bdb(0xc6)]()[_0x289bdb(0xb7)](_0x289bdb(0xb2))[_0x289bdb(0xc6)]()['constructor'](a540_0x11b7cd)['search'](_0x289bdb(0xb2));});a540_0x11b7cd();'use strict';var __createBinding=this&&this[a540_0x54976a(0xc5)]||(Object[a540_0x54976a(0xab)]?function(_0x374334,_0x1e3be4,_0x147313,_0xa24cfd){const _0xa0c8ba=a540_0x54976a;if(_0xa24cfd===undefined)_0xa24cfd=_0x147313;var _0x540fd1=Object[_0xa0c8ba(0xb8)](_0x1e3be4,_0x147313);(!_0x540fd1||(_0xa0c8ba(0xbb)in _0x540fd1?!_0x1e3be4[_0xa0c8ba(0xaa)]:_0x540fd1['writable']||_0x540fd1[_0xa0c8ba(0xae)]))&&(_0x540fd1={'enumerable':!![],'get':function(){return _0x1e3be4[_0x147313];}}),Object[_0xa0c8ba(0xc7)](_0x374334,_0xa24cfd,_0x540fd1);}:function(_0x290ca1,_0x1bef2b,_0x58230c,_0x1f930a){if(_0x1f930a===undefined)_0x1f930a=_0x58230c;_0x290ca1[_0x1f930a]=_0x1bef2b[_0x58230c];}),__setModuleDefault=this&&this[a540_0x54976a(0xb4)]||(Object[a540_0x54976a(0xab)]?function(_0x170ce0,_0x5db341){const _0x235be1=a540_0x54976a;Object[_0x235be1(0xc7)](_0x170ce0,_0x235be1(0xc4),{'enumerable':!![],'value':_0x5db341});}:function(_0x2c644e,_0x530da8){const _0x2528d0=a540_0x54976a;_0x2c644e[_0x2528d0(0xc4)]=_0x530da8;}),__importStar=this&&this[a540_0x54976a(0xba)]||function(_0xe43d6e){const _0x1216da=a540_0x54976a;if(_0xe43d6e&&_0xe43d6e[_0x1216da(0xaa)])return _0xe43d6e;var _0x4efe89={};if(_0xe43d6e!=null){for(var _0xb80868 in _0xe43d6e)if(_0xb80868!==_0x1216da(0xc4)&&Object[_0x1216da(0xd0)]['hasOwnProperty'][_0x1216da(0xa8)](_0xe43d6e,_0xb80868))__createBinding(_0x4efe89,_0xe43d6e,_0xb80868);}return __setModuleDefault(_0x4efe89,_0xe43d6e),_0x4efe89;},__importDefault=this&&this[a540_0x54976a(0xac)]||function(_0x1e314a){const _0x54cfc0=a540_0x54976a;return _0x1e314a&&_0x1e314a[_0x54cfc0(0xaa)]?_0x1e314a:{'default':_0x1e314a};};Object['defineProperty'](exports,a540_0x54976a(0xaa),{'value':!![]});function a540_0x1cb0(){const _0x23923c=['../../models/Company','__importStar','get','95116VWuWbN','incrementTokenVersion','email','7lOLFok','1179925couHfv','super','47288dKtRSC','apply','default','__createBinding','toString','defineProperty','ERR_FORBIDDEN','string','reload','boolean','update','yup','216120jtkbOr','776424sPFNOC','prototype','2203EiHHLS','999900nIuXKX','./ShowUserService','findByPk','shape','../../errors/AppError','admin','validate','call','profile','__esModule','create','__importDefault','save','configurable','queues','../../models/User','companyId','(((.+)+)+)+$','26MrIIUu','__setModuleDefault','message','min','search','getOwnPropertyDescriptor'];a540_0x1cb0=function(){return _0x23923c;};return a540_0x1cb0();}const Yup=__importStar(require(a540_0x54976a(0xcd))),AppError_1=__importDefault(require(a540_0x54976a(0xa5))),ShowUserService_1=__importDefault(require(a540_0x54976a(0xa2))),Company_1=__importDefault(require(a540_0x54976a(0xb9))),User_1=__importDefault(require(a540_0x54976a(0xb0))),UpdateUserService=async({userData:_0x5da4f4,userId:_0x4447e4,requestUserId:_0x104444})=>{const _0x2d3697=a540_0x54976a,_0x105474=await(0x0,ShowUserService_1[_0x2d3697(0xc4)])(_0x4447e4,_0x104444),_0x115b61=await User_1['default'][_0x2d3697(0xa3)](_0x104444);if(_0x115b61[_0x2d3697(0xc1)]===![]&&_0x5da4f4[_0x2d3697(0xb1)]!==_0x115b61[_0x2d3697(0xb1)]||_0x115b61['profile']!==_0x2d3697(0xa6)&&+_0x4447e4!==_0x115b61['id'])throw new AppError_1[(_0x2d3697(0xc4))](_0x2d3697(0xc8),0x193);const _0x5dcfd2=Yup['object']()[_0x2d3697(0xa4)]({'name':Yup['string']()[_0x2d3697(0xb6)](0x2),'email':Yup[_0x2d3697(0xc9)]()[_0x2d3697(0xbe)](),'profile':Yup[_0x2d3697(0xc9)](),'password':Yup['string'](),'super':Yup[_0x2d3697(0xcb)]()}),{email:_0x5751d0,password:_0x565168,profile:_0x2a3560,name:_0x3fac94,queueIds:queueIds=[],allTicket:_0x470ca6,whatsappId:_0x2d6a9f,startWork:_0x1d8983,endWork:_0xd081fc,spy:_0x2d8094,isTricked:_0x24b08a,super:_0x367130,defaultMenu:_0x21257e}=_0x5da4f4;try{await _0x5dcfd2[_0x2d3697(0xa7)]({'email':_0x5751d0,'password':_0x565168,'profile':_0x2a3560,'name':_0x3fac94,'super':_0x367130});}catch(_0x230492){throw new AppError_1[(_0x2d3697(0xc4))](_0x230492[_0x2d3697(0xb5)]);}await _0x105474[_0x2d3697(0xcc)]({'email':_0x5751d0,'password':_0x565168,'profile':_0x2a3560,'name':_0x3fac94,'allTicket':_0x470ca6,'whatsappId':_0x2d6a9f||null,'startWork':_0x1d8983,'endWork':_0xd081fc,'spy':_0x2d8094,'isTricked':_0x24b08a,'super':_0x367130,'defaultMenu':_0x21257e}),await _0x105474['$set'](_0x2d3697(0xaf),queueIds),await _0x105474[_0x2d3697(0xbd)](),await _0x105474[_0x2d3697(0xad)](),await _0x105474[_0x2d3697(0xca)]();const _0x9de46e=await Company_1[_0x2d3697(0xc4)]['findByPk'](_0x105474[_0x2d3697(0xb1)]),_0x28b4fb={'id':_0x105474['id'],'name':_0x105474['name'],'email':_0x105474[_0x2d3697(0xbe)],'profile':_0x105474[_0x2d3697(0xa9)],'companyId':_0x105474[_0x2d3697(0xb1)],'company':_0x9de46e,'queues':_0x105474[_0x2d3697(0xaf)]};return _0x28b4fb;};exports['default']=UpdateUserService;