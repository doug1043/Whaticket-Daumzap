'use strict';const a679_0x5d3241=a679_0xcb1f;(function(_0xbe5869,_0x3c68a7){const _0x540c4c=a679_0xcb1f,_0x2a65c3=_0xbe5869();while(!![]){try{const _0x15f017=-parseInt(_0x540c4c(0xc5))/0x1+parseInt(_0x540c4c(0xb1))/0x2*(-parseInt(_0x540c4c(0xa7))/0x3)+-parseInt(_0x540c4c(0xa9))/0x4+parseInt(_0x540c4c(0x9c))/0x5+parseInt(_0x540c4c(0xc1))/0x6+-parseInt(_0x540c4c(0xc3))/0x7+parseInt(_0x540c4c(0xaa))/0x8;if(_0x15f017===_0x3c68a7)break;else _0x2a65c3['push'](_0x2a65c3['shift']());}catch(_0x1f3aec){_0x2a65c3['push'](_0x2a65c3['shift']());}}}(a679_0x4620,0xe6cdd));var __createBinding=this&&this[a679_0x5d3241(0xbb)]||(Object[a679_0x5d3241(0xa0)]?function(_0x54d953,_0x48a76d,_0xc42ab6,_0x2957c4){const _0x42906a=a679_0x5d3241;if(_0x2957c4===undefined)_0x2957c4=_0xc42ab6;var _0x2274d4=Object[_0x42906a(0xa1)](_0x48a76d,_0xc42ab6);(!_0x2274d4||('get'in _0x2274d4?!_0x48a76d[_0x42906a(0xa5)]:_0x2274d4[_0x42906a(0x9a)]||_0x2274d4[_0x42906a(0x9d)]))&&(_0x2274d4={'enumerable':!![],'get':function(){return _0x48a76d[_0xc42ab6];}}),Object[_0x42906a(0xaf)](_0x54d953,_0x2957c4,_0x2274d4);}:function(_0x4f84e8,_0x4e2f85,_0x28fac5,_0x164883){if(_0x164883===undefined)_0x164883=_0x28fac5;_0x4f84e8[_0x164883]=_0x4e2f85[_0x28fac5];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a679_0x5d3241(0xa0)]?function(_0x1932e3,_0x150677){const _0x47ed41=a679_0x5d3241;Object[_0x47ed41(0xaf)](_0x1932e3,'default',{'enumerable':!![],'value':_0x150677});}:function(_0x4f4cd6,_0x24e2a7){_0x4f4cd6['default']=_0x24e2a7;}),__importStar=this&&this[a679_0x5d3241(0xa8)]||(function(){const _0xa1d62e=(function(){let _0x50b2d4=!![];return function(_0x28a949,_0x5e9798){const _0xbc9c39=_0x50b2d4?function(){const _0x51c487=a679_0xcb1f;if(_0x5e9798){const _0x404840=_0x5e9798[_0x51c487(0xc7)](_0x28a949,arguments);return _0x5e9798=null,_0x404840;}}:function(){};return _0x50b2d4=![],_0xbc9c39;};}()),_0x37fc70=_0xa1d62e(this,function(){const _0x4ae12f=a679_0xcb1f;return _0x37fc70[_0x4ae12f(0xa2)]()[_0x4ae12f(0xb2)](_0x4ae12f(0xb0))['toString']()['constructor'](_0x37fc70)['search'](_0x4ae12f(0xb0));});_0x37fc70();var _0x2a1403=function(_0x4373bc){const _0x51a714=a679_0xcb1f;return _0x2a1403=Object[_0x51a714(0xbe)]||function(_0x3f38ef){const _0x5229f4=_0x51a714;var _0x399b6e=[];for(var _0x2d140a in _0x3f38ef)if(Object[_0x5229f4(0xb9)][_0x5229f4(0xcb)]['call'](_0x3f38ef,_0x2d140a))_0x399b6e[_0x399b6e[_0x5229f4(0xb6)]]=_0x2d140a;return _0x399b6e;},_0x2a1403(_0x4373bc);};return function(_0xf8a552){const _0x4f6b6e=a679_0xcb1f;if(_0xf8a552&&_0xf8a552[_0x4f6b6e(0xa5)])return _0xf8a552;var _0x5e32ef={};if(_0xf8a552!=null){for(var _0x193f00=_0x2a1403(_0xf8a552),_0x3dfc45=0x0;_0x3dfc45<_0x193f00[_0x4f6b6e(0xb6)];_0x3dfc45++)if(_0x193f00[_0x3dfc45]!==_0x4f6b6e(0xc4))__createBinding(_0x5e32ef,_0xf8a552,_0x193f00[_0x3dfc45]);}return __setModuleDefault(_0x5e32ef,_0xf8a552),_0x5e32ef;};}()),__importDefault=this&&this[a679_0x5d3241(0x9b)]||function(_0x15be68){const _0x239b39=a679_0x5d3241;return _0x15be68&&_0x15be68[_0x239b39(0xa5)]?_0x15be68:{'default':_0x15be68};};Object[a679_0x5d3241(0xaf)](exports,a679_0x5d3241(0xa5),{'value':!![]});const Yup=__importStar(require(a679_0x5d3241(0xa3))),AppError_1=__importDefault(require(a679_0x5d3241(0xbf))),ShowUserService_1=__importDefault(require(a679_0x5d3241(0xb7))),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require('../../models/User')),UpdateUserService=async({userData:_0x4a6adf,userId:_0xa519a4,requestUserId:_0x3b4cf0})=>{const _0x4d4b0b=a679_0x5d3241,_0x33c897=await(0x0,ShowUserService_1[_0x4d4b0b(0xc4)])(_0xa519a4,_0x3b4cf0),_0x16f043=await User_1[_0x4d4b0b(0xc4)][_0x4d4b0b(0xc2)](_0x3b4cf0);if(!_0x16f043[_0x4d4b0b(0xa6)]&&+_0xa519a4!==_0x16f043['id']&&(_0x33c897[_0x4d4b0b(0xc8)]!==_0x16f043[_0x4d4b0b(0xc8)]||_0x16f043[_0x4d4b0b(0xad)]!==_0x4d4b0b(0xba)))throw new AppError_1[(_0x4d4b0b(0xc4))](_0x4d4b0b(0xab),0x193);const _0x4fce54=Yup[_0x4d4b0b(0xb3)]()[_0x4d4b0b(0xc0)]({'name':Yup[_0x4d4b0b(0xac)]()[_0x4d4b0b(0x9e)](0x2),'email':Yup[_0x4d4b0b(0xac)]()[_0x4d4b0b(0xc6)](),'profile':Yup[_0x4d4b0b(0xac)](),'password':Yup['string']()}),{email:_0x39f161,password:_0x318496,profile:_0x323efd,name:_0x20e648,queueIds:queueIds=[],isTricked:_0xb5c7a5,spy:_0x5d05b8,allTicket:_0x18eb77,whatsappId:_0x21358b,startWork:_0x1e879a,endWork:_0x42d024,allowedWeekDays:_0x626e00,defaultMenu:_0x58697c,super:_0x15c535}=_0x4a6adf;try{await _0x4fce54[_0x4d4b0b(0xb4)]({'email':_0x39f161,'password':_0x318496,'profile':_0x323efd,'name':_0x20e648});}catch(_0x3dab1a){throw new AppError_1[(_0x4d4b0b(0xc4))](_0x3dab1a[_0x4d4b0b(0xa4)]);}if(_0x16f043['profile']===_0x4d4b0b(0xba)||_0x16f043[_0x4d4b0b(0xa6)]){console[_0x4d4b0b(0xca)]('===\x20UPDATE\x20USER\x20==='),console[_0x4d4b0b(0xca)](_0x4d4b0b(0xc9),_0x626e00),console[_0x4d4b0b(0xca)]('Tipo:',typeof _0x626e00),console['log'](_0x4d4b0b(0xb8),_0x21358b),console[_0x4d4b0b(0xca)](_0x4d4b0b(0xae),typeof _0x21358b);let _0x2165bf=null;_0x21358b&&_0x21358b!==''&&(_0x2165bf=typeof _0x21358b===_0x4d4b0b(0xac)?parseInt(_0x21358b):_0x21358b),await _0x33c897[_0x4d4b0b(0xbc)]({'email':_0x39f161,'password':_0x318496,'profile':_0x323efd,'name':_0x20e648,'isTricked':_0xb5c7a5,'spy':_0x5d05b8,'allTicket':_0x18eb77,'whatsappId':_0x2165bf,'startWork':_0x1e879a,'endWork':_0x42d024,'allowedWeekDays':_0x626e00,'defaultMenu':_0x58697c}),console['log']('allowedWeekDays\x20ap√≥s\x20salvar:',_0x33c897[_0x4d4b0b(0xcc)]),await _0x33c897[_0x4d4b0b(0xb5)]('queues',queueIds),_0x16f043[_0x4d4b0b(0xa6)]&&_0x15c535!==undefined&&await _0x33c897[_0x4d4b0b(0xbc)]({'super':_0x15c535});}else await _0x33c897[_0x4d4b0b(0xbc)]({'email':_0x39f161,'password':_0x318496,'name':_0x20e648});await _0x33c897[_0x4d4b0b(0x9f)]();const _0x3eb6a4=await Company_1[_0x4d4b0b(0xc4)][_0x4d4b0b(0xc2)](_0x33c897[_0x4d4b0b(0xc8)]),_0x219356={'id':_0x33c897['id'],'name':_0x33c897['name'],'email':_0x33c897['email'],'profile':_0x33c897[_0x4d4b0b(0xad)],'companyId':_0x33c897[_0x4d4b0b(0xc8)],'company':_0x3eb6a4,'queues':_0x33c897[_0x4d4b0b(0xbd)]};return _0x219356;};exports[a679_0x5d3241(0xc4)]=UpdateUserService;function a679_0xcb1f(_0x16b252,_0x5bcccb){const _0x3432eb=a679_0x4620();return a679_0xcb1f=function(_0x1d5275,_0x2201ea){_0x1d5275=_0x1d5275-0x9a;let _0x462018=_0x3432eb[_0x1d5275];return _0x462018;},a679_0xcb1f(_0x16b252,_0x5bcccb);}function a679_0x4620(){const _0x230c4f=['../../errors/AppError','shape','11012112OkowhU','findByPk','4591762tILVkQ','default','1571302FKdCDv','email','apply','companyId','allowedWeekDays\x20recebido:','log','hasOwnProperty','allowedWeekDays','writable','__importDefault','8358080yYQPAy','configurable','min','reload','create','getOwnPropertyDescriptor','toString','yup','message','__esModule','super','18432DRYhoh','__importStar','6266632DuCmHY','22343256QQuUfi','ERR_FORBIDDEN','string','profile','Tipo\x20whatsappId:','defineProperty','(((.+)+)+)+$','508rsnuVf','search','object','validate','$set','length','./ShowUserService','whatsappId\x20recebido:','prototype','admin','__createBinding','update','queues','getOwnPropertyNames'];a679_0x4620=function(){return _0x230c4f;};return a679_0x4620();}