const a540_0x421dcf=a540_0x4ec1;(function(_0x3d3787,_0x54eddf){const _0x5b923c=a540_0x4ec1,_0x3a726a=_0x3d3787();while(!![]){try{const _0x2a5cf9=-parseInt(_0x5b923c(0x1a3))/0x1*(parseInt(_0x5b923c(0x1b8))/0x2)+-parseInt(_0x5b923c(0x1a1))/0x3*(-parseInt(_0x5b923c(0x1a2))/0x4)+-parseInt(_0x5b923c(0x1b2))/0x5+-parseInt(_0x5b923c(0x1bd))/0x6+parseInt(_0x5b923c(0x1ba))/0x7+-parseInt(_0x5b923c(0x1b4))/0x8*(-parseInt(_0x5b923c(0x1c1))/0x9)+-parseInt(_0x5b923c(0x1c2))/0xa;if(_0x2a5cf9===_0x54eddf)break;else _0x3a726a['push'](_0x3a726a['shift']());}catch(_0x41e0f9){_0x3a726a['push'](_0x3a726a['shift']());}}}(a540_0x1f65,0x8a473));const a540_0x48271e=(function(){let _0xa4985a=!![];return function(_0x32af77,_0x998656){const _0x3f8b46=_0xa4985a?function(){const _0x45f656=a540_0x4ec1;if(_0x998656){const _0x1d55d2=_0x998656[_0x45f656(0x1c0)](_0x32af77,arguments);return _0x998656=null,_0x1d55d2;}}:function(){};return _0xa4985a=![],_0x3f8b46;};}()),a540_0x33a12f=a540_0x48271e(this,function(){const _0x314c87=a540_0x4ec1;return a540_0x33a12f[_0x314c87(0x1c9)]()[_0x314c87(0x1b7)](_0x314c87(0x1ad))[_0x314c87(0x1c9)]()[_0x314c87(0x1be)](a540_0x33a12f)[_0x314c87(0x1b7)](_0x314c87(0x1ad));});a540_0x33a12f();'use strict';function a540_0x1f65(){const _0x26c67c=['12723090PpLAyO','get','queues','shape','__createBinding','__esModule','configurable','toString','writable','__setModuleDefault','defineProperty','../../models/Company','name','call','../../errors/AppError','3xttCqh','4363828uEqOjW','5606olsMpK','$set','findByPk','ERR_FORBIDDEN','incrementTokenVersion','string','update','object','validate','message','(((.+)+)+)+$','__importStar','save','default','create','1887950MPVHov','__importDefault','891152PBTqPO','profile','companyId','search','70zVMVan','getOwnPropertyDescriptor','5799318CXCZOu','./ShowUserService','admin','3056886BqqrOe','constructor','boolean','apply','81mASLbM'];a540_0x1f65=function(){return _0x26c67c;};return a540_0x1f65();}var __createBinding=this&&this[a540_0x421dcf(0x1c6)]||(Object['create']?function(_0x57adc7,_0x9c3926,_0x566225,_0x55f1eb){const _0x6ef509=a540_0x421dcf;if(_0x55f1eb===undefined)_0x55f1eb=_0x566225;var _0x277d9d=Object[_0x6ef509(0x1b9)](_0x9c3926,_0x566225);(!_0x277d9d||(_0x6ef509(0x1c3)in _0x277d9d?!_0x9c3926[_0x6ef509(0x1c7)]:_0x277d9d[_0x6ef509(0x1ca)]||_0x277d9d[_0x6ef509(0x1c8)]))&&(_0x277d9d={'enumerable':!![],'get':function(){return _0x9c3926[_0x566225];}}),Object['defineProperty'](_0x57adc7,_0x55f1eb,_0x277d9d);}:function(_0x231674,_0x240807,_0x353702,_0x27c5d9){if(_0x27c5d9===undefined)_0x27c5d9=_0x353702;_0x231674[_0x27c5d9]=_0x240807[_0x353702];}),__setModuleDefault=this&&this[a540_0x421dcf(0x19b)]||(Object[a540_0x421dcf(0x1b1)]?function(_0x24ab89,_0x5e291b){const _0x29e31b=a540_0x421dcf;Object[_0x29e31b(0x19c)](_0x24ab89,_0x29e31b(0x1b0),{'enumerable':!![],'value':_0x5e291b});}:function(_0x4fbb4e,_0x1a5805){const _0x1df54a=a540_0x421dcf;_0x4fbb4e[_0x1df54a(0x1b0)]=_0x1a5805;}),__importStar=this&&this[a540_0x421dcf(0x1ae)]||function(_0x212ac4){const _0x3dd33a=a540_0x421dcf;if(_0x212ac4&&_0x212ac4[_0x3dd33a(0x1c7)])return _0x212ac4;var _0x46965d={};if(_0x212ac4!=null){for(var _0x2af491 in _0x212ac4)if(_0x2af491!==_0x3dd33a(0x1b0)&&Object['prototype']['hasOwnProperty'][_0x3dd33a(0x19f)](_0x212ac4,_0x2af491))__createBinding(_0x46965d,_0x212ac4,_0x2af491);}return __setModuleDefault(_0x46965d,_0x212ac4),_0x46965d;},__importDefault=this&&this[a540_0x421dcf(0x1b3)]||function(_0x22d24b){const _0x484ad0=a540_0x421dcf;return _0x22d24b&&_0x22d24b[_0x484ad0(0x1c7)]?_0x22d24b:{'default':_0x22d24b};};Object[a540_0x421dcf(0x19c)](exports,a540_0x421dcf(0x1c7),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a540_0x421dcf(0x1a0))),ShowUserService_1=__importDefault(require(a540_0x421dcf(0x1bb))),Company_1=__importDefault(require(a540_0x421dcf(0x19d))),User_1=__importDefault(require('../../models/User')),UpdateUserService=async({userData:_0x12b4dc,userId:_0x4670a7,requestUserId:_0x5bdf2d})=>{const _0x47f8fb=a540_0x421dcf,_0x257c53=await(0x0,ShowUserService_1[_0x47f8fb(0x1b0)])(_0x4670a7,_0x5bdf2d),_0x548b83=await User_1[_0x47f8fb(0x1b0)][_0x47f8fb(0x1a5)](_0x5bdf2d);if(_0x548b83['super']===![]&&_0x12b4dc[_0x47f8fb(0x1b6)]!==_0x548b83[_0x47f8fb(0x1b6)]||_0x548b83[_0x47f8fb(0x1b5)]!==_0x47f8fb(0x1bc)&&+_0x4670a7!==_0x548b83['id'])throw new AppError_1[(_0x47f8fb(0x1b0))](_0x47f8fb(0x1a6),0x193);const _0x584bbe=Yup[_0x47f8fb(0x1aa)]()[_0x47f8fb(0x1c5)]({'name':Yup['string']()['min'](0x2),'email':Yup['string']()['email'](),'profile':Yup[_0x47f8fb(0x1a8)](),'password':Yup[_0x47f8fb(0x1a8)](),'super':Yup[_0x47f8fb(0x1bf)]()}),{email:_0x12180f,password:_0x22aa2d,profile:_0x8385e2,name:_0x25358b,queueIds:queueIds=[],allTicket:_0x1f8ceb,whatsappId:_0x374857,startWork:_0x201918,endWork:_0x3fb69e,spy:_0x7bd749,isTricked:_0x2a39da,super:_0x1b0276,defaultMenu:_0x1d6085}=_0x12b4dc;try{await _0x584bbe[_0x47f8fb(0x1ab)]({'email':_0x12180f,'password':_0x22aa2d,'profile':_0x8385e2,'name':_0x25358b,'super':_0x1b0276});}catch(_0x54f7bf){throw new AppError_1[(_0x47f8fb(0x1b0))](_0x54f7bf[_0x47f8fb(0x1ac)]);}await _0x257c53[_0x47f8fb(0x1a9)]({'email':_0x12180f,'password':_0x22aa2d,'profile':_0x8385e2,'name':_0x25358b,'allTicket':_0x1f8ceb,'whatsappId':_0x374857||null,'startWork':_0x201918,'endWork':_0x3fb69e,'spy':_0x7bd749,'isTricked':_0x2a39da,'super':_0x1b0276,'defaultMenu':_0x1d6085}),await _0x257c53[_0x47f8fb(0x1a4)](_0x47f8fb(0x1c4),queueIds),await _0x257c53[_0x47f8fb(0x1a7)](),await _0x257c53[_0x47f8fb(0x1af)](),await _0x257c53['reload']();const _0x5a5049=await Company_1[_0x47f8fb(0x1b0)]['findByPk'](_0x257c53[_0x47f8fb(0x1b6)]),_0x10bb93={'id':_0x257c53['id'],'name':_0x257c53[_0x47f8fb(0x19e)],'email':_0x257c53['email'],'profile':_0x257c53[_0x47f8fb(0x1b5)],'companyId':_0x257c53[_0x47f8fb(0x1b6)],'company':_0x5a5049,'queues':_0x257c53[_0x47f8fb(0x1c4)]};return _0x10bb93;};function a540_0x4ec1(_0x2abbd1,_0x170d31){const _0x1f8e59=a540_0x1f65();return a540_0x4ec1=function(_0x33a12f,_0x48271e){_0x33a12f=_0x33a12f-0x19b;let _0x1f6500=_0x1f8e59[_0x33a12f];return _0x1f6500;},a540_0x4ec1(_0x2abbd1,_0x170d31);}exports[a540_0x421dcf(0x1b0)]=UpdateUserService;