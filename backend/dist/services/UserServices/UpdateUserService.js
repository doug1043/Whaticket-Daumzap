'use strict';const a566_0x11b9c4=a566_0x15c2;(function(_0x5bddae,_0x25225b){const _0x4def9b=a566_0x15c2,_0x47ccf0=_0x5bddae();while(!![]){try{const _0x1880d2=-parseInt(_0x4def9b(0x138))/0x1*(parseInt(_0x4def9b(0x117))/0x2)+-parseInt(_0x4def9b(0x11a))/0x3*(parseInt(_0x4def9b(0x10b))/0x4)+-parseInt(_0x4def9b(0x139))/0x5*(parseInt(_0x4def9b(0x128))/0x6)+-parseInt(_0x4def9b(0x129))/0x7*(parseInt(_0x4def9b(0x121))/0x8)+-parseInt(_0x4def9b(0x11c))/0x9*(-parseInt(_0x4def9b(0x132))/0xa)+parseInt(_0x4def9b(0x10e))/0xb+-parseInt(_0x4def9b(0x11e))/0xc*(-parseInt(_0x4def9b(0x112))/0xd);if(_0x1880d2===_0x25225b)break;else _0x47ccf0['push'](_0x47ccf0['shift']());}catch(_0x847ddc){_0x47ccf0['push'](_0x47ccf0['shift']());}}}(a566_0x2ca3,0xe2d9a));var __createBinding=this&&this[a566_0x11b9c4(0x133)]||(Object[a566_0x11b9c4(0x114)]?function(_0xf51517,_0x46bcf9,_0x34e0f6,_0x56c377){const _0x26f548=a566_0x11b9c4;if(_0x56c377===undefined)_0x56c377=_0x34e0f6;var _0x66b5a2=Object['getOwnPropertyDescriptor'](_0x46bcf9,_0x34e0f6);(!_0x66b5a2||(_0x26f548(0x12b)in _0x66b5a2?!_0x46bcf9[_0x26f548(0x12e)]:_0x66b5a2[_0x26f548(0x10a)]||_0x66b5a2[_0x26f548(0x118)]))&&(_0x66b5a2={'enumerable':!![],'get':function(){return _0x46bcf9[_0x34e0f6];}}),Object['defineProperty'](_0xf51517,_0x56c377,_0x66b5a2);}:function(_0x59512,_0x27a341,_0x4a4dd5,_0x157779){if(_0x157779===undefined)_0x157779=_0x4a4dd5;_0x59512[_0x157779]=_0x27a341[_0x4a4dd5];}),__setModuleDefault=this&&this[a566_0x11b9c4(0x120)]||(Object['create']?function(_0xff58e8,_0x502bf4){const _0x317ae4=a566_0x11b9c4;Object['defineProperty'](_0xff58e8,_0x317ae4(0x116),{'enumerable':!![],'value':_0x502bf4});}:function(_0x4fee9f,_0xcc5417){_0x4fee9f['default']=_0xcc5417;}),__importStar=this&&this['__importStar']||(function(){const _0x97a7b4=(function(){let _0x293c4f=!![];return function(_0x668766,_0xa7fba1){const _0x103e3f=_0x293c4f?function(){const _0x2ae9f0=a566_0x15c2;if(_0xa7fba1){const _0x10ca91=_0xa7fba1[_0x2ae9f0(0x122)](_0x668766,arguments);return _0xa7fba1=null,_0x10ca91;}}:function(){};return _0x293c4f=![],_0x103e3f;};}()),_0x38edbd=_0x97a7b4(this,function(){const _0x226bba=a566_0x15c2;return _0x38edbd[_0x226bba(0x127)]()['search'](_0x226bba(0x10d))[_0x226bba(0x127)]()['constructor'](_0x38edbd)['search'](_0x226bba(0x10d));});_0x38edbd();var _0x4f2b61=function(_0x5469c4){const _0x244c60=a566_0x15c2;return _0x4f2b61=Object[_0x244c60(0x109)]||function(_0x357554){const _0x549a9a=_0x244c60;var _0x79a37e=[];for(var _0x4d6032 in _0x357554)if(Object[_0x549a9a(0x12a)][_0x549a9a(0x134)][_0x549a9a(0x12d)](_0x357554,_0x4d6032))_0x79a37e[_0x79a37e[_0x549a9a(0x125)]]=_0x4d6032;return _0x79a37e;},_0x4f2b61(_0x5469c4);};return function(_0x581196){const _0x1b3350=a566_0x15c2;if(_0x581196&&_0x581196['__esModule'])return _0x581196;var _0x148381={};if(_0x581196!=null){for(var _0x39f87f=_0x4f2b61(_0x581196),_0xb1b178=0x0;_0xb1b178<_0x39f87f[_0x1b3350(0x125)];_0xb1b178++)if(_0x39f87f[_0xb1b178]!==_0x1b3350(0x116))__createBinding(_0x148381,_0x581196,_0x39f87f[_0xb1b178]);}return __setModuleDefault(_0x148381,_0x581196),_0x148381;};}()),__importDefault=this&&this['__importDefault']||function(_0x27144d){const _0x496e30=a566_0x11b9c4;return _0x27144d&&_0x27144d[_0x496e30(0x12e)]?_0x27144d:{'default':_0x27144d};};Object[a566_0x11b9c4(0x113)](exports,a566_0x11b9c4(0x12e),{'value':!![]});function a566_0x2ca3(){const _0x425eef=['(((.+)+)+)+$','2660449WUoySb','$set','companyId','shape','983957hLrakO','defineProperty','create','reload','default','24kyCoAB','configurable','min','582NeSBPx','yup','3447gTbuTq','ERR_FORBIDDEN','444LJOqMP','string','__setModuleDefault','268848TYxnCr','apply','profile','message','length','object','toString','6JfAUAM','21khvljH','prototype','get','../../models/User','call','__esModule','validate','super','admin','10CqSenV','__createBinding','hasOwnProperty','queues','update','./ShowUserService','55468KpppGh','4588035WWpDvY','findByPk','getOwnPropertyNames','writable','8856BDTlHy','email'];a566_0x2ca3=function(){return _0x425eef;};return a566_0x2ca3();}const Yup=__importStar(require(a566_0x11b9c4(0x11b))),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require(a566_0x11b9c4(0x137))),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a566_0x11b9c4(0x12c))),UpdateUserService=async({userData:_0x183e3c,userId:_0x6d78d8,requestUserId:_0x2fd7be})=>{const _0x533dcc=a566_0x11b9c4,_0x3bfebf=await(0x0,ShowUserService_1[_0x533dcc(0x116)])(_0x6d78d8,_0x2fd7be),_0x11b16c=await User_1[_0x533dcc(0x116)]['findByPk'](_0x2fd7be);if(!_0x11b16c[_0x533dcc(0x130)]&&+_0x6d78d8!==_0x11b16c['id']&&(_0x3bfebf[_0x533dcc(0x110)]!==_0x11b16c[_0x533dcc(0x110)]||_0x11b16c[_0x533dcc(0x123)]!=='admin'))throw new AppError_1['default'](_0x533dcc(0x11d),0x193);const _0x34b557=Yup[_0x533dcc(0x126)]()[_0x533dcc(0x111)]({'name':Yup['string']()[_0x533dcc(0x119)](0x2),'email':Yup[_0x533dcc(0x11f)]()['email'](),'profile':Yup['string'](),'password':Yup[_0x533dcc(0x11f)]()}),{email:_0x1ee1ee,password:_0x40dfb4,profile:_0x23eab3,name:_0x552e1f,queueIds:queueIds=[]}=_0x183e3c;try{await _0x34b557[_0x533dcc(0x12f)]({'email':_0x1ee1ee,'password':_0x40dfb4,'profile':_0x23eab3,'name':_0x552e1f});}catch(_0x5473a8){throw new AppError_1[(_0x533dcc(0x116))](_0x5473a8[_0x533dcc(0x124)]);}_0x11b16c[_0x533dcc(0x123)]===_0x533dcc(0x131)?(await _0x3bfebf['update']({'email':_0x1ee1ee,'password':_0x40dfb4,'profile':_0x23eab3,'name':_0x552e1f}),await _0x3bfebf[_0x533dcc(0x10f)]('queues',queueIds)):await _0x3bfebf[_0x533dcc(0x136)]({'email':_0x1ee1ee,'password':_0x40dfb4,'name':_0x552e1f});await _0x3bfebf[_0x533dcc(0x115)]();const _0x5b0285=await Company_1['default'][_0x533dcc(0x108)](_0x3bfebf[_0x533dcc(0x110)]),_0x1c28bd={'id':_0x3bfebf['id'],'name':_0x3bfebf['name'],'email':_0x3bfebf[_0x533dcc(0x10c)],'profile':_0x3bfebf[_0x533dcc(0x123)],'companyId':_0x3bfebf[_0x533dcc(0x110)],'company':_0x5b0285,'queues':_0x3bfebf[_0x533dcc(0x135)]};return _0x1c28bd;};function a566_0x15c2(_0x5170a7,_0x428fed){const _0x3ddf5e=a566_0x2ca3();return a566_0x15c2=function(_0x509091,_0x244db2){_0x509091=_0x509091-0x108;let _0x2ca372=_0x3ddf5e[_0x509091];return _0x2ca372;},a566_0x15c2(_0x5170a7,_0x428fed);}exports[a566_0x11b9c4(0x116)]=UpdateUserService;