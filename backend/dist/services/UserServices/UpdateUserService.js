const a538_0x187709=a538_0x914b;(function(_0x222686,_0x38d07e){const _0x5a1dd6=a538_0x914b,_0x2d715e=_0x222686();while(!![]){try{const _0x4488f7=-parseInt(_0x5a1dd6(0x151))/0x1*(parseInt(_0x5a1dd6(0x140))/0x2)+parseInt(_0x5a1dd6(0x14d))/0x3+parseInt(_0x5a1dd6(0x146))/0x4+parseInt(_0x5a1dd6(0x141))/0x5+-parseInt(_0x5a1dd6(0x14b))/0x6*(parseInt(_0x5a1dd6(0x136))/0x7)+parseInt(_0x5a1dd6(0x13d))/0x8+-parseInt(_0x5a1dd6(0x15b))/0x9;if(_0x4488f7===_0x38d07e)break;else _0x2d715e['push'](_0x2d715e['shift']());}catch(_0x525a6a){_0x2d715e['push'](_0x2d715e['shift']());}}}(a538_0x7697,0x5b782));const a538_0x2121a2=(function(){let _0x36f1df=!![];return function(_0x2c030b,_0x58306b){const _0x2bb3fc=_0x36f1df?function(){const _0x3ea362=a538_0x914b;if(_0x58306b){const _0x1c522d=_0x58306b[_0x3ea362(0x14f)](_0x2c030b,arguments);return _0x58306b=null,_0x1c522d;}}:function(){};return _0x36f1df=![],_0x2bb3fc;};}()),a538_0x4674a5=a538_0x2121a2(this,function(){const _0x201c17=a538_0x914b;return a538_0x4674a5['toString']()[_0x201c17(0x13f)](_0x201c17(0x138))[_0x201c17(0x15a)]()[_0x201c17(0x153)](a538_0x4674a5)[_0x201c17(0x13f)](_0x201c17(0x138));});function a538_0x7697(){const _0x34a1d5=['search','72938lGEQsB','2472100txJNmG','profile','get','companyId','__setModuleDefault','1600808APFGIV','yup','hasOwnProperty','../../models/User','reload','6zhgHKM','writable','74094fnSLHH','__importDefault','apply','defineProperty','9XsWLAA','__importStar','constructor','string','super','__esModule','validate','min','getOwnPropertyDescriptor','toString','6568326sqkuPn','__createBinding','create','queues','1004556DIsXsk','update','(((.+)+)+)+$','prototype','boolean','../../models/Company','email','5255048nlMjbl','default'];a538_0x7697=function(){return _0x34a1d5;};return a538_0x7697();}a538_0x4674a5();'use strict';var __createBinding=this&&this[a538_0x187709(0x15c)]||(Object[a538_0x187709(0x15d)]?function(_0x23ec49,_0x382dc0,_0x5b99f1,_0x1a61e2){const _0xc12d29=a538_0x187709;if(_0x1a61e2===undefined)_0x1a61e2=_0x5b99f1;var _0x3a7ef3=Object[_0xc12d29(0x159)](_0x382dc0,_0x5b99f1);(!_0x3a7ef3||(_0xc12d29(0x143)in _0x3a7ef3?!_0x382dc0[_0xc12d29(0x156)]:_0x3a7ef3[_0xc12d29(0x14c)]||_0x3a7ef3['configurable']))&&(_0x3a7ef3={'enumerable':!![],'get':function(){return _0x382dc0[_0x5b99f1];}}),Object[_0xc12d29(0x150)](_0x23ec49,_0x1a61e2,_0x3a7ef3);}:function(_0x2e7665,_0x1e9915,_0x2936e6,_0xc82777){if(_0xc82777===undefined)_0xc82777=_0x2936e6;_0x2e7665[_0xc82777]=_0x1e9915[_0x2936e6];}),__setModuleDefault=this&&this[a538_0x187709(0x145)]||(Object[a538_0x187709(0x15d)]?function(_0x2dba4c,_0x393f6a){const _0x4b50ce=a538_0x187709;Object[_0x4b50ce(0x150)](_0x2dba4c,'default',{'enumerable':!![],'value':_0x393f6a});}:function(_0x2eeea4,_0x413340){_0x2eeea4['default']=_0x413340;}),__importStar=this&&this[a538_0x187709(0x152)]||function(_0x2c3d74){const _0x1ba0c2=a538_0x187709;if(_0x2c3d74&&_0x2c3d74[_0x1ba0c2(0x156)])return _0x2c3d74;var _0x296430={};if(_0x2c3d74!=null){for(var _0x52394e in _0x2c3d74)if(_0x52394e!==_0x1ba0c2(0x13e)&&Object[_0x1ba0c2(0x139)][_0x1ba0c2(0x148)]['call'](_0x2c3d74,_0x52394e))__createBinding(_0x296430,_0x2c3d74,_0x52394e);}return __setModuleDefault(_0x296430,_0x2c3d74),_0x296430;},__importDefault=this&&this[a538_0x187709(0x14e)]||function(_0x37bc95){return _0x37bc95&&_0x37bc95['__esModule']?_0x37bc95:{'default':_0x37bc95};};Object[a538_0x187709(0x150)](exports,a538_0x187709(0x156),{'value':!![]});const Yup=__importStar(require(a538_0x187709(0x147))),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require('./ShowUserService')),Company_1=__importDefault(require(a538_0x187709(0x13b))),User_1=__importDefault(require(a538_0x187709(0x149))),UpdateUserService=async({userData:_0x2fb80a,userId:_0x4a0143,requestUserId:_0x4120be})=>{const _0x5058f8=a538_0x187709,_0x137d15=await(0x0,ShowUserService_1[_0x5058f8(0x13e)])(_0x4a0143,_0x4120be),_0x37b906=await User_1[_0x5058f8(0x13e)]['findByPk'](_0x4120be);if(_0x37b906[_0x5058f8(0x155)]===![]&&_0x2fb80a[_0x5058f8(0x144)]!==_0x37b906[_0x5058f8(0x144)]||_0x37b906['profile']!=='admin'&&+_0x4a0143!==_0x37b906['id'])throw new AppError_1[(_0x5058f8(0x13e))]('ERR_FORBIDDEN',0x193);const _0x335b7a=Yup['object']()['shape']({'name':Yup['string']()[_0x5058f8(0x158)](0x2),'email':Yup[_0x5058f8(0x154)]()[_0x5058f8(0x13c)](),'profile':Yup['string'](),'password':Yup[_0x5058f8(0x154)](),'super':Yup[_0x5058f8(0x13a)]()}),{email:_0x3fcb96,password:_0x4d9b06,profile:_0x5a8cb4,name:_0x4f1b9f,queueIds:queueIds=[],allTicket:_0x43e114,whatsappId:_0x11a5d5,startWork:_0x55f51f,endWork:_0x5b30e7,spy:_0x2f38a7,isTricked:_0x343dce,super:_0x4e9aa6,defaultMenu:_0x497ad2}=_0x2fb80a;try{await _0x335b7a[_0x5058f8(0x157)]({'email':_0x3fcb96,'password':_0x4d9b06,'profile':_0x5a8cb4,'name':_0x4f1b9f,'super':_0x4e9aa6});}catch(_0x4f2a77){throw new AppError_1['default'](_0x4f2a77['message']);}await _0x137d15[_0x5058f8(0x137)]({'email':_0x3fcb96,'password':_0x4d9b06,'profile':_0x5a8cb4,'name':_0x4f1b9f,'allTicket':_0x43e114,'whatsappId':_0x11a5d5||null,'startWork':_0x55f51f,'endWork':_0x5b30e7,'spy':_0x2f38a7,'isTricked':_0x343dce,'super':_0x4e9aa6,'defaultMenu':_0x497ad2}),await _0x137d15['$set'](_0x5058f8(0x15e),queueIds),await _0x137d15['incrementTokenVersion'](),await _0x137d15['save'](),await _0x137d15[_0x5058f8(0x14a)]();const _0x1eaa31=await Company_1[_0x5058f8(0x13e)]['findByPk'](_0x137d15[_0x5058f8(0x144)]),_0x4e84d9={'id':_0x137d15['id'],'name':_0x137d15['name'],'email':_0x137d15['email'],'profile':_0x137d15[_0x5058f8(0x142)],'companyId':_0x137d15[_0x5058f8(0x144)],'company':_0x1eaa31,'queues':_0x137d15['queues']};return _0x4e84d9;};function a538_0x914b(_0x392183,_0x5c5d23){const _0x1c0bfd=a538_0x7697();return a538_0x914b=function(_0x4674a5,_0x2121a2){_0x4674a5=_0x4674a5-0x136;let _0x76972c=_0x1c0bfd[_0x4674a5];return _0x76972c;},a538_0x914b(_0x392183,_0x5c5d23);}exports['default']=UpdateUserService;