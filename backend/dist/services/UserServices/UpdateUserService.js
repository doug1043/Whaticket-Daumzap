'use strict';const a568_0x5e4507=a568_0x57a4;(function(_0x156cc2,_0x297274){const _0x189d7e=a568_0x57a4,_0x368d75=_0x156cc2();while(!![]){try{const _0x113c03=parseInt(_0x189d7e(0x111))/0x1*(-parseInt(_0x189d7e(0x108))/0x2)+-parseInt(_0x189d7e(0x12d))/0x3*(parseInt(_0x189d7e(0x119))/0x4)+-parseInt(_0x189d7e(0x114))/0x5*(parseInt(_0x189d7e(0x123))/0x6)+parseInt(_0x189d7e(0x101))/0x7*(parseInt(_0x189d7e(0x11e))/0x8)+-parseInt(_0x189d7e(0x12f))/0x9+parseInt(_0x189d7e(0x118))/0xa*(parseInt(_0x189d7e(0x131))/0xb)+parseInt(_0x189d7e(0x10e))/0xc*(parseInt(_0x189d7e(0x124))/0xd);if(_0x113c03===_0x297274)break;else _0x368d75['push'](_0x368d75['shift']());}catch(_0xb55957){_0x368d75['push'](_0x368d75['shift']());}}}(a568_0x2809,0xa3604));function a568_0x2809(){const _0x56ae3e=['queues','create','email','update','reload','hasOwnProperty','constructor','12hcjoBy','validate','10535688XbZgFy','default','61765IFOWvM','../../models/Company','../../models/User','admin','string','3661763ojfAEo','companyId','search','ERR_FORBIDDEN','length','__esModule','__setModuleDefault','152SUOoAL','__importDefault','getOwnPropertyNames','shape','get','findByPk','636BEEAgY','call','(((.+)+)+)+$','13442sSFRDH','configurable','message','5udVERe','yup','$set','__importStar','1900cJSzuk','82312cvvaEx','getOwnPropertyDescriptor','min','prototype','profile','8mtbfAU','object','defineProperty','./ShowUserService','toString','2128458SxNfIW','419068ZDMfvR','name'];a568_0x2809=function(){return _0x56ae3e;};return a568_0x2809();}var __createBinding=this&&this['__createBinding']||(Object[a568_0x5e4507(0x127)]?function(_0x3b618e,_0x51c277,_0xcd86c1,_0x30b3e0){const _0xb8698e=a568_0x5e4507;if(_0x30b3e0===undefined)_0x30b3e0=_0xcd86c1;var _0x3023dc=Object[_0xb8698e(0x11a)](_0x51c277,_0xcd86c1);(!_0x3023dc||(_0xb8698e(0x10c)in _0x3023dc?!_0x51c277[_0xb8698e(0x106)]:_0x3023dc['writable']||_0x3023dc[_0xb8698e(0x112)]))&&(_0x3023dc={'enumerable':!![],'get':function(){return _0x51c277[_0xcd86c1];}}),Object[_0xb8698e(0x120)](_0x3b618e,_0x30b3e0,_0x3023dc);}:function(_0x14f252,_0x2e017d,_0x54272f,_0x1511b8){if(_0x1511b8===undefined)_0x1511b8=_0x54272f;_0x14f252[_0x1511b8]=_0x2e017d[_0x54272f];}),__setModuleDefault=this&&this[a568_0x5e4507(0x107)]||(Object[a568_0x5e4507(0x127)]?function(_0x1eda85,_0x21b1d7){const _0x58a35e=a568_0x5e4507;Object['defineProperty'](_0x1eda85,_0x58a35e(0x130),{'enumerable':!![],'value':_0x21b1d7});}:function(_0x3c6ec1,_0x4101b5){_0x3c6ec1['default']=_0x4101b5;}),__importStar=this&&this[a568_0x5e4507(0x117)]||(function(){const _0x29e94f=(function(){let _0x306a99=!![];return function(_0x24caf1,_0x55f4db){const _0x3fae26=_0x306a99?function(){if(_0x55f4db){const _0x59093b=_0x55f4db['apply'](_0x24caf1,arguments);return _0x55f4db=null,_0x59093b;}}:function(){};return _0x306a99=![],_0x3fae26;};}()),_0x4b2658=_0x29e94f(this,function(){const _0x4a654f=a568_0x57a4;return _0x4b2658[_0x4a654f(0x122)]()[_0x4a654f(0x103)](_0x4a654f(0x110))[_0x4a654f(0x122)]()[_0x4a654f(0x12c)](_0x4b2658)[_0x4a654f(0x103)](_0x4a654f(0x110));});_0x4b2658();var _0x491eb7=function(_0x43b37f){const _0xd837cd=a568_0x57a4;return _0x491eb7=Object[_0xd837cd(0x10a)]||function(_0x34fb08){const _0x41c0ba=_0xd837cd;var _0x2990bb=[];for(var _0x39a561 in _0x34fb08)if(Object[_0x41c0ba(0x11c)][_0x41c0ba(0x12b)][_0x41c0ba(0x10f)](_0x34fb08,_0x39a561))_0x2990bb[_0x2990bb[_0x41c0ba(0x105)]]=_0x39a561;return _0x2990bb;},_0x491eb7(_0x43b37f);};return function(_0x111574){const _0x2ce5f9=a568_0x57a4;if(_0x111574&&_0x111574[_0x2ce5f9(0x106)])return _0x111574;var _0x38083a={};if(_0x111574!=null){for(var _0x3adc70=_0x491eb7(_0x111574),_0x261a38=0x0;_0x261a38<_0x3adc70['length'];_0x261a38++)if(_0x3adc70[_0x261a38]!==_0x2ce5f9(0x130))__createBinding(_0x38083a,_0x111574,_0x3adc70[_0x261a38]);}return __setModuleDefault(_0x38083a,_0x111574),_0x38083a;};}()),__importDefault=this&&this[a568_0x5e4507(0x109)]||function(_0x41105a){const _0x4ddaa9=a568_0x5e4507;return _0x41105a&&_0x41105a[_0x4ddaa9(0x106)]?_0x41105a:{'default':_0x41105a};};function a568_0x57a4(_0x35e514,_0x2f3d74){const _0x4c232a=a568_0x2809();return a568_0x57a4=function(_0x3af780,_0x433a7f){_0x3af780=_0x3af780-0x101;let _0x28091d=_0x4c232a[_0x3af780];return _0x28091d;},a568_0x57a4(_0x35e514,_0x2f3d74);}Object[a568_0x5e4507(0x120)](exports,a568_0x5e4507(0x106),{'value':!![]});const Yup=__importStar(require(a568_0x5e4507(0x115))),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require(a568_0x5e4507(0x121))),Company_1=__importDefault(require(a568_0x5e4507(0x132))),User_1=__importDefault(require(a568_0x5e4507(0x133))),UpdateUserService=async({userData:_0x16f317,userId:_0x4b15f6,requestUserId:_0x2461ca})=>{const _0x477b09=a568_0x5e4507,_0x48d7ff=await(0x0,ShowUserService_1[_0x477b09(0x130)])(_0x4b15f6,_0x2461ca),_0x1642c4=await User_1[_0x477b09(0x130)][_0x477b09(0x10d)](_0x2461ca);if(!_0x1642c4['super']&&+_0x4b15f6!==_0x1642c4['id']&&(_0x48d7ff[_0x477b09(0x102)]!==_0x1642c4[_0x477b09(0x102)]||_0x1642c4[_0x477b09(0x11d)]!==_0x477b09(0x134)))throw new AppError_1[(_0x477b09(0x130))](_0x477b09(0x104),0x193);const _0x2ef8e7=Yup[_0x477b09(0x11f)]()[_0x477b09(0x10b)]({'name':Yup[_0x477b09(0x135)]()[_0x477b09(0x11b)](0x2),'email':Yup[_0x477b09(0x135)]()[_0x477b09(0x128)](),'profile':Yup[_0x477b09(0x135)](),'password':Yup['string']()}),{email:_0x3793fe,password:_0xe3f3c1,profile:_0x2ef0c6,name:_0x332df9,queueIds:queueIds=[]}=_0x16f317;try{await _0x2ef8e7[_0x477b09(0x12e)]({'email':_0x3793fe,'password':_0xe3f3c1,'profile':_0x2ef0c6,'name':_0x332df9});}catch(_0x48afe4){throw new AppError_1['default'](_0x48afe4[_0x477b09(0x113)]);}_0x1642c4[_0x477b09(0x11d)]===_0x477b09(0x134)?(await _0x48d7ff[_0x477b09(0x129)]({'email':_0x3793fe,'password':_0xe3f3c1,'profile':_0x2ef0c6,'name':_0x332df9}),await _0x48d7ff[_0x477b09(0x116)](_0x477b09(0x126),queueIds)):await _0x48d7ff[_0x477b09(0x129)]({'email':_0x3793fe,'password':_0xe3f3c1,'name':_0x332df9});await _0x48d7ff[_0x477b09(0x12a)]();const _0x458150=await Company_1[_0x477b09(0x130)]['findByPk'](_0x48d7ff[_0x477b09(0x102)]),_0x25b491={'id':_0x48d7ff['id'],'name':_0x48d7ff[_0x477b09(0x125)],'email':_0x48d7ff['email'],'profile':_0x48d7ff[_0x477b09(0x11d)],'companyId':_0x48d7ff[_0x477b09(0x102)],'company':_0x458150,'queues':_0x48d7ff[_0x477b09(0x126)]};return _0x25b491;};exports[a568_0x5e4507(0x130)]=UpdateUserService;