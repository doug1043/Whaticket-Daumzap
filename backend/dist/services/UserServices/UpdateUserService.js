function a538_0x5bba(){const _0x4147b3=['../../models/User','super','../../errors/AppError','8682864xfFeaj','message','queues','findByPk','266619xtKBST','get','incrementTokenVersion','8HxQEsr','2980070GfsXum','$set','reload','(((.+)+)+)+$','__createBinding','admin','11786551ojWOPD','object','min','update','../../models/Company','160NndcgS','28dhbkLS','defineProperty','email','create','search','boolean','constructor','prototype','__importDefault','ERR_FORBIDDEN','__importStar','45lAlRzR','default','toString','__esModule','companyId','./ShowUserService','save','__setModuleDefault','string','9190071HZUXmQ','profile','10866VvQkMr','shape','writable','733020cTeDjn'];a538_0x5bba=function(){return _0x4147b3;};return a538_0x5bba();}const a538_0x5c719c=a538_0x146d;function a538_0x146d(_0x5f137e,_0x75b6d){const _0x4c3269=a538_0x5bba();return a538_0x146d=function(_0x2b6b48,_0x1753aa){_0x2b6b48=_0x2b6b48-0xb3;let _0x5bba23=_0x4c3269[_0x2b6b48];return _0x5bba23;},a538_0x146d(_0x5f137e,_0x75b6d);}(function(_0x4faa21,_0x143b47){const _0x443fc1=a538_0x146d,_0x40b929=_0x4faa21();while(!![]){try{const _0x3359ec=parseInt(_0x443fc1(0xb7))/0x1*(parseInt(_0x443fc1(0xce))/0x2)+-parseInt(_0x443fc1(0xd9))/0x3*(-parseInt(_0x443fc1(0xb8))/0x4)+-parseInt(_0x443fc1(0xd1))/0x5+-parseInt(_0x443fc1(0xd5))/0x6+parseInt(_0x443fc1(0xe3))/0x7*(parseInt(_0x443fc1(0xdc))/0x8)+-parseInt(_0x443fc1(0xc3))/0x9*(parseInt(_0x443fc1(0xdd))/0xa)+parseInt(_0x443fc1(0xcc))/0xb;if(_0x3359ec===_0x143b47)break;else _0x40b929['push'](_0x40b929['shift']());}catch(_0x5f1cb9){_0x40b929['push'](_0x40b929['shift']());}}}(a538_0x5bba,0xe248e));const a538_0x1753aa=(function(){let _0x49f44c=!![];return function(_0x6f530c,_0x3e9192){const _0x19215b=_0x49f44c?function(){if(_0x3e9192){const _0x556db7=_0x3e9192['apply'](_0x6f530c,arguments);return _0x3e9192=null,_0x556db7;}}:function(){};return _0x49f44c=![],_0x19215b;};}()),a538_0x2b6b48=a538_0x1753aa(this,function(){const _0x1a6af8=a538_0x146d;return a538_0x2b6b48[_0x1a6af8(0xc5)]()['search'](_0x1a6af8(0xe0))[_0x1a6af8(0xc5)]()[_0x1a6af8(0xbe)](a538_0x2b6b48)[_0x1a6af8(0xbc)](_0x1a6af8(0xe0));});a538_0x2b6b48();'use strict';var __createBinding=this&&this[a538_0x5c719c(0xe1)]||(Object['create']?function(_0x2be9f8,_0xc429d3,_0x17f5c7,_0x22d58e){const _0x566165=a538_0x5c719c;if(_0x22d58e===undefined)_0x22d58e=_0x17f5c7;var _0x5b2df0=Object['getOwnPropertyDescriptor'](_0xc429d3,_0x17f5c7);(!_0x5b2df0||(_0x566165(0xda)in _0x5b2df0?!_0xc429d3['__esModule']:_0x5b2df0[_0x566165(0xd0)]||_0x5b2df0['configurable']))&&(_0x5b2df0={'enumerable':!![],'get':function(){return _0xc429d3[_0x17f5c7];}}),Object[_0x566165(0xb9)](_0x2be9f8,_0x22d58e,_0x5b2df0);}:function(_0x32b99c,_0x532be9,_0x48d3ba,_0x684878){if(_0x684878===undefined)_0x684878=_0x48d3ba;_0x32b99c[_0x684878]=_0x532be9[_0x48d3ba];}),__setModuleDefault=this&&this[a538_0x5c719c(0xca)]||(Object[a538_0x5c719c(0xbb)]?function(_0x53683b,_0x47be03){const _0x2f3fa9=a538_0x5c719c;Object[_0x2f3fa9(0xb9)](_0x53683b,_0x2f3fa9(0xc4),{'enumerable':!![],'value':_0x47be03});}:function(_0x4aa22e,_0x25b1c6){const _0x8a6a13=a538_0x5c719c;_0x4aa22e[_0x8a6a13(0xc4)]=_0x25b1c6;}),__importStar=this&&this[a538_0x5c719c(0xc2)]||function(_0x128bfc){const _0x47f8ba=a538_0x5c719c;if(_0x128bfc&&_0x128bfc[_0x47f8ba(0xc6)])return _0x128bfc;var _0x5e7cf4={};if(_0x128bfc!=null){for(var _0x2d92af in _0x128bfc)if(_0x2d92af!==_0x47f8ba(0xc4)&&Object[_0x47f8ba(0xbf)]['hasOwnProperty']['call'](_0x128bfc,_0x2d92af))__createBinding(_0x5e7cf4,_0x128bfc,_0x2d92af);}return __setModuleDefault(_0x5e7cf4,_0x128bfc),_0x5e7cf4;},__importDefault=this&&this[a538_0x5c719c(0xc0)]||function(_0x5f247a){return _0x5f247a&&_0x5f247a['__esModule']?_0x5f247a:{'default':_0x5f247a};};Object[a538_0x5c719c(0xb9)](exports,a538_0x5c719c(0xc6),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a538_0x5c719c(0xd4))),ShowUserService_1=__importDefault(require(a538_0x5c719c(0xc8))),Company_1=__importDefault(require(a538_0x5c719c(0xb6))),User_1=__importDefault(require(a538_0x5c719c(0xd2))),UpdateUserService=async({userData:_0x515921,userId:_0x1bf0b4,requestUserId:_0x690c79})=>{const _0x3855ed=a538_0x5c719c,_0x120553=await(0x0,ShowUserService_1[_0x3855ed(0xc4)])(_0x1bf0b4,_0x690c79),_0xe1c898=await User_1[_0x3855ed(0xc4)]['findByPk'](_0x690c79);if(_0xe1c898[_0x3855ed(0xd3)]===![]&&_0x515921['companyId']!==_0xe1c898[_0x3855ed(0xc7)]||_0xe1c898[_0x3855ed(0xcd)]!==_0x3855ed(0xe2)&&+_0x1bf0b4!==_0xe1c898['id'])throw new AppError_1[(_0x3855ed(0xc4))](_0x3855ed(0xc1),0x193);const _0xbae264=Yup[_0x3855ed(0xb3)]()[_0x3855ed(0xcf)]({'name':Yup[_0x3855ed(0xcb)]()[_0x3855ed(0xb4)](0x2),'email':Yup[_0x3855ed(0xcb)]()['email'](),'profile':Yup[_0x3855ed(0xcb)](),'password':Yup['string'](),'super':Yup[_0x3855ed(0xbd)]()}),{email:_0x30dc25,password:_0x5238a,profile:_0x2095e0,name:_0x543dc5,queueIds:queueIds=[],allTicket:_0x13a6d9,whatsappId:_0x94ce4b,startWork:_0x232c91,endWork:_0x12f413,spy:_0x3380be,isTricked:_0x29f812,super:_0x3424e1,defaultMenu:_0x3f4e4a}=_0x515921;try{await _0xbae264['validate']({'email':_0x30dc25,'password':_0x5238a,'profile':_0x2095e0,'name':_0x543dc5,'super':_0x3424e1});}catch(_0x2cc9fe){throw new AppError_1['default'](_0x2cc9fe[_0x3855ed(0xd6)]);}await _0x120553[_0x3855ed(0xb5)]({'email':_0x30dc25,'password':_0x5238a,'profile':_0x2095e0,'name':_0x543dc5,'allTicket':_0x13a6d9,'whatsappId':_0x94ce4b||null,'startWork':_0x232c91,'endWork':_0x12f413,'spy':_0x3380be,'isTricked':_0x29f812,'super':_0x3424e1,'defaultMenu':_0x3f4e4a}),await _0x120553[_0x3855ed(0xde)]('queues',queueIds),await _0x120553[_0x3855ed(0xdb)](),await _0x120553[_0x3855ed(0xc9)](),await _0x120553[_0x3855ed(0xdf)]();const _0x9322ff=await Company_1[_0x3855ed(0xc4)][_0x3855ed(0xd8)](_0x120553[_0x3855ed(0xc7)]),_0x7bebaf={'id':_0x120553['id'],'name':_0x120553['name'],'email':_0x120553[_0x3855ed(0xba)],'profile':_0x120553[_0x3855ed(0xcd)],'companyId':_0x120553[_0x3855ed(0xc7)],'company':_0x9322ff,'queues':_0x120553[_0x3855ed(0xd7)]};return _0x7bebaf;};exports[a538_0x5c719c(0xc4)]=UpdateUserService;