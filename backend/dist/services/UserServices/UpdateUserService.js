const a539_0xc71f1e=a539_0x33f2;function a539_0x2b4e(){const _0x70b5a7=['__importDefault','default','4179152FmjhzX','profile','ERR_FORBIDDEN','findByPk','316806IuFaWK','name','__importStar','223030vKAjbe','shape','queues','min','admin','../../models/Company','110yHkhaT','email','6dfevRj','getOwnPropertyDescriptor','update','string','./ShowUserService','writable','reload','yup','300139tcNoGl','defineProperty','26060pgnRWi','companyId','apply','632SqXsBT','toString','incrementTokenVersion','4302403aZcAqw','super','1617615vSTSmz','search','(((.+)+)+)+$','12sKzQCt','__esModule','../../models/User','validate','__createBinding','create','call'];a539_0x2b4e=function(){return _0x70b5a7;};return a539_0x2b4e();}(function(_0x4e41d1,_0x3c8fd2){const _0x446789=a539_0x33f2,_0xb9f714=_0x4e41d1();while(!![]){try{const _0x5ebd3e=parseInt(_0x446789(0x98))/0x1+-parseInt(_0x446789(0xa5))/0x2*(-parseInt(_0x446789(0xb2))/0x3)+parseInt(_0x446789(0x9d))/0x4*(-parseInt(_0x446789(0x9a))/0x5)+parseInt(_0x446789(0x90))/0x6*(parseInt(_0x446789(0xa0))/0x7)+-parseInt(_0x446789(0xae))/0x8+parseInt(_0x446789(0xa2))/0x9+-parseInt(_0x446789(0xb5))/0xa*(-parseInt(_0x446789(0x8e))/0xb);if(_0x5ebd3e===_0x3c8fd2)break;else _0xb9f714['push'](_0xb9f714['shift']());}catch(_0x1e41cb){_0xb9f714['push'](_0xb9f714['shift']());}}}(a539_0x2b4e,0x93c47));const a539_0x39d83a=(function(){let _0x1c6eb2=!![];return function(_0x107fcf,_0x4dc3ba){const _0x4768f9=_0x1c6eb2?function(){const _0x1e3fcb=a539_0x33f2;if(_0x4dc3ba){const _0x59c8dd=_0x4dc3ba[_0x1e3fcb(0x9c)](_0x107fcf,arguments);return _0x4dc3ba=null,_0x59c8dd;}}:function(){};return _0x1c6eb2=![],_0x4768f9;};}()),a539_0x404857=a539_0x39d83a(this,function(){const _0x3300f8=a539_0x33f2;return a539_0x404857[_0x3300f8(0x9e)]()[_0x3300f8(0xa3)](_0x3300f8(0xa4))[_0x3300f8(0x9e)]()['constructor'](a539_0x404857)['search']('(((.+)+)+)+$');});a539_0x404857();'use strict';var __createBinding=this&&this[a539_0xc71f1e(0xa9)]||(Object[a539_0xc71f1e(0xaa)]?function(_0x3885d3,_0x1c8e43,_0x24739f,_0x54cb9c){const _0x3a9781=a539_0xc71f1e;if(_0x54cb9c===undefined)_0x54cb9c=_0x24739f;var _0x4c9160=Object[_0x3a9781(0x91)](_0x1c8e43,_0x24739f);(!_0x4c9160||('get'in _0x4c9160?!_0x1c8e43[_0x3a9781(0xa6)]:_0x4c9160[_0x3a9781(0x95)]||_0x4c9160['configurable']))&&(_0x4c9160={'enumerable':!![],'get':function(){return _0x1c8e43[_0x24739f];}}),Object[_0x3a9781(0x99)](_0x3885d3,_0x54cb9c,_0x4c9160);}:function(_0x6f18b9,_0x128f8d,_0x244cd9,_0x56cf0e){if(_0x56cf0e===undefined)_0x56cf0e=_0x244cd9;_0x6f18b9[_0x56cf0e]=_0x128f8d[_0x244cd9];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a539_0xc71f1e(0xaa)]?function(_0x1cd7a3,_0x5bd8cd){const _0x31725a=a539_0xc71f1e;Object[_0x31725a(0x99)](_0x1cd7a3,'default',{'enumerable':!![],'value':_0x5bd8cd});}:function(_0x33eea1,_0x96c7ee){const _0x4cd403=a539_0xc71f1e;_0x33eea1[_0x4cd403(0xad)]=_0x96c7ee;}),__importStar=this&&this[a539_0xc71f1e(0xb4)]||function(_0x2978f9){const _0x42d020=a539_0xc71f1e;if(_0x2978f9&&_0x2978f9[_0x42d020(0xa6)])return _0x2978f9;var _0x8eeb50={};if(_0x2978f9!=null){for(var _0x2f9612 in _0x2978f9)if(_0x2f9612!==_0x42d020(0xad)&&Object['prototype']['hasOwnProperty'][_0x42d020(0xab)](_0x2978f9,_0x2f9612))__createBinding(_0x8eeb50,_0x2978f9,_0x2f9612);}return __setModuleDefault(_0x8eeb50,_0x2978f9),_0x8eeb50;},__importDefault=this&&this[a539_0xc71f1e(0xac)]||function(_0x5477d8){const _0x36c87e=a539_0xc71f1e;return _0x5477d8&&_0x5477d8[_0x36c87e(0xa6)]?_0x5477d8:{'default':_0x5477d8};};function a539_0x33f2(_0x5c0b16,_0x1592c8){const _0x5ab292=a539_0x2b4e();return a539_0x33f2=function(_0x404857,_0x39d83a){_0x404857=_0x404857-0x8b;let _0x2b4e6b=_0x5ab292[_0x404857];return _0x2b4e6b;},a539_0x33f2(_0x5c0b16,_0x1592c8);}Object['defineProperty'](exports,a539_0xc71f1e(0xa6),{'value':!![]});const Yup=__importStar(require(a539_0xc71f1e(0x97))),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require(a539_0xc71f1e(0x94))),Company_1=__importDefault(require(a539_0xc71f1e(0x8d))),User_1=__importDefault(require(a539_0xc71f1e(0xa7))),UpdateUserService=async({userData:_0x5d2322,userId:_0x5b6d3f,requestUserId:_0x4bb265})=>{const _0x1a58f1=a539_0xc71f1e,_0x255c98=await(0x0,ShowUserService_1[_0x1a58f1(0xad)])(_0x5b6d3f,_0x4bb265),_0x431625=await User_1[_0x1a58f1(0xad)][_0x1a58f1(0xb1)](_0x4bb265);if(_0x431625[_0x1a58f1(0xa1)]===![]&&_0x5d2322[_0x1a58f1(0x9b)]!==_0x431625['companyId']||_0x431625[_0x1a58f1(0xaf)]!==_0x1a58f1(0x8c)&&+_0x5b6d3f!==_0x431625['id'])throw new AppError_1[(_0x1a58f1(0xad))](_0x1a58f1(0xb0),0x193);const _0x31465a=Yup['object']()[_0x1a58f1(0xb6)]({'name':Yup['string']()[_0x1a58f1(0x8b)](0x2),'email':Yup['string']()[_0x1a58f1(0x8f)](),'profile':Yup[_0x1a58f1(0x93)](),'password':Yup[_0x1a58f1(0x93)](),'super':Yup['boolean']()}),{email:_0x395186,password:_0x33c758,profile:_0x4ca51a,name:_0x49fcbd,queueIds:queueIds=[],allTicket:_0x18b22f,whatsappId:_0x2a7ce9,startWork:_0x3f51d4,endWork:_0x2da23a,spy:_0xe6880c,isTricked:_0x1ef7a8,super:_0x3eeb74,defaultMenu:_0xeb70a0}=_0x5d2322;try{await _0x31465a[_0x1a58f1(0xa8)]({'email':_0x395186,'password':_0x33c758,'profile':_0x4ca51a,'name':_0x49fcbd,'super':_0x3eeb74});}catch(_0x377922){throw new AppError_1['default'](_0x377922['message']);}await _0x255c98[_0x1a58f1(0x92)]({'email':_0x395186,'password':_0x33c758,'profile':_0x4ca51a,'name':_0x49fcbd,'allTicket':_0x18b22f,'whatsappId':_0x2a7ce9||null,'startWork':_0x3f51d4,'endWork':_0x2da23a,'spy':_0xe6880c,'isTricked':_0x1ef7a8,'super':_0x3eeb74,'defaultMenu':_0xeb70a0}),await _0x255c98['$set'](_0x1a58f1(0xb7),queueIds),await _0x255c98[_0x1a58f1(0x9f)](),await _0x255c98['save'](),await _0x255c98[_0x1a58f1(0x96)]();const _0x2d747e=await Company_1['default']['findByPk'](_0x255c98['companyId']),_0x4f767c={'id':_0x255c98['id'],'name':_0x255c98[_0x1a58f1(0xb3)],'email':_0x255c98[_0x1a58f1(0x8f)],'profile':_0x255c98[_0x1a58f1(0xaf)],'companyId':_0x255c98[_0x1a58f1(0x9b)],'company':_0x2d747e,'queues':_0x255c98['queues']};return _0x4f767c;};exports[a539_0xc71f1e(0xad)]=UpdateUserService;