const a536_0x43c73c=a536_0x278e;(function(_0x4d29d3,_0x33feed){const _0x1bdabf=a536_0x278e,_0x1e4a3c=_0x4d29d3();while(!![]){try{const _0x1eed78=-parseInt(_0x1bdabf(0xab))/0x1*(parseInt(_0x1bdabf(0x9e))/0x2)+parseInt(_0x1bdabf(0x99))/0x3*(parseInt(_0x1bdabf(0xa6))/0x4)+-parseInt(_0x1bdabf(0xa3))/0x5*(-parseInt(_0x1bdabf(0xa1))/0x6)+-parseInt(_0x1bdabf(0xae))/0x7*(parseInt(_0x1bdabf(0xa5))/0x8)+-parseInt(_0x1bdabf(0xb0))/0x9*(parseInt(_0x1bdabf(0xa8))/0xa)+-parseInt(_0x1bdabf(0xb4))/0xb*(-parseInt(_0x1bdabf(0xb6))/0xc)+parseInt(_0x1bdabf(0x9c))/0xd;if(_0x1eed78===_0x33feed)break;else _0x1e4a3c['push'](_0x1e4a3c['shift']());}catch(_0x59c7c2){_0x1e4a3c['push'](_0x1e4a3c['shift']());}}}(a536_0x55fa,0xe55cf));const a536_0x55e80e=(function(){let _0x4d50da=!![];return function(_0x4028cc,_0x1b4eb9){const _0x20d3b5=_0x4d50da?function(){const _0x19e79a=a536_0x278e;if(_0x1b4eb9){const _0x539eb7=_0x1b4eb9[_0x19e79a(0xa4)](_0x4028cc,arguments);return _0x1b4eb9=null,_0x539eb7;}}:function(){};return _0x4d50da=![],_0x20d3b5;};}()),a536_0x1243fa=a536_0x55e80e(this,function(){const _0x77edbf=a536_0x278e;return a536_0x1243fa[_0x77edbf(0xaa)]()[_0x77edbf(0x9d)]('(((.+)+)+)+$')[_0x77edbf(0xaa)]()[_0x77edbf(0xb1)](a536_0x1243fa)[_0x77edbf(0x9d)](_0x77edbf(0xa7));});a536_0x1243fa();function a536_0x55fa(){const _0x327a9a=['3vlzRrg','ERR_FORBIDDEN','length','14366976qlorPE','search','94afTZnG','open','default','2727558nPTXbg','companyId','15WaXIoV','apply','72pUIiTJ','6234092kpzmtV','(((.+)+)+)+$','4949170OdxXLf','../../errors/AppError','toString','39891HxYxFV','defineProperty','tickets','1169539XBVkcG','../../helpers/UpdateDeletedUserOpenTicketsStatus','27NUnMmr','constructor','ERR_NO_USER_FOUND','findByPk','22VlDiRc','__esModule','10652028eFuMyh'];a536_0x55fa=function(){return _0x327a9a;};return a536_0x55fa();}function a536_0x278e(_0x5c41f5,_0xc6f827){const _0x3bfef0=a536_0x55fa();return a536_0x278e=function(_0x1243fa,_0x55e80e){_0x1243fa=_0x1243fa-0x99;let _0x55faae=_0x3bfef0[_0x1243fa];return _0x55faae;},a536_0x278e(_0x5c41f5,_0xc6f827);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2091df){const _0x5da61c=a536_0x278e;return _0x2091df&&_0x2091df[_0x5da61c(0xb5)]?_0x2091df:{'default':_0x2091df};};Object[a536_0x43c73c(0xac)](exports,a536_0x43c73c(0xb5),{'value':!![]});const User_1=__importDefault(require('../../models/User')),AppError_1=__importDefault(require(a536_0x43c73c(0xa9))),UpdateDeletedUserOpenTicketsStatus_1=__importDefault(require(a536_0x43c73c(0xaf))),DeleteUserService=async(_0x2854b9,_0x292afb)=>{const _0x4cc517=a536_0x43c73c,_0x138b84=await User_1['default']['findOne']({'where':{'id':_0x2854b9}});if(!_0x138b84)throw new AppError_1[(_0x4cc517(0xa0))](_0x4cc517(0xb2),0x194);const _0x375109=await User_1[_0x4cc517(0xa0)][_0x4cc517(0xb3)](_0x292afb);if(!_0x375109)throw new AppError_1[(_0x4cc517(0xa0))]('ERR_NO_USER_FOUND',0x194);if(!_0x375109['super']&&_0x138b84[_0x4cc517(0xa2)]!==_0x375109[_0x4cc517(0xa2)])throw new AppError_1[(_0x4cc517(0xa0))](_0x4cc517(0x9a),0x193);if(_0x138b84['super'])throw new AppError_1[(_0x4cc517(0xa0))]('ERR_NO_USER_DELETE',0x193);const _0x2124c4=await _0x138b84['$get'](_0x4cc517(0xad),{'where':{'status':_0x4cc517(0x9f)}});_0x2124c4[_0x4cc517(0x9b)]>0x0&&await(0x0,UpdateDeletedUserOpenTicketsStatus_1[_0x4cc517(0xa0)])(_0x2124c4,_0x138b84[_0x4cc517(0xa2)]),await _0x138b84['destroy']();};exports[a536_0x43c73c(0xa0)]=DeleteUserService;