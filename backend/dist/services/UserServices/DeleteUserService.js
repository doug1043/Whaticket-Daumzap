const a564_0xc10e2c=a564_0x20f0;function a564_0x55c0(){const _0x4e4cad=['findOne','constructor','1290003IMMjBq','25zhpWZP','default','20mFLWLx','ERR_NO_USER_FOUND','findByPk','82773chbkyD','apply','__importDefault','1044TfBVIt','204636LCgJOq','../../models/User','length','search','destroy','defineProperty','3663ElmvMC','145240KHsnkv','339439qNaFsg','(((.+)+)+)+$','ERR_FORBIDDEN','70SXzzOu','companyId','317910DtQTZz','__esModule','tickets'];a564_0x55c0=function(){return _0x4e4cad;};return a564_0x55c0();}(function(_0x511169,_0x49046b){const _0x34be4b=a564_0x20f0,_0x1f4042=_0x511169();while(!![]){try{const _0x1a507e=-parseInt(_0x34be4b(0x183))/0x1+-parseInt(_0x34be4b(0x197))/0x2+parseInt(_0x34be4b(0x181))/0x3*(parseInt(_0x34be4b(0x196))/0x4)+parseInt(_0x34be4b(0x18e))/0x5*(parseInt(_0x34be4b(0x188))/0x6)+parseInt(_0x34be4b(0x186))/0x7*(parseInt(_0x34be4b(0x182))/0x8)+-parseInt(_0x34be4b(0x193))/0x9*(parseInt(_0x34be4b(0x190))/0xa)+-parseInt(_0x34be4b(0x18d))/0xb;if(_0x1a507e===_0x49046b)break;else _0x1f4042['push'](_0x1f4042['shift']());}catch(_0x58f5d1){_0x1f4042['push'](_0x1f4042['shift']());}}}(a564_0x55c0,0x2dd54));const a564_0x484928=(function(){let _0x19fe5d=!![];return function(_0x55533a,_0x50ef07){const _0x5b4da8=_0x19fe5d?function(){const _0x855cb3=a564_0x20f0;if(_0x50ef07){const _0x4ea11c=_0x50ef07[_0x855cb3(0x194)](_0x55533a,arguments);return _0x50ef07=null,_0x4ea11c;}}:function(){};return _0x19fe5d=![],_0x5b4da8;};}()),a564_0xc52aa6=a564_0x484928(this,function(){const _0x1214e5=a564_0x20f0;return a564_0xc52aa6['toString']()[_0x1214e5(0x17e)](_0x1214e5(0x184))['toString']()[_0x1214e5(0x18c)](a564_0xc52aa6)[_0x1214e5(0x17e)](_0x1214e5(0x184));});a564_0xc52aa6();'use strict';var __importDefault=this&&this[a564_0xc10e2c(0x195)]||function(_0xac3912){const _0x7c4abe=a564_0xc10e2c;return _0xac3912&&_0xac3912[_0x7c4abe(0x189)]?_0xac3912:{'default':_0xac3912};};function a564_0x20f0(_0x35acee,_0xb66a7c){const _0x25a4fc=a564_0x55c0();return a564_0x20f0=function(_0xc52aa6,_0x484928){_0xc52aa6=_0xc52aa6-0x17e;let _0x55c0bc=_0x25a4fc[_0xc52aa6];return _0x55c0bc;},a564_0x20f0(_0x35acee,_0xb66a7c);}Object[a564_0xc10e2c(0x180)](exports,'__esModule',{'value':!![]});const User_1=__importDefault(require(a564_0xc10e2c(0x198))),AppError_1=__importDefault(require('../../errors/AppError')),UpdateDeletedUserOpenTicketsStatus_1=__importDefault(require('../../helpers/UpdateDeletedUserOpenTicketsStatus')),DeleteUserService=async(_0xb0dce8,_0xcc1160)=>{const _0x2bb156=a564_0xc10e2c,_0x4b9653=await User_1[_0x2bb156(0x18f)][_0x2bb156(0x18b)]({'where':{'id':_0xb0dce8}}),_0x155e85=await User_1['default'][_0x2bb156(0x192)](_0xcc1160);if(_0x155e85['super']===![]&&_0x4b9653['companyId']!==_0x155e85[_0x2bb156(0x187)])throw new AppError_1[(_0x2bb156(0x18f))](_0x2bb156(0x185),0x193);if(!_0x4b9653)throw new AppError_1[(_0x2bb156(0x18f))](_0x2bb156(0x191),0x194);const _0x243448=await _0x4b9653['$get'](_0x2bb156(0x18a),{'where':{'status':'open'}});_0x243448[_0x2bb156(0x199)]>0x0&&(0x0,UpdateDeletedUserOpenTicketsStatus_1['default'])(_0x243448,_0x4b9653[_0x2bb156(0x187)]),await _0x4b9653[_0x2bb156(0x17f)]();};exports['default']=DeleteUserService;