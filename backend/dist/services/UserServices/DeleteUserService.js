const a537_0x126449=a537_0x47bf;(function(_0x1c0e3c,_0x25a837){const _0xa9895b=a537_0x47bf,_0x567fcc=_0x1c0e3c();while(!![]){try{const _0x4af326=-parseInt(_0xa9895b(0x19c))/0x1+parseInt(_0xa9895b(0x194))/0x2+-parseInt(_0xa9895b(0x1ae))/0x3*(parseInt(_0xa9895b(0x1ab))/0x4)+-parseInt(_0xa9895b(0x1a8))/0x5*(-parseInt(_0xa9895b(0x1aa))/0x6)+parseInt(_0xa9895b(0x19e))/0x7+parseInt(_0xa9895b(0x193))/0x8+-parseInt(_0xa9895b(0x1a2))/0x9*(-parseInt(_0xa9895b(0x196))/0xa);if(_0x4af326===_0x25a837)break;else _0x567fcc['push'](_0x567fcc['shift']());}catch(_0x1cde50){_0x567fcc['push'](_0x567fcc['shift']());}}}(a537_0x286e,0x1e3d2));const a537_0x8ef33a=(function(){let _0x4bddb4=!![];return function(_0x5f46e6,_0x5bc324){const _0x65e817=_0x4bddb4?function(){const _0x11fcf6=a537_0x47bf;if(_0x5bc324){const _0x46032e=_0x5bc324[_0x11fcf6(0x1ad)](_0x5f46e6,arguments);return _0x5bc324=null,_0x46032e;}}:function(){};return _0x4bddb4=![],_0x65e817;};}()),a537_0x30fa6a=a537_0x8ef33a(this,function(){const _0xf147a5=a537_0x47bf;return a537_0x30fa6a[_0xf147a5(0x1ac)]()['search']('(((.+)+)+)+$')[_0xf147a5(0x1ac)]()['constructor'](a537_0x30fa6a)[_0xf147a5(0x1a7)](_0xf147a5(0x1a0));});a537_0x30fa6a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x564c8d){const _0x591102=a537_0x47bf;return _0x564c8d&&_0x564c8d[_0x591102(0x19a)]?_0x564c8d:{'default':_0x564c8d};};function a537_0x286e(){const _0x137acd=['227898uKbaSd','companyId','20780tkEfth','../../models/User','open','defineProperty','__esModule','../../helpers/UpdateDeletedUserOpenTicketsStatus','72417IzUgxU','findByPk','354312hUaRBR','destroy','(((.+)+)+)+$','ERR_NO_USER_DELETE','153PfiRwH','length','tickets','ERR_FORBIDDEN','ERR_NO_USER_FOUND','search','2795DXULpU','findOne','426qlDRwC','12vGVDzm','toString','apply','91041mLyhYt','super','default','381888gUUAQh'];a537_0x286e=function(){return _0x137acd;};return a537_0x286e();}function a537_0x47bf(_0x38f636,_0x9dbfb3){const _0x203097=a537_0x286e();return a537_0x47bf=function(_0x30fa6a,_0x8ef33a){_0x30fa6a=_0x30fa6a-0x191;let _0x286ee9=_0x203097[_0x30fa6a];return _0x286ee9;},a537_0x47bf(_0x38f636,_0x9dbfb3);}Object[a537_0x126449(0x199)](exports,a537_0x126449(0x19a),{'value':!![]});const User_1=__importDefault(require(a537_0x126449(0x197))),AppError_1=__importDefault(require('../../errors/AppError')),UpdateDeletedUserOpenTicketsStatus_1=__importDefault(require(a537_0x126449(0x19b))),DeleteUserService=async(_0x438bfa,_0x4aab6b)=>{const _0x4a0843=a537_0x126449,_0x2c039a=await User_1[_0x4a0843(0x192)][_0x4a0843(0x1a9)]({'where':{'id':_0x438bfa}});if(!_0x2c039a)throw new AppError_1[(_0x4a0843(0x192))]('ERR_NO_USER_FOUND',0x194);const _0x37680f=await User_1[_0x4a0843(0x192)][_0x4a0843(0x19d)](_0x4aab6b);if(!_0x37680f)throw new AppError_1[(_0x4a0843(0x192))](_0x4a0843(0x1a6),0x194);if(!_0x37680f[_0x4a0843(0x191)]&&_0x2c039a[_0x4a0843(0x195)]!==_0x37680f[_0x4a0843(0x195)])throw new AppError_1[(_0x4a0843(0x192))](_0x4a0843(0x1a5),0x193);if(_0x2c039a[_0x4a0843(0x191)])throw new AppError_1[(_0x4a0843(0x192))](_0x4a0843(0x1a1),0x193);const _0x564008=await _0x2c039a['$get'](_0x4a0843(0x1a4),{'where':{'status':_0x4a0843(0x198)}});_0x564008[_0x4a0843(0x1a3)]>0x0&&await(0x0,UpdateDeletedUserOpenTicketsStatus_1[_0x4a0843(0x192)])(_0x564008,_0x2c039a['companyId']),await _0x2c039a[_0x4a0843(0x19f)]();};exports['default']=DeleteUserService;