const a564_0x4ee067=a564_0x2482;function a564_0x2482(_0x12b4f8,_0x143f33){const _0x4101f3=a564_0x399a();return a564_0x2482=function(_0x16d40e,_0x355b7c){_0x16d40e=_0x16d40e-0x17a;let _0x399a69=_0x4101f3[_0x16d40e];return _0x399a69;},a564_0x2482(_0x12b4f8,_0x143f33);}(function(_0x5df638,_0x23aab0){const _0x1e648d=a564_0x2482,_0x48f8c0=_0x5df638();while(!![]){try{const _0x4f5d48=parseInt(_0x1e648d(0x17e))/0x1*(-parseInt(_0x1e648d(0x180))/0x2)+-parseInt(_0x1e648d(0x187))/0x3*(parseInt(_0x1e648d(0x18e))/0x4)+-parseInt(_0x1e648d(0x189))/0x5+-parseInt(_0x1e648d(0x18b))/0x6*(parseInt(_0x1e648d(0x182))/0x7)+parseInt(_0x1e648d(0x196))/0x8*(parseInt(_0x1e648d(0x195))/0x9)+-parseInt(_0x1e648d(0x183))/0xa*(-parseInt(_0x1e648d(0x193))/0xb)+parseInt(_0x1e648d(0x190))/0xc;if(_0x4f5d48===_0x23aab0)break;else _0x48f8c0['push'](_0x48f8c0['shift']());}catch(_0x15ed12){_0x48f8c0['push'](_0x48f8c0['shift']());}}}(a564_0x399a,0xe14d3));function a564_0x399a(){const _0x3f58b5=['115728xxhtsv','ERR_NO_USER_FOUND','default','1347676TvJEtV','toString','57238260ypDDHk','../../helpers/UpdateDeletedUserOpenTicketsStatus','__importDefault','1631993vSWGYm','companyId','234FyNfax','51944rtIIAG','defineProperty','search','tickets','length','apply','709387jWGKtZ','open','4qEbJGQ','__esModule','644OTfUUV','20uXIxAs','$get','findOne','../../errors/AppError','3FOnXEA','(((.+)+)+)+$','3911875XjmrPS','constructor'];a564_0x399a=function(){return _0x3f58b5;};return a564_0x399a();}const a564_0x355b7c=(function(){let _0x4d380d=!![];return function(_0x19271f,_0x424e63){const _0x529d62=_0x4d380d?function(){const _0xad78c0=a564_0x2482;if(_0x424e63){const _0x4f89e2=_0x424e63[_0xad78c0(0x17d)](_0x19271f,arguments);return _0x424e63=null,_0x4f89e2;}}:function(){};return _0x4d380d=![],_0x529d62;};}()),a564_0x16d40e=a564_0x355b7c(this,function(){const _0x4b6d4d=a564_0x2482;return a564_0x16d40e[_0x4b6d4d(0x18f)]()[_0x4b6d4d(0x17a)](_0x4b6d4d(0x188))['toString']()[_0x4b6d4d(0x18a)](a564_0x16d40e)[_0x4b6d4d(0x17a)](_0x4b6d4d(0x188));});a564_0x16d40e();'use strict';var __importDefault=this&&this[a564_0x4ee067(0x192)]||function(_0x3b715f){const _0x36cb33=a564_0x4ee067;return _0x3b715f&&_0x3b715f[_0x36cb33(0x181)]?_0x3b715f:{'default':_0x3b715f};};Object[a564_0x4ee067(0x197)](exports,a564_0x4ee067(0x181),{'value':!![]});const User_1=__importDefault(require('../../models/User')),AppError_1=__importDefault(require(a564_0x4ee067(0x186))),UpdateDeletedUserOpenTicketsStatus_1=__importDefault(require(a564_0x4ee067(0x191))),DeleteUserService=async(_0x3a01fb,_0x1ac382)=>{const _0x51ba42=a564_0x4ee067,_0xc8d12b=await User_1[_0x51ba42(0x18d)][_0x51ba42(0x185)]({'where':{'id':_0x3a01fb}}),_0x237e02=await User_1[_0x51ba42(0x18d)]['findByPk'](_0x1ac382);if(_0x237e02['super']===![]&&_0xc8d12b[_0x51ba42(0x194)]!==_0x237e02[_0x51ba42(0x194)])throw new AppError_1[(_0x51ba42(0x18d))]('ERR_FORBIDDEN',0x193);if(!_0xc8d12b)throw new AppError_1[(_0x51ba42(0x18d))](_0x51ba42(0x18c),0x194);const _0x1c5c7f=await _0xc8d12b[_0x51ba42(0x184)](_0x51ba42(0x17b),{'where':{'status':_0x51ba42(0x17f)}});_0x1c5c7f[_0x51ba42(0x17c)]>0x0&&(0x0,UpdateDeletedUserOpenTicketsStatus_1[_0x51ba42(0x18d)])(_0x1c5c7f,_0xc8d12b['companyId']),await _0xc8d12b['destroy']();};exports['default']=DeleteUserService;