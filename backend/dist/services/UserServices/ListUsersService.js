const a568_0x45f462=a568_0x378e;function a568_0xa0c9(){const _0x2db375=['1694898mOLmTG','DESC','3598632kVdGUT','like','2nBxbxR','createdAt','LIKE','20LJdwpi','Sequelize','constructor','name','search','1112WyRaDO','toString','User.name','__esModule','14211JrLMVn','col','apply','sequelize','toLowerCase','2384283MRPlcc','findAndCountAll','30IMeBIR','profile','company','email','queues','1190297zJThxx','3450083UTnxTh','394736IKEeju','../../models/User','length','(((.+)+)+)+$','default','color','__importDefault'];a568_0xa0c9=function(){return _0x2db375;};return a568_0xa0c9();}function a568_0x378e(_0xb5704,_0x12c07b){const _0x47b6d0=a568_0xa0c9();return a568_0x378e=function(_0x2e2ffa,_0x519a62){_0x2e2ffa=_0x2e2ffa-0x91;let _0xa0c97=_0x47b6d0[_0x2e2ffa];return _0xa0c97;},a568_0x378e(_0xb5704,_0x12c07b);}(function(_0x1f22bb,_0xd59b27){const _0x478086=a568_0x378e,_0x47850a=_0x1f22bb();while(!![]){try{const _0x11ebb4=-parseInt(_0x478086(0xb3))/0x1+-parseInt(_0x478086(0x9b))/0x2*(-parseInt(_0x478086(0x97))/0x3)+-parseInt(_0x478086(0xb5))/0x4*(-parseInt(_0x478086(0x9e))/0x5)+parseInt(_0x478086(0x99))/0x6+-parseInt(_0x478086(0xb4))/0x7+parseInt(_0x478086(0xa3))/0x8*(parseInt(_0x478086(0xa7))/0x9)+parseInt(_0x478086(0xae))/0xa*(parseInt(_0x478086(0xac))/0xb);if(_0x11ebb4===_0xd59b27)break;else _0x47850a['push'](_0x47850a['shift']());}catch(_0x5ef53e){_0x47850a['push'](_0x47850a['shift']());}}}(a568_0xa0c9,0xb6240));const a568_0x519a62=(function(){let _0x5251ef=!![];return function(_0x20d4d2,_0x11ad5c){const _0x30150a=_0x5251ef?function(){const _0x4b4262=a568_0x378e;if(_0x11ad5c){const _0x242f5a=_0x11ad5c[_0x4b4262(0xa9)](_0x20d4d2,arguments);return _0x11ad5c=null,_0x242f5a;}}:function(){};return _0x5251ef=![],_0x30150a;};}()),a568_0x2e2ffa=a568_0x519a62(this,function(){const _0x15d745=a568_0x378e;return a568_0x2e2ffa['toString']()[_0x15d745(0xa2)](_0x15d745(0x93))[_0x15d745(0xa4)]()[_0x15d745(0xa0)](a568_0x2e2ffa)[_0x15d745(0xa2)]('(((.+)+)+)+$');});a568_0x2e2ffa();'use strict';var __importDefault=this&&this[a568_0x45f462(0x96)]||function(_0x56c80f){return _0x56c80f&&_0x56c80f['__esModule']?_0x56c80f:{'default':_0x56c80f};};Object['defineProperty'](exports,a568_0x45f462(0xa6),{'value':!![]});const sequelize_1=require(a568_0x45f462(0xaa)),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a568_0x45f462(0x91))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x2907ab})=>{const _0x51dce3=a568_0x45f462,_0xcfb114={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x51dce3(0x9f)]['where'](sequelize_1[_0x51dce3(0x9f)]['fn']('LOWER',sequelize_1[_0x51dce3(0x9f)][_0x51dce3(0xa8)](_0x51dce3(0xa5))),_0x51dce3(0x9d),'%'+searchParam[_0x51dce3(0xab)]()+'%')},{'email':{[sequelize_1['Op'][_0x51dce3(0x9a)]]:'%'+searchParam['toLowerCase']()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x2907ab}},_0x2b81e8=0x14,_0x53efff=_0x2b81e8*(+pageNumber-0x1),{count:_0x288893,rows:_0x4075de}=await User_1[_0x51dce3(0x94)][_0x51dce3(0xad)]({'where':_0xcfb114,'attributes':[_0x51dce3(0xa1),'id',_0x51dce3(0xb1),'companyId',_0x51dce3(0xaf),_0x51dce3(0x9c)],'limit':_0x2b81e8,'offset':_0x53efff,'order':[['createdAt',_0x51dce3(0x98)]],'include':[{'model':Queue_1[_0x51dce3(0x94)],'as':_0x51dce3(0xb2),'attributes':['id',_0x51dce3(0xa1),_0x51dce3(0x95)]},{'model':Company_1['default'],'as':_0x51dce3(0xb0),'attributes':['id',_0x51dce3(0xa1)]}]}),_0x5c0028=_0x4075de['filter'](_0x2f04b2=>_0x2f04b2['online'])[_0x51dce3(0x92)],_0x4da95c=_0x4075de[_0x51dce3(0x92)]-_0x5c0028,_0x53e85a=_0x288893>_0x53efff+_0x4075de[_0x51dce3(0x92)];return{'users':_0x4075de,'onlineCount':_0x5c0028,'offlineCount':_0x4da95c,'count':_0x288893,'hasMore':_0x53e85a};};exports[a568_0x45f462(0x94)]=ListUsersService;