const a569_0xa58781=a569_0x5c39;(function(_0x4f805e,_0x1e3379){const _0x3a36e5=a569_0x5c39,_0x245bf5=_0x4f805e();while(!![]){try{const _0xdc214b=-parseInt(_0x3a36e5(0xf9))/0x1*(-parseInt(_0x3a36e5(0xf4))/0x2)+parseInt(_0x3a36e5(0xf7))/0x3*(-parseInt(_0x3a36e5(0xce))/0x4)+-parseInt(_0x3a36e5(0xcf))/0x5+parseInt(_0x3a36e5(0xe1))/0x6*(-parseInt(_0x3a36e5(0xf5))/0x7)+parseInt(_0x3a36e5(0xe9))/0x8*(-parseInt(_0x3a36e5(0xf1))/0x9)+-parseInt(_0x3a36e5(0xd4))/0xa*(-parseInt(_0x3a36e5(0xf3))/0xb)+parseInt(_0x3a36e5(0xd8))/0xc*(parseInt(_0x3a36e5(0xeb))/0xd);if(_0xdc214b===_0x1e3379)break;else _0x245bf5['push'](_0x245bf5['shift']());}catch(_0x5916d3){_0x245bf5['push'](_0x245bf5['shift']());}}}(a569_0x2a24,0x454be));function a569_0x5c39(_0x16ad8f,_0x26f801){const _0x244491=a569_0x2a24();return a569_0x5c39=function(_0x486954,_0x290ce1){_0x486954=_0x486954-0xce;let _0x2a24d0=_0x244491[_0x486954];return _0x2a24d0;},a569_0x5c39(_0x16ad8f,_0x26f801);}function a569_0x2a24(){const _0x26ac4e=['defineProperty','54dMVUhN','isTricked','User.name','findAndCountAll','(((.+)+)+)+$','toLowerCase','search','filter','3566120EuNHoj','online','13xTZlif','__esModule','createdAt','Sequelize','toString','__importDefault','9QuDjbr','sequelize','99PajUkP','32324ZDtncb','129318jzXFES','super','15DWmPqR','where','5vFOaZS','col','230536XAmXOV','684655rrDlhI','spy','length','apply','LOWER','274690eVcZRD','color','profile','name','11915268uHObwX','endWork','LIKE','defaultMenu','email','default','../../models/User','DESC'];a569_0x2a24=function(){return _0x26ac4e;};return a569_0x2a24();}const a569_0x290ce1=(function(){let _0x4a755b=!![];return function(_0x444b5b,_0x4e0fda){const _0x505c50=_0x4a755b?function(){const _0x36b3db=a569_0x5c39;if(_0x4e0fda){const _0x59372a=_0x4e0fda[_0x36b3db(0xd2)](_0x444b5b,arguments);return _0x4e0fda=null,_0x59372a;}}:function(){};return _0x4a755b=![],_0x505c50;};}()),a569_0x486954=a569_0x290ce1(this,function(){const _0x9a4f1=a569_0x5c39;return a569_0x486954[_0x9a4f1(0xef)]()['search'](_0x9a4f1(0xe5))[_0x9a4f1(0xef)]()['constructor'](a569_0x486954)[_0x9a4f1(0xe7)](_0x9a4f1(0xe5));});a569_0x486954();'use strict';var __importDefault=this&&this[a569_0xa58781(0xf0)]||function(_0x21f4de){const _0x2d5d35=a569_0xa58781;return _0x21f4de&&_0x21f4de[_0x2d5d35(0xec)]?_0x21f4de:{'default':_0x21f4de};};Object[a569_0xa58781(0xe0)](exports,a569_0xa58781(0xec),{'value':!![]});const sequelize_1=require(a569_0xa58781(0xf2)),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a569_0xa58781(0xde))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x2ef841})=>{const _0x154d77=a569_0xa58781,_0x415b34={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x154d77(0xee)][_0x154d77(0xf8)](sequelize_1[_0x154d77(0xee)]['fn'](_0x154d77(0xd3),sequelize_1['Sequelize'][_0x154d77(0xfa)](_0x154d77(0xe3))),_0x154d77(0xda),'%'+searchParam[_0x154d77(0xe6)]()+'%')},{'email':{[sequelize_1['Op']['like']]:'%'+searchParam['toLowerCase']()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x2ef841}},_0x58785e=0x14,_0x519551=_0x58785e*(+pageNumber-0x1),{count:_0x377a50,rows:_0x2bfdd1}=await User_1[_0x154d77(0xdd)][_0x154d77(0xe4)]({'where':_0x415b34,'attributes':[_0x154d77(0xd7),'id',_0x154d77(0xdc),'companyId',_0x154d77(0xd6),_0x154d77(0xed),'online',_0x154d77(0xe2),_0x154d77(0xd0),'allTicket','whatsappId','startWork',_0x154d77(0xd9),_0x154d77(0xdb),_0x154d77(0xf6)],'limit':_0x58785e,'offset':_0x519551,'order':[[_0x154d77(0xed),_0x154d77(0xdf)]],'include':[{'model':Queue_1['default'],'as':'queues','attributes':['id',_0x154d77(0xd7),_0x154d77(0xd5)]},{'model':Company_1[_0x154d77(0xdd)],'as':'company','attributes':['id',_0x154d77(0xd7)]}]}),_0x40cff5=_0x2bfdd1[_0x154d77(0xe8)](_0x20829d=>_0x20829d[_0x154d77(0xea)])['length'],_0x200d47=_0x2bfdd1[_0x154d77(0xd1)]-_0x40cff5,_0x5e573a=_0x377a50>_0x519551+_0x2bfdd1[_0x154d77(0xd1)];return{'users':_0x2bfdd1,'onlineCount':_0x40cff5,'offlineCount':_0x200d47,'count':_0x377a50,'hasMore':_0x5e573a};};exports['default']=ListUsersService;