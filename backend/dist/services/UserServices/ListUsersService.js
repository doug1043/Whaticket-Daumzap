const a565_0x110199=a565_0x8ea2;(function(_0x4efcfa,_0x2b76a2){const _0x10edf0=a565_0x8ea2,_0x42a983=_0x4efcfa();while(!![]){try{const _0xdae656=-parseInt(_0x10edf0(0x190))/0x1+-parseInt(_0x10edf0(0x191))/0x2+parseInt(_0x10edf0(0x1a2))/0x3+parseInt(_0x10edf0(0x184))/0x4*(parseInt(_0x10edf0(0x18c))/0x5)+-parseInt(_0x10edf0(0x19d))/0x6*(-parseInt(_0x10edf0(0x187))/0x7)+-parseInt(_0x10edf0(0x192))/0x8*(-parseInt(_0x10edf0(0x1a4))/0x9)+-parseInt(_0x10edf0(0x185))/0xa;if(_0xdae656===_0x2b76a2)break;else _0x42a983['push'](_0x42a983['shift']());}catch(_0x112bf3){_0x42a983['push'](_0x42a983['shift']());}}}(a565_0x2235,0x22dc2));const a565_0x162bd9=(function(){let _0x2b6965=!![];return function(_0x15e4bc,_0x5f5178){const _0x3c130e=_0x2b6965?function(){const _0x1a84d4=a565_0x8ea2;if(_0x5f5178){const _0x33b093=_0x5f5178[_0x1a84d4(0x1a0)](_0x15e4bc,arguments);return _0x5f5178=null,_0x33b093;}}:function(){};return _0x2b6965=![],_0x3c130e;};}()),a565_0x2426dc=a565_0x162bd9(this,function(){const _0x1aa401=a565_0x8ea2;return a565_0x2426dc[_0x1aa401(0x197)]()[_0x1aa401(0x18f)]('(((.+)+)+)+$')[_0x1aa401(0x197)]()['constructor'](a565_0x2426dc)['search'](_0x1aa401(0x1a1));});function a565_0x2235(){const _0x186072=['LOWER','4UHDSsq','2982730wCyGJd','filter','1130689LLuSVX','online','LIKE','defineProperty','../../models/Company','1060115gKMBfv','color','Sequelize','search','87169iYvudK','157316GjoXdv','10024mMTvpp','__esModule','length','default','like','toString','profile','name','toLowerCase','DESC','queues','6gqfPdR','where','__importDefault','apply','(((.+)+)+)+$','335385fbwmDB','../../models/Queue','873AbVuyV','email','col','createdAt'];a565_0x2235=function(){return _0x186072;};return a565_0x2235();}a565_0x2426dc();'use strict';var __importDefault=this&&this[a565_0x110199(0x19f)]||function(_0x153f92){return _0x153f92&&_0x153f92['__esModule']?_0x153f92:{'default':_0x153f92};};function a565_0x8ea2(_0x5dd63d,_0x4137bf){const _0x1a5907=a565_0x2235();return a565_0x8ea2=function(_0x2426dc,_0x162bd9){_0x2426dc=_0x2426dc-0x183;let _0x22358d=_0x1a5907[_0x2426dc];return _0x22358d;},a565_0x8ea2(_0x5dd63d,_0x4137bf);}Object[a565_0x110199(0x18a)](exports,a565_0x110199(0x193),{'value':!![]});const sequelize_1=require('sequelize'),Queue_1=__importDefault(require(a565_0x110199(0x1a3))),Company_1=__importDefault(require(a565_0x110199(0x18b))),User_1=__importDefault(require('../../models/User')),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x1971da})=>{const _0x35bec6=a565_0x110199,_0x40ef58={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x35bec6(0x18e)][_0x35bec6(0x19e)](sequelize_1[_0x35bec6(0x18e)]['fn'](_0x35bec6(0x183),sequelize_1[_0x35bec6(0x18e)][_0x35bec6(0x1a6)]('User.name')),_0x35bec6(0x189),'%'+searchParam[_0x35bec6(0x19a)]()+'%')},{'email':{[sequelize_1['Op'][_0x35bec6(0x196)]]:'%'+searchParam['toLowerCase']()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x1971da}},_0x3cca8d=0x14,_0x2cd3a9=_0x3cca8d*(+pageNumber-0x1),{count:_0x3f5e7f,rows:_0x36d4d7}=await User_1[_0x35bec6(0x195)]['findAndCountAll']({'where':_0x40ef58,'attributes':[_0x35bec6(0x199),'id',_0x35bec6(0x1a5),'companyId',_0x35bec6(0x198),_0x35bec6(0x1a7)],'limit':_0x3cca8d,'offset':_0x2cd3a9,'order':[[_0x35bec6(0x1a7),_0x35bec6(0x19b)]],'include':[{'model':Queue_1[_0x35bec6(0x195)],'as':_0x35bec6(0x19c),'attributes':['id',_0x35bec6(0x199),_0x35bec6(0x18d)]},{'model':Company_1[_0x35bec6(0x195)],'as':'company','attributes':['id','name']}]}),_0x331608=_0x36d4d7[_0x35bec6(0x186)](_0x1a9758=>_0x1a9758[_0x35bec6(0x188)])[_0x35bec6(0x194)],_0x4173ba=_0x36d4d7[_0x35bec6(0x194)]-_0x331608,_0xb305f7=_0x3f5e7f>_0x2cd3a9+_0x36d4d7['length'];return{'users':_0x36d4d7,'onlineCount':_0x331608,'offlineCount':_0x4173ba,'count':_0x3f5e7f,'hasMore':_0xb305f7};};exports['default']=ListUsersService;