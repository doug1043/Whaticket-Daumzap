const a536_0x33659d=a536_0x25c7;(function(_0x1766e2,_0x456464){const _0x2f4fff=a536_0x25c7,_0x238250=_0x1766e2();while(!![]){try{const _0xd590a9=-parseInt(_0x2f4fff(0x9e))/0x1*(-parseInt(_0x2f4fff(0x9b))/0x2)+-parseInt(_0x2f4fff(0xa5))/0x3+parseInt(_0x2f4fff(0xa0))/0x4+-parseInt(_0x2f4fff(0x9f))/0x5*(parseInt(_0x2f4fff(0x93))/0x6)+parseInt(_0x2f4fff(0x9a))/0x7*(-parseInt(_0x2f4fff(0x95))/0x8)+-parseInt(_0x2f4fff(0xb1))/0x9+-parseInt(_0x2f4fff(0x94))/0xa*(-parseInt(_0x2f4fff(0x8f))/0xb);if(_0xd590a9===_0x456464)break;else _0x238250['push'](_0x238250['shift']());}catch(_0x18aba4){_0x238250['push'](_0x238250['shift']());}}}(a536_0x9ec0,0x82788));function a536_0x9ec0(){const _0x577a35=['online','createdAt','defineProperty','endWork','__esModule','__importDefault','sequelize','constructor','filter','toLowerCase','default','1037925TIHFib','findAndCountAll','DESC','(((.+)+)+)+$','company','2614139eUxUpI','profile','length','defaultMenu','30JrqzmM','50ctjMoj','10840ZIMGuN','spy','toString','startWork','color','4011IhpyCs','2wEVAQg','name','search','975208vCGKUG','790015bTrAQP','294164vZbWGe','queues','companyId','iLike','../../models/User','62493iBeuzY'];a536_0x9ec0=function(){return _0x577a35;};return a536_0x9ec0();}const a536_0x27bda8=(function(){let _0x50ae78=!![];return function(_0x5cbcdb,_0x31c0ba){const _0x40c2c6=_0x50ae78?function(){if(_0x31c0ba){const _0x495c46=_0x31c0ba['apply'](_0x5cbcdb,arguments);return _0x31c0ba=null,_0x495c46;}}:function(){};return _0x50ae78=![],_0x40c2c6;};}()),a536_0x54f167=a536_0x27bda8(this,function(){const _0x51c6e9=a536_0x25c7;return a536_0x54f167[_0x51c6e9(0x97)]()[_0x51c6e9(0x9d)](_0x51c6e9(0x8d))['toString']()[_0x51c6e9(0xad)](a536_0x54f167)[_0x51c6e9(0x9d)](_0x51c6e9(0x8d));});a536_0x54f167();'use strict';var __importDefault=this&&this[a536_0x33659d(0xab)]||function(_0x963f8b){return _0x963f8b&&_0x963f8b['__esModule']?_0x963f8b:{'default':_0x963f8b};};function a536_0x25c7(_0xbf951b,_0x2ffd7c){const _0xc5df4f=a536_0x9ec0();return a536_0x25c7=function(_0x54f167,_0x27bda8){_0x54f167=_0x54f167-0x8c;let _0x9ec057=_0xc5df4f[_0x54f167];return _0x9ec057;},a536_0x25c7(_0xbf951b,_0x2ffd7c);}Object[a536_0x33659d(0xa8)](exports,a536_0x33659d(0xaa),{'value':!![]});const sequelize_1=require(a536_0x33659d(0xac)),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a536_0x33659d(0xa4))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x1e4bf9})=>{const _0x26d971=a536_0x33659d,_0xd71dd3={'companyId':{[sequelize_1['Op']['eq']]:_0x1e4bf9}};searchParam&&(_0xd71dd3[sequelize_1['Op']['or']]=[{'name':{[sequelize_1['Op'][_0x26d971(0xa3)]]:'%'+searchParam[_0x26d971(0xaf)]()+'%'}},{'email':{[sequelize_1['Op'][_0x26d971(0xa3)]]:'%'+searchParam[_0x26d971(0xaf)]()+'%'}}]);const _0x56e34a=0x14,_0x3aa855=_0x56e34a*(Number(pageNumber)-0x1),{count:_0x437ca7,rows:_0x5cff35}=await User_1[_0x26d971(0xb0)][_0x26d971(0xb2)]({'where':_0xd71dd3,'attributes':[_0x26d971(0x9c),'id','email',_0x26d971(0xa2),_0x26d971(0x90),'allTicket','isTricked',_0x26d971(0x96),'createdAt',_0x26d971(0xa6),_0x26d971(0x98),_0x26d971(0xa9),_0x26d971(0x92)],'limit':_0x56e34a,'offset':_0x3aa855,'order':[[_0x26d971(0xa7),_0x26d971(0x8c)]],'include':[{'model':Queue_1['default'],'as':_0x26d971(0xa1),'attributes':['id',_0x26d971(0x9c),_0x26d971(0x99)]},{'model':Company_1[_0x26d971(0xb0)],'as':_0x26d971(0x8e),'attributes':['id','name']}]}),_0x40177d=_0x5cff35[_0x26d971(0xae)](_0x13f346=>_0x13f346['online'])[_0x26d971(0x91)],_0x57075d=_0x5cff35[_0x26d971(0x91)]-_0x40177d,_0x239b7d=_0x437ca7>_0x3aa855+_0x5cff35[_0x26d971(0x91)];return{'users':_0x5cff35,'onlineCount':_0x40177d,'offlineCount':_0x57075d,'count':_0x437ca7,'hasMore':_0x239b7d};};exports['default']=ListUsersService;