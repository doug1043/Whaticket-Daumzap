const a563_0x4bcc3d=a563_0x278b;function a563_0x278b(_0x127f8e,_0x17fee5){const _0x3401e7=a563_0xdf45();return a563_0x278b=function(_0x1ad63e,_0x3cca08){_0x1ad63e=_0x1ad63e-0x1db;let _0xdf45cc=_0x3401e7[_0x1ad63e];return _0xdf45cc;},a563_0x278b(_0x127f8e,_0x17fee5);}(function(_0x5d5373,_0x14aa4f){const _0x4beb64=a563_0x278b,_0x4c8f35=_0x5d5373();while(!![]){try{const _0x52582a=parseInt(_0x4beb64(0x1eb))/0x1+parseInt(_0x4beb64(0x1db))/0x2*(-parseInt(_0x4beb64(0x1fb))/0x3)+parseInt(_0x4beb64(0x1f7))/0x4*(-parseInt(_0x4beb64(0x1f4))/0x5)+parseInt(_0x4beb64(0x1e6))/0x6*(-parseInt(_0x4beb64(0x1fa))/0x7)+-parseInt(_0x4beb64(0x1dd))/0x8+-parseInt(_0x4beb64(0x1e5))/0x9+parseInt(_0x4beb64(0x1f5))/0xa;if(_0x52582a===_0x14aa4f)break;else _0x4c8f35['push'](_0x4c8f35['shift']());}catch(_0x4c8c31){_0x4c8f35['push'](_0x4c8f35['shift']());}}}(a563_0xdf45,0xd3a92));function a563_0xdf45(){const _0x34b93f=['length','findAndCountAll','name','companyId','where','3250674fqxRhs','6679332dlQBBu','col','apply','createdAt','toLowerCase','331789fBznRZ','__esModule','Sequelize','__importDefault','filter','like','defineProperty','(((.+)+)+)+$','email','94255IaQijU','56980830nBpNcS','queues','200fHuEtR','toString','online','7rdJyRc','3ovKQhf','3313658fLowsq','profile','8712984NkbgJM','DESC','search'];a563_0xdf45=function(){return _0x34b93f;};return a563_0xdf45();}const a563_0x3cca08=(function(){let _0x52dd6c=!![];return function(_0x1bc0a9,_0x2086f2){const _0x2a0680=_0x52dd6c?function(){const _0x378bec=a563_0x278b;if(_0x2086f2){const _0x36a9f2=_0x2086f2[_0x378bec(0x1e8)](_0x1bc0a9,arguments);return _0x2086f2=null,_0x36a9f2;}}:function(){};return _0x52dd6c=![],_0x2a0680;};}()),a563_0x1ad63e=a563_0x3cca08(this,function(){const _0x637eb=a563_0x278b;return a563_0x1ad63e[_0x637eb(0x1f8)]()[_0x637eb(0x1df)]('(((.+)+)+)+$')[_0x637eb(0x1f8)]()['constructor'](a563_0x1ad63e)[_0x637eb(0x1df)](_0x637eb(0x1f2));});a563_0x1ad63e();'use strict';var __importDefault=this&&this[a563_0x4bcc3d(0x1ee)]||function(_0x5bc6cd){const _0x40512b=a563_0x4bcc3d;return _0x5bc6cd&&_0x5bc6cd[_0x40512b(0x1ec)]?_0x5bc6cd:{'default':_0x5bc6cd};};Object[a563_0x4bcc3d(0x1f1)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require('../../models/User')),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x2405d0})=>{const _0x7f75fe=a563_0x4bcc3d,_0x11bbf4={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x7f75fe(0x1ed)][_0x7f75fe(0x1e4)](sequelize_1[_0x7f75fe(0x1ed)]['fn']('LOWER',sequelize_1[_0x7f75fe(0x1ed)][_0x7f75fe(0x1e7)]('User.name')),'LIKE','%'+searchParam[_0x7f75fe(0x1ea)]()+'%')},{'email':{[sequelize_1['Op'][_0x7f75fe(0x1f0)]]:'%'+searchParam[_0x7f75fe(0x1ea)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x2405d0}},_0x1426cd=0x14,_0x341746=_0x1426cd*(+pageNumber-0x1),{count:_0x48c53a,rows:_0x29a5dd}=await User_1['default'][_0x7f75fe(0x1e1)]({'where':_0x11bbf4,'attributes':[_0x7f75fe(0x1e2),'id',_0x7f75fe(0x1f3),_0x7f75fe(0x1e3),_0x7f75fe(0x1dc),_0x7f75fe(0x1e9)],'limit':_0x1426cd,'offset':_0x341746,'order':[['createdAt',_0x7f75fe(0x1de)]],'include':[{'model':Queue_1['default'],'as':_0x7f75fe(0x1f6),'attributes':['id',_0x7f75fe(0x1e2),'color']},{'model':Company_1['default'],'as':'company','attributes':['id',_0x7f75fe(0x1e2)]}]}),_0x28c5e1=_0x29a5dd[_0x7f75fe(0x1ef)](_0x525f4c=>_0x525f4c[_0x7f75fe(0x1f9)])['length'],_0xb8359d=_0x29a5dd[_0x7f75fe(0x1e0)]-_0x28c5e1,_0x2cfc33=_0x48c53a>_0x341746+_0x29a5dd[_0x7f75fe(0x1e0)];return{'users':_0x29a5dd,'onlineCount':_0x28c5e1,'offlineCount':_0xb8359d,'count':_0x48c53a,'hasMore':_0x2cfc33};};exports['default']=ListUsersService;