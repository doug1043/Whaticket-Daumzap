const a536_0x211691=a536_0x8057;(function(_0x1b20b0,_0x32642d){const _0x12e10a=a536_0x8057,_0x1e2587=_0x1b20b0();while(!![]){try{const _0xf87277=parseInt(_0x12e10a(0x1d5))/0x1*(-parseInt(_0x12e10a(0x1d4))/0x2)+parseInt(_0x12e10a(0x1cd))/0x3+parseInt(_0x12e10a(0x1d0))/0x4+parseInt(_0x12e10a(0x1dc))/0x5+-parseInt(_0x12e10a(0x1c4))/0x6*(parseInt(_0x12e10a(0x1d7))/0x7)+parseInt(_0x12e10a(0x1e5))/0x8*(-parseInt(_0x12e10a(0x1c3))/0x9)+parseInt(_0x12e10a(0x1cf))/0xa;if(_0xf87277===_0x32642d)break;else _0x1e2587['push'](_0x1e2587['shift']());}catch(_0x432b76){_0x1e2587['push'](_0x1e2587['shift']());}}}(a536_0x2299,0xc4503));const a536_0x17ed14=(function(){let _0x4d17c2=!![];return function(_0x1d31df,_0x2f4e1e){const _0x4476e0=_0x4d17c2?function(){const _0x5bec76=a536_0x8057;if(_0x2f4e1e){const _0x507b3a=_0x2f4e1e[_0x5bec76(0x1c9)](_0x1d31df,arguments);return _0x2f4e1e=null,_0x507b3a;}}:function(){};return _0x4d17c2=![],_0x4476e0;};}()),a536_0x47cf82=a536_0x17ed14(this,function(){const _0x25f134=a536_0x8057;return a536_0x47cf82['toString']()[_0x25f134(0x1d9)](_0x25f134(0x1d3))[_0x25f134(0x1ca)]()[_0x25f134(0x1c2)](a536_0x47cf82)['search'](_0x25f134(0x1d3));});a536_0x47cf82();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x6a7764){const _0x5bf2ac=a536_0x8057;return _0x6a7764&&_0x6a7764[_0x5bf2ac(0x1e1)]?_0x6a7764:{'default':_0x6a7764};};function a536_0x2299(){const _0x3a9a61=['default','startWork','5097715rxbvvr','length','../../models/Queue','email','allTicket','__esModule','toLowerCase','iLike','createdAt','3185720TWAxQb','constructor','36jvGVjz','6114eXMnMj','isTricked','defaultMenu','companyId','color','apply','toString','endWork','spy','3135540iGjHQc','../../models/User','7317680HYxhwl','6322516OBJNde','name','queues','(((.+)+)+)+$','4FtOXqH','569743mKdFnB','filter','5775NKOril','DESC','search'];a536_0x2299=function(){return _0x3a9a61;};return a536_0x2299();}Object['defineProperty'](exports,'__esModule',{'value':!![]});function a536_0x8057(_0x277a97,_0x811890){const _0xce1be7=a536_0x2299();return a536_0x8057=function(_0x47cf82,_0x17ed14){_0x47cf82=_0x47cf82-0x1c2;let _0x229910=_0xce1be7[_0x47cf82];return _0x229910;},a536_0x8057(_0x277a97,_0x811890);}const sequelize_1=require('sequelize'),Queue_1=__importDefault(require(a536_0x211691(0x1de))),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a536_0x211691(0x1ce))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x5065ab})=>{const _0x31efb3=a536_0x211691,_0x3c7065={'companyId':{[sequelize_1['Op']['eq']]:_0x5065ab}};searchParam&&(_0x3c7065[sequelize_1['Op']['or']]=[{'name':{[sequelize_1['Op'][_0x31efb3(0x1e3)]]:'%'+searchParam[_0x31efb3(0x1e2)]()+'%'}},{'email':{[sequelize_1['Op'][_0x31efb3(0x1e3)]]:'%'+searchParam[_0x31efb3(0x1e2)]()+'%'}}]);const _0xec9cc1=0x14,_0x2d454a=_0xec9cc1*(Number(pageNumber)-0x1),{count:_0xc7006b,rows:_0xf46454}=await User_1[_0x31efb3(0x1da)]['findAndCountAll']({'where':_0x3c7065,'attributes':[_0x31efb3(0x1d1),'id',_0x31efb3(0x1df),_0x31efb3(0x1c7),'profile',_0x31efb3(0x1e0),_0x31efb3(0x1c5),_0x31efb3(0x1cc),_0x31efb3(0x1e4),'online',_0x31efb3(0x1db),_0x31efb3(0x1cb),_0x31efb3(0x1c6)],'limit':_0xec9cc1,'offset':_0x2d454a,'order':[[_0x31efb3(0x1e4),_0x31efb3(0x1d8)]],'include':[{'model':Queue_1[_0x31efb3(0x1da)],'as':_0x31efb3(0x1d2),'attributes':['id',_0x31efb3(0x1d1),_0x31efb3(0x1c8)]},{'model':Company_1[_0x31efb3(0x1da)],'as':'company','attributes':['id',_0x31efb3(0x1d1)]}]}),_0x162bd4=_0xf46454[_0x31efb3(0x1d6)](_0x415fc4=>_0x415fc4['online'])[_0x31efb3(0x1dd)],_0x2a6509=_0xf46454['length']-_0x162bd4,_0x5b6b9a=_0xc7006b>_0x2d454a+_0xf46454[_0x31efb3(0x1dd)];return{'users':_0xf46454,'onlineCount':_0x162bd4,'offlineCount':_0x2a6509,'count':_0xc7006b,'hasMore':_0x5b6b9a};};exports['default']=ListUsersService;