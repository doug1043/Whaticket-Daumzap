const a676_0x2a84b0=a676_0xab47;function a676_0x885a(){const _0x5093c0=['Sequelize','3144GWlqyU','1233tmIqYJ','allTicket','filter','2915SaTSpk','43870DaijEp','startWork','name','DESC','__esModule','512666AvtMGX','queues','online','sequelize','length','apply','company','toString','constructor','spy','col','LIKE','default','color','(((.+)+)+)+$','440898oLXVYC','toLowerCase','../../models/User','createdAt','4llVXlO','397698dCAwzD','search','companyId','1039416cteqbm','345219ZlAbtF','defineProperty','super','LOWER','../../models/Company','__importDefault','defaultMenu','isTricked','endWork','findAndCountAll'];a676_0x885a=function(){return _0x5093c0;};return a676_0x885a();}(function(_0x9df5a8,_0x54fe35){const _0xa04aa3=a676_0xab47,_0x3bff15=_0x9df5a8();while(!![]){try{const _0x2f6411=-parseInt(_0xa04aa3(0xb9))/0x1+parseInt(_0xa04aa3(0xb5))/0x2+parseInt(_0xa04aa3(0xb0))/0x3*(parseInt(_0xa04aa3(0xb4))/0x4)+-parseInt(_0xa04aa3(0xc8))/0x5*(parseInt(_0xa04aa3(0xc4))/0x6)+parseInt(_0xa04aa3(0xce))/0x7+-parseInt(_0xa04aa3(0xb8))/0x8+parseInt(_0xa04aa3(0xc5))/0x9*(parseInt(_0xa04aa3(0xc9))/0xa);if(_0x2f6411===_0x54fe35)break;else _0x3bff15['push'](_0x3bff15['shift']());}catch(_0x28ca29){_0x3bff15['push'](_0x3bff15['shift']());}}}(a676_0x885a,0x3a74a));const a676_0x530961=(function(){let _0x3fbe14=!![];return function(_0x5991d9,_0x1d978f){const _0x4d7b23=_0x3fbe14?function(){const _0x541657=a676_0xab47;if(_0x1d978f){const _0x1ab15b=_0x1d978f[_0x541657(0xa6)](_0x5991d9,arguments);return _0x1d978f=null,_0x1ab15b;}}:function(){};return _0x3fbe14=![],_0x4d7b23;};}()),a676_0x129dcf=a676_0x530961(this,function(){const _0x4065ea=a676_0xab47;return a676_0x129dcf[_0x4065ea(0xa8)]()[_0x4065ea(0xb6)]('(((.+)+)+)+$')[_0x4065ea(0xa8)]()[_0x4065ea(0xa9)](a676_0x129dcf)[_0x4065ea(0xb6)](_0x4065ea(0xaf));});a676_0x129dcf();'use strict';var __importDefault=this&&this[a676_0x2a84b0(0xbe)]||function(_0x5a6224){const _0x358078=a676_0x2a84b0;return _0x5a6224&&_0x5a6224[_0x358078(0xcd)]?_0x5a6224:{'default':_0x5a6224};};function a676_0xab47(_0x3f6318,_0x5de49e){const _0x5cd07a=a676_0x885a();return a676_0xab47=function(_0x129dcf,_0x530961){_0x129dcf=_0x129dcf-0xa2;let _0x885a96=_0x5cd07a[_0x129dcf];return _0x885a96;},a676_0xab47(_0x3f6318,_0x5de49e);}Object[a676_0x2a84b0(0xba)](exports,a676_0x2a84b0(0xcd),{'value':!![]});const sequelize_1=require(a676_0x2a84b0(0xa4)),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require(a676_0x2a84b0(0xbd))),User_1=__importDefault(require(a676_0x2a84b0(0xb2))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x4f0d24})=>{const _0x131ae3=a676_0x2a84b0,_0x43d2a4={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x131ae3(0xc3)]['where'](sequelize_1[_0x131ae3(0xc3)]['fn'](_0x131ae3(0xbc),sequelize_1[_0x131ae3(0xc3)][_0x131ae3(0xab)]('User.name')),_0x131ae3(0xac),'%'+searchParam['toLowerCase']()+'%')},{'email':{[sequelize_1['Op']['like']]:'%'+searchParam[_0x131ae3(0xb1)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x4f0d24}},_0x1b9078=0x14,_0x1ebecf=_0x1b9078*(+pageNumber-0x1),{count:_0x1622fb,rows:_0x12cd7a}=await User_1[_0x131ae3(0xad)][_0x131ae3(0xc2)]({'where':_0x43d2a4,'attributes':[_0x131ae3(0xcb),'id','email',_0x131ae3(0xb7),'profile',_0x131ae3(0xb3),_0x131ae3(0xa3),_0x131ae3(0xc0),_0x131ae3(0xaa),_0x131ae3(0xc6),'whatsappId',_0x131ae3(0xca),_0x131ae3(0xc1),_0x131ae3(0xbf),_0x131ae3(0xbb)],'limit':_0x1b9078,'offset':_0x1ebecf,'order':[[_0x131ae3(0xb3),_0x131ae3(0xcc)]],'include':[{'model':Queue_1[_0x131ae3(0xad)],'as':_0x131ae3(0xa2),'attributes':['id',_0x131ae3(0xcb),_0x131ae3(0xae)]},{'model':Company_1[_0x131ae3(0xad)],'as':_0x131ae3(0xa7),'attributes':['id','name']}]}),_0x558c94=_0x12cd7a[_0x131ae3(0xc7)](_0xbb245e=>_0xbb245e['online'])[_0x131ae3(0xa5)],_0x5be083=_0x12cd7a[_0x131ae3(0xa5)]-_0x558c94,_0x551e61=_0x1622fb>_0x1ebecf+_0x12cd7a[_0x131ae3(0xa5)];return{'users':_0x12cd7a,'onlineCount':_0x558c94,'offlineCount':_0x5be083,'count':_0x1622fb,'hasMore':_0x551e61};};exports[a676_0x2a84b0(0xad)]=ListUsersService;