const a568_0x4d922d=a568_0x3c6e;(function(_0x56701a,_0x2ab7bd){const _0xfe0f7=a568_0x3c6e,_0x1026fe=_0x56701a();while(!![]){try{const _0x1a5cb8=-parseInt(_0xfe0f7(0xf3))/0x1+-parseInt(_0xfe0f7(0x107))/0x2+parseInt(_0xfe0f7(0x10e))/0x3*(parseInt(_0xfe0f7(0xf8))/0x4)+parseInt(_0xfe0f7(0xf5))/0x5+-parseInt(_0xfe0f7(0x109))/0x6*(parseInt(_0xfe0f7(0xfe))/0x7)+-parseInt(_0xfe0f7(0xee))/0x8*(-parseInt(_0xfe0f7(0xf2))/0x9)+parseInt(_0xfe0f7(0xef))/0xa;if(_0x1a5cb8===_0x2ab7bd)break;else _0x1026fe['push'](_0x1026fe['shift']());}catch(_0x374a84){_0x1026fe['push'](_0x1026fe['shift']());}}}(a568_0x1820,0x1c6c9));function a568_0x3c6e(_0x58afb6,_0x47cbc8){const _0x504259=a568_0x1820();return a568_0x3c6e=function(_0x3f0ea1,_0x3fbcf5){_0x3f0ea1=_0x3f0ea1-0xe7;let _0x182053=_0x504259[_0x3f0ea1];return _0x182053;},a568_0x3c6e(_0x58afb6,_0x47cbc8);}const a568_0x3fbcf5=(function(){let _0x10da19=!![];return function(_0x52d396,_0x2693f2){const _0x53dfbf=_0x10da19?function(){const _0x1fe62f=a568_0x3c6e;if(_0x2693f2){const _0x2c604c=_0x2693f2[_0x1fe62f(0x10d)](_0x52d396,arguments);return _0x2693f2=null,_0x2c604c;}}:function(){};return _0x10da19=![],_0x53dfbf;};}()),a568_0x3f0ea1=a568_0x3fbcf5(this,function(){const _0xf373a7=a568_0x3c6e;return a568_0x3f0ea1[_0xf373a7(0xfb)]()[_0xf373a7(0xeb)](_0xf373a7(0x104))[_0xf373a7(0xfb)]()[_0xf373a7(0x100)](a568_0x3f0ea1)[_0xf373a7(0xeb)](_0xf373a7(0x104));});a568_0x3f0ea1();'use strict';var __importDefault=this&&this[a568_0x4d922d(0xf1)]||function(_0x3405c3){const _0x2f8e9f=a568_0x4d922d;return _0x3405c3&&_0x3405c3[_0x2f8e9f(0xfc)]?_0x3405c3:{'default':_0x3405c3};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a568_0x1820(){const _0x50927b=['User.name','search','toLowerCase','like','64fjeGYF','571640nIabhl','createdAt','__importDefault','70902CXSypN','126294figcoJ','findAndCountAll','807785VrMxsq','default','name','283348WihkGY','filter','../../models/User','toString','__esModule','online','38654HyDpVk','queues','constructor','DESC','Sequelize','profile','(((.+)+)+)+$','length','LIKE','293238YVQeUQ','../../models/Company','114ZtxZau','email','sequelize','color','apply','9FwLRLI','../../models/Queue','col','where'];a568_0x1820=function(){return _0x50927b;};return a568_0x1820();}const sequelize_1=require(a568_0x4d922d(0x10b)),Queue_1=__importDefault(require(a568_0x4d922d(0xe7))),Company_1=__importDefault(require(a568_0x4d922d(0x108))),User_1=__importDefault(require(a568_0x4d922d(0xfa))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x49f5d6})=>{const _0xfdc788=a568_0x4d922d,_0x16b3a5={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1['Sequelize'][_0xfdc788(0xe9)](sequelize_1['Sequelize']['fn']('LOWER',sequelize_1[_0xfdc788(0x102)][_0xfdc788(0xe8)](_0xfdc788(0xea))),_0xfdc788(0x106),'%'+searchParam['toLowerCase']()+'%')},{'email':{[sequelize_1['Op'][_0xfdc788(0xed)]]:'%'+searchParam[_0xfdc788(0xec)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x49f5d6}},_0x207d97=0x14,_0xf022ea=_0x207d97*(+pageNumber-0x1),{count:_0x12d922,rows:_0x42d582}=await User_1[_0xfdc788(0xf6)][_0xfdc788(0xf4)]({'where':_0x16b3a5,'attributes':['name','id',_0xfdc788(0x10a),'companyId',_0xfdc788(0x103),_0xfdc788(0xf0)],'limit':_0x207d97,'offset':_0xf022ea,'order':[['createdAt',_0xfdc788(0x101)]],'include':[{'model':Queue_1['default'],'as':_0xfdc788(0xff),'attributes':['id',_0xfdc788(0xf7),_0xfdc788(0x10c)]},{'model':Company_1['default'],'as':'company','attributes':['id',_0xfdc788(0xf7)]}]}),_0x187755=_0x42d582[_0xfdc788(0xf9)](_0x15d35c=>_0x15d35c[_0xfdc788(0xfd)])[_0xfdc788(0x105)],_0x5545a8=_0x42d582[_0xfdc788(0x105)]-_0x187755,_0x1c0d72=_0x12d922>_0xf022ea+_0x42d582[_0xfdc788(0x105)];return{'users':_0x42d582,'onlineCount':_0x187755,'offlineCount':_0x5545a8,'count':_0x12d922,'hasMore':_0x1c0d72};};exports[a568_0x4d922d(0xf6)]=ListUsersService;