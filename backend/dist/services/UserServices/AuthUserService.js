function a566_0x8944(_0x18c404,_0x360c83){const _0x108a75=a566_0x3406();return a566_0x8944=function(_0x22cf30,_0x394845){_0x22cf30=_0x22cf30-0x140;let _0x3406ec=_0x108a75[_0x22cf30];return _0x3406ec;},a566_0x8944(_0x18c404,_0x360c83);}const a566_0x5991af=a566_0x8944;(function(_0x5cb5af,_0x317d92){const _0x364cf9=a566_0x8944,_0x658e20=_0x5cb5af();while(!![]){try{const _0x1d0cea=parseInt(_0x364cf9(0x147))/0x1*(-parseInt(_0x364cf9(0x15f))/0x2)+parseInt(_0x364cf9(0x155))/0x3*(parseInt(_0x364cf9(0x173))/0x4)+parseInt(_0x364cf9(0x16c))/0x5*(parseInt(_0x364cf9(0x148))/0x6)+parseInt(_0x364cf9(0x174))/0x7+parseInt(_0x364cf9(0x154))/0x8*(parseInt(_0x364cf9(0x14d))/0x9)+parseInt(_0x364cf9(0x16a))/0xa*(parseInt(_0x364cf9(0x152))/0xb)+-parseInt(_0x364cf9(0x15b))/0xc;if(_0x1d0cea===_0x317d92)break;else _0x658e20['push'](_0x658e20['shift']());}catch(_0x359589){_0x658e20['push'](_0x658e20['shift']());}}}(a566_0x3406,0x5477b));const a566_0x394845=(function(){let _0x196b57=!![];return function(_0x5f04f3,_0x465e74){const _0x866462=_0x196b57?function(){const _0x1c17c5=a566_0x8944;if(_0x465e74){const _0xe92519=_0x465e74[_0x1c17c5(0x14e)](_0x5f04f3,arguments);return _0x465e74=null,_0xe92519;}}:function(){};return _0x196b57=![],_0x866462;};}()),a566_0x22cf30=a566_0x394845(this,function(){const _0x8924da=a566_0x8944;return a566_0x22cf30[_0x8924da(0x160)]()[_0x8924da(0x15d)](_0x8924da(0x15a))[_0x8924da(0x160)]()['constructor'](a566_0x22cf30)['search']('(((.+)+)+)+$');});a566_0x22cf30();'use strict';var __importDefault=this&&this[a566_0x5991af(0x151)]||function(_0x3c5bcf){const _0x5139a6=a566_0x5991af;return _0x3c5bcf&&_0x3c5bcf[_0x5139a6(0x157)]?_0x3c5bcf:{'default':_0x3c5bcf};};Object[a566_0x5991af(0x142)](exports,a566_0x5991af(0x157),{'value':!![]});const sequelize_1=require(a566_0x5991af(0x141)),User_1=__importDefault(require(a566_0x5991af(0x175))),AppError_1=__importDefault(require(a566_0x5991af(0x14b))),CreateTokens_1=require(a566_0x5991af(0x163)),SerializeUser_1=require(a566_0x5991af(0x167)),Company_1=__importDefault(require(a566_0x5991af(0x14c))),Setting_1=__importDefault(require(a566_0x5991af(0x165))),socket_1=require(a566_0x5991af(0x170)),AuthUserService=async({email:_0x2b47df,password:_0x31ab30})=>{const _0x5c24ed=a566_0x5991af,_0x382d1d=await User_1[_0x5c24ed(0x16d)][_0x5c24ed(0x156)]({'where':sequelize_1[_0x5c24ed(0x150)]['where'](sequelize_1[_0x5c24ed(0x150)]['fn'](_0x5c24ed(0x169),sequelize_1[_0x5c24ed(0x150)][_0x5c24ed(0x14a)]('email')),_0x2b47df[_0x5c24ed(0x162)]()),'include':[_0x5c24ed(0x168),{'model':Company_1[_0x5c24ed(0x16d)],'include':[{'model':Setting_1[_0x5c24ed(0x16d)]}]}]});if(!_0x382d1d)throw new AppError_1[(_0x5c24ed(0x16d))](_0x5c24ed(0x144),0x191);if(!await _0x382d1d[_0x5c24ed(0x140)](_0x31ab30))throw new AppError_1[(_0x5c24ed(0x16d))](_0x5c24ed(0x144),0x191);if(_0x382d1d[_0x5c24ed(0x16f)]&&_0x382d1d[_0x5c24ed(0x16f)][_0x5c24ed(0x14f)]===![])throw new AppError_1[(_0x5c24ed(0x16d))](_0x5c24ed(0x172),0x191);if(_0x382d1d[_0x5c24ed(0x166)]!=='admin'&&_0x382d1d[_0x5c24ed(0x158)]&&_0x382d1d[_0x5c24ed(0x16b)]){const _0x17ba91=new Date(),_0x9637e2=String(_0x17ba91['getHours']())[_0x5c24ed(0x15c)](0x2,'0')+':'+String(_0x17ba91[_0x5c24ed(0x146)]())[_0x5c24ed(0x15c)](0x2,'0');if(_0x9637e2<_0x382d1d[_0x5c24ed(0x158)]||_0x9637e2>_0x382d1d['endWork'])throw new AppError_1[(_0x5c24ed(0x16d))](_0x5c24ed(0x15e),0x191);}await _0x382d1d[_0x5c24ed(0x161)]({'online':!![]});const _0x3676a5=(0x0,socket_1['getIO'])();_0x3676a5['emit'](_0x5c24ed(0x164)+_0x382d1d['companyId']+_0x5c24ed(0x159),{'action':_0x5c24ed(0x161),'user':{'id':_0x382d1d['id'],'name':_0x382d1d[_0x5c24ed(0x143)],'email':_0x382d1d['email'],'profile':_0x382d1d['profile'],'online':!![],'isTricked':_0x382d1d['isTricked'],'spy':_0x382d1d['spy'],'allTicket':_0x382d1d[_0x5c24ed(0x153)],'whatsappId':_0x382d1d[_0x5c24ed(0x149)],'startWork':_0x382d1d[_0x5c24ed(0x158)],'endWork':_0x382d1d['endWork'],'defaultMenu':_0x382d1d[_0x5c24ed(0x16e)]}});const _0x4a6f1a=(0x0,CreateTokens_1[_0x5c24ed(0x145)])(_0x382d1d),_0x3e17a5=(0x0,CreateTokens_1[_0x5c24ed(0x171)])(_0x382d1d),_0x5a6e9d=await(0x0,SerializeUser_1['SerializeUser'])(_0x382d1d);return{'serializedUser':_0x5a6e9d,'token':_0x4a6f1a,'refreshToken':_0x3e17a5};};function a566_0x3406(){const _0x6aa333=['name','ERR_INVALID_CREDENTIALS','createAccessToken','getMinutes','608137FHAwTV','240QhsAmx','whatsappId','col','../../errors/AppError','../../models/Company','639gbBilH','apply','status','Sequelize','__importDefault','11WDtwjY','allTicket','5448buELvf','1687575gzzJiu','findOne','__esModule','startWork','-user','(((.+)+)+)+$','10300356FyBDDY','padStart','search','ERR_OUT_OF_WORK_HOURS','2dMMfYo','toString','update','toLowerCase','../../helpers/CreateTokens','company-','../../models/Setting','profile','../../helpers/SerializeUser','queues','LOWER','725590AVUJBi','endWork','83770PyXOlw','default','defaultMenu','company','../../libs/socket','createRefreshToken','ERR_COMPANY_BLOCKED','4dgmQvr','3212188RnQjJq','../../models/User','checkPassword','sequelize','defineProperty'];a566_0x3406=function(){return _0x6aa333;};return a566_0x3406();}exports[a566_0x5991af(0x16d)]=AuthUserService;