const a533_0x3244d9=a533_0x3a95;function a533_0x2bc2(){const _0x1bb7e6=['45685hDnOKC','createRefreshToken','__esModule','771460bRVOuX','defineProperty','../../errors/AppError','SerializeUser','6iGKYvm','(((.+)+)+)+$','756YQrFws','113852EXWVVC','71409kKAWwG','../../models/Company','toString','getHours','startWork','createAccessToken','split','findOne','1501768nVumKo','ERR_INVALID_CREDENTIALS','8152704GZSJEO','default','apply','queues','66HTdrjo','10628CUwZGv','search','197DTjhmv','incrementTokenVersion','ERR_OUT_OF_HOURS','28EjALDb','getMinutes','30BANYhr','constructor','../../models/User','checkPassword'];a533_0x2bc2=function(){return _0x1bb7e6;};return a533_0x2bc2();}(function(_0x14950e,_0x4a1ee4){const _0x50f7b1=a533_0x3a95,_0x407f1c=_0x14950e();while(!![]){try{const _0x43a418=-parseInt(_0x50f7b1(0x15b))/0x1*(-parseInt(_0x50f7b1(0x159))/0x2)+-parseInt(_0x50f7b1(0x146))/0x3*(-parseInt(_0x50f7b1(0x149))/0x4)+-parseInt(_0x50f7b1(0x13f))/0x5*(parseInt(_0x50f7b1(0x160))/0x6)+-parseInt(_0x50f7b1(0x15e))/0x7*(-parseInt(_0x50f7b1(0x152))/0x8)+-parseInt(_0x50f7b1(0x154))/0x9+-parseInt(_0x50f7b1(0x142))/0xa*(parseInt(_0x50f7b1(0x158))/0xb)+-parseInt(_0x50f7b1(0x148))/0xc*(-parseInt(_0x50f7b1(0x14a))/0xd);if(_0x43a418===_0x4a1ee4)break;else _0x407f1c['push'](_0x407f1c['shift']());}catch(_0x1f52a8){_0x407f1c['push'](_0x407f1c['shift']());}}}(a533_0x2bc2,0xbff86));const a533_0x2eec13=(function(){let _0x418b72=!![];return function(_0x337c4f,_0x53fd68){const _0x31871f=_0x418b72?function(){const _0x565e9e=a533_0x3a95;if(_0x53fd68){const _0x2b6f0a=_0x53fd68[_0x565e9e(0x156)](_0x337c4f,arguments);return _0x53fd68=null,_0x2b6f0a;}}:function(){};return _0x418b72=![],_0x31871f;};}()),a533_0x100af9=a533_0x2eec13(this,function(){const _0x295061=a533_0x3a95;return a533_0x100af9['toString']()[_0x295061(0x15a)](_0x295061(0x147))[_0x295061(0x14c)]()[_0x295061(0x161)](a533_0x100af9)[_0x295061(0x15a)]('(((.+)+)+)+$');});a533_0x100af9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x12df99){const _0x215fca=a533_0x3a95;return _0x12df99&&_0x12df99[_0x215fca(0x141)]?_0x12df99:{'default':_0x12df99};};function a533_0x3a95(_0x68a8f6,_0x130d86){const _0x2ba188=a533_0x2bc2();return a533_0x3a95=function(_0x100af9,_0x2eec13){_0x100af9=_0x100af9-0x13e;let _0x2bc2e4=_0x2ba188[_0x100af9];return _0x2bc2e4;},a533_0x3a95(_0x68a8f6,_0x130d86);}Object[a533_0x3244d9(0x143)](exports,a533_0x3244d9(0x141),{'value':!![]});const User_1=__importDefault(require(a533_0x3244d9(0x162))),AppError_1=__importDefault(require(a533_0x3244d9(0x144))),CreateTokens_1=require('../../helpers/CreateTokens'),SerializeUser_1=require('../../helpers/SerializeUser'),Company_1=__importDefault(require(a533_0x3244d9(0x14b))),Setting_1=__importDefault(require('../../models/Setting')),AuthUserService=async({email:_0x17910b,password:_0x3c5e09})=>{const _0x535b34=a533_0x3244d9,_0x1629a4=await User_1['default'][_0x535b34(0x151)]({'where':{'email':_0x17910b},'include':[_0x535b34(0x157),{'model':Company_1[_0x535b34(0x155)],'include':[{'model':Setting_1['default']}]}]});if(!_0x1629a4)throw new AppError_1[(_0x535b34(0x155))](_0x535b34(0x153),0x191);const _0x5e8836=new Date(),_0x11dab7=_0x5e8836[_0x535b34(0x14d)]()*0x3c*0x3c,_0x301154=_0x5e8836[_0x535b34(0x15f)]()*0x3c,_0x197bd8=_0x11dab7+_0x301154,_0x485ae0=_0x1629a4[_0x535b34(0x14e)],_0x7c2eef=Number(_0x485ae0['split'](':')[0x0])*0x3c*0x3c,_0x105687=Number(_0x485ae0['split'](':')[0x1])*0x3c,_0x5cc360=_0x7c2eef+_0x105687,_0x36bd90=_0x1629a4['endWork'],_0x123a4f=Number(_0x36bd90[_0x535b34(0x150)](':')[0x0])*0x3c*0x3c,_0x272d40=Number(_0x36bd90[_0x535b34(0x150)](':')[0x1])*0x3c,_0x90e15b=_0x123a4f+_0x272d40;if(_0x197bd8<_0x5cc360||_0x197bd8>_0x90e15b)throw new AppError_1[(_0x535b34(0x155))](_0x535b34(0x15d),0x191);if(!await _0x1629a4[_0x535b34(0x13e)](_0x3c5e09))throw new AppError_1[(_0x535b34(0x155))](_0x535b34(0x153),0x191);await _0x1629a4[_0x535b34(0x15c)]();const _0x46098a=(0x0,CreateTokens_1[_0x535b34(0x14f)])(_0x1629a4),_0x5d3d53=(0x0,CreateTokens_1[_0x535b34(0x140)])(_0x1629a4),_0x236d5a=await(0x0,SerializeUser_1[_0x535b34(0x145)])(_0x1629a4);return{'serializedUser':_0x236d5a,'token':_0x46098a,'refreshToken':_0x5d3d53};};exports['default']=AuthUserService;