const a534_0x8610ca=a534_0xa641;(function(_0x3d2798,_0x320a42){const _0x152796=a534_0xa641,_0x266e14=_0x3d2798();while(!![]){try{const _0x375c7c=parseInt(_0x152796(0x117))/0x1+-parseInt(_0x152796(0x125))/0x2+-parseInt(_0x152796(0x123))/0x3*(parseInt(_0x152796(0x114))/0x4)+-parseInt(_0x152796(0x10d))/0x5*(parseInt(_0x152796(0x10c))/0x6)+parseInt(_0x152796(0x112))/0x7+parseInt(_0x152796(0x124))/0x8+parseInt(_0x152796(0x11c))/0x9*(parseInt(_0x152796(0x11e))/0xa);if(_0x375c7c===_0x320a42)break;else _0x266e14['push'](_0x266e14['shift']());}catch(_0x2d87c9){_0x266e14['push'](_0x266e14['shift']());}}}(a534_0x4cf0,0xea074));const a534_0xf8ee28=(function(){let _0x271dba=!![];return function(_0x4b10fd,_0x4c849d){const _0x50a9e0=_0x271dba?function(){if(_0x4c849d){const _0x4f450a=_0x4c849d['apply'](_0x4b10fd,arguments);return _0x4c849d=null,_0x4f450a;}}:function(){};return _0x271dba=![],_0x50a9e0;};}()),a534_0x29d122=a534_0xf8ee28(this,function(){const _0xd42581=a534_0xa641;return a534_0x29d122[_0xd42581(0x120)]()[_0xd42581(0x10f)](_0xd42581(0x115))[_0xd42581(0x120)]()[_0xd42581(0x10a)](a534_0x29d122)[_0xd42581(0x10f)](_0xd42581(0x115));});a534_0x29d122();'use strict';function a534_0x4cf0(){const _0x139cdb=['__esModule','constructor','split','269994cgxDcB','130dpeHSO','incrementTokenVersion','search','queues','checkPassword','9750678qfBInZ','../../models/User','1272788MnzSqf','(((.+)+)+)+$','ERR_INVALID_CREDENTIALS','1333152TxQoFf','createRefreshToken','findOne','createAccessToken','../../helpers/CreateTokens','4716LwmPTM','startWork','2620MsZqrX','../../helpers/SerializeUser','toString','../../models/Setting','SerializeUser','3KfMkzy','5124112QreoiS','2114314TpgeRi','default'];a534_0x4cf0=function(){return _0x139cdb;};return a534_0x4cf0();}var __importDefault=this&&this['__importDefault']||function(_0x588ba9){const _0x11ba25=a534_0xa641;return _0x588ba9&&_0x588ba9[_0x11ba25(0x109)]?_0x588ba9:{'default':_0x588ba9};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a534_0xa641(_0xaa10a9,_0x3f6b8e){const _0x45890e=a534_0x4cf0();return a534_0xa641=function(_0x29d122,_0xf8ee28){_0x29d122=_0x29d122-0x108;let _0x4cf0ec=_0x45890e[_0x29d122];return _0x4cf0ec;},a534_0xa641(_0xaa10a9,_0x3f6b8e);}const User_1=__importDefault(require(a534_0x8610ca(0x113))),AppError_1=__importDefault(require('../../errors/AppError')),CreateTokens_1=require(a534_0x8610ca(0x11b)),SerializeUser_1=require(a534_0x8610ca(0x11f)),Company_1=__importDefault(require('../../models/Company')),Setting_1=__importDefault(require(a534_0x8610ca(0x121))),AuthUserService=async({email:_0x48fb3b,password:_0x571bb8})=>{const _0x5d2841=a534_0x8610ca,_0x161fec=await User_1[_0x5d2841(0x108)][_0x5d2841(0x119)]({'where':{'email':_0x48fb3b},'include':[_0x5d2841(0x110),{'model':Company_1[_0x5d2841(0x108)],'include':[{'model':Setting_1[_0x5d2841(0x108)]}]}]});if(!_0x161fec)throw new AppError_1[(_0x5d2841(0x108))](_0x5d2841(0x116),0x191);const _0x15f66e=new Date(),_0x1fc451=_0x15f66e['getHours']()*0x3c*0x3c,_0x3a4e3a=_0x15f66e['getMinutes']()*0x3c,_0x43a4e8=_0x1fc451+_0x3a4e3a,_0xcf7b65=_0x161fec[_0x5d2841(0x11d)],_0x388b76=Number(_0xcf7b65['split'](':')[0x0])*0x3c*0x3c,_0x48d984=Number(_0xcf7b65[_0x5d2841(0x10b)](':')[0x1])*0x3c,_0x2127c0=_0x388b76+_0x48d984,_0x109e46=_0x161fec['endWork'],_0x3cd60c=Number(_0x109e46[_0x5d2841(0x10b)](':')[0x0])*0x3c*0x3c,_0x15b957=Number(_0x109e46[_0x5d2841(0x10b)](':')[0x1])*0x3c,_0x1667ed=_0x3cd60c+_0x15b957;if(_0x43a4e8<_0x2127c0||_0x43a4e8>_0x1667ed)throw new AppError_1[(_0x5d2841(0x108))]('ERR_OUT_OF_HOURS',0x191);if(!await _0x161fec[_0x5d2841(0x111)](_0x571bb8))throw new AppError_1[(_0x5d2841(0x108))](_0x5d2841(0x116),0x191);await _0x161fec[_0x5d2841(0x10e)]();const _0x29615e=(0x0,CreateTokens_1[_0x5d2841(0x11a)])(_0x161fec),_0x43170d=(0x0,CreateTokens_1[_0x5d2841(0x118)])(_0x161fec),_0x3eb751=await(0x0,SerializeUser_1[_0x5d2841(0x122)])(_0x161fec);return{'serializedUser':_0x3eb751,'token':_0x29615e,'refreshToken':_0x43170d};};exports['default']=AuthUserService;