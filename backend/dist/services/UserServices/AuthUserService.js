const a532_0x41dc7f=a532_0xe2eb;(function(_0x58b73f,_0x100089){const _0x24ff52=a532_0xe2eb,_0x222252=_0x58b73f();while(!![]){try{const _0x6b8aca=parseInt(_0x24ff52(0x1cf))/0x1+parseInt(_0x24ff52(0x1c1))/0x2+parseInt(_0x24ff52(0x1bd))/0x3*(parseInt(_0x24ff52(0x1c8))/0x4)+parseInt(_0x24ff52(0x1cd))/0x5+parseInt(_0x24ff52(0x1d1))/0x6*(-parseInt(_0x24ff52(0x1c2))/0x7)+-parseInt(_0x24ff52(0x1d4))/0x8+-parseInt(_0x24ff52(0x1d8))/0x9;if(_0x6b8aca===_0x100089)break;else _0x222252['push'](_0x222252['shift']());}catch(_0x4d1e71){_0x222252['push'](_0x222252['shift']());}}}(a532_0xca7c,0x6a2ac));const a532_0x12846a=(function(){let _0x136ab1=!![];return function(_0x2dea73,_0x216965){const _0x27d350=_0x136ab1?function(){const _0x4993c0=a532_0xe2eb;if(_0x216965){const _0x15e97d=_0x216965[_0x4993c0(0x1cb)](_0x2dea73,arguments);return _0x216965=null,_0x15e97d;}}:function(){};return _0x136ab1=![],_0x27d350;};}()),a532_0x50424c=a532_0x12846a(this,function(){const _0x3d6c87=a532_0xe2eb;return a532_0x50424c[_0x3d6c87(0x1d6)]()['search'](_0x3d6c87(0x1c5))['toString']()[_0x3d6c87(0x1c4)](a532_0x50424c)[_0x3d6c87(0x1c3)](_0x3d6c87(0x1c5));});a532_0x50424c();'use strict';function a532_0xca7c(){const _0xcc5683=['161542qUZQYu','incrementTokenVersion','6ZvfZIt','findOne','__importDefault','1856712xcGLaL','SerializeUser','toString','split','3843765MAiWFh','ERR_OUT_OF_HOURS','__esModule','defineProperty','getMinutes','24iuJhHg','default','ERR_INVALID_CREDENTIALS','../../models/Setting','304610CSlCEA','2162321wFMVaL','search','constructor','(((.+)+)+)+$','queues','endWork','183584gzJGeB','createAccessToken','createRefreshToken','apply','../../helpers/CreateTokens','3609610uLlLbT','checkPassword'];a532_0xca7c=function(){return _0xcc5683;};return a532_0xca7c();}var __importDefault=this&&this[a532_0x41dc7f(0x1d3)]||function(_0x206742){const _0x567314=a532_0x41dc7f;return _0x206742&&_0x206742[_0x567314(0x1da)]?_0x206742:{'default':_0x206742};};function a532_0xe2eb(_0x3ce2b7,_0x521e42){const _0x576cb8=a532_0xca7c();return a532_0xe2eb=function(_0x50424c,_0x12846a){_0x50424c=_0x50424c-0x1bd;let _0xca7c83=_0x576cb8[_0x50424c];return _0xca7c83;},a532_0xe2eb(_0x3ce2b7,_0x521e42);}Object[a532_0x41dc7f(0x1db)](exports,a532_0x41dc7f(0x1da),{'value':!![]});const User_1=__importDefault(require('../../models/User')),AppError_1=__importDefault(require('../../errors/AppError')),CreateTokens_1=require(a532_0x41dc7f(0x1cc)),SerializeUser_1=require('../../helpers/SerializeUser'),Company_1=__importDefault(require('../../models/Company')),Setting_1=__importDefault(require(a532_0x41dc7f(0x1c0))),AuthUserService=async({email:_0x3d86da,password:_0x59d795})=>{const _0x169be7=a532_0x41dc7f,_0x50c26d=await User_1[_0x169be7(0x1be)][_0x169be7(0x1d2)]({'where':{'email':_0x3d86da},'include':[_0x169be7(0x1c6),{'model':Company_1[_0x169be7(0x1be)],'include':[{'model':Setting_1[_0x169be7(0x1be)]}]}]});if(!_0x50c26d)throw new AppError_1[(_0x169be7(0x1be))](_0x169be7(0x1bf),0x191);const _0xee67ae=new Date(),_0x40878b=_0xee67ae['getHours']()*0x3c*0x3c,_0x2ad32c=_0xee67ae[_0x169be7(0x1dc)]()*0x3c,_0xbba9d2=_0x40878b+_0x2ad32c,_0x796c81=_0x50c26d['startWork'],_0x41593d=Number(_0x796c81[_0x169be7(0x1d7)](':')[0x0])*0x3c*0x3c,_0x34dd12=Number(_0x796c81[_0x169be7(0x1d7)](':')[0x1])*0x3c,_0x5b1b59=_0x41593d+_0x34dd12,_0x15abbc=_0x50c26d[_0x169be7(0x1c7)],_0x441e3e=Number(_0x15abbc[_0x169be7(0x1d7)](':')[0x0])*0x3c*0x3c,_0xaf05bd=Number(_0x15abbc['split'](':')[0x1])*0x3c,_0x39fb80=_0x441e3e+_0xaf05bd;if(_0xbba9d2<_0x5b1b59||_0xbba9d2>_0x39fb80)throw new AppError_1['default'](_0x169be7(0x1d9),0x191);if(!await _0x50c26d[_0x169be7(0x1ce)](_0x59d795))throw new AppError_1[(_0x169be7(0x1be))]('ERR_INVALID_CREDENTIALS',0x191);await _0x50c26d[_0x169be7(0x1d0)]();const _0x527144=(0x0,CreateTokens_1[_0x169be7(0x1c9)])(_0x50c26d),_0x1bf5ad=(0x0,CreateTokens_1[_0x169be7(0x1ca)])(_0x50c26d),_0x257db5=await(0x0,SerializeUser_1[_0x169be7(0x1d5)])(_0x50c26d);return{'serializedUser':_0x257db5,'token':_0x527144,'refreshToken':_0x1bf5ad};};exports['default']=AuthUserService;