'use strict';var a521_0x4104d8=a521_0x4c7a;function a521_0x10f7(){var _0x291ec7=['writable','hasOwnProperty','__setModuleDefault','get','apply','10558737LNwZJx','constructor','__esModule','getOwnPropertyDescriptor','yup','7144836pwmcTc','270RXNtMc','147cVPeIz','create','length','3816006IkwOHH','63943kFiXsW','385885wKFcCN','object','../../errors/AppError','default','__importStar','validate','prototype','call','__importDefault','toString','52EdZPWJ','4932BrkOjm','170656HEimbv','search','defineProperty','(((.+)+)+)+$','string','11ZICiPP','getOwnPropertyNames','required'];a521_0x10f7=function(){return _0x291ec7;};return a521_0x10f7();}(function(_0xc56777,_0x5e3c78){var _0x27df9f=a521_0x4c7a,_0x25be4d=_0xc56777();while(!![]){try{var _0x3901a3=-parseInt(_0x27df9f(0x173))/0x1*(-parseInt(_0x27df9f(0x16d))/0x2)+parseInt(_0x27df9f(0x185))/0x3+-parseInt(_0x27df9f(0x16c))/0x4*(parseInt(_0x27df9f(0x187))/0x5)+-parseInt(_0x27df9f(0x180))/0x6+parseInt(_0x27df9f(0x182))/0x7*(parseInt(_0x27df9f(0x16e))/0x8)+parseInt(_0x27df9f(0x17b))/0x9+-parseInt(_0x27df9f(0x181))/0xa*(-parseInt(_0x27df9f(0x186))/0xb);if(_0x3901a3===_0x5e3c78)break;else _0x25be4d['push'](_0x25be4d['shift']());}catch(_0x325d73){_0x25be4d['push'](_0x25be4d['shift']());}}}(a521_0x10f7,0xd79c1));var __createBinding=this&&this['__createBinding']||(Object[a521_0x4104d8(0x183)]?function(_0x4c0527,_0x2048c9,_0x3e1339,_0x30860c){var _0x390889=a521_0x4104d8;if(_0x30860c===undefined)_0x30860c=_0x3e1339;var _0x4e3416=Object[_0x390889(0x17e)](_0x2048c9,_0x3e1339);(!_0x4e3416||(_0x390889(0x179)in _0x4e3416?!_0x2048c9[_0x390889(0x17d)]:_0x4e3416[_0x390889(0x176)]||_0x4e3416['configurable']))&&(_0x4e3416={'enumerable':!![],'get':function(){return _0x2048c9[_0x3e1339];}}),Object[_0x390889(0x170)](_0x4c0527,_0x30860c,_0x4e3416);}:function(_0x1eee9e,_0x588924,_0x5c98ff,_0x42d682){if(_0x42d682===undefined)_0x42d682=_0x5c98ff;_0x1eee9e[_0x42d682]=_0x588924[_0x5c98ff];}),__setModuleDefault=this&&this[a521_0x4104d8(0x178)]||(Object[a521_0x4104d8(0x183)]?function(_0x59b66b,_0x16de08){var _0x1a60f5=a521_0x4104d8;Object[_0x1a60f5(0x170)](_0x59b66b,'default',{'enumerable':!![],'value':_0x16de08});}:function(_0x214a0e,_0x779c18){var _0x4b9524=a521_0x4104d8;_0x214a0e[_0x4b9524(0x165)]=_0x779c18;}),__importStar=this&&this[a521_0x4104d8(0x166)]||(function(){var _0x142a30=(function(){var _0x33b39d=!![];return function(_0x3019c2,_0x21aea5){var _0x2620f0=_0x33b39d?function(){var _0xc1a874=a521_0x4c7a;if(_0x21aea5){var _0x180320=_0x21aea5[_0xc1a874(0x17a)](_0x3019c2,arguments);return _0x21aea5=null,_0x180320;}}:function(){};return _0x33b39d=![],_0x2620f0;};}()),_0x3797f7=_0x142a30(this,function(){var _0x4b00ed=a521_0x4c7a;return _0x3797f7[_0x4b00ed(0x16b)]()[_0x4b00ed(0x16f)](_0x4b00ed(0x171))[_0x4b00ed(0x16b)]()[_0x4b00ed(0x17c)](_0x3797f7)[_0x4b00ed(0x16f)]('(((.+)+)+)+$');});_0x3797f7();var _0x55d4c7=function(_0x373e1d){var _0x204d45=a521_0x4c7a;return _0x55d4c7=Object[_0x204d45(0x174)]||function(_0x55041b){var _0x364bbe=_0x204d45,_0x3e7389=[];for(var _0x4824d2 in _0x55041b)if(Object[_0x364bbe(0x168)][_0x364bbe(0x177)][_0x364bbe(0x169)](_0x55041b,_0x4824d2))_0x3e7389[_0x3e7389[_0x364bbe(0x184)]]=_0x4824d2;return _0x3e7389;},_0x55d4c7(_0x373e1d);};return function(_0x2ad355){var _0x3ab698=a521_0x4c7a;if(_0x2ad355&&_0x2ad355[_0x3ab698(0x17d)])return _0x2ad355;var _0x3dedbd={};if(_0x2ad355!=null){for(var _0x256b29=_0x55d4c7(_0x2ad355),_0x101bfb=0x0;_0x101bfb<_0x256b29[_0x3ab698(0x184)];_0x101bfb++)if(_0x256b29[_0x101bfb]!==_0x3ab698(0x165))__createBinding(_0x3dedbd,_0x2ad355,_0x256b29[_0x101bfb]);}return __setModuleDefault(_0x3dedbd,_0x2ad355),_0x3dedbd;};}()),__importDefault=this&&this[a521_0x4104d8(0x16a)]||function(_0x3eda7b){return _0x3eda7b&&_0x3eda7b['__esModule']?_0x3eda7b:{'default':_0x3eda7b};};Object[a521_0x4104d8(0x170)](exports,a521_0x4104d8(0x17d),{'value':!![]});const Yup=__importStar(require(a521_0x4104d8(0x17f))),AppError_1=__importDefault(require(a521_0x4104d8(0x164))),Schedule_1=__importDefault(require('../../models/Schedule')),Contact_1=__importDefault(require('../../models/Contact')),CreateService=async({body:_0x2bdf9c,sendAt:_0x4bf7d1,contactId:_0x193eb9,companyId:_0x5d382c,userId:_0xb5f932,saveMessage:_0x46e013})=>{var _0x2fee8d=a521_0x4104d8;const _0x3f2687=Yup[_0x2fee8d(0x188)]()['shape']({'body':Yup[_0x2fee8d(0x172)]()[_0x2fee8d(0x175)]()['min'](0x5),'sendAt':Yup[_0x2fee8d(0x172)]()[_0x2fee8d(0x175)]()});try{await _0x3f2687[_0x2fee8d(0x167)]({'body':_0x2bdf9c,'sendAt':_0x4bf7d1});}catch(_0x17a56d){throw new AppError_1['default'](_0x17a56d['message']);}const _0x39dbc3=await Schedule_1[_0x2fee8d(0x165)][_0x2fee8d(0x183)]({'body':_0x2bdf9c,'sendAt':_0x4bf7d1,'contactId':_0x193eb9,'companyId':_0x5d382c,'userId':_0xb5f932,'saveMessage':_0x46e013,'status':'PENDENTE'});return await _0x39dbc3['reload']({'include':[{'model':Contact_1[_0x2fee8d(0x165)],'as':'contact'}]}),_0x39dbc3;};function a521_0x4c7a(_0x370822,_0x3ac4e2){var _0x331396=a521_0x10f7();return a521_0x4c7a=function(_0x458300,_0x54ff2a){_0x458300=_0x458300-0x164;var _0x10f707=_0x331396[_0x458300];return _0x10f707;},a521_0x4c7a(_0x370822,_0x3ac4e2);}exports[a521_0x4104d8(0x165)]=CreateService;