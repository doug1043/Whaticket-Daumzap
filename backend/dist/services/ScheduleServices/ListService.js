const a496_0x4e5d0d=a496_0x45bc;(function(_0x4cc3cf,_0x47cc90){const _0x202638=a496_0x45bc,_0x3ad0c0=_0x4cc3cf();while(!![]){try{const _0x4ad849=parseInt(_0x202638(0x136))/0x1*(parseInt(_0x202638(0x13d))/0x2)+-parseInt(_0x202638(0x146))/0x3*(-parseInt(_0x202638(0x14f))/0x4)+parseInt(_0x202638(0x150))/0x5*(parseInt(_0x202638(0x148))/0x6)+-parseInt(_0x202638(0x13c))/0x7+parseInt(_0x202638(0x145))/0x8+-parseInt(_0x202638(0x157))/0x9*(parseInt(_0x202638(0x137))/0xa)+-parseInt(_0x202638(0x141))/0xb;if(_0x4ad849===_0x47cc90)break;else _0x3ad0c0['push'](_0x3ad0c0['shift']());}catch(_0x26abfe){_0x3ad0c0['push'](_0x3ad0c0['shift']());}}}(a496_0x45d9,0x6901b));const a496_0x4dbf50=(function(){let _0x1ded34=!![];return function(_0x34b62e,_0x4f0f37){const _0x3ca9a5=_0x1ded34?function(){const _0x33b1a1=a496_0x45bc;if(_0x4f0f37){const _0x2377cc=_0x4f0f37[_0x33b1a1(0x154)](_0x34b62e,arguments);return _0x4f0f37=null,_0x2377cc;}}:function(){};return _0x1ded34=![],_0x3ca9a5;};}()),a496_0x54ce=a496_0x4dbf50(this,function(){const _0x960928=a496_0x45bc;return a496_0x54ce[_0x960928(0x147)]()[_0x960928(0x14b)](_0x960928(0x14c))[_0x960928(0x147)]()[_0x960928(0x13e)](a496_0x54ce)[_0x960928(0x14b)]('(((.+)+)+)+$');});a496_0x54ce();'use strict';var __importDefault=this&&this[a496_0x4e5d0d(0x135)]||function(_0x21d939){return _0x21d939&&_0x21d939['__esModule']?_0x21d939:{'default':_0x21d939};};function a496_0x45d9(){const _0x414c4a=['LIKE','contact','9VHACkC','Sequelize','user','__importDefault','829gmLcuG','4906960edfEJY','../../models/Schedule','col','../../models/Contact','length','1973993oAZBYQ','468PxvpaJ','constructor','where','Schedule.body','439681zTZltC','name','contact.name','sequelize','1267000WdJXbF','33876gsCWdj','toString','36VTJWSt','LOWER','default','search','(((.+)+)+)+$','createdAt','findAndCountAll','220nxIAWt','224460CgzYhI','toLowerCase','defineProperty','DESC','apply'];a496_0x45d9=function(){return _0x414c4a;};return a496_0x45d9();}Object[a496_0x4e5d0d(0x152)](exports,'__esModule',{'value':!![]});function a496_0x45bc(_0x30bcbe,_0x119245){const _0x4a948a=a496_0x45d9();return a496_0x45bc=function(_0x54ce,_0x4dbf50){_0x54ce=_0x54ce-0x134;let _0x45d9e2=_0x4a948a[_0x54ce];return _0x45d9e2;},a496_0x45bc(_0x30bcbe,_0x119245);}const sequelize_1=require(a496_0x4e5d0d(0x144)),Contact_1=__importDefault(require(a496_0x4e5d0d(0x13a))),Schedule_1=__importDefault(require(a496_0x4e5d0d(0x138))),User_1=__importDefault(require('../../models/User')),ListService=async({searchParam:_0x572438,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x5313d7})=>{const _0x208f7a=a496_0x4e5d0d;let _0x27cb22={};const _0x38d725=0x14,_0x3dcbe8=_0x38d725*(+pageNumber-0x1);_0x572438&&(_0x27cb22={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1[_0x208f7a(0x158)][_0x208f7a(0x13f)](sequelize_1['Sequelize']['fn'](_0x208f7a(0x149),sequelize_1[_0x208f7a(0x158)][_0x208f7a(0x139)](_0x208f7a(0x140))),_0x208f7a(0x155),'%'+_0x572438[_0x208f7a(0x151)]()+'%')},{'$Contact.name$':sequelize_1[_0x208f7a(0x158)]['where'](sequelize_1[_0x208f7a(0x158)]['fn'](_0x208f7a(0x149),sequelize_1[_0x208f7a(0x158)][_0x208f7a(0x139)](_0x208f7a(0x143))),_0x208f7a(0x155),'%'+_0x572438['toLowerCase']()+'%')}]});contactId!==''&&(_0x27cb22={..._0x27cb22,'contactId':contactId});userId!==''&&(_0x27cb22={..._0x27cb22,'userId':userId});_0x27cb22={..._0x27cb22,'companyId':{[sequelize_1['Op']['eq']]:_0x5313d7}};const {count:_0x5cf22f,rows:_0x2473be}=await Schedule_1['default'][_0x208f7a(0x14e)]({'where':_0x27cb22,'limit':_0x38d725,'offset':_0x3dcbe8,'order':[[_0x208f7a(0x14d),_0x208f7a(0x153)]],'include':[{'model':Contact_1['default'],'as':_0x208f7a(0x156),'attributes':['id',_0x208f7a(0x142)]},{'model':User_1['default'],'as':_0x208f7a(0x134),'attributes':['id',_0x208f7a(0x142)]}]}),_0x5566b0=_0x5cf22f>_0x3dcbe8+_0x2473be[_0x208f7a(0x13b)];return{'schedules':_0x2473be,'count':_0x5cf22f,'hasMore':_0x5566b0};};exports[a496_0x4e5d0d(0x14a)]=ListService;