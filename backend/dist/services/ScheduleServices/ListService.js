const a496_0x31bd8c=a496_0x2073;function a496_0x2073(_0x4fb79c,_0x104094){const _0x2e3fc8=a496_0x1d55();return a496_0x2073=function(_0x436b92,_0x38eed8){_0x436b92=_0x436b92-0xab;let _0x1d55d4=_0x2e3fc8[_0x436b92];return _0x1d55d4;},a496_0x2073(_0x4fb79c,_0x104094);}(function(_0x4fbdfd,_0x18762c){const _0x2892df=a496_0x2073,_0x3cd089=_0x4fbdfd();while(!![]){try{const _0x25d664=-parseInt(_0x2892df(0xc0))/0x1*(-parseInt(_0x2892df(0xb1))/0x2)+parseInt(_0x2892df(0xc4))/0x3+-parseInt(_0x2892df(0xb2))/0x4+-parseInt(_0x2892df(0xba))/0x5*(parseInt(_0x2892df(0xac))/0x6)+parseInt(_0x2892df(0xc6))/0x7*(parseInt(_0x2892df(0xc8))/0x8)+parseInt(_0x2892df(0xbc))/0x9*(parseInt(_0x2892df(0xc5))/0xa)+parseInt(_0x2892df(0xbf))/0xb;if(_0x25d664===_0x18762c)break;else _0x3cd089['push'](_0x3cd089['shift']());}catch(_0x389aae){_0x3cd089['push'](_0x3cd089['shift']());}}}(a496_0x1d55,0x965ef));function a496_0x1d55(){const _0x29b3ce=['__esModule','createdAt','3555012xEqJZj','toString','search','../../models/Contact','sequelize','426872PxxCMG','3538484DFcxtT','../../models/Schedule','findAndCountAll','DESC','default','defineProperty','LIKE','length','10VbRccl','apply','18lfITAK','(((.+)+)+)+$','__importDefault','3806396wjUlvF','5ItwKQZ','Schedule.body','col','name','1562847HxVYQJ','2493560PKXjNO','7MZEJvx','toLowerCase','2021336rMdkwX','where','Sequelize','LOWER'];a496_0x1d55=function(){return _0x29b3ce;};return a496_0x1d55();}const a496_0x38eed8=(function(){let _0x2f8381=!![];return function(_0x50a77c,_0x42ac31){const _0x19ec31=_0x2f8381?function(){const _0x48f14c=a496_0x2073;if(_0x42ac31){const _0x2087ff=_0x42ac31[_0x48f14c(0xbb)](_0x50a77c,arguments);return _0x42ac31=null,_0x2087ff;}}:function(){};return _0x2f8381=![],_0x19ec31;};}()),a496_0x436b92=a496_0x38eed8(this,function(){const _0x26e7bd=a496_0x2073;return a496_0x436b92[_0x26e7bd(0xad)]()[_0x26e7bd(0xae)](_0x26e7bd(0xbd))[_0x26e7bd(0xad)]()['constructor'](a496_0x436b92)['search'](_0x26e7bd(0xbd));});a496_0x436b92();'use strict';var __importDefault=this&&this[a496_0x31bd8c(0xbe)]||function(_0x3e5148){const _0x18ba3c=a496_0x31bd8c;return _0x3e5148&&_0x3e5148[_0x18ba3c(0xcc)]?_0x3e5148:{'default':_0x3e5148};};Object[a496_0x31bd8c(0xb7)](exports,a496_0x31bd8c(0xcc),{'value':!![]});const sequelize_1=require(a496_0x31bd8c(0xb0)),Contact_1=__importDefault(require(a496_0x31bd8c(0xaf))),Schedule_1=__importDefault(require(a496_0x31bd8c(0xb3))),User_1=__importDefault(require('../../models/User')),ListService=async({searchParam:_0x2e8bad,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x90439e})=>{const _0x463298=a496_0x31bd8c;let _0x16fd67={};const _0x4554e8=0x14,_0x26746b=_0x4554e8*(+pageNumber-0x1);_0x2e8bad&&(_0x16fd67={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1[_0x463298(0xca)][_0x463298(0xc9)](sequelize_1[_0x463298(0xca)]['fn'](_0x463298(0xcb),sequelize_1[_0x463298(0xca)]['col'](_0x463298(0xc1))),_0x463298(0xb8),'%'+_0x2e8bad[_0x463298(0xc7)]()+'%')},{'$Contact.name$':sequelize_1[_0x463298(0xca)][_0x463298(0xc9)](sequelize_1[_0x463298(0xca)]['fn'](_0x463298(0xcb),sequelize_1['Sequelize'][_0x463298(0xc2)]('contact.name')),_0x463298(0xb8),'%'+_0x2e8bad[_0x463298(0xc7)]()+'%')}]});contactId!==''&&(_0x16fd67={..._0x16fd67,'contactId':contactId});userId!==''&&(_0x16fd67={..._0x16fd67,'userId':userId});_0x16fd67={..._0x16fd67,'companyId':{[sequelize_1['Op']['eq']]:_0x90439e}};const {count:_0x177e04,rows:_0x1bf0d2}=await Schedule_1['default'][_0x463298(0xb4)]({'where':_0x16fd67,'limit':_0x4554e8,'offset':_0x26746b,'order':[[_0x463298(0xab),_0x463298(0xb5)]],'include':[{'model':Contact_1[_0x463298(0xb6)],'as':'contact','attributes':['id',_0x463298(0xc3)]},{'model':User_1[_0x463298(0xb6)],'as':'user','attributes':['id','name']}]}),_0x2a9e78=_0x177e04>_0x26746b+_0x1bf0d2[_0x463298(0xb9)];return{'schedules':_0x1bf0d2,'count':_0x177e04,'hasMore':_0x2a9e78};};exports[a496_0x31bd8c(0xb6)]=ListService;