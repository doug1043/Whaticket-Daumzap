const a494_0x5e0c29=a494_0x52e6;function a494_0x107a(){const _0x1a338d=['default','toLowerCase','search','271944CUvMBu','__esModule','apply','contact.name','defineProperty','11BhSyXt','toString','84329REmLKk','6121365mmVOHc','DESC','(((.+)+)+)+$','contact','208FQrlhW','__importDefault','sequelize','224955cKAprG','../../models/User','108834TgMWCx','6hkSGwh','3469458WMGeSL','where','user','LIKE','1836MMJQma','2656EozQXj','70qCPZmx','length','constructor','Sequelize','col'];a494_0x107a=function(){return _0x1a338d;};return a494_0x107a();}(function(_0x54aa33,_0x2b3727){const _0xb68979=a494_0x52e6,_0x532fb8=_0x54aa33();while(!![]){try{const _0x5aac8c=-parseInt(_0xb68979(0x1db))/0x1*(-parseInt(_0xb68979(0x1cd))/0x2)+parseInt(_0xb68979(0x1e9))/0x3+-parseInt(_0xb68979(0x1d6))/0x4+-parseInt(_0xb68979(0x1de))/0x5*(-parseInt(_0xb68979(0x1e8))/0x6)+parseInt(_0xb68979(0x1dd))/0x7*(-parseInt(_0xb68979(0x1e2))/0x8)+parseInt(_0xb68979(0x1e5))/0x9*(parseInt(_0xb68979(0x1ce))/0xa)+parseInt(_0xb68979(0x1e7))/0xb*(-parseInt(_0xb68979(0x1cc))/0xc);if(_0x5aac8c===_0x2b3727)break;else _0x532fb8['push'](_0x532fb8['shift']());}catch(_0x7812eb){_0x532fb8['push'](_0x532fb8['shift']());}}}(a494_0x107a,0xa4e0e));function a494_0x52e6(_0x44e6b5,_0x3063c4){const _0x4630c1=a494_0x107a();return a494_0x52e6=function(_0x5291cb,_0x41fb60){_0x5291cb=_0x5291cb-0x1cc;let _0x107ade=_0x4630c1[_0x5291cb];return _0x107ade;},a494_0x52e6(_0x44e6b5,_0x3063c4);}const a494_0x41fb60=(function(){let _0x2ce7f3=!![];return function(_0x3d55b7,_0xcd9108){const _0x8a1c1b=_0x2ce7f3?function(){const _0x311951=a494_0x52e6;if(_0xcd9108){const _0x53e6ce=_0xcd9108[_0x311951(0x1d8)](_0x3d55b7,arguments);return _0xcd9108=null,_0x53e6ce;}}:function(){};return _0x2ce7f3=![],_0x8a1c1b;};}()),a494_0x5291cb=a494_0x41fb60(this,function(){const _0x2901d5=a494_0x52e6;return a494_0x5291cb[_0x2901d5(0x1dc)]()[_0x2901d5(0x1d5)](_0x2901d5(0x1e0))[_0x2901d5(0x1dc)]()[_0x2901d5(0x1d0)](a494_0x5291cb)['search'](_0x2901d5(0x1e0));});a494_0x5291cb();'use strict';var __importDefault=this&&this[a494_0x5e0c29(0x1e3)]||function(_0x2d3bd6){const _0x4882f8=a494_0x5e0c29;return _0x2d3bd6&&_0x2d3bd6[_0x4882f8(0x1d7)]?_0x2d3bd6:{'default':_0x2d3bd6};};Object[a494_0x5e0c29(0x1da)](exports,a494_0x5e0c29(0x1d7),{'value':!![]});const sequelize_1=require(a494_0x5e0c29(0x1e4)),Contact_1=__importDefault(require('../../models/Contact')),Schedule_1=__importDefault(require('../../models/Schedule')),User_1=__importDefault(require(a494_0x5e0c29(0x1e6))),ListService=async({searchParam:_0xc093fd,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x2953cc})=>{const _0x5ac22a=a494_0x5e0c29;let _0x44ac9f={};const _0x4c5ce5=0x14,_0x2edbf6=_0x4c5ce5*(+pageNumber-0x1);_0xc093fd&&(_0x44ac9f={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1['Sequelize']['where'](sequelize_1[_0x5ac22a(0x1d1)]['fn']('LOWER',sequelize_1[_0x5ac22a(0x1d1)][_0x5ac22a(0x1d2)]('Schedule.body')),_0x5ac22a(0x1ec),'%'+_0xc093fd['toLowerCase']()+'%')},{'$Contact.name$':sequelize_1['Sequelize'][_0x5ac22a(0x1ea)](sequelize_1[_0x5ac22a(0x1d1)]['fn']('LOWER',sequelize_1[_0x5ac22a(0x1d1)][_0x5ac22a(0x1d2)](_0x5ac22a(0x1d9))),_0x5ac22a(0x1ec),'%'+_0xc093fd[_0x5ac22a(0x1d4)]()+'%')}]});contactId!==''&&(_0x44ac9f={..._0x44ac9f,'contactId':contactId});userId!==''&&(_0x44ac9f={..._0x44ac9f,'userId':userId});_0x44ac9f={..._0x44ac9f,'companyId':{[sequelize_1['Op']['eq']]:_0x2953cc}};const {count:_0x18c199,rows:_0x101556}=await Schedule_1['default']['findAndCountAll']({'where':_0x44ac9f,'limit':_0x4c5ce5,'offset':_0x2edbf6,'order':[['createdAt',_0x5ac22a(0x1df)]],'include':[{'model':Contact_1[_0x5ac22a(0x1d3)],'as':_0x5ac22a(0x1e1),'attributes':['id','name']},{'model':User_1['default'],'as':_0x5ac22a(0x1eb),'attributes':['id','name']}]}),_0x542453=_0x18c199>_0x2edbf6+_0x101556[_0x5ac22a(0x1cf)];return{'schedules':_0x101556,'count':_0x18c199,'hasMore':_0x542453};};exports[a494_0x5e0c29(0x1d3)]=ListService;