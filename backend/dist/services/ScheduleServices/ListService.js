const a494_0x143a47=a494_0x583e;(function(_0x128fb3,_0x3af29a){const _0x4992d0=a494_0x583e,_0x842bc9=_0x128fb3();while(!![]){try{const _0x406e74=-parseInt(_0x4992d0(0x19c))/0x1*(parseInt(_0x4992d0(0x1b8))/0x2)+parseInt(_0x4992d0(0x1b4))/0x3*(-parseInt(_0x4992d0(0x19e))/0x4)+parseInt(_0x4992d0(0x1ad))/0x5*(parseInt(_0x4992d0(0x1b6))/0x6)+-parseInt(_0x4992d0(0x1ae))/0x7*(parseInt(_0x4992d0(0x19d))/0x8)+parseInt(_0x4992d0(0x1a4))/0x9+-parseInt(_0x4992d0(0x19f))/0xa*(-parseInt(_0x4992d0(0x1bb))/0xb)+parseInt(_0x4992d0(0x19b))/0xc;if(_0x406e74===_0x3af29a)break;else _0x842bc9['push'](_0x842bc9['shift']());}catch(_0x10f219){_0x842bc9['push'](_0x842bc9['shift']());}}}(a494_0x2861,0xdace9));function a494_0x2861(){const _0x31decb=['__esModule','name','contact','(((.+)+)+)+$','8649585lMaYGj','DESC','defineProperty','contact.name','../../models/Contact','toLowerCase','col','Schedule.body','search','10iIpSVZ','110033qtYnai','../../models/Schedule','LOWER','where','Sequelize','toString','3WdYttq','user','2219142Xkdzpv','default','276kJZasT','constructor','length','9245302SZcCrv','sequelize','31816284uQNOQh','10169wJjxSh','664rFLVtz','6353544OeVptj','10fIQDTZ'];a494_0x2861=function(){return _0x31decb;};return a494_0x2861();}const a494_0x9c457a=(function(){let _0x115219=!![];return function(_0x8bee9f,_0xc4152e){const _0x5a52b8=_0x115219?function(){if(_0xc4152e){const _0x486aa4=_0xc4152e['apply'](_0x8bee9f,arguments);return _0xc4152e=null,_0x486aa4;}}:function(){};return _0x115219=![],_0x5a52b8;};}()),a494_0x343a58=a494_0x9c457a(this,function(){const _0x3bd522=a494_0x583e;return a494_0x343a58[_0x3bd522(0x1b3)]()[_0x3bd522(0x1ac)]('(((.+)+)+)+$')[_0x3bd522(0x1b3)]()[_0x3bd522(0x1b9)](a494_0x343a58)[_0x3bd522(0x1ac)](_0x3bd522(0x1a3));});a494_0x343a58();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x57f731){return _0x57f731&&_0x57f731['__esModule']?_0x57f731:{'default':_0x57f731};};function a494_0x583e(_0x30af72,_0xfee97c){const _0x4b5edf=a494_0x2861();return a494_0x583e=function(_0x343a58,_0x9c457a){_0x343a58=_0x343a58-0x19a;let _0x286167=_0x4b5edf[_0x343a58];return _0x286167;},a494_0x583e(_0x30af72,_0xfee97c);}Object[a494_0x143a47(0x1a6)](exports,a494_0x143a47(0x1a0),{'value':!![]});const sequelize_1=require(a494_0x143a47(0x19a)),Contact_1=__importDefault(require(a494_0x143a47(0x1a8))),Schedule_1=__importDefault(require(a494_0x143a47(0x1af))),User_1=__importDefault(require('../../models/User')),ListService=async({searchParam:_0x57837e,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x9bf40a})=>{const _0x29f7f2=a494_0x143a47;let _0x2e66e8={};const _0x2a3117=0x14,_0x5760c5=_0x2a3117*(+pageNumber-0x1);_0x57837e&&(_0x2e66e8={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1['Sequelize'][_0x29f7f2(0x1b1)](sequelize_1[_0x29f7f2(0x1b2)]['fn'](_0x29f7f2(0x1b0),sequelize_1[_0x29f7f2(0x1b2)][_0x29f7f2(0x1aa)](_0x29f7f2(0x1ab))),'LIKE','%'+_0x57837e[_0x29f7f2(0x1a9)]()+'%')},{'$Contact.name$':sequelize_1[_0x29f7f2(0x1b2)]['where'](sequelize_1[_0x29f7f2(0x1b2)]['fn'](_0x29f7f2(0x1b0),sequelize_1[_0x29f7f2(0x1b2)][_0x29f7f2(0x1aa)](_0x29f7f2(0x1a7))),'LIKE','%'+_0x57837e[_0x29f7f2(0x1a9)]()+'%')}]});contactId!==''&&(_0x2e66e8={..._0x2e66e8,'contactId':contactId});userId!==''&&(_0x2e66e8={..._0x2e66e8,'userId':userId});_0x2e66e8={..._0x2e66e8,'companyId':{[sequelize_1['Op']['eq']]:_0x9bf40a}};const {count:_0x13e7d4,rows:_0x30cf31}=await Schedule_1[_0x29f7f2(0x1b7)]['findAndCountAll']({'where':_0x2e66e8,'limit':_0x2a3117,'offset':_0x5760c5,'order':[['createdAt',_0x29f7f2(0x1a5)]],'include':[{'model':Contact_1[_0x29f7f2(0x1b7)],'as':_0x29f7f2(0x1a2),'attributes':['id',_0x29f7f2(0x1a1)]},{'model':User_1[_0x29f7f2(0x1b7)],'as':_0x29f7f2(0x1b5),'attributes':['id',_0x29f7f2(0x1a1)]}]}),_0x5158fc=_0x13e7d4>_0x5760c5+_0x30cf31[_0x29f7f2(0x1ba)];return{'schedules':_0x30cf31,'count':_0x13e7d4,'hasMore':_0x5158fc};};exports[a494_0x143a47(0x1b7)]=ListService;