const a524_0x2f79be=a524_0x22c5;function a524_0x571f(){const _0x29e2de=['toString','apply','4357368qZRfma','8856850dIixhm','where','findAndCountAll','1892RvmxNm','(((.+)+)+)+$','contact','2638575esomDH','7zyVlSV','constructor','285750NpQSKj','__esModule','1vExLXf','__importDefault','48UPoyGV','contact.name','default','Sequelize','6959016ZWBRKe','search','col','../../models/Contact','3572010StmlSM','defineProperty','../../models/User','toLowerCase','name','length','createdAt','LIKE'];a524_0x571f=function(){return _0x29e2de;};return a524_0x571f();}(function(_0x259fe1,_0x5cf71e){const _0x5f1ac3=a524_0x22c5,_0x35ea5f=_0x259fe1();while(!![]){try{const _0x4cdf7e=-parseInt(_0x5f1ac3(0xa7))/0x1*(-parseInt(_0x5f1ac3(0x9f))/0x2)+-parseInt(_0x5f1ac3(0xa2))/0x3+parseInt(_0x5f1ac3(0xa9))/0x4*(-parseInt(_0x5f1ac3(0xa5))/0x5)+-parseInt(_0x5f1ac3(0x9b))/0x6*(-parseInt(_0x5f1ac3(0xa3))/0x7)+parseInt(_0x5f1ac3(0xad))/0x8+-parseInt(_0x5f1ac3(0x91))/0x9+parseInt(_0x5f1ac3(0x9c))/0xa;if(_0x4cdf7e===_0x5cf71e)break;else _0x35ea5f['push'](_0x35ea5f['shift']());}catch(_0x172f1d){_0x35ea5f['push'](_0x35ea5f['shift']());}}}(a524_0x571f,0x7f149));function a524_0x22c5(_0x58f8b2,_0x5a74a8){const _0x390bec=a524_0x571f();return a524_0x22c5=function(_0x421498,_0x118005){_0x421498=_0x421498-0x8e;let _0x571f3d=_0x390bec[_0x421498];return _0x571f3d;},a524_0x22c5(_0x58f8b2,_0x5a74a8);}const a524_0x118005=(function(){let _0x13eac8=!![];return function(_0x5cf79a,_0x2e50f9){const _0x22d862=_0x13eac8?function(){const _0x6ebfcd=a524_0x22c5;if(_0x2e50f9){const _0x2fd384=_0x2e50f9[_0x6ebfcd(0x9a)](_0x5cf79a,arguments);return _0x2e50f9=null,_0x2fd384;}}:function(){};return _0x13eac8=![],_0x22d862;};}()),a524_0x421498=a524_0x118005(this,function(){const _0x59bf0c=a524_0x22c5;return a524_0x421498[_0x59bf0c(0x99)]()[_0x59bf0c(0x8e)]('(((.+)+)+)+$')[_0x59bf0c(0x99)]()[_0x59bf0c(0xa4)](a524_0x421498)[_0x59bf0c(0x8e)](_0x59bf0c(0xa0));});a524_0x421498();'use strict';var __importDefault=this&&this[a524_0x2f79be(0xa8)]||function(_0x5085b4){const _0x572668=a524_0x2f79be;return _0x5085b4&&_0x5085b4[_0x572668(0xa6)]?_0x5085b4:{'default':_0x5085b4};};Object[a524_0x2f79be(0x92)](exports,a524_0x2f79be(0xa6),{'value':!![]});const sequelize_1=require('sequelize'),Contact_1=__importDefault(require(a524_0x2f79be(0x90))),Schedule_1=__importDefault(require('../../models/Schedule')),User_1=__importDefault(require(a524_0x2f79be(0x93))),ListService=async({searchParam:_0x2b5ded,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x5afc09})=>{const _0x368dac=a524_0x2f79be;let _0x2832f3={};const _0x1d9f92=0x14,_0x1cb717=_0x1d9f92*(+pageNumber-0x1);_0x2b5ded&&(_0x2832f3={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1[_0x368dac(0xac)][_0x368dac(0x9d)](sequelize_1['Sequelize']['fn']('LOWER',sequelize_1[_0x368dac(0xac)][_0x368dac(0x8f)]('Schedule.body')),_0x368dac(0x98),'%'+_0x2b5ded['toLowerCase']()+'%')},{'$Contact.name$':sequelize_1[_0x368dac(0xac)]['where'](sequelize_1[_0x368dac(0xac)]['fn']('LOWER',sequelize_1['Sequelize'][_0x368dac(0x8f)](_0x368dac(0xaa))),_0x368dac(0x98),'%'+_0x2b5ded[_0x368dac(0x94)]()+'%')}]});contactId!==''&&(_0x2832f3={..._0x2832f3,'contactId':contactId});userId!==''&&(_0x2832f3={..._0x2832f3,'userId':userId});_0x2832f3={..._0x2832f3,'companyId':{[sequelize_1['Op']['eq']]:_0x5afc09}};const {count:_0x84289,rows:_0x4cd9e2}=await Schedule_1['default'][_0x368dac(0x9e)]({'where':_0x2832f3,'limit':_0x1d9f92,'offset':_0x1cb717,'order':[[_0x368dac(0x97),'DESC']],'include':[{'model':Contact_1[_0x368dac(0xab)],'as':_0x368dac(0xa1),'attributes':['id',_0x368dac(0x95)]},{'model':User_1[_0x368dac(0xab)],'as':'user','attributes':['id','name']}]}),_0x4c193c=_0x84289>_0x1cb717+_0x4cd9e2[_0x368dac(0x96)];return{'schedules':_0x4cd9e2,'count':_0x84289,'hasMore':_0x4c193c};};exports['default']=ListService;