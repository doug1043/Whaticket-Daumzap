const a487_0x267fc8=a487_0x2114;(function(_0x5a9f27,_0x5efc31){const _0xba1206=a487_0x2114,_0x352e2e=_0x5a9f27();while(!![]){try{const _0x4d2416=parseInt(_0xba1206(0x92))/0x1*(-parseInt(_0xba1206(0x99))/0x2)+parseInt(_0xba1206(0x91))/0x3*(parseInt(_0xba1206(0xa8))/0x4)+parseInt(_0xba1206(0xab))/0x5*(parseInt(_0xba1206(0x8e))/0x6)+-parseInt(_0xba1206(0x98))/0x7*(-parseInt(_0xba1206(0xa5))/0x8)+-parseInt(_0xba1206(0x93))/0x9+parseInt(_0xba1206(0x9b))/0xa*(parseInt(_0xba1206(0x8d))/0xb)+-parseInt(_0xba1206(0xa2))/0xc;if(_0x4d2416===_0x5efc31)break;else _0x352e2e['push'](_0x352e2e['shift']());}catch(_0x108f91){_0x352e2e['push'](_0x352e2e['shift']());}}}(a487_0x3879,0xeba6a));function a487_0x2114(_0x75d3ee,_0x5af806){const _0x44c961=a487_0x3879();return a487_0x2114=function(_0x5c606c,_0x3ff87b){_0x5c606c=_0x5c606c-0x8d;let _0x387934=_0x44c961[_0x5c606c];return _0x387934;},a487_0x2114(_0x75d3ee,_0x5af806);}function a487_0x3879(){const _0x5adf2f=['../../models/User','__esModule','apply','133ixGOMc','612072HIDOwf','Schedule.body','8420ZHbOVq','../../models/Contact','LOWER','createdAt','where','default','name','25265712CCHieE','search','Sequelize','680728jcYywL','(((.+)+)+)+$','DESC','2924216djDrjx','length','contact.name','74795pHSMcf','../../models/Schedule','user','18557SOaVKl','222bBmVyo','LIKE','__importDefault','3QPMRjU','2kiKyZG','5750514pNClnv','toLowerCase'];a487_0x3879=function(){return _0x5adf2f;};return a487_0x3879();}const a487_0x3ff87b=(function(){let _0x136f55=!![];return function(_0x5f2d42,_0x6b6a58){const _0x313f7e=_0x136f55?function(){const _0x2f45eb=a487_0x2114;if(_0x6b6a58){const _0x4f339a=_0x6b6a58[_0x2f45eb(0x97)](_0x5f2d42,arguments);return _0x6b6a58=null,_0x4f339a;}}:function(){};return _0x136f55=![],_0x313f7e;};}()),a487_0x5c606c=a487_0x3ff87b(this,function(){const _0x3ef497=a487_0x2114;return a487_0x5c606c['toString']()[_0x3ef497(0xa3)](_0x3ef497(0xa6))['toString']()['constructor'](a487_0x5c606c)['search'](_0x3ef497(0xa6));});a487_0x5c606c();'use strict';var __importDefault=this&&this[a487_0x267fc8(0x90)]||function(_0x35aad6){return _0x35aad6&&_0x35aad6['__esModule']?_0x35aad6:{'default':_0x35aad6};};Object['defineProperty'](exports,a487_0x267fc8(0x96),{'value':!![]});const sequelize_1=require('sequelize'),Contact_1=__importDefault(require(a487_0x267fc8(0x9c))),Schedule_1=__importDefault(require(a487_0x267fc8(0xac))),User_1=__importDefault(require(a487_0x267fc8(0x95))),ListService=async({searchParam:_0x4ba974,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x3e5bba})=>{const _0x16c209=a487_0x267fc8;let _0x154dad={};const _0x548587=0x14,_0x349ae0=_0x548587*(+pageNumber-0x1);_0x4ba974&&(_0x154dad={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1['Sequelize'][_0x16c209(0x9f)](sequelize_1[_0x16c209(0xa4)]['fn']('LOWER',sequelize_1['Sequelize']['col'](_0x16c209(0x9a))),_0x16c209(0x8f),'%'+_0x4ba974['toLowerCase']()+'%')},{'$Contact.name$':sequelize_1[_0x16c209(0xa4)][_0x16c209(0x9f)](sequelize_1[_0x16c209(0xa4)]['fn'](_0x16c209(0x9d),sequelize_1['Sequelize']['col'](_0x16c209(0xaa))),_0x16c209(0x8f),'%'+_0x4ba974[_0x16c209(0x94)]()+'%')}]});contactId!==''&&(_0x154dad={..._0x154dad,'contactId':contactId});userId!==''&&(_0x154dad={..._0x154dad,'userId':userId});_0x154dad={..._0x154dad,'companyId':{[sequelize_1['Op']['eq']]:_0x3e5bba}};const {count:_0xf20b6f,rows:_0x41cf66}=await Schedule_1[_0x16c209(0xa0)]['findAndCountAll']({'where':_0x154dad,'limit':_0x548587,'offset':_0x349ae0,'order':[[_0x16c209(0x9e),_0x16c209(0xa7)]],'include':[{'model':Contact_1[_0x16c209(0xa0)],'as':'contact','attributes':['id',_0x16c209(0xa1)]},{'model':User_1[_0x16c209(0xa0)],'as':_0x16c209(0xad),'attributes':['id','name']}]}),_0x1c2800=_0xf20b6f>_0x349ae0+_0x41cf66[_0x16c209(0xa9)];return{'schedules':_0x41cf66,'count':_0xf20b6f,'hasMore':_0x1c2800};};exports[a487_0x267fc8(0xa0)]=ListService;