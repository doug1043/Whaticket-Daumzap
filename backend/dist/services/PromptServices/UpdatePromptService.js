function a463_0x8e81(){var _0x11823f=['8113527nfZzsI','defineProperty','../../errors/AppError','prototype','__setModuleDefault','ERR_PROMPT_PROMPT_INVALID','6cptSUg','4371648EkRZZs','6541320mfHdnX','97JrJGNF','yup','get','__importStar','writable','stringify','169533UzXkle','__importDefault','object','apply','search','toString','reload','5394155vGsEpp','__esModule','required','string','call','__createBinding','ERR_PROMPT_MAX_MESSAGES_INVALID','27030vLuHBl','ERR_PROMPT_QUEUEID_INVALID','number','9ewOicK','shape','268196gLXagg','ERR_PROMPT_NAME_INVALID','create','default','hasOwnProperty'];a463_0x8e81=function(){return _0x11823f;};return a463_0x8e81();}function a463_0x10a4(_0x488aab,_0x4e54fa){var _0x4007cd=a463_0x8e81();return a463_0x10a4=function(_0x22ba82,_0x599a40){_0x22ba82=_0x22ba82-0x90;var _0x8e811e=_0x4007cd[_0x22ba82];return _0x8e811e;},a463_0x10a4(_0x488aab,_0x4e54fa);}var a463_0xf635cb=a463_0x10a4;(function(_0x5bd838,_0x2702ad){var _0x5e7cde=a463_0x10a4,_0xef8df1=_0x5bd838();while(!![]){try{var _0x2e5a61=parseInt(_0x5e7cde(0xaa))/0x1*(-parseInt(_0x5e7cde(0x97))/0x2)+parseInt(_0x5e7cde(0x9a))/0x3*(parseInt(_0x5e7cde(0x9c))/0x4)+parseInt(_0x5e7cde(0x90))/0x5+-parseInt(_0x5e7cde(0xa7))/0x6*(parseInt(_0x5e7cde(0xb0))/0x7)+parseInt(_0x5e7cde(0xa8))/0x8+parseInt(_0x5e7cde(0xa1))/0x9+-parseInt(_0x5e7cde(0xa9))/0xa;if(_0x2e5a61===_0x2702ad)break;else _0xef8df1['push'](_0xef8df1['shift']());}catch(_0x25a05f){_0xef8df1['push'](_0xef8df1['shift']());}}}(a463_0x8e81,0xb4547));var a463_0x599a40=(function(){var _0x3bbd0d=!![];return function(_0x17d4f4,_0x3b397c){var _0x20bde6=_0x3bbd0d?function(){var _0x4edb68=a463_0x10a4;if(_0x3b397c){var _0x40e38d=_0x3b397c[_0x4edb68(0xb3)](_0x17d4f4,arguments);return _0x3b397c=null,_0x40e38d;}}:function(){};return _0x3bbd0d=![],_0x20bde6;};}()),a463_0x22ba82=a463_0x599a40(this,function(){var _0x4c913c=a463_0x10a4;return a463_0x22ba82[_0x4c913c(0xb5)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a463_0x22ba82)[_0x4c913c(0xb4)]('(((.+)+)+)+$');});a463_0x22ba82();'use strict';var __createBinding=this&&this[a463_0xf635cb(0x95)]||(Object[a463_0xf635cb(0x9e)]?function(_0x1a829d,_0x51b45e,_0x421a48,_0x1ce86c){var _0x2d2b39=a463_0xf635cb;if(_0x1ce86c===undefined)_0x1ce86c=_0x421a48;var _0x2d040a=Object['getOwnPropertyDescriptor'](_0x51b45e,_0x421a48);(!_0x2d040a||(_0x2d2b39(0xac)in _0x2d040a?!_0x51b45e[_0x2d2b39(0x91)]:_0x2d040a[_0x2d2b39(0xae)]||_0x2d040a['configurable']))&&(_0x2d040a={'enumerable':!![],'get':function(){return _0x51b45e[_0x421a48];}}),Object['defineProperty'](_0x1a829d,_0x1ce86c,_0x2d040a);}:function(_0x1169f9,_0x252734,_0x2656b9,_0x294262){if(_0x294262===undefined)_0x294262=_0x2656b9;_0x1169f9[_0x294262]=_0x252734[_0x2656b9];}),__setModuleDefault=this&&this[a463_0xf635cb(0xa5)]||(Object[a463_0xf635cb(0x9e)]?function(_0x543627,_0x21f4e7){var _0x4a2b5e=a463_0xf635cb;Object['defineProperty'](_0x543627,_0x4a2b5e(0x9f),{'enumerable':!![],'value':_0x21f4e7});}:function(_0x56bf06,_0x4f95dd){var _0x1c8315=a463_0xf635cb;_0x56bf06[_0x1c8315(0x9f)]=_0x4f95dd;}),__importStar=this&&this[a463_0xf635cb(0xad)]||function(_0x2c9d02){var _0x1255fb=a463_0xf635cb;if(_0x2c9d02&&_0x2c9d02['__esModule'])return _0x2c9d02;var _0x55014e={};if(_0x2c9d02!=null){for(var _0x2b2b5c in _0x2c9d02)if(_0x2b2b5c!==_0x1255fb(0x9f)&&Object[_0x1255fb(0xa4)][_0x1255fb(0xa0)][_0x1255fb(0x94)](_0x2c9d02,_0x2b2b5c))__createBinding(_0x55014e,_0x2c9d02,_0x2b2b5c);}return __setModuleDefault(_0x55014e,_0x2c9d02),_0x55014e;},__importDefault=this&&this[a463_0xf635cb(0xb1)]||function(_0x56cbd1){var _0x2800eb=a463_0xf635cb;return _0x56cbd1&&_0x56cbd1[_0x2800eb(0x91)]?_0x56cbd1:{'default':_0x56cbd1};};Object[a463_0xf635cb(0xa2)](exports,a463_0xf635cb(0x91),{'value':!![]});const Yup=__importStar(require(a463_0xf635cb(0xab))),AppError_1=__importDefault(require(a463_0xf635cb(0xa3))),ShowPromptService_1=__importDefault(require('./ShowPromptService')),UpdatePromptService=async({promptId:_0x31680f,promptData:_0x487eca,companyId:_0x1bc8c5})=>{var _0x3bbe5d=a463_0xf635cb;const _0x419751=await(0x0,ShowPromptService_1[_0x3bbe5d(0x9f)])({'promptId':_0x31680f,'companyId':_0x1bc8c5}),_0x242600=Yup[_0x3bbe5d(0xb2)]()[_0x3bbe5d(0x9b)]({'name':Yup[_0x3bbe5d(0x93)]()[_0x3bbe5d(0x92)](_0x3bbe5d(0x9d)),'prompt':Yup['string']()[_0x3bbe5d(0x92)](_0x3bbe5d(0xa6)),'apiKey':Yup[_0x3bbe5d(0x93)]()[_0x3bbe5d(0x92)]('ERR_PROMPT_APIKEY_INVALID'),'queueId':Yup[_0x3bbe5d(0x99)]()[_0x3bbe5d(0x92)](_0x3bbe5d(0x98)),'maxMessages':Yup[_0x3bbe5d(0x99)]()[_0x3bbe5d(0x92)](_0x3bbe5d(0x96))}),{name:_0x2458ad,apiKey:_0x2c8d9d,prompt:_0x5605b1,maxTokens:_0xd463a8,temperature:_0x1e117f,promptTokens:_0x338317,completionTokens:_0x5591d1,totalTokens:_0x1a2182,queueId:_0x4bca87,maxMessages:_0x1a6748,voice:_0x40dea9,voiceKey:_0x36aa61,voiceRegion:_0x11e6a3}=_0x487eca;try{await _0x242600['validate']({'name':_0x2458ad,'apiKey':_0x2c8d9d,'prompt':_0x5605b1,'maxTokens':_0xd463a8,'temperature':_0x1e117f,'promptTokens':_0x338317,'completionTokens':_0x5591d1,'totalTokens':_0x1a2182,'queueId':_0x4bca87,'maxMessages':_0x1a6748});}catch(_0x1374de){throw new AppError_1[(_0x3bbe5d(0x9f))](''+JSON[_0x3bbe5d(0xaf)](_0x1374de,undefined,0x2));}return await _0x419751['update']({'name':_0x2458ad,'apiKey':_0x2c8d9d,'prompt':_0x5605b1,'maxTokens':_0xd463a8,'temperature':_0x1e117f,'promptTokens':_0x338317,'completionTokens':_0x5591d1,'totalTokens':_0x1a2182,'queueId':_0x4bca87,'maxMessages':_0x1a6748,'voice':_0x40dea9,'voiceKey':_0x36aa61,'voiceRegion':_0x11e6a3}),await _0x419751[_0x3bbe5d(0xb6)](),_0x419751;};exports[a463_0xf635cb(0x9f)]=UpdatePromptService;