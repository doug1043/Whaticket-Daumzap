'use strict';function a578_0x3396(){const _0x516988=['writable','3186936mpqhbO','configurable','delay','g.us','dataJson','@whiskeysockets/baileys','../../helpers/GetTicketWbot','captureException','get','ERR_SENDING_WAPP_MSG','27QcRJYn','extendedTextMessage','defineProperty','__setModuleDefault','(((.+)+)+)+$','2cXlGSM','call','../../helpers/Mustache','s.whatsapp.net','message','10418401rtoiPO','toString','sendMessage','contact','isGroup','__esModule','create','prototype','hasOwnProperty','2703120pQsfmq','key','log','../../errors/AppError','number','2092152NDwKsb','__importStar','1509595lofThw','2053599Dujbxx','getOwnPropertyNames','length','constructor','default','559564wuRZni'];a578_0x3396=function(){return _0x516988;};return a578_0x3396();}const a578_0xf88445=a578_0x16c0;(function(_0xee38c5,_0x329713){const _0xbebb8a=a578_0x16c0,_0x4ff230=_0xee38c5();while(!![]){try{const _0x45f947=parseInt(_0xbebb8a(0x179))/0x1+-parseInt(_0xbebb8a(0x15e))/0x2*(parseInt(_0xbebb8a(0x174))/0x3)+parseInt(_0xbebb8a(0x16c))/0x4+parseInt(_0xbebb8a(0x173))/0x5+parseInt(_0xbebb8a(0x171))/0x6+-parseInt(_0xbebb8a(0x163))/0x7+-parseInt(_0xbebb8a(0x17b))/0x8*(-parseInt(_0xbebb8a(0x159))/0x9);if(_0x45f947===_0x329713)break;else _0x4ff230['push'](_0x4ff230['shift']());}catch(_0x5ddeb8){_0x4ff230['push'](_0x4ff230['shift']());}}}(a578_0x3396,0xddb94));function a578_0x16c0(_0x2d99a7,_0xe302a3){const _0x169b0b=a578_0x3396();return a578_0x16c0=function(_0x23ecf6,_0x270b3b){_0x23ecf6=_0x23ecf6-0x159;let _0x3396f4=_0x169b0b[_0x23ecf6];return _0x3396f4;},a578_0x16c0(_0x2d99a7,_0xe302a3);}var __createBinding=this&&this['__createBinding']||(Object[a578_0xf88445(0x169)]?function(_0x3ed1a9,_0x562926,_0x1e3a63,_0x3bc4e3){const _0x5d212e=a578_0xf88445;if(_0x3bc4e3===undefined)_0x3bc4e3=_0x1e3a63;var _0x534113=Object['getOwnPropertyDescriptor'](_0x562926,_0x1e3a63);(!_0x534113||(_0x5d212e(0x183)in _0x534113?!_0x562926[_0x5d212e(0x168)]:_0x534113[_0x5d212e(0x17a)]||_0x534113[_0x5d212e(0x17c)]))&&(_0x534113={'enumerable':!![],'get':function(){return _0x562926[_0x1e3a63];}}),Object[_0x5d212e(0x15b)](_0x3ed1a9,_0x3bc4e3,_0x534113);}:function(_0x18e100,_0x30e2ad,_0x3250e6,_0x27c82d){if(_0x27c82d===undefined)_0x27c82d=_0x3250e6;_0x18e100[_0x27c82d]=_0x30e2ad[_0x3250e6];}),__setModuleDefault=this&&this[a578_0xf88445(0x15c)]||(Object[a578_0xf88445(0x169)]?function(_0x2583eb,_0x45a489){const _0x2bb0f9=a578_0xf88445;Object[_0x2bb0f9(0x15b)](_0x2583eb,_0x2bb0f9(0x178),{'enumerable':!![],'value':_0x45a489});}:function(_0x561baa,_0x1e11b5){const _0x1a8df7=a578_0xf88445;_0x561baa[_0x1a8df7(0x178)]=_0x1e11b5;}),__importStar=this&&this[a578_0xf88445(0x172)]||(function(){const _0x2a0321=(function(){let _0xec0c1e=!![];return function(_0x494fc3,_0x25a175){const _0x13f9de=_0xec0c1e?function(){if(_0x25a175){const _0x3abe88=_0x25a175['apply'](_0x494fc3,arguments);return _0x25a175=null,_0x3abe88;}}:function(){};return _0xec0c1e=![],_0x13f9de;};}()),_0x30f7fd=_0x2a0321(this,function(){const _0x29cf2f=a578_0x16c0;return _0x30f7fd[_0x29cf2f(0x164)]()['search'](_0x29cf2f(0x15d))[_0x29cf2f(0x164)]()[_0x29cf2f(0x177)](_0x30f7fd)['search'](_0x29cf2f(0x15d));});_0x30f7fd();var _0x4b9fe1=function(_0x37dfdd){const _0xbd9ba7=a578_0x16c0;return _0x4b9fe1=Object[_0xbd9ba7(0x175)]||function(_0xe26f10){const _0x9449c3=_0xbd9ba7;var _0x566aaf=[];for(var _0x350aa9 in _0xe26f10)if(Object[_0x9449c3(0x16a)][_0x9449c3(0x16b)][_0x9449c3(0x15f)](_0xe26f10,_0x350aa9))_0x566aaf[_0x566aaf['length']]=_0x350aa9;return _0x566aaf;},_0x4b9fe1(_0x37dfdd);};return function(_0x5640ae){const _0x287023=a578_0x16c0;if(_0x5640ae&&_0x5640ae[_0x287023(0x168)])return _0x5640ae;var _0x230c6b={};if(_0x5640ae!=null){for(var _0x17f5fd=_0x4b9fe1(_0x5640ae),_0x137be7=0x0;_0x137be7<_0x17f5fd[_0x287023(0x176)];_0x137be7++)if(_0x17f5fd[_0x137be7]!==_0x287023(0x178))__createBinding(_0x230c6b,_0x5640ae,_0x17f5fd[_0x137be7]);}return __setModuleDefault(_0x230c6b,_0x5640ae),_0x230c6b;};}()),__importDefault=this&&this['__importDefault']||function(_0x160263){const _0x40ff56=a578_0xf88445;return _0x160263&&_0x160263[_0x40ff56(0x168)]?_0x160263:{'default':_0x160263};};Object[a578_0xf88445(0x15b)](exports,a578_0xf88445(0x168),{'value':!![]});const baileys_1=require(a578_0xf88445(0x180)),Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require(a578_0xf88445(0x16f))),GetTicketWbot_1=__importDefault(require(a578_0xf88445(0x181))),Message_1=__importDefault(require('../../models/Message')),Mustache_1=__importDefault(require(a578_0xf88445(0x160))),SendWhatsAppMessage=async({body:_0x57c6cf,ticket:_0x20421f,quotedMsg:_0x5d424c,msdelay:_0x3e2d13})=>{const _0x11a17c=a578_0xf88445;let _0x25f04={};const _0x530d44=await(0x0,GetTicketWbot_1[_0x11a17c(0x178)])(_0x20421f),_0x7a8cf0=_0x20421f[_0x11a17c(0x166)][_0x11a17c(0x170)]+'@'+(_0x20421f[_0x11a17c(0x167)]?_0x11a17c(0x17e):_0x11a17c(0x161));if(_0x5d424c){const _0xf6f599=await Message_1['default']['findOne']({'where':{'id':_0x5d424c['id']}});if(_0xf6f599){const _0x2be21b=JSON['parse'](_0xf6f599[_0x11a17c(0x17f)]);_0x25f04={'quoted':{'key':_0x2be21b[_0x11a17c(0x16d)],'message':{'extendedTextMessage':_0x2be21b[_0x11a17c(0x162)][_0x11a17c(0x15a)]}}};}}try{await(0x0,baileys_1[_0x11a17c(0x17d)])(_0x3e2d13);const _0x1a1f8d=await _0x530d44[_0x11a17c(0x165)](_0x7a8cf0,{'text':(0x0,Mustache_1[_0x11a17c(0x178)])(_0x57c6cf,_0x20421f)},{..._0x25f04});return await _0x20421f['update']({'lastMessage':(0x0,Mustache_1[_0x11a17c(0x178)])(_0x57c6cf,_0x20421f)}),_0x1a1f8d;}catch(_0xf2c0a4){Sentry[_0x11a17c(0x182)](_0xf2c0a4),console[_0x11a17c(0x16e)](_0xf2c0a4);throw new AppError_1[(_0x11a17c(0x178))](_0x11a17c(0x184));}};exports['default']=SendWhatsAppMessage;