'use strict';function a573_0x22df(){const _0x472cff=['__setModuleDefault','1356OgsmKe','defineProperty','../../helpers/GetTicketWbot','delay','@whiskeysockets/baileys','update','contact','__createBinding','190957iYHXoM','../../errors/AppError','writable','549830qOkAqc','12680zbJOIx','(((.+)+)+)+$','729966jMeqGZ','message','getOwnPropertyNames','__esModule','3825582WUsUjL','getOwnPropertyDescriptor','3195iKJtiU','number','264rheYDs','findOne','key','__importDefault','get','length','search','default','1516vXTtPT','1sHRLTu','@sentry/node','1478366XwyMju','2455kOEKwm','s.whatsapp.net','../../models/Message','isGroup','create','7omJdPp','constructor','captureException'];a573_0x22df=function(){return _0x472cff;};return a573_0x22df();}const a573_0x165252=a573_0x2239;(function(_0x1edf61,_0x4acbdb){const _0x386ba5=a573_0x2239,_0x128234=_0x1edf61();while(!![]){try{const _0x125d24=-parseInt(_0x386ba5(0x111))/0x1*(parseInt(_0x386ba5(0x113))/0x2)+-parseInt(_0x386ba5(0x12f))/0x3+parseInt(_0x386ba5(0x110))/0x4*(parseInt(_0x386ba5(0x114))/0x5)+parseInt(_0x386ba5(0x12b))/0x6*(parseInt(_0x386ba5(0x119))/0x7)+parseInt(_0x386ba5(0x129))/0x8*(-parseInt(_0x386ba5(0x131))/0x9)+-parseInt(_0x386ba5(0x128))/0xa*(-parseInt(_0x386ba5(0x133))/0xb)+-parseInt(_0x386ba5(0x11d))/0xc*(-parseInt(_0x386ba5(0x125))/0xd);if(_0x125d24===_0x4acbdb)break;else _0x128234['push'](_0x128234['shift']());}catch(_0x564cf6){_0x128234['push'](_0x128234['shift']());}}}(a573_0x22df,0xad603));function a573_0x2239(_0x2d8b88,_0x4a5c42){const _0x327a77=a573_0x22df();return a573_0x2239=function(_0x2ffb96,_0x38ba39){_0x2ffb96=_0x2ffb96-0x10a;let _0x22df28=_0x327a77[_0x2ffb96];return _0x22df28;},a573_0x2239(_0x2d8b88,_0x4a5c42);}var __createBinding=this&&this[a573_0x165252(0x124)]||(Object['create']?function(_0x2708c4,_0x595c54,_0x53f52e,_0xdc2c4d){const _0x41e59b=a573_0x165252;if(_0xdc2c4d===undefined)_0xdc2c4d=_0x53f52e;var _0x29fe4f=Object[_0x41e59b(0x130)](_0x595c54,_0x53f52e);(!_0x29fe4f||(_0x41e59b(0x10c)in _0x29fe4f?!_0x595c54[_0x41e59b(0x12e)]:_0x29fe4f[_0x41e59b(0x127)]||_0x29fe4f['configurable']))&&(_0x29fe4f={'enumerable':!![],'get':function(){return _0x595c54[_0x53f52e];}}),Object[_0x41e59b(0x11e)](_0x2708c4,_0xdc2c4d,_0x29fe4f);}:function(_0xd2b551,_0xbc0ca6,_0x1d22e3,_0x43fe89){if(_0x43fe89===undefined)_0x43fe89=_0x1d22e3;_0xd2b551[_0x43fe89]=_0xbc0ca6[_0x1d22e3];}),__setModuleDefault=this&&this[a573_0x165252(0x11c)]||(Object[a573_0x165252(0x118)]?function(_0x441554,_0x23033e){Object['defineProperty'](_0x441554,'default',{'enumerable':!![],'value':_0x23033e});}:function(_0x3d7fcc,_0x4aa370){const _0x588452=a573_0x165252;_0x3d7fcc[_0x588452(0x10f)]=_0x4aa370;}),__importStar=this&&this['__importStar']||(function(){const _0x46d961=(function(){let _0x456e34=!![];return function(_0x390813,_0xcdd847){const _0x14573b=_0x456e34?function(){if(_0xcdd847){const _0x4cf556=_0xcdd847['apply'](_0x390813,arguments);return _0xcdd847=null,_0x4cf556;}}:function(){};return _0x456e34=![],_0x14573b;};}()),_0x3f3457=_0x46d961(this,function(){const _0x58e6b3=a573_0x2239;return _0x3f3457['toString']()[_0x58e6b3(0x10e)]('(((.+)+)+)+$')['toString']()[_0x58e6b3(0x11a)](_0x3f3457)[_0x58e6b3(0x10e)](_0x58e6b3(0x12a));});_0x3f3457();var _0x1116ce=function(_0x4eea80){const _0x4582a8=a573_0x2239;return _0x1116ce=Object[_0x4582a8(0x12d)]||function(_0x3cf676){const _0x20715d=_0x4582a8;var _0x2c5ae0=[];for(var _0x2c9db4 in _0x3cf676)if(Object['prototype']['hasOwnProperty']['call'](_0x3cf676,_0x2c9db4))_0x2c5ae0[_0x2c5ae0[_0x20715d(0x10d)]]=_0x2c9db4;return _0x2c5ae0;},_0x1116ce(_0x4eea80);};return function(_0x296eaa){const _0x46bb29=a573_0x2239;if(_0x296eaa&&_0x296eaa[_0x46bb29(0x12e)])return _0x296eaa;var _0x3efc23={};if(_0x296eaa!=null){for(var _0x5a7f63=_0x1116ce(_0x296eaa),_0xea49ee=0x0;_0xea49ee<_0x5a7f63['length'];_0xea49ee++)if(_0x5a7f63[_0xea49ee]!==_0x46bb29(0x10f))__createBinding(_0x3efc23,_0x296eaa,_0x5a7f63[_0xea49ee]);}return __setModuleDefault(_0x3efc23,_0x296eaa),_0x3efc23;};}()),__importDefault=this&&this[a573_0x165252(0x10b)]||function(_0x521d67){return _0x521d67&&_0x521d67['__esModule']?_0x521d67:{'default':_0x521d67};};Object['defineProperty'](exports,a573_0x165252(0x12e),{'value':!![]});const baileys_1=require(a573_0x165252(0x121)),Sentry=__importStar(require(a573_0x165252(0x112))),AppError_1=__importDefault(require(a573_0x165252(0x126))),GetTicketWbot_1=__importDefault(require(a573_0x165252(0x11f))),Message_1=__importDefault(require(a573_0x165252(0x116))),Mustache_1=__importDefault(require('../../helpers/Mustache')),SendWhatsAppMessage=async({body:_0x2d35b6,ticket:_0x213c36,quotedMsg:_0x56f022,msdelay:_0x261c93})=>{const _0x276e3a=a573_0x165252;let _0x26abb9={};const _0x5dcf11=await(0x0,GetTicketWbot_1[_0x276e3a(0x10f)])(_0x213c36),_0x82bec8=_0x213c36[_0x276e3a(0x123)][_0x276e3a(0x132)]+'@'+(_0x213c36[_0x276e3a(0x117)]?'g.us':_0x276e3a(0x115));if(_0x56f022){const _0x377e31=await Message_1[_0x276e3a(0x10f)][_0x276e3a(0x134)]({'where':{'id':_0x56f022['id']}});if(_0x377e31){const _0x2b62cf=JSON['parse'](_0x377e31['dataJson']);_0x26abb9={'quoted':{'key':_0x2b62cf[_0x276e3a(0x10a)],'message':{'extendedTextMessage':_0x2b62cf[_0x276e3a(0x12c)]['extendedTextMessage']}}};}}try{await(0x0,baileys_1[_0x276e3a(0x120)])(_0x261c93);const _0xc9ce1=await _0x5dcf11['sendMessage'](_0x82bec8,{'text':(0x0,Mustache_1['default'])(_0x2d35b6,_0x213c36)},{..._0x26abb9});return await _0x213c36[_0x276e3a(0x122)]({'lastMessage':(0x0,Mustache_1['default'])(_0x2d35b6,_0x213c36)}),_0xc9ce1;}catch(_0x29c1ae){Sentry[_0x276e3a(0x11b)](_0x29c1ae),console['log'](_0x29c1ae);throw new AppError_1[(_0x276e3a(0x10f))]('ERR_SENDING_WAPP_MSG');}};exports['default']=SendWhatsAppMessage;