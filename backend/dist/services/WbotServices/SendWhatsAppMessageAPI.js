const a552_0x1047ce=a552_0x1ceb;(function(_0x501791,_0x46fef1){const _0x47afec=a552_0x1ceb,_0x4040fd=_0x501791();while(!![]){try{const _0x56fe2d=parseInt(_0x47afec(0x209))/0x1*(parseInt(_0x47afec(0x1fe))/0x2)+parseInt(_0x47afec(0x208))/0x3*(parseInt(_0x47afec(0x1f6))/0x4)+parseInt(_0x47afec(0x1fd))/0x5+-parseInt(_0x47afec(0x1f0))/0x6*(parseInt(_0x47afec(0x1ef))/0x7)+parseInt(_0x47afec(0x20c))/0x8*(parseInt(_0x47afec(0x1ee))/0x9)+-parseInt(_0x47afec(0x1fc))/0xa*(-parseInt(_0x47afec(0x20b))/0xb)+parseInt(_0x47afec(0x204))/0xc*(-parseInt(_0x47afec(0x20f))/0xd);if(_0x56fe2d===_0x46fef1)break;else _0x4040fd['push'](_0x4040fd['shift']());}catch(_0x242d27){_0x4040fd['push'](_0x4040fd['shift']());}}}(a552_0x90b5,0x282d6));function a552_0x90b5(){const _0x54b455=['2204odUzMq','extendedTextMessage','11wMbWhp','312FfmSyB','dataJson','message','13acZVaj','update','get','default','sendMessage','g.us','captureException','constructor','s.whatsapp.net','defineProperty','toString','45207HCLfbN','7QmwjBr','326484aCqmHS','contact','search','__esModule','parse','__createBinding','19564HnnwMN','create','__setModuleDefault','findOne','__importStar','key','1741830BRtRPn','328490xIpFGz','18WDJYTv','../../models/Message','getOwnPropertyDescriptor','log','configurable','apply','6185052ilUQnN','writable','@whiskeysockets/baileys','(((.+)+)+)+$','171wQNaEU'];a552_0x90b5=function(){return _0x54b455;};return a552_0x90b5();}const a552_0x5ed289=(function(){let _0x3e049d=!![];return function(_0x3ed4a6,_0x437ddf){const _0x4ce7a1=_0x3e049d?function(){const _0x5b4e54=a552_0x1ceb;if(_0x437ddf){const _0x26d096=_0x437ddf[_0x5b4e54(0x203)](_0x3ed4a6,arguments);return _0x437ddf=null,_0x26d096;}}:function(){};return _0x3e049d=![],_0x4ce7a1;};}()),a552_0x5ba676=a552_0x5ed289(this,function(){const _0x466236=a552_0x1ceb;return a552_0x5ba676[_0x466236(0x1ed)]()[_0x466236(0x1f2)](_0x466236(0x207))[_0x466236(0x1ed)]()[_0x466236(0x216)](a552_0x5ba676)[_0x466236(0x1f2)](_0x466236(0x207));});a552_0x5ba676();'use strict';function a552_0x1ceb(_0xd8a955,_0x59b7ed){const _0x1da5ad=a552_0x90b5();return a552_0x1ceb=function(_0x5ba676,_0x5ed289){_0x5ba676=_0x5ba676-0x1ed;let _0x90b500=_0x1da5ad[_0x5ba676];return _0x90b500;},a552_0x1ceb(_0xd8a955,_0x59b7ed);}var __createBinding=this&&this[a552_0x1047ce(0x1f5)]||(Object[a552_0x1047ce(0x1f7)]?function(_0x3932e1,_0x4d49b6,_0xcef777,_0x32cb61){const _0x4d80af=a552_0x1047ce;if(_0x32cb61===undefined)_0x32cb61=_0xcef777;var _0x22787e=Object[_0x4d80af(0x200)](_0x4d49b6,_0xcef777);(!_0x22787e||(_0x4d80af(0x211)in _0x22787e?!_0x4d49b6[_0x4d80af(0x1f3)]:_0x22787e[_0x4d80af(0x205)]||_0x22787e[_0x4d80af(0x202)]))&&(_0x22787e={'enumerable':!![],'get':function(){return _0x4d49b6[_0xcef777];}}),Object[_0x4d80af(0x218)](_0x3932e1,_0x32cb61,_0x22787e);}:function(_0x15ca1f,_0x435252,_0x13a999,_0x5ad933){if(_0x5ad933===undefined)_0x5ad933=_0x13a999;_0x15ca1f[_0x5ad933]=_0x435252[_0x13a999];}),__setModuleDefault=this&&this[a552_0x1047ce(0x1f8)]||(Object[a552_0x1047ce(0x1f7)]?function(_0x3dd953,_0x1447a1){const _0x1d2a5a=a552_0x1047ce;Object['defineProperty'](_0x3dd953,_0x1d2a5a(0x212),{'enumerable':!![],'value':_0x1447a1});}:function(_0x4ef68a,_0x3d04c){const _0x47962f=a552_0x1047ce;_0x4ef68a[_0x47962f(0x212)]=_0x3d04c;}),__importStar=this&&this[a552_0x1047ce(0x1fa)]||function(_0x3a0efc){const _0x55bf14=a552_0x1047ce;if(_0x3a0efc&&_0x3a0efc['__esModule'])return _0x3a0efc;var _0x4e785a={};if(_0x3a0efc!=null){for(var _0x54f638 in _0x3a0efc)if(_0x54f638!==_0x55bf14(0x212)&&Object['prototype']['hasOwnProperty']['call'](_0x3a0efc,_0x54f638))__createBinding(_0x4e785a,_0x3a0efc,_0x54f638);}return __setModuleDefault(_0x4e785a,_0x3a0efc),_0x4e785a;},__importDefault=this&&this['__importDefault']||function(_0xb2e5e1){const _0x368fcd=a552_0x1047ce;return _0xb2e5e1&&_0xb2e5e1[_0x368fcd(0x1f3)]?_0xb2e5e1:{'default':_0xb2e5e1};};Object[a552_0x1047ce(0x218)](exports,a552_0x1047ce(0x1f3),{'value':!![]});const baileys_1=require(a552_0x1047ce(0x206)),Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Message_1=__importDefault(require(a552_0x1047ce(0x1ff))),Mustache_1=__importDefault(require('../../helpers/Mustache')),SendWhatsAppMessage=async({body:_0x15ef48,ticket:_0x5e0a10,quotedMsg:_0x4f78ba,msdelay:_0x360b67})=>{const _0x52a88f=a552_0x1047ce;let _0x30cff0={};const _0x497730=await(0x0,GetTicketWbot_1['default'])(_0x5e0a10),_0x3e046b=_0x5e0a10[_0x52a88f(0x1f1)]['number']+'@'+(_0x5e0a10['isGroup']?_0x52a88f(0x214):_0x52a88f(0x217));if(_0x4f78ba){const _0x19b8db=await Message_1[_0x52a88f(0x212)][_0x52a88f(0x1f9)]({'where':{'id':_0x4f78ba['id']}});if(_0x19b8db){const _0x1d179f=JSON[_0x52a88f(0x1f4)](_0x19b8db[_0x52a88f(0x20d)]);_0x30cff0={'quoted':{'key':_0x1d179f[_0x52a88f(0x1fb)],'message':{'extendedTextMessage':_0x1d179f[_0x52a88f(0x20e)][_0x52a88f(0x20a)]}}};}}try{await(0x0,baileys_1['delay'])(_0x360b67);const _0x4b7988=await _0x497730[_0x52a88f(0x213)](_0x3e046b,{'text':(0x0,Mustache_1[_0x52a88f(0x212)])(_0x15ef48,_0x5e0a10)},{..._0x30cff0});return await _0x5e0a10[_0x52a88f(0x210)]({'lastMessage':(0x0,Mustache_1[_0x52a88f(0x212)])(_0x15ef48,_0x5e0a10)}),_0x4b7988;}catch(_0x2e4af0){Sentry[_0x52a88f(0x215)](_0x2e4af0),console[_0x52a88f(0x201)](_0x2e4af0);throw new AppError_1['default']('ERR_SENDING_WAPP_MSG');}};exports['default']=SendWhatsAppMessage;