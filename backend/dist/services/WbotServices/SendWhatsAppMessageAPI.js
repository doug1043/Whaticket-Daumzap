'use strict';function a577_0x4858(_0x43a941,_0x388109){const _0x253cbe=a577_0x1160();return a577_0x4858=function(_0x1f0ceb,_0x52cb80){_0x1f0ceb=_0x1f0ceb-0x12c;let _0x1160c0=_0x253cbe[_0x1f0ceb];return _0x1160c0;},a577_0x4858(_0x43a941,_0x388109);}function a577_0x1160(){const _0x58fe0e=['writable','585403XdBgyT','get','421069oCZgWm','60HwWRmR','2dhbacu','2618696sMFMHu','__esModule','constructor','s.whatsapp.net','length','delay','isGroup','defineProperty','apply','__importStar','(((.+)+)+)+$','dataJson','update','2862090pjnDep','log','create','150880zHfTES','../../helpers/Mustache','__createBinding','toString','__setModuleDefault','getOwnPropertyNames','configurable','prototype','../../errors/AppError','@whiskeysockets/baileys','1982630MTOxmX','message','key','../../helpers/GetTicketWbot','ERR_SENDING_WAPP_MSG','default','sendMessage','search','getOwnPropertyDescriptor','167664owGGRb','g.us'];a577_0x1160=function(){return _0x58fe0e;};return a577_0x1160();}const a577_0xe6b77c=a577_0x4858;(function(_0x497d77,_0x5a0abb){const _0x51897c=a577_0x4858,_0x3fda5b=_0x497d77();while(!![]){try{const _0x1f58e9=parseInt(_0x51897c(0x12c))/0x1*(parseInt(_0x51897c(0x12e))/0x2)+parseInt(_0x51897c(0x152))/0x3+-parseInt(_0x51897c(0x12f))/0x4+parseInt(_0x51897c(0x149))/0x5+-parseInt(_0x51897c(0x12d))/0x6*(-parseInt(_0x51897c(0x155))/0x7)+-parseInt(_0x51897c(0x13f))/0x8+-parseInt(_0x51897c(0x13c))/0x9;if(_0x1f58e9===_0x5a0abb)break;else _0x3fda5b['push'](_0x3fda5b['shift']());}catch(_0x401770){_0x3fda5b['push'](_0x3fda5b['shift']());}}}(a577_0x1160,0xaf595));var __createBinding=this&&this[a577_0xe6b77c(0x141)]||(Object[a577_0xe6b77c(0x13e)]?function(_0x5da361,_0x57405c,_0x19776a,_0x43c28b){const _0x2fb2f7=a577_0xe6b77c;if(_0x43c28b===undefined)_0x43c28b=_0x19776a;var _0x4f7425=Object[_0x2fb2f7(0x151)](_0x57405c,_0x19776a);(!_0x4f7425||(_0x2fb2f7(0x156)in _0x4f7425?!_0x57405c[_0x2fb2f7(0x130)]:_0x4f7425[_0x2fb2f7(0x154)]||_0x4f7425[_0x2fb2f7(0x145)]))&&(_0x4f7425={'enumerable':!![],'get':function(){return _0x57405c[_0x19776a];}}),Object[_0x2fb2f7(0x136)](_0x5da361,_0x43c28b,_0x4f7425);}:function(_0x2ae8fe,_0x30e68e,_0x104031,_0x1544f7){if(_0x1544f7===undefined)_0x1544f7=_0x104031;_0x2ae8fe[_0x1544f7]=_0x30e68e[_0x104031];}),__setModuleDefault=this&&this[a577_0xe6b77c(0x143)]||(Object['create']?function(_0x473e35,_0x48313f){const _0x3ca36c=a577_0xe6b77c;Object[_0x3ca36c(0x136)](_0x473e35,_0x3ca36c(0x14e),{'enumerable':!![],'value':_0x48313f});}:function(_0x26c560,_0x139fe1){const _0x2ac635=a577_0xe6b77c;_0x26c560[_0x2ac635(0x14e)]=_0x139fe1;}),__importStar=this&&this[a577_0xe6b77c(0x138)]||(function(){const _0x28d7a6=(function(){let _0x171f91=!![];return function(_0xc89175,_0x2fbd91){const _0x213b7e=_0x171f91?function(){const _0x565a0f=a577_0x4858;if(_0x2fbd91){const _0x56d7a7=_0x2fbd91[_0x565a0f(0x137)](_0xc89175,arguments);return _0x2fbd91=null,_0x56d7a7;}}:function(){};return _0x171f91=![],_0x213b7e;};}()),_0x4f820d=_0x28d7a6(this,function(){const _0x2e78b0=a577_0x4858;return _0x4f820d[_0x2e78b0(0x142)]()[_0x2e78b0(0x150)](_0x2e78b0(0x139))[_0x2e78b0(0x142)]()[_0x2e78b0(0x131)](_0x4f820d)[_0x2e78b0(0x150)](_0x2e78b0(0x139));});_0x4f820d();var _0x5a9249=function(_0x4a6901){const _0x22700b=a577_0x4858;return _0x5a9249=Object[_0x22700b(0x144)]||function(_0x6f3232){const _0x4d389c=_0x22700b;var _0x2692df=[];for(var _0x55618b in _0x6f3232)if(Object[_0x4d389c(0x146)]['hasOwnProperty']['call'](_0x6f3232,_0x55618b))_0x2692df[_0x2692df[_0x4d389c(0x133)]]=_0x55618b;return _0x2692df;},_0x5a9249(_0x4a6901);};return function(_0x41dff0){const _0x186df6=a577_0x4858;if(_0x41dff0&&_0x41dff0[_0x186df6(0x130)])return _0x41dff0;var _0xb43a13={};if(_0x41dff0!=null){for(var _0x3c7453=_0x5a9249(_0x41dff0),_0x1d906e=0x0;_0x1d906e<_0x3c7453['length'];_0x1d906e++)if(_0x3c7453[_0x1d906e]!==_0x186df6(0x14e))__createBinding(_0xb43a13,_0x41dff0,_0x3c7453[_0x1d906e]);}return __setModuleDefault(_0xb43a13,_0x41dff0),_0xb43a13;};}()),__importDefault=this&&this['__importDefault']||function(_0x497773){const _0x3b7118=a577_0xe6b77c;return _0x497773&&_0x497773[_0x3b7118(0x130)]?_0x497773:{'default':_0x497773};};Object[a577_0xe6b77c(0x136)](exports,a577_0xe6b77c(0x130),{'value':!![]});const baileys_1=require(a577_0xe6b77c(0x148)),Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require(a577_0xe6b77c(0x147))),GetTicketWbot_1=__importDefault(require(a577_0xe6b77c(0x14c))),Message_1=__importDefault(require('../../models/Message')),Mustache_1=__importDefault(require(a577_0xe6b77c(0x140))),SendWhatsAppMessage=async({body:_0x3256a5,ticket:_0x38dfb7,quotedMsg:_0x143fed,msdelay:_0x2c3aff})=>{const _0x4c209=a577_0xe6b77c;let _0x439873={};const _0x39ae72=await(0x0,GetTicketWbot_1[_0x4c209(0x14e)])(_0x38dfb7),_0x3b67c1=_0x38dfb7['contact']['number']+'@'+(_0x38dfb7[_0x4c209(0x135)]?_0x4c209(0x153):_0x4c209(0x132));if(_0x143fed){const _0x349c0c=await Message_1['default']['findOne']({'where':{'id':_0x143fed['id']}});if(_0x349c0c){const _0x247530=JSON['parse'](_0x349c0c[_0x4c209(0x13a)]);_0x439873={'quoted':{'key':_0x247530[_0x4c209(0x14b)],'message':{'extendedTextMessage':_0x247530[_0x4c209(0x14a)]['extendedTextMessage']}}};}}try{await(0x0,baileys_1[_0x4c209(0x134)])(_0x2c3aff);const _0xfb4267=await _0x39ae72[_0x4c209(0x14f)](_0x3b67c1,{'text':(0x0,Mustache_1[_0x4c209(0x14e)])(_0x3256a5,_0x38dfb7)},{..._0x439873});return await _0x38dfb7[_0x4c209(0x13b)]({'lastMessage':(0x0,Mustache_1[_0x4c209(0x14e)])(_0x3256a5,_0x38dfb7)}),_0xfb4267;}catch(_0x5eff61){Sentry['captureException'](_0x5eff61),console[_0x4c209(0x13d)](_0x5eff61);throw new AppError_1['default'](_0x4c209(0x14d));}};exports['default']=SendWhatsAppMessage;