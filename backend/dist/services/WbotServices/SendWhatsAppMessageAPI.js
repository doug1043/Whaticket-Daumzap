'use strict';const a583_0x5dfa3b=a583_0x5de7;function a583_0x5de7(_0x439c56,_0x4f7293){const _0x99212e=a583_0x415a();return a583_0x5de7=function(_0xf37333,_0x3e8dce){_0xf37333=_0xf37333-0x79;let _0x415a67=_0x99212e[_0xf37333];return _0x415a67;},a583_0x5de7(_0x439c56,_0x4f7293);}(function(_0x4a2329,_0x2b4d72){const _0x3c49e5=a583_0x5de7,_0xbc1438=_0x4a2329();while(!![]){try{const _0xba98f1=-parseInt(_0x3c49e5(0x8b))/0x1+-parseInt(_0x3c49e5(0x7e))/0x2+parseInt(_0x3c49e5(0x9d))/0x3+parseInt(_0x3c49e5(0x85))/0x4+parseInt(_0x3c49e5(0x82))/0x5+parseInt(_0x3c49e5(0x8e))/0x6*(-parseInt(_0x3c49e5(0x8f))/0x7)+parseInt(_0x3c49e5(0x8d))/0x8;if(_0xba98f1===_0x2b4d72)break;else _0xbc1438['push'](_0xbc1438['shift']());}catch(_0x12d356){_0xbc1438['push'](_0xbc1438['shift']());}}}(a583_0x415a,0xe9f3c));var __createBinding=this&&this[a583_0x5dfa3b(0x9b)]||(Object[a583_0x5dfa3b(0xa3)]?function(_0x2dc9e0,_0x1ff295,_0x2ebe84,_0x16a1fe){const _0x477310=a583_0x5dfa3b;if(_0x16a1fe===undefined)_0x16a1fe=_0x2ebe84;var _0x4f7ab4=Object[_0x477310(0x7f)](_0x1ff295,_0x2ebe84);(!_0x4f7ab4||(_0x477310(0x84)in _0x4f7ab4?!_0x1ff295[_0x477310(0xa0)]:_0x4f7ab4[_0x477310(0x94)]||_0x4f7ab4[_0x477310(0x91)]))&&(_0x4f7ab4={'enumerable':!![],'get':function(){return _0x1ff295[_0x2ebe84];}}),Object[_0x477310(0x89)](_0x2dc9e0,_0x16a1fe,_0x4f7ab4);}:function(_0xaf1dc4,_0x38fe52,_0x1809b1,_0x54ffb0){if(_0x54ffb0===undefined)_0x54ffb0=_0x1809b1;_0xaf1dc4[_0x54ffb0]=_0x38fe52[_0x1809b1];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x59a3ac,_0x5986de){const _0x23ba8a=a583_0x5dfa3b;Object[_0x23ba8a(0x89)](_0x59a3ac,_0x23ba8a(0x79),{'enumerable':!![],'value':_0x5986de});}:function(_0x189032,_0x23bd64){const _0x1b7ec9=a583_0x5dfa3b;_0x189032[_0x1b7ec9(0x79)]=_0x23bd64;}),__importStar=this&&this[a583_0x5dfa3b(0x99)]||(function(){const _0x5dc4f8=(function(){let _0x1fc176=!![];return function(_0x3fb8b1,_0x5cd147){const _0x16412c=_0x1fc176?function(){const _0x2b762c=a583_0x5de7;if(_0x5cd147){const _0x5a0e6e=_0x5cd147[_0x2b762c(0x9a)](_0x3fb8b1,arguments);return _0x5cd147=null,_0x5a0e6e;}}:function(){};return _0x1fc176=![],_0x16412c;};}()),_0x5501f5=_0x5dc4f8(this,function(){const _0x496f46=a583_0x5de7;return _0x5501f5[_0x496f46(0x98)]()[_0x496f46(0xa5)](_0x496f46(0xa2))['toString']()['constructor'](_0x5501f5)[_0x496f46(0xa5)](_0x496f46(0xa2));});_0x5501f5();var _0x3111c5=function(_0x436e39){return _0x3111c5=Object['getOwnPropertyNames']||function(_0xb9f461){const _0x44063=a583_0x5de7;var _0x278e77=[];for(var _0x3a6d20 in _0xb9f461)if(Object[_0x44063(0xa4)][_0x44063(0x9e)][_0x44063(0x7d)](_0xb9f461,_0x3a6d20))_0x278e77[_0x278e77[_0x44063(0x81)]]=_0x3a6d20;return _0x278e77;},_0x3111c5(_0x436e39);};return function(_0x3ecb01){const _0x5a5f42=a583_0x5de7;if(_0x3ecb01&&_0x3ecb01[_0x5a5f42(0xa0)])return _0x3ecb01;var _0x3153fe={};if(_0x3ecb01!=null){for(var _0x3f37dc=_0x3111c5(_0x3ecb01),_0x57a1a5=0x0;_0x57a1a5<_0x3f37dc[_0x5a5f42(0x81)];_0x57a1a5++)if(_0x3f37dc[_0x57a1a5]!==_0x5a5f42(0x79))__createBinding(_0x3153fe,_0x3ecb01,_0x3f37dc[_0x57a1a5]);}return __setModuleDefault(_0x3153fe,_0x3ecb01),_0x3153fe;};}()),__importDefault=this&&this[a583_0x5dfa3b(0x87)]||function(_0x17d417){const _0xf85fdb=a583_0x5dfa3b;return _0x17d417&&_0x17d417[_0xf85fdb(0xa0)]?_0x17d417:{'default':_0x17d417};};Object[a583_0x5dfa3b(0x89)](exports,'__esModule',{'value':!![]});function a583_0x415a(){const _0x3b7d92=['findOne','14259360jMgkTc','3162CJcUnI','7fveGXQ','update','configurable','extendedTextMessage','log','writable','ERR_SENDING_WAPP_MSG','captureException','contact','toString','__importStar','apply','__createBinding','../../helpers/GetTicketWbot','2646597BdwNtI','hasOwnProperty','parse','__esModule','@whiskeysockets/baileys','(((.+)+)+)+$','create','prototype','search','default','../../errors/AppError','@s.whatsapp.net','dataJson','call','3230224FgZHFH','getOwnPropertyDescriptor','sendMessage','length','996740RSNHme','delay','get','5936848FlYgaw','../../models/Message','__importDefault','number','defineProperty','@sentry/node','1774272jVmrOv'];a583_0x415a=function(){return _0x3b7d92;};return a583_0x415a();}const baileys_1=require(a583_0x5dfa3b(0xa1)),Sentry=__importStar(require(a583_0x5dfa3b(0x8a))),AppError_1=__importDefault(require(a583_0x5dfa3b(0x7a))),GetTicketWbot_1=__importDefault(require(a583_0x5dfa3b(0x9c))),Message_1=__importDefault(require(a583_0x5dfa3b(0x86))),Mustache_1=__importDefault(require('../../helpers/Mustache')),SendWhatsAppMessage=async({body:_0x21df55,ticket:_0x1f4272,quotedMsg:_0x37c5dd,msdelay:_0x3eaa6b})=>{const _0x1c3cbd=a583_0x5dfa3b;let _0x54fe07={};const _0x28ff50=await(0x0,GetTicketWbot_1['default'])(_0x1f4272),_0x3a4317=_0x1f4272['isGroup']?_0x1f4272['contact'][_0x1c3cbd(0x88)]+'@g.us':_0x1f4272[_0x1c3cbd(0x97)]['remoteJid']||_0x1f4272[_0x1c3cbd(0x97)][_0x1c3cbd(0x88)]+_0x1c3cbd(0x7b);if(_0x37c5dd){const _0x43c084=await Message_1[_0x1c3cbd(0x79)][_0x1c3cbd(0x8c)]({'where':{'id':_0x37c5dd['id']}});if(_0x43c084){const _0x57229e=JSON[_0x1c3cbd(0x9f)](_0x43c084[_0x1c3cbd(0x7c)]);_0x54fe07={'quoted':{'key':_0x57229e['key'],'message':{'extendedTextMessage':_0x57229e['message'][_0x1c3cbd(0x92)]}}};}}try{await(0x0,baileys_1[_0x1c3cbd(0x83)])(_0x3eaa6b);const _0x153d62=await _0x28ff50[_0x1c3cbd(0x80)](_0x3a4317,{'text':(0x0,Mustache_1['default'])(_0x21df55,_0x1f4272)},{..._0x54fe07});return await _0x1f4272[_0x1c3cbd(0x90)]({'lastMessage':(0x0,Mustache_1['default'])(_0x21df55,_0x1f4272)}),_0x153d62;}catch(_0x4802a3){Sentry[_0x1c3cbd(0x96)](_0x4802a3),console[_0x1c3cbd(0x93)](_0x4802a3);throw new AppError_1['default'](_0x1c3cbd(0x95));}};exports['default']=SendWhatsAppMessage;