'use strict';function a693_0x57d4(){const _0xcf5b18=['key','default','dataJson','sendMessage','227484MoIxBZ','../../helpers/Mustache','isGroup','7821765rJSQjM','../../helpers/GetTicketWbot','11610216tYOQNL','toString','160YqUZKk','../../models/Message','@whiskeysockets/baileys','configurable','5964EomWEB','30vPsbBp','call','hasOwnProperty','__importDefault','__importStar','number','getOwnPropertyDescriptor','576149BfiEwG','length','22PQbSOG','16363470lguhtv','prototype','124AulhjW','19014rFdWkM','contact','message','create','ERR_SENDING_WAPP_MSG','parse','(((.+)+)+)+$','delay','__createBinding','captureException','search','defineProperty','getOwnPropertyNames','__esModule','@g.us'];a693_0x57d4=function(){return _0xcf5b18;};return a693_0x57d4();}function a693_0x1901(_0x3dc8e8,_0x2ba7f8){const _0x4ac6a1=a693_0x57d4();return a693_0x1901=function(_0x5ab59e,_0x50f199){_0x5ab59e=_0x5ab59e-0x145;let _0x57d495=_0x4ac6a1[_0x5ab59e];return _0x57d495;},a693_0x1901(_0x3dc8e8,_0x2ba7f8);}const a693_0x1b8bba=a693_0x1901;(function(_0x5747d5,_0x5152b1){const _0x7dc98d=a693_0x1901,_0x1aa951=_0x5747d5();while(!![]){try{const _0x561ca8=-parseInt(_0x7dc98d(0x16d))/0x1*(-parseInt(_0x7dc98d(0x16e))/0x2)+parseInt(_0x7dc98d(0x161))/0x3*(parseInt(_0x7dc98d(0x155))/0x4)+-parseInt(_0x7dc98d(0x15c))/0x5*(-parseInt(_0x7dc98d(0x160))/0x6)+-parseInt(_0x7dc98d(0x168))/0x7+parseInt(_0x7dc98d(0x15a))/0x8+parseInt(_0x7dc98d(0x158))/0x9+parseInt(_0x7dc98d(0x16b))/0xa*(-parseInt(_0x7dc98d(0x16a))/0xb);if(_0x561ca8===_0x5152b1)break;else _0x1aa951['push'](_0x1aa951['shift']());}catch(_0x1222ee){_0x1aa951['push'](_0x1aa951['shift']());}}}(a693_0x57d4,0xb5d2b));var __createBinding=this&&this[a693_0x1b8bba(0x14a)]||(Object[a693_0x1b8bba(0x145)]?function(_0x240471,_0x1b0265,_0x19a1e6,_0x247d3c){const _0x5697ed=a693_0x1b8bba;if(_0x247d3c===undefined)_0x247d3c=_0x19a1e6;var _0x3fa285=Object[_0x5697ed(0x167)](_0x1b0265,_0x19a1e6);(!_0x3fa285||('get'in _0x3fa285?!_0x1b0265[_0x5697ed(0x14f)]:_0x3fa285['writable']||_0x3fa285[_0x5697ed(0x15f)]))&&(_0x3fa285={'enumerable':!![],'get':function(){return _0x1b0265[_0x19a1e6];}}),Object[_0x5697ed(0x14d)](_0x240471,_0x247d3c,_0x3fa285);}:function(_0xe9d84d,_0x107d3a,_0x52f45f,_0x8871ce){if(_0x8871ce===undefined)_0x8871ce=_0x52f45f;_0xe9d84d[_0x8871ce]=_0x107d3a[_0x52f45f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a693_0x1b8bba(0x145)]?function(_0x455666,_0x5911cc){const _0x3810d6=a693_0x1b8bba;Object[_0x3810d6(0x14d)](_0x455666,_0x3810d6(0x152),{'enumerable':!![],'value':_0x5911cc});}:function(_0x3d6fbf,_0x4d3bba){const _0x5747b9=a693_0x1b8bba;_0x3d6fbf[_0x5747b9(0x152)]=_0x4d3bba;}),__importStar=this&&this[a693_0x1b8bba(0x165)]||(function(){const _0x5220eb=(function(){let _0x4b8dff=!![];return function(_0x2887cc,_0x485041){const _0x570e2f=_0x4b8dff?function(){if(_0x485041){const _0x5e6afc=_0x485041['apply'](_0x2887cc,arguments);return _0x485041=null,_0x5e6afc;}}:function(){};return _0x4b8dff=![],_0x570e2f;};}()),_0x4047b6=_0x5220eb(this,function(){const _0x207cca=a693_0x1901;return _0x4047b6['toString']()[_0x207cca(0x14c)](_0x207cca(0x148))[_0x207cca(0x15b)]()['constructor'](_0x4047b6)['search'](_0x207cca(0x148));});_0x4047b6();var _0x5b15ff=function(_0xa816ba){const _0x32d952=a693_0x1901;return _0x5b15ff=Object[_0x32d952(0x14e)]||function(_0x205948){const _0x158c56=_0x32d952;var _0x43e765=[];for(var _0x219555 in _0x205948)if(Object[_0x158c56(0x16c)][_0x158c56(0x163)][_0x158c56(0x162)](_0x205948,_0x219555))_0x43e765[_0x43e765[_0x158c56(0x169)]]=_0x219555;return _0x43e765;},_0x5b15ff(_0xa816ba);};return function(_0xbce389){if(_0xbce389&&_0xbce389['__esModule'])return _0xbce389;var _0x4cb5ef={};if(_0xbce389!=null){for(var _0x3c9d9a=_0x5b15ff(_0xbce389),_0x427c29=0x0;_0x427c29<_0x3c9d9a['length'];_0x427c29++)if(_0x3c9d9a[_0x427c29]!=='default')__createBinding(_0x4cb5ef,_0xbce389,_0x3c9d9a[_0x427c29]);}return __setModuleDefault(_0x4cb5ef,_0xbce389),_0x4cb5ef;};}()),__importDefault=this&&this[a693_0x1b8bba(0x164)]||function(_0x264923){const _0x39f87f=a693_0x1b8bba;return _0x264923&&_0x264923[_0x39f87f(0x14f)]?_0x264923:{'default':_0x264923};};Object[a693_0x1b8bba(0x14d)](exports,a693_0x1b8bba(0x14f),{'value':!![]});const baileys_1=require(a693_0x1b8bba(0x15e)),Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a693_0x1b8bba(0x159))),Message_1=__importDefault(require(a693_0x1b8bba(0x15d))),Mustache_1=__importDefault(require(a693_0x1b8bba(0x156))),SendWhatsAppMessage=async({body:_0x2595fd,ticket:_0x2ea033,quotedMsg:_0x15b5b1,msdelay:_0x12f505})=>{const _0x567e01=a693_0x1b8bba;let _0x4098ac={};const _0x2f795c=await(0x0,GetTicketWbot_1[_0x567e01(0x152)])(_0x2ea033),_0xb94887=_0x2ea033[_0x567e01(0x157)]?_0x2ea033['contact'][_0x567e01(0x166)]+_0x567e01(0x150):_0x2ea033[_0x567e01(0x16f)]['remoteJid']||_0x2ea033['contact']['number']+'@s.whatsapp.net';if(_0x15b5b1){const _0x3de39c=await Message_1[_0x567e01(0x152)]['findOne']({'where':{'id':_0x15b5b1['id']}});if(_0x3de39c){const _0x38f85e=JSON[_0x567e01(0x147)](_0x3de39c[_0x567e01(0x153)]);_0x4098ac={'quoted':{'key':_0x38f85e[_0x567e01(0x151)],'message':{'extendedTextMessage':_0x38f85e[_0x567e01(0x170)]['extendedTextMessage']}}};}}try{await(0x0,baileys_1[_0x567e01(0x149)])(_0x12f505);const _0x337fb9=await _0x2f795c[_0x567e01(0x154)](_0xb94887,{'text':(0x0,Mustache_1[_0x567e01(0x152)])(_0x2595fd,_0x2ea033)},{..._0x4098ac});return await _0x2ea033['update']({'lastMessage':(0x0,Mustache_1['default'])(_0x2595fd,_0x2ea033)}),_0x337fb9;}catch(_0x31d3ef){Sentry[_0x567e01(0x14b)](_0x31d3ef),console['log'](_0x31d3ef);throw new AppError_1[(_0x567e01(0x152))](_0x567e01(0x146));}};exports[a693_0x1b8bba(0x152)]=SendWhatsAppMessage;