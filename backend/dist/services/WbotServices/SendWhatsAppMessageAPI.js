const a551_0x4b5b8f=a551_0x31dc;(function(_0x54418b,_0x4c8ccb){const _0x5aeac1=a551_0x31dc,_0x95653c=_0x54418b();while(!![]){try{const _0x4e0474=-parseInt(_0x5aeac1(0x129))/0x1+-parseInt(_0x5aeac1(0x12b))/0x2+parseInt(_0x5aeac1(0x12a))/0x3+-parseInt(_0x5aeac1(0x135))/0x4*(-parseInt(_0x5aeac1(0x136))/0x5)+parseInt(_0x5aeac1(0x111))/0x6*(parseInt(_0x5aeac1(0x117))/0x7)+parseInt(_0x5aeac1(0x124))/0x8*(-parseInt(_0x5aeac1(0x11b))/0x9)+-parseInt(_0x5aeac1(0x12c))/0xa*(-parseInt(_0x5aeac1(0x11e))/0xb);if(_0x4e0474===_0x4c8ccb)break;else _0x95653c['push'](_0x95653c['shift']());}catch(_0x46d4f9){_0x95653c['push'](_0x95653c['shift']());}}}(a551_0x1b9e,0x2c5ed));const a551_0x44f20a=(function(){let _0x442d3d=!![];return function(_0x1a06eb,_0x164840){const _0x2a1993=_0x442d3d?function(){if(_0x164840){const _0x1758b0=_0x164840['apply'](_0x1a06eb,arguments);return _0x164840=null,_0x1758b0;}}:function(){};return _0x442d3d=![],_0x2a1993;};}()),a551_0x34c971=a551_0x44f20a(this,function(){const _0x3a5d8f=a551_0x31dc;return a551_0x34c971[_0x3a5d8f(0x120)]()[_0x3a5d8f(0x128)](_0x3a5d8f(0x12d))[_0x3a5d8f(0x120)]()['constructor'](a551_0x34c971)[_0x3a5d8f(0x128)](_0x3a5d8f(0x12d));});a551_0x34c971();'use strict';var __createBinding=this&&this[a551_0x4b5b8f(0x110)]||(Object[a551_0x4b5b8f(0x115)]?function(_0x1c2158,_0x550ed7,_0x305f30,_0x5b32a9){const _0x39c4da=a551_0x4b5b8f;if(_0x5b32a9===undefined)_0x5b32a9=_0x305f30;var _0x2f22fc=Object[_0x39c4da(0x116)](_0x550ed7,_0x305f30);(!_0x2f22fc||(_0x39c4da(0x127)in _0x2f22fc?!_0x550ed7[_0x39c4da(0x11d)]:_0x2f22fc[_0x39c4da(0x134)]||_0x2f22fc[_0x39c4da(0x131)]))&&(_0x2f22fc={'enumerable':!![],'get':function(){return _0x550ed7[_0x305f30];}}),Object[_0x39c4da(0x113)](_0x1c2158,_0x5b32a9,_0x2f22fc);}:function(_0x3bb848,_0x3b54ce,_0x1b3f65,_0xa42de8){if(_0xa42de8===undefined)_0xa42de8=_0x1b3f65;_0x3bb848[_0xa42de8]=_0x3b54ce[_0x1b3f65];}),__setModuleDefault=this&&this[a551_0x4b5b8f(0x10d)]||(Object['create']?function(_0x5c92b7,_0x20a6ea){const _0x1bc902=a551_0x4b5b8f;Object[_0x1bc902(0x113)](_0x5c92b7,_0x1bc902(0x137),{'enumerable':!![],'value':_0x20a6ea});}:function(_0x4aa4e9,_0x2663ce){const _0x49e4e5=a551_0x4b5b8f;_0x4aa4e9[_0x49e4e5(0x137)]=_0x2663ce;}),__importStar=this&&this[a551_0x4b5b8f(0x11a)]||function(_0x5dcbe0){const _0x745bc3=a551_0x4b5b8f;if(_0x5dcbe0&&_0x5dcbe0[_0x745bc3(0x11d)])return _0x5dcbe0;var _0x139347={};if(_0x5dcbe0!=null){for(var _0x3c9ead in _0x5dcbe0)if(_0x3c9ead!==_0x745bc3(0x137)&&Object[_0x745bc3(0x125)][_0x745bc3(0x12f)]['call'](_0x5dcbe0,_0x3c9ead))__createBinding(_0x139347,_0x5dcbe0,_0x3c9ead);}return __setModuleDefault(_0x139347,_0x5dcbe0),_0x139347;},__importDefault=this&&this[a551_0x4b5b8f(0x12e)]||function(_0x39eb7b){return _0x39eb7b&&_0x39eb7b['__esModule']?_0x39eb7b:{'default':_0x39eb7b};};Object[a551_0x4b5b8f(0x113)](exports,a551_0x4b5b8f(0x11d),{'value':!![]});function a551_0x31dc(_0x4c832e,_0x249bdc){const _0x2891dc=a551_0x1b9e();return a551_0x31dc=function(_0x34c971,_0x44f20a){_0x34c971=_0x34c971-0x10c;let _0x1b9efd=_0x2891dc[_0x34c971];return _0x1b9efd;},a551_0x31dc(_0x4c832e,_0x249bdc);}function a551_0x1b9e(){const _0xe144f7=['__importStar','1044909qnjTPk','message','__esModule','7513363TKBOOl','dataJson','toString','extendedTextMessage','@sentry/node','contact','24tLmWES','prototype','number','get','search','246842ZFsJaM','31467VVeUWD','488966SKnisP','10XMXLLI','(((.+)+)+)+$','__importDefault','hasOwnProperty','g.us','configurable','isGroup','@whiskeysockets/baileys','writable','896NmuOzG','1985IygOMi','default','captureException','__setModuleDefault','log','parse','__createBinding','6aXCrcb','sendMessage','defineProperty','../../errors/AppError','create','getOwnPropertyDescriptor','1672433hejzJq','findOne','key'];a551_0x1b9e=function(){return _0xe144f7;};return a551_0x1b9e();}const baileys_1=require(a551_0x4b5b8f(0x133)),Sentry=__importStar(require(a551_0x4b5b8f(0x122))),AppError_1=__importDefault(require(a551_0x4b5b8f(0x114))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Message_1=__importDefault(require('../../models/Message')),Mustache_1=__importDefault(require('../../helpers/Mustache')),SendWhatsAppMessage=async({body:_0xf13100,ticket:_0x14d8fa,quotedMsg:_0x3aeee2,msdelay:_0x4e1c06})=>{const _0x469e09=a551_0x4b5b8f;let _0x2f4740={};const _0x3721ac=await(0x0,GetTicketWbot_1[_0x469e09(0x137)])(_0x14d8fa),_0x4740aa=_0x14d8fa[_0x469e09(0x123)][_0x469e09(0x126)]+'@'+(_0x14d8fa[_0x469e09(0x132)]?_0x469e09(0x130):'s.whatsapp.net');if(_0x3aeee2){const _0x23681c=await Message_1[_0x469e09(0x137)][_0x469e09(0x118)]({'where':{'id':_0x3aeee2['id']}});if(_0x23681c){const _0x5712f1=JSON[_0x469e09(0x10f)](_0x23681c[_0x469e09(0x11f)]);_0x2f4740={'quoted':{'key':_0x5712f1[_0x469e09(0x119)],'message':{'extendedTextMessage':_0x5712f1[_0x469e09(0x11c)][_0x469e09(0x121)]}}};}}try{await(0x0,baileys_1['delay'])(_0x4e1c06);const _0x6ce3b3=await _0x3721ac[_0x469e09(0x112)](_0x4740aa,{'text':(0x0,Mustache_1[_0x469e09(0x137)])(_0xf13100,_0x14d8fa)},{..._0x2f4740});return await _0x14d8fa['update']({'lastMessage':(0x0,Mustache_1[_0x469e09(0x137)])(_0xf13100,_0x14d8fa)}),_0x6ce3b3;}catch(_0x246964){Sentry[_0x469e09(0x10c)](_0x246964),console[_0x469e09(0x10e)](_0x246964);throw new AppError_1['default']('ERR_SENDING_WAPP_MSG');}};exports[a551_0x4b5b8f(0x137)]=SendWhatsAppMessage;