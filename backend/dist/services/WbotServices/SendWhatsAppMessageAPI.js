function a551_0x2f31(){const _0x989344=['log','__setModuleDefault','defineProperty','create','1434966gwUeUQ','g.us','toString','3214908NWwnQx','../../errors/AppError','213fGnoqJ','@sentry/node','captureException','dataJson','message','../../models/Message','update','apply','parse','1842237YvuhHL','__esModule','sendMessage','__createBinding','call','get','isGroup','writable','key','prototype','search','findOne','5939545uzymls','4822hZiTGb','constructor','287968hAeorv','s.whatsapp.net','number','default','configurable','../../helpers/GetTicketWbot','1345512MQXdKV','hasOwnProperty','ERR_SENDING_WAPP_MSG','8ZxSDse','delay','__importStar'];a551_0x2f31=function(){return _0x989344;};return a551_0x2f31();}const a551_0x5bc6fb=a551_0x2258;(function(_0x5b0806,_0x4b75ab){const _0x23a2bb=a551_0x2258,_0x361097=_0x5b0806();while(!![]){try{const _0x505103=parseInt(_0x23a2bb(0x214))/0x1+-parseInt(_0x23a2bb(0x212))/0x2*(parseInt(_0x23a2bb(0x1fc))/0x3)+-parseInt(_0x23a2bb(0x1fa))/0x4+parseInt(_0x23a2bb(0x211))/0x5+parseInt(_0x23a2bb(0x1f7))/0x6+parseInt(_0x23a2bb(0x21a))/0x7+-parseInt(_0x23a2bb(0x21d))/0x8*(parseInt(_0x23a2bb(0x205))/0x9);if(_0x505103===_0x4b75ab)break;else _0x361097['push'](_0x361097['shift']());}catch(_0x2d6fa5){_0x361097['push'](_0x361097['shift']());}}}(a551_0x2f31,0xb1a65));const a551_0x567c1b=(function(){let _0x386e18=!![];return function(_0x4aae7c,_0x4e1ea0){const _0x46f504=_0x386e18?function(){const _0x18474e=a551_0x2258;if(_0x4e1ea0){const _0xc130a9=_0x4e1ea0[_0x18474e(0x203)](_0x4aae7c,arguments);return _0x4e1ea0=null,_0xc130a9;}}:function(){};return _0x386e18=![],_0x46f504;};}()),a551_0x57cab9=a551_0x567c1b(this,function(){const _0x34fed6=a551_0x2258;return a551_0x57cab9['toString']()[_0x34fed6(0x20f)]('(((.+)+)+)+$')[_0x34fed6(0x1f9)]()[_0x34fed6(0x213)](a551_0x57cab9)[_0x34fed6(0x20f)]('(((.+)+)+)+$');});a551_0x57cab9();function a551_0x2258(_0x272449,_0x43ec6a){const _0xb68a51=a551_0x2f31();return a551_0x2258=function(_0x57cab9,_0x567c1b){_0x57cab9=_0x57cab9-0x1f3;let _0x2f312e=_0xb68a51[_0x57cab9];return _0x2f312e;},a551_0x2258(_0x272449,_0x43ec6a);}'use strict';var __createBinding=this&&this[a551_0x5bc6fb(0x208)]||(Object[a551_0x5bc6fb(0x1f6)]?function(_0x5c6fd1,_0x28f174,_0x5cb6e9,_0x212625){const _0xfa79d1=a551_0x5bc6fb;if(_0x212625===undefined)_0x212625=_0x5cb6e9;var _0x1f7ff0=Object['getOwnPropertyDescriptor'](_0x28f174,_0x5cb6e9);(!_0x1f7ff0||(_0xfa79d1(0x20a)in _0x1f7ff0?!_0x28f174[_0xfa79d1(0x206)]:_0x1f7ff0[_0xfa79d1(0x20c)]||_0x1f7ff0[_0xfa79d1(0x218)]))&&(_0x1f7ff0={'enumerable':!![],'get':function(){return _0x28f174[_0x5cb6e9];}}),Object[_0xfa79d1(0x1f5)](_0x5c6fd1,_0x212625,_0x1f7ff0);}:function(_0x5e59ec,_0x2a022a,_0x3a4891,_0x1d2fb6){if(_0x1d2fb6===undefined)_0x1d2fb6=_0x3a4891;_0x5e59ec[_0x1d2fb6]=_0x2a022a[_0x3a4891];}),__setModuleDefault=this&&this[a551_0x5bc6fb(0x1f4)]||(Object['create']?function(_0xacb094,_0x4a6e94){const _0x51bccf=a551_0x5bc6fb;Object['defineProperty'](_0xacb094,_0x51bccf(0x217),{'enumerable':!![],'value':_0x4a6e94});}:function(_0x165e63,_0x173d45){_0x165e63['default']=_0x173d45;}),__importStar=this&&this[a551_0x5bc6fb(0x21f)]||function(_0x4cf66f){const _0x19a843=a551_0x5bc6fb;if(_0x4cf66f&&_0x4cf66f[_0x19a843(0x206)])return _0x4cf66f;var _0x2501ff={};if(_0x4cf66f!=null){for(var _0x67b6a0 in _0x4cf66f)if(_0x67b6a0!==_0x19a843(0x217)&&Object[_0x19a843(0x20e)][_0x19a843(0x21b)][_0x19a843(0x209)](_0x4cf66f,_0x67b6a0))__createBinding(_0x2501ff,_0x4cf66f,_0x67b6a0);}return __setModuleDefault(_0x2501ff,_0x4cf66f),_0x2501ff;},__importDefault=this&&this['__importDefault']||function(_0x3c8457){const _0x4d10d4=a551_0x5bc6fb;return _0x3c8457&&_0x3c8457[_0x4d10d4(0x206)]?_0x3c8457:{'default':_0x3c8457};};Object[a551_0x5bc6fb(0x1f5)](exports,a551_0x5bc6fb(0x206),{'value':!![]});const baileys_1=require('@whiskeysockets/baileys'),Sentry=__importStar(require(a551_0x5bc6fb(0x1fd))),AppError_1=__importDefault(require(a551_0x5bc6fb(0x1fb))),GetTicketWbot_1=__importDefault(require(a551_0x5bc6fb(0x219))),Message_1=__importDefault(require(a551_0x5bc6fb(0x201))),Mustache_1=__importDefault(require('../../helpers/Mustache')),SendWhatsAppMessage=async({body:_0x586580,ticket:_0x2ddf27,quotedMsg:_0xabc166,msdelay:_0x403831})=>{const _0x57afdf=a551_0x5bc6fb;let _0x156220={};const _0x212880=await(0x0,GetTicketWbot_1[_0x57afdf(0x217)])(_0x2ddf27),_0x4bf2ef=_0x2ddf27['contact'][_0x57afdf(0x216)]+'@'+(_0x2ddf27[_0x57afdf(0x20b)]?_0x57afdf(0x1f8):_0x57afdf(0x215));if(_0xabc166){const _0x33dcc9=await Message_1[_0x57afdf(0x217)][_0x57afdf(0x210)]({'where':{'id':_0xabc166['id']}});if(_0x33dcc9){const _0x51409f=JSON[_0x57afdf(0x204)](_0x33dcc9[_0x57afdf(0x1ff)]);_0x156220={'quoted':{'key':_0x51409f[_0x57afdf(0x20d)],'message':{'extendedTextMessage':_0x51409f[_0x57afdf(0x200)]['extendedTextMessage']}}};}}try{await(0x0,baileys_1[_0x57afdf(0x21e)])(_0x403831);const _0x38948e=await _0x212880[_0x57afdf(0x207)](_0x4bf2ef,{'text':(0x0,Mustache_1[_0x57afdf(0x217)])(_0x586580,_0x2ddf27)},{..._0x156220});return await _0x2ddf27[_0x57afdf(0x202)]({'lastMessage':(0x0,Mustache_1[_0x57afdf(0x217)])(_0x586580,_0x2ddf27)}),_0x38948e;}catch(_0x5dd75a){Sentry[_0x57afdf(0x1fe)](_0x5dd75a),console[_0x57afdf(0x1f3)](_0x5dd75a);throw new AppError_1[(_0x57afdf(0x217))](_0x57afdf(0x21c));}};exports[a551_0x5bc6fb(0x217)]=SendWhatsAppMessage;