'use strict';const a691_0x2bd86=a691_0x5fa2;function a691_0x5bdc(){const _0x16269c=['__setModuleDefault','getOwnPropertyNames','configurable','search','update','apply','2144452JnqebK','18RyNVlX','remoteJid','19892zJxKee','extendedTextMessage','@s.whatsapp.net','__esModule','hasOwnProperty','parse','writable','__importDefault','getOwnPropertyDescriptor','call','168iCIiHg','length','create','message','5231700NJnRev','dataJson','1330543bBYzwU','contact','number','toString','__createBinding','defineProperty','default','ERR_SENDING_WAPP_MSG','34818318JLpOwY','3985904URTnTl','2770159zREQBC','captureException','sendMessage','key','constructor'];a691_0x5bdc=function(){return _0x16269c;};return a691_0x5bdc();}(function(_0x508069,_0x956f08){const _0x102c6e=a691_0x5fa2,_0x1bbf0e=_0x508069();while(!![]){try{const _0x543b4a=-parseInt(_0x102c6e(0x194))/0x1+parseInt(_0x102c6e(0x184))/0x2*(-parseInt(_0x102c6e(0x18e))/0x3)+parseInt(_0x102c6e(0x1a9))/0x4+-parseInt(_0x102c6e(0x192))/0x5+-parseInt(_0x102c6e(0x1aa))/0x6*(parseInt(_0x102c6e(0x19e))/0x7)+parseInt(_0x102c6e(0x19d))/0x8+parseInt(_0x102c6e(0x19c))/0x9;if(_0x543b4a===_0x956f08)break;else _0x1bbf0e['push'](_0x1bbf0e['shift']());}catch(_0x4da608){_0x1bbf0e['push'](_0x1bbf0e['shift']());}}}(a691_0x5bdc,0xbee9f));var __createBinding=this&&this[a691_0x2bd86(0x198)]||(Object[a691_0x2bd86(0x190)]?function(_0x3ed2b8,_0x3b7c7a,_0x3c41d6,_0x3aa6b8){const _0x1628d6=a691_0x2bd86;if(_0x3aa6b8===undefined)_0x3aa6b8=_0x3c41d6;var _0x4d0ce4=Object[_0x1628d6(0x18c)](_0x3b7c7a,_0x3c41d6);(!_0x4d0ce4||('get'in _0x4d0ce4?!_0x3b7c7a['__esModule']:_0x4d0ce4[_0x1628d6(0x18a)]||_0x4d0ce4[_0x1628d6(0x1a5)]))&&(_0x4d0ce4={'enumerable':!![],'get':function(){return _0x3b7c7a[_0x3c41d6];}}),Object[_0x1628d6(0x199)](_0x3ed2b8,_0x3aa6b8,_0x4d0ce4);}:function(_0x4912fd,_0x29cdb9,_0x3f81a6,_0x41dc4a){if(_0x41dc4a===undefined)_0x41dc4a=_0x3f81a6;_0x4912fd[_0x41dc4a]=_0x29cdb9[_0x3f81a6];}),__setModuleDefault=this&&this[a691_0x2bd86(0x1a3)]||(Object['create']?function(_0x1f9d93,_0x49e4c2){const _0x140b6a=a691_0x2bd86;Object['defineProperty'](_0x1f9d93,_0x140b6a(0x19a),{'enumerable':!![],'value':_0x49e4c2});}:function(_0xaf5558,_0x4293b2){const _0x1a229e=a691_0x2bd86;_0xaf5558[_0x1a229e(0x19a)]=_0x4293b2;}),__importStar=this&&this['__importStar']||(function(){const _0x1db1e5=(function(){let _0x9a7f22=!![];return function(_0x14940a,_0x1c34a3){const _0x14985e=_0x9a7f22?function(){const _0x13aea9=a691_0x5fa2;if(_0x1c34a3){const _0x22a954=_0x1c34a3[_0x13aea9(0x1a8)](_0x14940a,arguments);return _0x1c34a3=null,_0x22a954;}}:function(){};return _0x9a7f22=![],_0x14985e;};}()),_0x42744d=_0x1db1e5(this,function(){const _0x3ea43f=a691_0x5fa2;return _0x42744d[_0x3ea43f(0x197)]()[_0x3ea43f(0x1a6)]('(((.+)+)+)+$')[_0x3ea43f(0x197)]()[_0x3ea43f(0x1a2)](_0x42744d)[_0x3ea43f(0x1a6)]('(((.+)+)+)+$');});_0x42744d();var _0x233824=function(_0x304808){const _0x768827=a691_0x5fa2;return _0x233824=Object[_0x768827(0x1a4)]||function(_0x1bd8dd){const _0x1449a0=_0x768827;var _0x139a88=[];for(var _0x1ab3db in _0x1bd8dd)if(Object['prototype'][_0x1449a0(0x188)][_0x1449a0(0x18d)](_0x1bd8dd,_0x1ab3db))_0x139a88[_0x139a88[_0x1449a0(0x18f)]]=_0x1ab3db;return _0x139a88;},_0x233824(_0x304808);};return function(_0xdbc1a4){const _0x32e94e=a691_0x5fa2;if(_0xdbc1a4&&_0xdbc1a4['__esModule'])return _0xdbc1a4;var _0x5371c6={};if(_0xdbc1a4!=null){for(var _0x323db3=_0x233824(_0xdbc1a4),_0x9cd518=0x0;_0x9cd518<_0x323db3[_0x32e94e(0x18f)];_0x9cd518++)if(_0x323db3[_0x9cd518]!==_0x32e94e(0x19a))__createBinding(_0x5371c6,_0xdbc1a4,_0x323db3[_0x9cd518]);}return __setModuleDefault(_0x5371c6,_0xdbc1a4),_0x5371c6;};}()),__importDefault=this&&this[a691_0x2bd86(0x18b)]||function(_0x2358bc){const _0x36e558=a691_0x2bd86;return _0x2358bc&&_0x2358bc[_0x36e558(0x187)]?_0x2358bc:{'default':_0x2358bc};};Object[a691_0x2bd86(0x199)](exports,a691_0x2bd86(0x187),{'value':!![]});const baileys_1=require('@whiskeysockets/baileys'),Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Message_1=__importDefault(require('../../models/Message')),Mustache_1=__importDefault(require('../../helpers/Mustache')),SendWhatsAppMessage=async({body:_0x48e203,ticket:_0x105b32,quotedMsg:_0x3f53bf,msdelay:_0x3a1f93})=>{const _0x5258e7=a691_0x2bd86;let _0xe1ba8e={};const _0x5f236c=await(0x0,GetTicketWbot_1['default'])(_0x105b32),_0x353a7e=_0x105b32['isGroup']?_0x105b32['contact'][_0x5258e7(0x196)]+'@g.us':_0x105b32['contact'][_0x5258e7(0x1ab)]||_0x105b32[_0x5258e7(0x195)]['number']+_0x5258e7(0x186);if(_0x3f53bf){const _0x48d593=await Message_1[_0x5258e7(0x19a)]['findOne']({'where':{'id':_0x3f53bf['id']}});if(_0x48d593){const _0x49130d=JSON[_0x5258e7(0x189)](_0x48d593[_0x5258e7(0x193)]);_0xe1ba8e={'quoted':{'key':_0x49130d[_0x5258e7(0x1a1)],'message':{'extendedTextMessage':_0x49130d[_0x5258e7(0x191)][_0x5258e7(0x185)]}}};}}try{await(0x0,baileys_1['delay'])(_0x3a1f93);const _0x10385c=await _0x5f236c[_0x5258e7(0x1a0)](_0x353a7e,{'text':(0x0,Mustache_1[_0x5258e7(0x19a)])(_0x48e203,_0x105b32)},{..._0xe1ba8e});return await _0x105b32[_0x5258e7(0x1a7)]({'lastMessage':(0x0,Mustache_1[_0x5258e7(0x19a)])(_0x48e203,_0x105b32)}),_0x10385c;}catch(_0x1fdc35){Sentry[_0x5258e7(0x19f)](_0x1fdc35),console['log'](_0x1fdc35);throw new AppError_1['default'](_0x5258e7(0x19b));}};function a691_0x5fa2(_0x40ac74,_0x2bb557){const _0x49367a=a691_0x5bdc();return a691_0x5fa2=function(_0x4caf9e,_0x31a02c){_0x4caf9e=_0x4caf9e-0x184;let _0x5bdc2e=_0x49367a[_0x4caf9e];return _0x5bdc2e;},a691_0x5fa2(_0x40ac74,_0x2bb557);}exports['default']=SendWhatsAppMessage;