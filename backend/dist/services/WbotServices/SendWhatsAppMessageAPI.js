'use strict';const a579_0x230428=a579_0x4c5a;function a579_0x4df2(){const _0x47a326=['captureException','contact','719685WjLKPE','defineProperty','7IXcQKq','1742211udhnQv','apply','32QsGBpV','dataJson','call','delay','toString','search','310RbHNut','get','hasOwnProperty','../../helpers/GetTicketWbot','6771930bWncQE','4353744ObAPZa','writable','__esModule','create','findOne','17980SVCwEs','length','34600346XXqDPX','parse','log','default','../../helpers/Mustache','key','configurable','30068WqGqlE','__setModuleDefault','10TzYPwJ','../../errors/AppError','getOwnPropertyDescriptor','message','update','number','(((.+)+)+)+$'];a579_0x4df2=function(){return _0x47a326;};return a579_0x4df2();}(function(_0x5b4cf8,_0x4bcdab){const _0x316ffa=a579_0x4c5a,_0x21f1c3=_0x5b4cf8();while(!![]){try{const _0x49b9dc=parseInt(_0x316ffa(0x14b))/0x1*(-parseInt(_0x316ffa(0x15b))/0x2)+-parseInt(_0x316ffa(0x146))/0x3+-parseInt(_0x316ffa(0x13b))/0x4*(parseInt(_0x316ffa(0x151))/0x5)+-parseInt(_0x316ffa(0x155))/0x6+parseInt(_0x316ffa(0x148))/0x7*(-parseInt(_0x316ffa(0x156))/0x8)+parseInt(_0x316ffa(0x149))/0x9*(parseInt(_0x316ffa(0x13d))/0xa)+parseInt(_0x316ffa(0x15d))/0xb;if(_0x49b9dc===_0x4bcdab)break;else _0x21f1c3['push'](_0x21f1c3['shift']());}catch(_0xa93f11){_0x21f1c3['push'](_0x21f1c3['shift']());}}}(a579_0x4df2,0xa4333));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x139927,_0xb5e445,_0x1a731d,_0x24e29c){const _0x40a279=a579_0x4c5a;if(_0x24e29c===undefined)_0x24e29c=_0x1a731d;var _0x2a5726=Object[_0x40a279(0x13f)](_0xb5e445,_0x1a731d);(!_0x2a5726||(_0x40a279(0x152)in _0x2a5726?!_0xb5e445['__esModule']:_0x2a5726[_0x40a279(0x157)]||_0x2a5726[_0x40a279(0x13a)]))&&(_0x2a5726={'enumerable':!![],'get':function(){return _0xb5e445[_0x1a731d];}}),Object[_0x40a279(0x147)](_0x139927,_0x24e29c,_0x2a5726);}:function(_0x454c2d,_0x48d3d6,_0x1f95ce,_0xfea9ab){if(_0xfea9ab===undefined)_0xfea9ab=_0x1f95ce;_0x454c2d[_0xfea9ab]=_0x48d3d6[_0x1f95ce];}),__setModuleDefault=this&&this[a579_0x230428(0x13c)]||(Object[a579_0x230428(0x159)]?function(_0x57eaad,_0x5af5aa){const _0x2de1a3=a579_0x230428;Object[_0x2de1a3(0x147)](_0x57eaad,_0x2de1a3(0x160),{'enumerable':!![],'value':_0x5af5aa});}:function(_0x184ec6,_0x4ce0a4){const _0xeac88b=a579_0x230428;_0x184ec6[_0xeac88b(0x160)]=_0x4ce0a4;}),__importStar=this&&this['__importStar']||(function(){const _0x88ae0c=(function(){let _0x266876=!![];return function(_0xf88ba8,_0x9eb035){const _0x3cf0bd=_0x266876?function(){const _0x345b5c=a579_0x4c5a;if(_0x9eb035){const _0x509656=_0x9eb035[_0x345b5c(0x14a)](_0xf88ba8,arguments);return _0x9eb035=null,_0x509656;}}:function(){};return _0x266876=![],_0x3cf0bd;};}()),_0x21ff2c=_0x88ae0c(this,function(){const _0x36710f=a579_0x4c5a;return _0x21ff2c[_0x36710f(0x14f)]()[_0x36710f(0x150)](_0x36710f(0x143))[_0x36710f(0x14f)]()['constructor'](_0x21ff2c)[_0x36710f(0x150)](_0x36710f(0x143));});_0x21ff2c();var _0x173ffb=function(_0x35cf14){return _0x173ffb=Object['getOwnPropertyNames']||function(_0x529692){const _0x316250=a579_0x4c5a;var _0x371f31=[];for(var _0x55ba79 in _0x529692)if(Object['prototype'][_0x316250(0x153)][_0x316250(0x14d)](_0x529692,_0x55ba79))_0x371f31[_0x371f31[_0x316250(0x15c)]]=_0x55ba79;return _0x371f31;},_0x173ffb(_0x35cf14);};return function(_0x38e36f){const _0x1cee69=a579_0x4c5a;if(_0x38e36f&&_0x38e36f['__esModule'])return _0x38e36f;var _0x1fa3f4={};if(_0x38e36f!=null){for(var _0x358a96=_0x173ffb(_0x38e36f),_0x32ef8e=0x0;_0x32ef8e<_0x358a96[_0x1cee69(0x15c)];_0x32ef8e++)if(_0x358a96[_0x32ef8e]!==_0x1cee69(0x160))__createBinding(_0x1fa3f4,_0x38e36f,_0x358a96[_0x32ef8e]);}return __setModuleDefault(_0x1fa3f4,_0x38e36f),_0x1fa3f4;};}()),__importDefault=this&&this['__importDefault']||function(_0x3c47d9){const _0x41c4db=a579_0x230428;return _0x3c47d9&&_0x3c47d9[_0x41c4db(0x158)]?_0x3c47d9:{'default':_0x3c47d9};};Object[a579_0x230428(0x147)](exports,a579_0x230428(0x158),{'value':!![]});const baileys_1=require('@whiskeysockets/baileys'),Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require(a579_0x230428(0x13e))),GetTicketWbot_1=__importDefault(require(a579_0x230428(0x154))),Message_1=__importDefault(require('../../models/Message')),Mustache_1=__importDefault(require(a579_0x230428(0x161))),SendWhatsAppMessage=async({body:_0xc13c1f,ticket:_0x364657,quotedMsg:_0x538fcd,msdelay:_0x47f402})=>{const _0x2e336b=a579_0x230428;let _0x28dd95={};const _0x36e0f8=await(0x0,GetTicketWbot_1[_0x2e336b(0x160)])(_0x364657),_0x51123e=_0x364657[_0x2e336b(0x145)][_0x2e336b(0x142)]+'@'+(_0x364657['isGroup']?'g.us':'s.whatsapp.net');if(_0x538fcd){const _0x288017=await Message_1['default'][_0x2e336b(0x15a)]({'where':{'id':_0x538fcd['id']}});if(_0x288017){const _0x478de8=JSON[_0x2e336b(0x15e)](_0x288017[_0x2e336b(0x14c)]);_0x28dd95={'quoted':{'key':_0x478de8[_0x2e336b(0x139)],'message':{'extendedTextMessage':_0x478de8[_0x2e336b(0x140)]['extendedTextMessage']}}};}}try{await(0x0,baileys_1[_0x2e336b(0x14e)])(_0x47f402);const _0x33da03=await _0x36e0f8['sendMessage'](_0x51123e,{'text':(0x0,Mustache_1[_0x2e336b(0x160)])(_0xc13c1f,_0x364657)},{..._0x28dd95});return await _0x364657[_0x2e336b(0x141)]({'lastMessage':(0x0,Mustache_1[_0x2e336b(0x160)])(_0xc13c1f,_0x364657)}),_0x33da03;}catch(_0x56c44a){Sentry[_0x2e336b(0x144)](_0x56c44a),console[_0x2e336b(0x15f)](_0x56c44a);throw new AppError_1[(_0x2e336b(0x160))]('ERR_SENDING_WAPP_MSG');}};function a579_0x4c5a(_0x47abdd,_0x5c810d){const _0x53fbc3=a579_0x4df2();return a579_0x4c5a=function(_0xaa2c06,_0x166002){_0xaa2c06=_0xaa2c06-0x139;let _0x4df236=_0x53fbc3[_0xaa2c06];return _0x4df236;},a579_0x4c5a(_0x47abdd,_0x5c810d);}exports['default']=SendWhatsAppMessage;