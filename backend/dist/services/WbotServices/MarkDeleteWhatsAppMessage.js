const a538_0x649b41=a538_0x29fa;(function(_0x43f37b,_0x1656e5){const _0x2dd28a=a538_0x29fa,_0x44b35f=_0x43f37b();while(!![]){try{const _0x8e8747=-parseInt(_0x2dd28a(0xea))/0x1*(parseInt(_0x2dd28a(0xf9))/0x2)+-parseInt(_0x2dd28a(0xed))/0x3*(-parseInt(_0x2dd28a(0xf8))/0x4)+-parseInt(_0x2dd28a(0xf0))/0x5+-parseInt(_0x2dd28a(0xe2))/0x6+-parseInt(_0x2dd28a(0xf2))/0x7+parseInt(_0x2dd28a(0xf7))/0x8*(parseInt(_0x2dd28a(0xf3))/0x9)+-parseInt(_0x2dd28a(0xee))/0xa*(-parseInt(_0x2dd28a(0xe3))/0xb);if(_0x8e8747===_0x1656e5)break;else _0x44b35f['push'](_0x44b35f['shift']());}catch(_0x2dfb90){_0x44b35f['push'](_0x44b35f['shift']());}}}(a538_0x284e,0x83097));const a538_0xae4cba=(function(){let _0x44561c=!![];return function(_0x3cb8af,_0x4552c3){const _0x5e67ce=_0x44561c?function(){if(_0x4552c3){const _0x3252a5=_0x4552c3['apply'](_0x3cb8af,arguments);return _0x4552c3=null,_0x3252a5;}}:function(){};return _0x44561c=![],_0x5e67ce;};}()),a538_0x3cb1e6=a538_0xae4cba(this,function(){const _0x4cad8b=a538_0x29fa;return a538_0x3cb1e6[_0x4cad8b(0xe6)]()[_0x4cad8b(0xfb)](_0x4cad8b(0xec))[_0x4cad8b(0xe6)]()[_0x4cad8b(0xe8)](a538_0x3cb1e6)[_0x4cad8b(0xfb)](_0x4cad8b(0xec));});function a538_0x284e(){const _0x10c411=['toString','ticketId','constructor','default','197874kRXeje','update','(((.+)+)+)+$','9ARGQlS','20HLVfYS','findOne','2606545gbBKIz','__esModule','2401441FWczRm','9mkjlNE','findByPk','quotedMsg','getIO','6197936TxggRx','884028Jxbnrc','10FDumdA','Erro\x20ao\x20tentar\x20marcar\x20a\x20mensagem\x20com\x20excluÃ­da\x20>\x20','search','5919516iLdsvX','10666106hyiHNQ','replace','defineProperty'];a538_0x284e=function(){return _0x10c411;};return a538_0x284e();}a538_0x3cb1e6();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1994d5){const _0x3264c1=a538_0x29fa;return _0x1994d5&&_0x1994d5[_0x3264c1(0xf1)]?_0x1994d5:{'default':_0x1994d5};};Object[a538_0x649b41(0xe5)](exports,a538_0x649b41(0xf1),{'value':!![]});function a538_0x29fa(_0x5e9f13,_0xa3c7a9){const _0xe04f70=a538_0x284e();return a538_0x29fa=function(_0x3cb1e6,_0xae4cba){_0x3cb1e6=_0x3cb1e6-0xe2;let _0x284e01=_0xe04f70[_0x3cb1e6];return _0x284e01;},a538_0x29fa(_0x5e9f13,_0xa3c7a9);}const Message_1=__importDefault(require('../../models/Message')),socket_1=require('../../libs/socket'),MarkDeleteWhatsAppMessage=async(_0x2ea03b,_0x4462ec,_0xe09a2f,_0x58cdb4)=>{const _0x4a0dd3=a538_0x649b41;_0x2ea03b=_0x2ea03b[_0x4a0dd3(0xe4)]('@c.us','')[_0x4a0dd3(0xe4)]('@s.whatsapp.net','');if(_0xe09a2f){const _0x937d23=await Message_1[_0x4a0dd3(0xe9)][_0x4a0dd3(0xef)]({'where':{'id':_0xe09a2f,'companyId':_0x58cdb4}});if(_0x937d23==null||!_0x937d23)return;try{const _0x459915=await Message_1[_0x4a0dd3(0xe9)][_0x4a0dd3(0xf4)](_0x937d23['id'],{'include':['contact',{'model':Message_1[_0x4a0dd3(0xe9)],'as':_0x4a0dd3(0xf5),'include':['contact']}]});if(_0x459915){await _0x459915['update']({'isDeleted':!![]});const _0x4210b6=(0x0,socket_1[_0x4a0dd3(0xf6)])();_0x4210b6['to'](_0x459915[_0x4a0dd3(0xe7)]['toString']())['emit']('appMessage-'+_0x459915,{'action':_0x4a0dd3(0xeb),'message':_0x459915});}}catch(_0x3c5ed7){console['log'](_0x4a0dd3(0xfa)+_0x3c5ed7);}return _0x4462ec;};};exports['default']=MarkDeleteWhatsAppMessage;