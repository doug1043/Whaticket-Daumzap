const a547_0x130e32=a547_0x5168;(function(_0x3bc7a6,_0x115022){const _0x14d2e6=a547_0x5168,_0x28b17a=_0x3bc7a6();while(!![]){try{const _0x456aca=-parseInt(_0x14d2e6(0x111))/0x1+parseInt(_0x14d2e6(0x106))/0x2+-parseInt(_0x14d2e6(0xfc))/0x3+-parseInt(_0x14d2e6(0x10a))/0x4*(parseInt(_0x14d2e6(0xfa))/0x5)+-parseInt(_0x14d2e6(0xf9))/0x6*(parseInt(_0x14d2e6(0x10c))/0x7)+parseInt(_0x14d2e6(0xff))/0x8+parseInt(_0x14d2e6(0xfe))/0x9;if(_0x456aca===_0x115022)break;else _0x28b17a['push'](_0x28b17a['shift']());}catch(_0x5d358b){_0x28b17a['push'](_0x28b17a['shift']());}}}(a547_0x2f7b,0xe3b38));const a547_0x3e8ff7=(function(){let _0x574214=!![];return function(_0x33ebf5,_0x25f39e){const _0xfb3cad=_0x574214?function(){const _0x29f9e7=a547_0x5168;if(_0x25f39e){const _0x400376=_0x25f39e[_0x29f9e7(0x110)](_0x33ebf5,arguments);return _0x25f39e=null,_0x400376;}}:function(){};return _0x574214=![],_0xfb3cad;};}()),a547_0x4109b5=a547_0x3e8ff7(this,function(){const _0x647280=a547_0x5168;return a547_0x4109b5[_0x647280(0xf8)]()[_0x647280(0x109)]('(((.+)+)+)+$')[_0x647280(0xf8)]()['constructor'](a547_0x4109b5)[_0x647280(0x109)](_0x647280(0x101));});a547_0x4109b5();'use strict';function a547_0x2f7b(){const _0x12d4aa=['3126205yIXvyX','__importDefault','893385SFGHqy','emit','30591018JWtqMC','1770008JRSCFN','quotedMsg','(((.+)+)+)+$','update','__esModule','default','replace','362820ubAewG','getIO','log','search','4oAnQRD','Erro\x20ao\x20tentar\x20marcar\x20a\x20mensagem\x20com\x20excluÃ­da\x20>\x20','7BthqLX','../../libs/socket','@s.whatsapp.net','contact','apply','732236lAjGBq','ticketId','findByPk','toString','7282362mMwLza'];a547_0x2f7b=function(){return _0x12d4aa;};return a547_0x2f7b();}function a547_0x5168(_0x2a2e28,_0x1b7908){const _0x2b47d7=a547_0x2f7b();return a547_0x5168=function(_0x4109b5,_0x3e8ff7){_0x4109b5=_0x4109b5-0xf8;let _0x2f7b1f=_0x2b47d7[_0x4109b5];return _0x2f7b1f;},a547_0x5168(_0x2a2e28,_0x1b7908);}var __importDefault=this&&this[a547_0x130e32(0xfb)]||function(_0x210225){return _0x210225&&_0x210225['__esModule']?_0x210225:{'default':_0x210225};};Object['defineProperty'](exports,a547_0x130e32(0x103),{'value':!![]});const Message_1=__importDefault(require('../../models/Message')),socket_1=require(a547_0x130e32(0x10d)),MarkDeleteWhatsAppMessage=async(_0xe19b86,_0x32605e,_0x36eeac,_0x43fb80)=>{const _0xfc9011=a547_0x130e32;_0xe19b86=_0xe19b86[_0xfc9011(0x105)]('@c.us','')['replace'](_0xfc9011(0x10e),'');if(_0x36eeac){const _0x1270bf=await Message_1['default']['findOne']({'where':{'id':_0x36eeac,'companyId':_0x43fb80}});if(_0x1270bf==null||!_0x1270bf)return;try{const _0x320181=await Message_1[_0xfc9011(0x104)][_0xfc9011(0x113)](_0x1270bf['id'],{'include':[_0xfc9011(0x10f),{'model':Message_1['default'],'as':_0xfc9011(0x100),'include':['contact']}]});if(_0x320181){await _0x320181[_0xfc9011(0x102)]({'isDeleted':!![]});const _0x143fb8=(0x0,socket_1[_0xfc9011(0x107)])();_0x143fb8['to'](_0x320181[_0xfc9011(0x112)][_0xfc9011(0xf8)]())[_0xfc9011(0xfd)]('appMessage-'+_0x320181,{'action':_0xfc9011(0x102),'message':_0x320181});}}catch(_0x38382e){console[_0xfc9011(0x108)](_0xfc9011(0x10b)+_0x38382e);}return _0x32605e;};};exports[a547_0x130e32(0x104)]=MarkDeleteWhatsAppMessage;