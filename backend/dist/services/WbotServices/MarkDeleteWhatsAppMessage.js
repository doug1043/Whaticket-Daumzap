const a580_0x15e3ff=a580_0x483e;(function(_0x217927,_0x3c65cd){const _0x4b5f56=a580_0x483e,_0x3bcb3b=_0x217927();while(!![]){try{const _0x563448=-parseInt(_0x4b5f56(0xf4))/0x1+-parseInt(_0x4b5f56(0xe6))/0x2+parseInt(_0x4b5f56(0xf5))/0x3+-parseInt(_0x4b5f56(0xf3))/0x4+-parseInt(_0x4b5f56(0xed))/0x5+-parseInt(_0x4b5f56(0xe1))/0x6+-parseInt(_0x4b5f56(0xee))/0x7*(-parseInt(_0x4b5f56(0xe9))/0x8);if(_0x563448===_0x3c65cd)break;else _0x3bcb3b['push'](_0x3bcb3b['shift']());}catch(_0x583b66){_0x3bcb3b['push'](_0x3bcb3b['shift']());}}}(a580_0x1594,0x9f7a0));const a580_0x53ddbb=(function(){let _0x30e53e=!![];return function(_0x2c9f50,_0x58398a){const _0x33bab6=_0x30e53e?function(){const _0x9a4985=a580_0x483e;if(_0x58398a){const _0x375a12=_0x58398a[_0x9a4985(0xfd)](_0x2c9f50,arguments);return _0x58398a=null,_0x375a12;}}:function(){};return _0x30e53e=![],_0x33bab6;};}()),a580_0x10a319=a580_0x53ddbb(this,function(){const _0x5a34ad=a580_0x483e;return a580_0x10a319[_0x5a34ad(0xe7)]()[_0x5a34ad(0xfb)](_0x5a34ad(0xe8))[_0x5a34ad(0xe7)]()['constructor'](a580_0x10a319)[_0x5a34ad(0xfb)](_0x5a34ad(0xe8));});a580_0x10a319();'use strict';function a580_0x483e(_0x2253c6,_0xd3352e){const _0x3f2437=a580_0x1594();return a580_0x483e=function(_0x10a319,_0x53ddbb){_0x10a319=_0x10a319-0xe1;let _0x1594bc=_0x3f2437[_0x10a319];return _0x1594bc;},a580_0x483e(_0x2253c6,_0xd3352e);}function a580_0x1594(){const _0x1a4c90=['__importDefault','search','getIO','apply','2644680BghScN','Erro\x20ao\x20tentar\x20marcar\x20a\x20mensagem\x20com\x20excluÃ­da\x20>\x20','@c.us','__esModule','../../libs/socket','1352344YbMqYx','toString','(((.+)+)+)+$','14683624mbQLeW','findOne','default','log','3197775TlIWVY','14RJoPio','../../models/Message','@s.whatsapp.net','contact','appMessage-','3330048jsmVpm','779060imaEqX','1051167VboorU','quotedMsg','defineProperty','findByPk','update'];a580_0x1594=function(){return _0x1a4c90;};return a580_0x1594();}var __importDefault=this&&this[a580_0x15e3ff(0xfa)]||function(_0x43dd61){const _0x42f6b3=a580_0x15e3ff;return _0x43dd61&&_0x43dd61[_0x42f6b3(0xe4)]?_0x43dd61:{'default':_0x43dd61};};Object[a580_0x15e3ff(0xf7)](exports,a580_0x15e3ff(0xe4),{'value':!![]});const Message_1=__importDefault(require(a580_0x15e3ff(0xef))),socket_1=require(a580_0x15e3ff(0xe5)),MarkDeleteWhatsAppMessage=async(_0x47793c,_0x23416c,_0x39388e,_0x1f6787)=>{const _0x14cbdb=a580_0x15e3ff;_0x47793c=_0x47793c['replace'](_0x14cbdb(0xe3),'')['replace'](_0x14cbdb(0xf0),'');if(_0x39388e){const _0x1c9a81=await Message_1['default'][_0x14cbdb(0xea)]({'where':{'id':_0x39388e,'companyId':_0x1f6787}});if(_0x1c9a81==null||!_0x1c9a81)return;try{const _0x24e6f7=await Message_1[_0x14cbdb(0xeb)][_0x14cbdb(0xf8)](_0x1c9a81['id'],{'include':['contact',{'model':Message_1[_0x14cbdb(0xeb)],'as':_0x14cbdb(0xf6),'include':[_0x14cbdb(0xf1)]}]});if(_0x24e6f7){await _0x24e6f7['update']({'isDeleted':!![]});const _0x50a97a=(0x0,socket_1[_0x14cbdb(0xfc)])();_0x50a97a['to'](_0x24e6f7['ticketId'][_0x14cbdb(0xe7)]())['emit'](_0x14cbdb(0xf2)+_0x24e6f7,{'action':_0x14cbdb(0xf9),'message':_0x24e6f7});}}catch(_0x41a0b2){console[_0x14cbdb(0xec)](_0x14cbdb(0xe2)+_0x41a0b2);}return _0x23416c;};};exports[a580_0x15e3ff(0xeb)]=MarkDeleteWhatsAppMessage;