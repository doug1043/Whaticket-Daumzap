const a686_0x148517=a686_0x64e9;(function(_0x4f6905,_0x1ae041){const _0x760535=a686_0x64e9,_0x186057=_0x4f6905();while(!![]){try{const _0x460034=parseInt(_0x760535(0x1c3))/0x1*(parseInt(_0x760535(0x1a4))/0x2)+-parseInt(_0x760535(0x1ba))/0x3*(parseInt(_0x760535(0x19a))/0x4)+-parseInt(_0x760535(0x1bf))/0x5*(-parseInt(_0x760535(0x1bb))/0x6)+parseInt(_0x760535(0x1b5))/0x7*(parseInt(_0x760535(0x1c1))/0x8)+parseInt(_0x760535(0x1b3))/0x9*(-parseInt(_0x760535(0x19d))/0xa)+parseInt(_0x760535(0x1cb))/0xb+-parseInt(_0x760535(0x1a2))/0xc;if(_0x460034===_0x1ae041)break;else _0x186057['push'](_0x186057['shift']());}catch(_0x3d15d1){_0x186057['push'](_0x186057['shift']());}}}(a686_0x59b8,0x3746b));const a686_0x36b430=(function(){let _0x576254=!![];return function(_0x5699ef,_0x412170){const _0x933ce8=_0x576254?function(){const _0x15256d=a686_0x64e9;if(_0x412170){const _0x33659a=_0x412170[_0x15256d(0x1bc)](_0x5699ef,arguments);return _0x412170=null,_0x33659a;}}:function(){};return _0x576254=![],_0x933ce8;};}()),a686_0x2960cc=a686_0x36b430(this,function(){const _0x5794e0=a686_0x64e9;return a686_0x2960cc[_0x5794e0(0x1be)]()[_0x5794e0(0x1b1)](_0x5794e0(0x1af))[_0x5794e0(0x1be)]()[_0x5794e0(0x1c9)](a686_0x2960cc)[_0x5794e0(0x1b1)](_0x5794e0(0x1af));});a686_0x2960cc();'use strict';var __importDefault=this&&this[a686_0x148517(0x1a0)]||function(_0x41932a){const _0x29d70e=a686_0x148517;return _0x41932a&&_0x41932a[_0x29d70e(0x1ab)]?_0x41932a:{'default':_0x41932a};};function a686_0x59b8(){const _0x21f4fd=['10jEnQev','getWbot','24OVuXGJ','../../libs/wbot','1xJFeBx','contacts','status@broadcast','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20database.','whatsapp','warn','constructor','includes','3043029SPMGoe','../BaileysServices/ShowBaileysService','128LCKXSA','debug','ERR_NO_WAPP_FOUND','902550NukwtM','default','Could\x20not\x20save\x20contact.\x20Err:\x20','__importDefault','name','1795740KIilSm','\x20-\x20','639946EmXxRX','message','error','then','CONNECTED','forEach','../../utils/logger','__esModule','isArray','../ContactServices/CreateContactService','save','(((.+)+)+)+$','../../models/Whatsapp','search','../../errors/AppError','36PHlslD','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20database.\x20Err:\x20','712782jXcvEC','findOne','logger','Error\x20importing\x20contacts\x20from\x20WhatsApp\x20for\x20company\x20ID:\x20','Contacts\x20imported\x20successfully\x20from\x20WhatsApp\x20for\x20company\x20ID:\x20','33369GzvYuu','572766zKlFve','apply','g.us','toString'];a686_0x59b8=function(){return _0x21f4fd;};return a686_0x59b8();}Object['defineProperty'](exports,a686_0x148517(0x1ab),{'value':!![]});function a686_0x64e9(_0x1845e1,_0x3e8ee5){const _0x3a6e8d=a686_0x59b8();return a686_0x64e9=function(_0x2960cc,_0x36b430){_0x2960cc=_0x2960cc-0x199;let _0x59b8ac=_0x3a6e8d[_0x2960cc];return _0x59b8ac;},a686_0x64e9(_0x1845e1,_0x3e8ee5);}const wbot_1=require(a686_0x148517(0x1c2)),Contact_1=__importDefault(require('../../models/Contact')),logger_1=require(a686_0x148517(0x1aa)),ShowBaileysService_1=__importDefault(require(a686_0x148517(0x199))),CreateContactService_1=__importDefault(require(a686_0x148517(0x1ad))),AppError_1=__importDefault(require(a686_0x148517(0x1b2))),Whatsapp_1=__importDefault(require(a686_0x148517(0x1b0))),ImportContactsService=async(_0x5d55a2,_0x545aec)=>{const _0x1584b8=a686_0x148517,_0xa19cd8=await Whatsapp_1[_0x1584b8(0x19e)][_0x1584b8(0x1b6)]({'where':{'id':_0x545aec,'companyId':_0x5d55a2,'channel':_0x1584b8(0x1c7),'status':_0x1584b8(0x1a8)}});if(!_0xa19cd8)throw new AppError_1[(_0x1584b8(0x19e))](_0x1584b8(0x19c),0x194);const _0x1b2cc5=(0x0,wbot_1[_0x1584b8(0x1c0)])(_0xa19cd8['id']),_0x25ad7a=await(0x0,ShowBaileysService_1[_0x1584b8(0x19e)])(_0x1b2cc5['id']);let _0x492acf=null;try{_0x492acf=_0x25ad7a[_0x1584b8(0x1c4)]&&JSON['parse'](_0x25ad7a[_0x1584b8(0x1c4)]);}catch(_0x4c048f){logger_1[_0x1584b8(0x1b7)][_0x1584b8(0x1c8)]({'baileys':_0x25ad7a},_0x1584b8(0x1b4)+_0x4c048f);throw new AppError_1[(_0x1584b8(0x19e))](_0x1584b8(0x1c6),0x1f4);}if(Array[_0x1584b8(0x1ac)](_0x492acf)){const _0x2dfbe5=async _0x138af2=>{const _0x11f367=_0x1584b8;_0x138af2[_0x11f367(0x1a9)](async({id:_0x3390e0,name:_0x4dd4fa,notify:_0x278a67})=>{const _0x210839=_0x11f367;if(_0x3390e0===_0x210839(0x1c5)||_0x3390e0[_0x210839(0x1ca)](_0x210839(0x1bd)))return;const _0x2a5caf=_0x3390e0['replace'](/\D/g,''),_0x113e7d=await Contact_1[_0x210839(0x19e)][_0x210839(0x1b6)]({'where':{'number':_0x2a5caf,'companyId':_0x5d55a2}});if(_0x113e7d)_0x113e7d[_0x210839(0x1a1)]=_0x4dd4fa||_0x278a67||_0x2a5caf,await _0x113e7d[_0x210839(0x1ae)]();else try{await(0x0,CreateContactService_1['default'])({'number':_0x2a5caf,'name':_0x4dd4fa||_0x278a67||_0x2a5caf,'companyId':_0x5d55a2});}catch(_0x2e2370){logger_1[_0x210839(0x1b7)][_0x210839(0x1a6)]({'name':_0x4dd4fa,'number':_0x2a5caf,'companyId':_0x5d55a2},_0x210839(0x19f)+_0x2e2370);}});};_0x2dfbe5(_0x492acf)[_0x1584b8(0x1a7)](()=>{const _0x5c6543=_0x1584b8;logger_1[_0x5c6543(0x1b7)][_0x5c6543(0x19b)](_0x5c6543(0x1b9)+_0x5d55a2);},_0x473aa1=>{const _0x559575=_0x1584b8;logger_1[_0x559575(0x1b7)][_0x559575(0x1a6)](_0x559575(0x1b8)+_0x5d55a2+_0x559575(0x1a3)+_0x473aa1[_0x559575(0x1a5)]);});}};exports[a686_0x148517(0x19e)]=ImportContactsService;