const a544_0x5a395e=a544_0x35b6;(function(_0x2018e3,_0x24c441){const _0x40398b=a544_0x35b6,_0x210eb5=_0x2018e3();while(!![]){try{const _0x358db5=-parseInt(_0x40398b(0x127))/0x1+parseInt(_0x40398b(0x126))/0x2*(parseInt(_0x40398b(0x142))/0x3)+parseInt(_0x40398b(0x133))/0x4*(parseInt(_0x40398b(0x115))/0x5)+parseInt(_0x40398b(0x149))/0x6+-parseInt(_0x40398b(0x125))/0x7+-parseInt(_0x40398b(0x11d))/0x8+parseInt(_0x40398b(0x12c))/0x9;if(_0x358db5===_0x24c441)break;else _0x210eb5['push'](_0x210eb5['shift']());}catch(_0x38f5f2){_0x210eb5['push'](_0x210eb5['shift']());}}}(a544_0x356f,0x699f0));function a544_0x35b6(_0x5e9225,_0x4ccacc){const _0x352807=a544_0x356f();return a544_0x35b6=function(_0x877cda,_0x27e5f5){_0x877cda=_0x877cda-0x113;let _0x356f42=_0x352807[_0x877cda];return _0x356f42;},a544_0x35b6(_0x5e9225,_0x4ccacc);}const a544_0x27e5f5=(function(){let _0x18fd68=!![];return function(_0x3b3625,_0x387700){const _0x1bb02a=_0x18fd68?function(){if(_0x387700){const _0x338182=_0x387700['apply'](_0x3b3625,arguments);return _0x387700=null,_0x338182;}}:function(){};return _0x18fd68=![],_0x1bb02a;};}()),a544_0x877cda=a544_0x27e5f5(this,function(){const _0x3c1e93=a544_0x35b6;return a544_0x877cda[_0x3c1e93(0x11f)]()['search'](_0x3c1e93(0x13f))[_0x3c1e93(0x11f)]()['constructor'](a544_0x877cda)['search'](_0x3c1e93(0x13f));});a544_0x877cda();'use strict';var __createBinding=this&&this[a544_0x5a395e(0x11a)]||(Object[a544_0x5a395e(0x135)]?function(_0x4088ea,_0x494a87,_0xa1272,_0x3fbbd6){const _0x19d2a6=a544_0x5a395e;if(_0x3fbbd6===undefined)_0x3fbbd6=_0xa1272;var _0x3b2020=Object[_0x19d2a6(0x141)](_0x494a87,_0xa1272);(!_0x3b2020||(_0x19d2a6(0x13b)in _0x3b2020?!_0x494a87[_0x19d2a6(0x118)]:_0x3b2020['writable']||_0x3b2020[_0x19d2a6(0x121)]))&&(_0x3b2020={'enumerable':!![],'get':function(){return _0x494a87[_0xa1272];}}),Object[_0x19d2a6(0x123)](_0x4088ea,_0x3fbbd6,_0x3b2020);}:function(_0x4335d7,_0x5a53b6,_0x544c28,_0x5bed1b){if(_0x5bed1b===undefined)_0x5bed1b=_0x544c28;_0x4335d7[_0x5bed1b]=_0x5a53b6[_0x544c28];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a544_0x5a395e(0x135)]?function(_0x431e3b,_0x1ae47a){const _0x3402fa=a544_0x5a395e;Object[_0x3402fa(0x123)](_0x431e3b,_0x3402fa(0x13e),{'enumerable':!![],'value':_0x1ae47a});}:function(_0x3f0d15,_0x45cddf){const _0x56dffb=a544_0x5a395e;_0x3f0d15[_0x56dffb(0x13e)]=_0x45cddf;}),__importStar=this&&this['__importStar']||function(_0x44daf0){const _0x3dcc5b=a544_0x5a395e;if(_0x44daf0&&_0x44daf0['__esModule'])return _0x44daf0;var _0x17b195={};if(_0x44daf0!=null){for(var _0x2c8a58 in _0x44daf0)if(_0x2c8a58!==_0x3dcc5b(0x13e)&&Object[_0x3dcc5b(0x14a)][_0x3dcc5b(0x136)]['call'](_0x44daf0,_0x2c8a58))__createBinding(_0x17b195,_0x44daf0,_0x2c8a58);}return __setModuleDefault(_0x17b195,_0x44daf0),_0x17b195;},__importDefault=this&&this[a544_0x5a395e(0x138)]||function(_0x25d658){const _0x5d4cf5=a544_0x5a395e;return _0x25d658&&_0x25d658[_0x5d4cf5(0x118)]?_0x25d658:{'default':_0x25d658};};Object[a544_0x5a395e(0x123)](exports,'__esModule',{'value':!![]});const Sentry=__importStar(require(a544_0x5a395e(0x120))),GetDefaultWhatsApp_1=__importDefault(require(a544_0x5a395e(0x12e))),wbot_1=require(a544_0x5a395e(0x131)),Contact_1=__importDefault(require(a544_0x5a395e(0x145))),logger_1=require(a544_0x5a395e(0x14c)),ShowBaileysService_1=__importDefault(require(a544_0x5a395e(0x114))),CreateContactService_1=__importDefault(require(a544_0x5a395e(0x134))),lodash_1=require(a544_0x5a395e(0x113)),path_1=__importDefault(require(a544_0x5a395e(0x147))),fs_1=__importDefault(require('fs')),ImportContactsService=async _0x47bbfa=>{const _0x1a9d8b=a544_0x5a395e,_0x571f97=await(0x0,GetDefaultWhatsApp_1[_0x1a9d8b(0x13e)])(_0x47bbfa),_0x294195=(0x0,wbot_1[_0x1a9d8b(0x137)])(_0x571f97['id']);let _0x38fb69;try{const _0x44cd46=await(0x0,ShowBaileysService_1[_0x1a9d8b(0x13e)])(_0x294195['id']);_0x38fb69=JSON[_0x1a9d8b(0x13a)](_0x44cd46[_0x1a9d8b(0x129)]);const _0x164be2=path_1['default'][_0x1a9d8b(0x11c)](__dirname,'..','..','..','public',_0x1a9d8b(0x117)+_0x571f97[_0x1a9d8b(0x144)]),_0x1ea1f3=path_1[_0x1a9d8b(0x13e)]['join'](_0x164be2,_0x1a9d8b(0x148));fs_1['default']['writeFile'](_0x1ea1f3,JSON['stringify'](_0x38fb69,null,0x2),_0x1e81c1=>{const _0x18c4ad=_0x1a9d8b;if(_0x1e81c1){logger_1[_0x18c4ad(0x128)][_0x18c4ad(0x12d)](_0x18c4ad(0x12f)+_0x1e81c1);throw _0x1e81c1;}});}catch(_0x4e5a9e){Sentry[_0x1a9d8b(0x139)](_0x4e5a9e),logger_1[_0x1a9d8b(0x128)][_0x1a9d8b(0x12d)](_0x1a9d8b(0x122)+_0x4e5a9e);}const _0x374b1d=path_1[_0x1a9d8b(0x13e)][_0x1a9d8b(0x11c)](__dirname,'..','..','..',_0x1a9d8b(0x12a),_0x1a9d8b(0x117)+_0x571f97[_0x1a9d8b(0x144)]),_0x13fa15=path_1[_0x1a9d8b(0x13e)][_0x1a9d8b(0x143)](_0x374b1d,_0x1a9d8b(0x132));fs_1[_0x1a9d8b(0x13e)][_0x1a9d8b(0x119)](_0x13fa15,JSON[_0x1a9d8b(0x140)](_0x38fb69,null,0x2),_0x3e0330=>{const _0x24f0e4=_0x1a9d8b;if(_0x3e0330){logger_1['logger'][_0x24f0e4(0x12d)](_0x24f0e4(0x12f)+_0x3e0330);throw _0x3e0330;}});const _0xa347e8=(0x0,lodash_1[_0x1a9d8b(0x124)])(_0x38fb69)?JSON[_0x1a9d8b(0x13a)](_0x38fb69):_0x38fb69;if((0x0,lodash_1[_0x1a9d8b(0x11e)])(_0xa347e8))for(const {id:_0x27751b,name:_0x91ce22,notify:_0x4382e9}of _0xa347e8){if(_0x27751b===_0x1a9d8b(0x146)||_0x27751b[_0x1a9d8b(0x13d)](_0x1a9d8b(0x13c)))continue;const _0x5a6e03=_0x27751b[_0x1a9d8b(0x14b)](/\D/g,''),_0x561b60=await Contact_1[_0x1a9d8b(0x13e)][_0x1a9d8b(0x11b)]({'where':{'number':_0x5a6e03,'companyId':_0x47bbfa}});if(_0x561b60)_0x561b60[_0x1a9d8b(0x130)]=_0x91ce22||_0x4382e9,await _0x561b60[_0x1a9d8b(0x116)]();else try{await(0x0,CreateContactService_1['default'])({'number':_0x5a6e03,'name':_0x91ce22||_0x4382e9,'companyId':_0x47bbfa});}catch(_0x39aff3){Sentry[_0x1a9d8b(0x139)](_0x39aff3),logger_1[_0x1a9d8b(0x128)][_0x1a9d8b(0x12b)](_0x1a9d8b(0x122)+_0x39aff3);}}};function a544_0x356f(){const _0x1a1d34=['__esModule','writeFile','__createBinding','findOne','resolve','6330608lnSrAx','isArray','toString','@sentry/node','configurable','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','defineProperty','isString','5780243AzNWYg','40930dSvZMk','87139yfsXEl','logger','contacts','public','warn','2606931lFQKTg','error','../../helpers/GetDefaultWhatsApp','Failed\x20to\x20write\x20contacts\x20to\x20file:\x20','name','../../libs/wbot','contatos_depois.txt','1476724OWDIBW','../ContactServices/CreateContactService','create','hasOwnProperty','getWbot','__importDefault','captureException','parse','get','g.us','includes','default','(((.+)+)+)+$','stringify','getOwnPropertyDescriptor','99BHdAnl','join','companyId','../../models/Contact','status@broadcast','path','contatos_antes.txt','2600832pXgDMW','prototype','replace','../../utils/logger','lodash','../BaileysServices/ShowBaileysService','10zqVmAv','save','company'];a544_0x356f=function(){return _0x1a1d34;};return a544_0x356f();}exports['default']=ImportContactsService;