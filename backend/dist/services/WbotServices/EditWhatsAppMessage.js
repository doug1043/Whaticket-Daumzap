const a544_0x2b7eef=a544_0xade9;(function(_0x1c7d01,_0x1f8529){const _0x4815f3=a544_0xade9,_0x19702a=_0x1c7d01();while(!![]){try{const _0x31dba7=-parseInt(_0x4815f3(0x17e))/0x1*(parseInt(_0x4815f3(0x18a))/0x2)+parseInt(_0x4815f3(0x179))/0x3*(-parseInt(_0x4815f3(0x170))/0x4)+parseInt(_0x4815f3(0x16d))/0x5*(parseInt(_0x4815f3(0x17d))/0x6)+parseInt(_0x4815f3(0x17b))/0x7+-parseInt(_0x4815f3(0x171))/0x8+parseInt(_0x4815f3(0x17a))/0x9*(parseInt(_0x4815f3(0x176))/0xa)+-parseInt(_0x4815f3(0x184))/0xb;if(_0x31dba7===_0x1f8529)break;else _0x19702a['push'](_0x19702a['shift']());}catch(_0x1842b1){_0x19702a['push'](_0x19702a['shift']());}}}(a544_0x5252,0xd2af4));const a544_0x115430=(function(){let _0x3756b2=!![];return function(_0x1c9d6,_0x27ef66){const _0x315082=_0x3756b2?function(){const _0x5f5e0e=a544_0xade9;if(_0x27ef66){const _0x4774fd=_0x27ef66[_0x5f5e0e(0x187)](_0x1c9d6,arguments);return _0x27ef66=null,_0x4774fd;}}:function(){};return _0x3756b2=![],_0x315082;};}()),a544_0x511bc1=a544_0x115430(this,function(){const _0x30b5ff=a544_0xade9;return a544_0x511bc1[_0x30b5ff(0x172)]()[_0x30b5ff(0x18b)](_0x30b5ff(0x17c))[_0x30b5ff(0x172)]()['constructor'](a544_0x511bc1)['search']('(((.+)+)+)+$');});a544_0x511bc1();'use strict';var __importDefault=this&&this[a544_0x2b7eef(0x173)]||function(_0x275bf2){return _0x275bf2&&_0x275bf2['__esModule']?_0x275bf2:{'default':_0x275bf2};};Object[a544_0x2b7eef(0x16f)](exports,a544_0x2b7eef(0x177),{'value':!![]});function a544_0xade9(_0x5028bd,_0x57176f){const _0x102b6c=a544_0x5252();return a544_0xade9=function(_0x511bc1,_0x115430){_0x511bc1=_0x511bc1-0x16d;let _0x52528e=_0x102b6c[_0x511bc1];return _0x52528e;},a544_0xade9(_0x5028bd,_0x57176f);}const AppError_1=__importDefault(require(a544_0x2b7eef(0x178))),GetTicketWbot_1=__importDefault(require(a544_0x2b7eef(0x181))),Message_1=__importDefault(require('../../models/Message')),OldMessage_1=__importDefault(require('../../models/OldMessage')),Ticket_1=__importDefault(require(a544_0x2b7eef(0x18c))),EditWhatsAppMessage=async({messageId:_0x496be4,companyId:_0xb348a5,body:_0x4703bf})=>{const _0x15ca08=a544_0x2b7eef,_0xa88930=await Message_1['default'][_0x15ca08(0x186)](_0x496be4,{'include':[{'model':Ticket_1[_0x15ca08(0x188)],'as':'ticket','include':[_0x15ca08(0x16e)]}]});if(!_0xa88930)throw new AppError_1[(_0x15ca08(0x188))](_0x15ca08(0x174));const {ticket:_0x4713da}=_0xa88930,_0x4d419f=await(0x0,GetTicketWbot_1[_0x15ca08(0x188)])(_0x4713da),_0x21fb93=JSON[_0x15ca08(0x185)](_0xa88930[_0x15ca08(0x183)]);try{await _0x4d419f[_0x15ca08(0x175)](_0xa88930['remoteJid'],{'text':_0x4703bf,'edit':_0x21fb93[_0x15ca08(0x18d)]},{});const _0x476fca={'messageId':_0x496be4,'body':_0xa88930[_0x15ca08(0x180)]};return await OldMessage_1[_0x15ca08(0x188)][_0x15ca08(0x18e)](_0x476fca),_0xa88930[_0x15ca08(0x189)]({'body':_0x4703bf,'isEdited':!![]}),{'ticketId':_0xa88930[_0x15ca08(0x17f)],'companyId':_0xb348a5,'message':_0xa88930};}catch(_0x25daec){console['log'](_0x25daec);throw new AppError_1['default'](_0x15ca08(0x182));}};function a544_0x5252(){const _0x261abd=['contact','defineProperty','1071596OIsklw','7103256evjMCU','toString','__importDefault','No\x20message\x20found\x20with\x20this\x20ID.','sendMessage','320510oVPNGb','__esModule','../../errors/AppError','9uYdjXY','198qNeppe','11597957biLhVT','(((.+)+)+)+$','319092PNnFHM','61743lPoqcb','ticketId','body','../../helpers/GetTicketWbot','ERR_EDITING_WAPP_MSG','dataJson','4242282lvEiTT','parse','findByPk','apply','default','update','14RbQyxV','search','../../models/Ticket','key','upsert','95brdUOg'];a544_0x5252=function(){return _0x261abd;};return a544_0x5252();}exports['default']=EditWhatsAppMessage;