const a543_0x288a30=a543_0x178b;(function(_0x1d6f0b,_0xd4c977){const _0x23fb0f=a543_0x178b,_0x40a797=_0x1d6f0b();while(!![]){try{const _0x46c336=parseInt(_0x23fb0f(0xbd))/0x1*(-parseInt(_0x23fb0f(0xc6))/0x2)+-parseInt(_0x23fb0f(0xd2))/0x3*(parseInt(_0x23fb0f(0xc9))/0x4)+-parseInt(_0x23fb0f(0xc1))/0x5*(parseInt(_0x23fb0f(0xb3))/0x6)+-parseInt(_0x23fb0f(0xb2))/0x7*(-parseInt(_0x23fb0f(0xbc))/0x8)+-parseInt(_0x23fb0f(0xca))/0x9*(-parseInt(_0x23fb0f(0xc3))/0xa)+-parseInt(_0x23fb0f(0xce))/0xb+-parseInt(_0x23fb0f(0xb9))/0xc*(-parseInt(_0x23fb0f(0xc4))/0xd);if(_0x46c336===_0xd4c977)break;else _0x40a797['push'](_0x40a797['shift']());}catch(_0xc19ec4){_0x40a797['push'](_0x40a797['shift']());}}}(a543_0x4a0c,0x641a5));const a543_0x45c707=(function(){let _0x18fbd6=!![];return function(_0x1e1dfa,_0x276392){const _0x36d273=_0x18fbd6?function(){if(_0x276392){const _0x4dc44c=_0x276392['apply'](_0x1e1dfa,arguments);return _0x276392=null,_0x4dc44c;}}:function(){};return _0x18fbd6=![],_0x36d273;};}()),a543_0x495776=a543_0x45c707(this,function(){const _0x431789=a543_0x178b;return a543_0x495776[_0x431789(0xc7)]()[_0x431789(0xb6)](_0x431789(0xb1))[_0x431789(0xc7)]()[_0x431789(0xba)](a543_0x495776)[_0x431789(0xb6)](_0x431789(0xb1));});a543_0x495776();function a543_0x4a0c(){const _0x2fb2e6=['default','5gUYzIr','remoteJid','13970KclZlm','871rasrWR','key','2dyCFWl','toString','__importDefault','552UMtdXA','3645sJTkLd','body','__esModule','No\x20message\x20found\x20with\x20this\x20ID.','7463797oVOXpp','dataJson','ERR_EDITING_WAPP_MSG','../../helpers/GetTicketWbot','2631MwIYaa','defineProperty','log','(((.+)+)+)+$','56eOYDzh','4026042iwMprr','update','findByPk','search','../../errors/AppError','contact','232152sUkKNR','constructor','ticketId','682432uBgUyF','663818vBMvcb','sendMessage','../../models/OldMessage'];a543_0x4a0c=function(){return _0x2fb2e6;};return a543_0x4a0c();}'use strict';var __importDefault=this&&this[a543_0x288a30(0xc8)]||function(_0x2b7407){return _0x2b7407&&_0x2b7407['__esModule']?_0x2b7407:{'default':_0x2b7407};};Object[a543_0x288a30(0xaf)](exports,a543_0x288a30(0xcc),{'value':!![]});const AppError_1=__importDefault(require(a543_0x288a30(0xb7))),GetTicketWbot_1=__importDefault(require(a543_0x288a30(0xd1))),Message_1=__importDefault(require('../../models/Message')),OldMessage_1=__importDefault(require(a543_0x288a30(0xbf))),Ticket_1=__importDefault(require('../../models/Ticket')),EditWhatsAppMessage=async({messageId:_0x2fe7b6,companyId:_0x51dc8c,body:_0x348d02})=>{const _0x90252d=a543_0x288a30,_0x4fc23e=await Message_1['default'][_0x90252d(0xb5)](_0x2fe7b6,{'include':[{'model':Ticket_1['default'],'as':'ticket','include':[_0x90252d(0xb8)]}]});if(!_0x4fc23e)throw new AppError_1[(_0x90252d(0xc0))](_0x90252d(0xcd));const {ticket:_0xf5610f}=_0x4fc23e,_0x19f4fd=await(0x0,GetTicketWbot_1['default'])(_0xf5610f),_0x46a137=JSON['parse'](_0x4fc23e[_0x90252d(0xcf)]);try{await _0x19f4fd[_0x90252d(0xbe)](_0x4fc23e[_0x90252d(0xc2)],{'text':_0x348d02,'edit':_0x46a137[_0x90252d(0xc5)]},{});const _0x113569={'messageId':_0x2fe7b6,'body':_0x4fc23e[_0x90252d(0xcb)]};return await OldMessage_1[_0x90252d(0xc0)]['upsert'](_0x113569),_0x4fc23e[_0x90252d(0xb4)]({'body':_0x348d02,'isEdited':!![]}),{'ticketId':_0x4fc23e[_0x90252d(0xbb)],'companyId':_0x51dc8c,'message':_0x4fc23e};}catch(_0x2e87b3){console[_0x90252d(0xb0)](_0x2e87b3);throw new AppError_1[(_0x90252d(0xc0))](_0x90252d(0xd0));}};function a543_0x178b(_0x1c3e6d,_0x3f3f2f){const _0x599084=a543_0x4a0c();return a543_0x178b=function(_0x495776,_0x45c707){_0x495776=_0x495776-0xaf;let _0x4a0c86=_0x599084[_0x495776];return _0x4a0c86;},a543_0x178b(_0x1c3e6d,_0x3f3f2f);}exports[a543_0x288a30(0xc0)]=EditWhatsAppMessage;