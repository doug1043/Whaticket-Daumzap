const a542_0x349a93=a542_0x525d;(function(_0x44d76d,_0x9d3a07){const _0x2b6620=a542_0x525d,_0x1b356b=_0x44d76d();while(!![]){try{const _0x46f843=-parseInt(_0x2b6620(0x134))/0x1+parseInt(_0x2b6620(0x133))/0x2*(parseInt(_0x2b6620(0x14e))/0x3)+parseInt(_0x2b6620(0x13c))/0x4+-parseInt(_0x2b6620(0x132))/0x5*(parseInt(_0x2b6620(0x144))/0x6)+-parseInt(_0x2b6620(0x139))/0x7+parseInt(_0x2b6620(0x13f))/0x8+parseInt(_0x2b6620(0x14b))/0x9;if(_0x46f843===_0x9d3a07)break;else _0x1b356b['push'](_0x1b356b['shift']());}catch(_0xbc28e9){_0x1b356b['push'](_0x1b356b['shift']());}}}(a542_0x5399,0xe7e41));const a542_0x5165ee=(function(){let _0x52db62=!![];return function(_0x55667d,_0x3b482d){const _0x2224ab=_0x52db62?function(){const _0xb6850c=a542_0x525d;if(_0x3b482d){const _0x18dfdb=_0x3b482d[_0xb6850c(0x12d)](_0x55667d,arguments);return _0x3b482d=null,_0x18dfdb;}}:function(){};return _0x52db62=![],_0x2224ab;};}()),a542_0x1ead47=a542_0x5165ee(this,function(){const _0x77c7a9=a542_0x525d;return a542_0x1ead47[_0x77c7a9(0x12f)]()[_0x77c7a9(0x140)]('(((.+)+)+)+$')['toString']()[_0x77c7a9(0x145)](a542_0x1ead47)[_0x77c7a9(0x140)](_0x77c7a9(0x13e));});function a542_0x5399(){const _0x3bebdc=['ERR_EDITING_WAPP_MSG','../../errors/AppError','5ruTvgT','294288xyCUuB','1106749ctaIxG','upsert','dataJson','defineProperty','body','7127960tgugAU','key','remoteJid','4789716MrBkrt','contact','(((.+)+)+)+$','901344tGrnkv','search','log','../../models/Message','update','7897944mZeXcy','constructor','__esModule','parse','ticket','../../helpers/GetTicketWbot','No\x20message\x20found\x20with\x20this\x20ID.','25081137XzVJCP','../../models/OldMessage','default','6TkgbzW','apply','findByPk','toString'];a542_0x5399=function(){return _0x3bebdc;};return a542_0x5399();}a542_0x1ead47();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x12e9ea){const _0x2fbbba=a542_0x525d;return _0x12e9ea&&_0x12e9ea[_0x2fbbba(0x146)]?_0x12e9ea:{'default':_0x12e9ea};};Object[a542_0x349a93(0x137)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a542_0x349a93(0x131))),GetTicketWbot_1=__importDefault(require(a542_0x349a93(0x149))),Message_1=__importDefault(require(a542_0x349a93(0x142))),OldMessage_1=__importDefault(require(a542_0x349a93(0x14c))),Ticket_1=__importDefault(require('../../models/Ticket')),EditWhatsAppMessage=async({messageId:_0x914b62,companyId:_0x397b0a,body:_0x162dbc})=>{const _0x3ad4ce=a542_0x349a93,_0x3b83f1=await Message_1[_0x3ad4ce(0x14d)][_0x3ad4ce(0x12e)](_0x914b62,{'include':[{'model':Ticket_1[_0x3ad4ce(0x14d)],'as':_0x3ad4ce(0x148),'include':[_0x3ad4ce(0x13d)]}]});if(!_0x3b83f1)throw new AppError_1[(_0x3ad4ce(0x14d))](_0x3ad4ce(0x14a));const {ticket:_0x423339}=_0x3b83f1,_0x33160b=await(0x0,GetTicketWbot_1[_0x3ad4ce(0x14d)])(_0x423339),_0x460b1b=JSON[_0x3ad4ce(0x147)](_0x3b83f1[_0x3ad4ce(0x136)]);try{await _0x33160b['sendMessage'](_0x3b83f1[_0x3ad4ce(0x13b)],{'text':_0x162dbc,'edit':_0x460b1b[_0x3ad4ce(0x13a)]},{});const _0x6c2843={'messageId':_0x914b62,'body':_0x3b83f1[_0x3ad4ce(0x138)]};return await OldMessage_1[_0x3ad4ce(0x14d)][_0x3ad4ce(0x135)](_0x6c2843),_0x3b83f1[_0x3ad4ce(0x143)]({'body':_0x162dbc,'isEdited':!![]}),{'ticketId':_0x3b83f1['ticketId'],'companyId':_0x397b0a,'message':_0x3b83f1};}catch(_0x40ffa8){console[_0x3ad4ce(0x141)](_0x40ffa8);throw new AppError_1[(_0x3ad4ce(0x14d))](_0x3ad4ce(0x130));}};function a542_0x525d(_0x390269,_0x1ac7c0){const _0x4edf98=a542_0x5399();return a542_0x525d=function(_0x1ead47,_0x5165ee){_0x1ead47=_0x1ead47-0x12d;let _0x5399b5=_0x4edf98[_0x1ead47];return _0x5399b5;},a542_0x525d(_0x390269,_0x1ac7c0);}exports[a542_0x349a93(0x14d)]=EditWhatsAppMessage;