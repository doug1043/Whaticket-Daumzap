const a545_0x179d9d=a545_0x59fb;(function(_0x2cdc12,_0x26d246){const _0x258752=a545_0x59fb,_0x10505f=_0x2cdc12();while(!![]){try{const _0x1bced9=-parseInt(_0x258752(0x8a))/0x1*(-parseInt(_0x258752(0x77))/0x2)+-parseInt(_0x258752(0x91))/0x3+parseInt(_0x258752(0x74))/0x4*(parseInt(_0x258752(0x7e))/0x5)+parseInt(_0x258752(0x87))/0x6*(-parseInt(_0x258752(0x93))/0x7)+parseInt(_0x258752(0x76))/0x8+parseInt(_0x258752(0x7b))/0x9+-parseInt(_0x258752(0x7c))/0xa;if(_0x1bced9===_0x26d246)break;else _0x10505f['push'](_0x10505f['shift']());}catch(_0x413466){_0x10505f['push'](_0x10505f['shift']());}}}(a545_0x1c88,0x9c5cc));const a545_0x4ddf9b=(function(){let _0x31ba11=!![];return function(_0x5a1e8d,_0x28d1cc){const _0x3344e5=_0x31ba11?function(){const _0x25bed1=a545_0x59fb;if(_0x28d1cc){const _0x88d11d=_0x28d1cc[_0x25bed1(0x83)](_0x5a1e8d,arguments);return _0x28d1cc=null,_0x88d11d;}}:function(){};return _0x31ba11=![],_0x3344e5;};}()),a545_0x5c1133=a545_0x4ddf9b(this,function(){const _0x5db393=a545_0x59fb;return a545_0x5c1133[_0x5db393(0x80)]()[_0x5db393(0x86)](_0x5db393(0x7d))['toString']()[_0x5db393(0x7f)](a545_0x5c1133)[_0x5db393(0x86)](_0x5db393(0x7d));});function a545_0x59fb(_0x1cf704,_0x35b8ad){const _0x398247=a545_0x1c88();return a545_0x59fb=function(_0x5c1133,_0x4ddf9b){_0x5c1133=_0x5c1133-0x74;let _0x1c8845=_0x398247[_0x5c1133];return _0x1c8845;},a545_0x59fb(_0x1cf704,_0x35b8ad);}function a545_0x1c88(){const _0x3e4bb6=['findByPk','994392DzMWta','sendMessage','266NRASYI','contact','__esModule','../../models/OldMessage','log','243472PiKlsw','__importDefault','10183072PuOghn','556vygEVr','dataJson','ticketId','ERR_EDITING_WAPP_MSG','9268119DQnaXg','13384670WIxKVZ','(((.+)+)+)+$','100RGNDMb','constructor','toString','key','defineProperty','apply','default','upsert','search','198678NPHQAn','ticket','../../models/Message','175gDJUuB','No\x20message\x20found\x20with\x20this\x20ID.','parse','../../models/Ticket','../../helpers/GetTicketWbot','../../errors/AppError'];a545_0x1c88=function(){return _0x3e4bb6;};return a545_0x1c88();}a545_0x5c1133();'use strict';var __importDefault=this&&this[a545_0x179d9d(0x75)]||function(_0x1c3192){const _0x33505a=a545_0x179d9d;return _0x1c3192&&_0x1c3192[_0x33505a(0x95)]?_0x1c3192:{'default':_0x1c3192};};Object[a545_0x179d9d(0x82)](exports,a545_0x179d9d(0x95),{'value':!![]});const AppError_1=__importDefault(require(a545_0x179d9d(0x8f))),GetTicketWbot_1=__importDefault(require(a545_0x179d9d(0x8e))),Message_1=__importDefault(require(a545_0x179d9d(0x89))),OldMessage_1=__importDefault(require(a545_0x179d9d(0x96))),Ticket_1=__importDefault(require(a545_0x179d9d(0x8d))),EditWhatsAppMessage=async({messageId:_0x44a090,companyId:_0x3ca1b9,body:_0x231b41})=>{const _0x545021=a545_0x179d9d,_0x50e70e=await Message_1[_0x545021(0x84)][_0x545021(0x90)](_0x44a090,{'include':[{'model':Ticket_1[_0x545021(0x84)],'as':_0x545021(0x88),'include':[_0x545021(0x94)]}]});if(!_0x50e70e)throw new AppError_1[(_0x545021(0x84))](_0x545021(0x8b));const {ticket:_0x5d5e79}=_0x50e70e,_0x1c5b4f=await(0x0,GetTicketWbot_1[_0x545021(0x84)])(_0x5d5e79),_0x4ba512=JSON[_0x545021(0x8c)](_0x50e70e[_0x545021(0x78)]);try{await _0x1c5b4f[_0x545021(0x92)](_0x50e70e['remoteJid'],{'text':_0x231b41,'edit':_0x4ba512[_0x545021(0x81)]},{});const _0xb07e89={'messageId':_0x44a090,'body':_0x50e70e['body']};return await OldMessage_1[_0x545021(0x84)][_0x545021(0x85)](_0xb07e89),_0x50e70e['update']({'body':_0x231b41,'isEdited':!![]}),{'ticketId':_0x50e70e[_0x545021(0x79)],'companyId':_0x3ca1b9,'message':_0x50e70e};}catch(_0x1a29df){console[_0x545021(0x97)](_0x1a29df);throw new AppError_1[(_0x545021(0x84))](_0x545021(0x7a));}};exports[a545_0x179d9d(0x84)]=EditWhatsAppMessage;