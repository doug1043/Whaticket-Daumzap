'use strict';var a578_0x5e003f=a578_0x4a9a;function a578_0x4a9a(_0x343df8,_0x7c74f4){var _0x224ab9=a578_0x47d2();return a578_0x4a9a=function(_0x587041,_0x1e31b2){_0x587041=_0x587041-0x1b3;var _0x47d237=_0x224ab9[_0x587041];return _0x47d237;},a578_0x4a9a(_0x343df8,_0x7c74f4);}(function(_0x3468a7,_0x118bee){var _0x1d0b34=a578_0x4a9a,_0x373c2b=_0x3468a7();while(!![]){try{var _0x2ad83f=parseInt(_0x1d0b34(0x1ba))/0x1*(-parseInt(_0x1d0b34(0x1be))/0x2)+-parseInt(_0x1d0b34(0x1c5))/0x3*(-parseInt(_0x1d0b34(0x1ca))/0x4)+-parseInt(_0x1d0b34(0x1d9))/0x5+-parseInt(_0x1d0b34(0x1cd))/0x6*(parseInt(_0x1d0b34(0x1cb))/0x7)+-parseInt(_0x1d0b34(0x1c8))/0x8*(-parseInt(_0x1d0b34(0x1d3))/0x9)+parseInt(_0x1d0b34(0x1ce))/0xa*(-parseInt(_0x1d0b34(0x1b3))/0xb)+parseInt(_0x1d0b34(0x1bc))/0xc;if(_0x2ad83f===_0x118bee)break;else _0x373c2b['push'](_0x373c2b['shift']());}catch(_0xcbc37e){_0x373c2b['push'](_0x373c2b['shift']());}}}(a578_0x47d2,0x3ffd6));var __createBinding=this&&this[a578_0x5e003f(0x1d8)]||(Object[a578_0x5e003f(0x1b5)]?function(_0x5b6a65,_0x21afb5,_0x563397,_0x4c1201){var _0x3c0203=a578_0x5e003f;if(_0x4c1201===undefined)_0x4c1201=_0x563397;var _0x11f1e2=Object[_0x3c0203(0x1d7)](_0x21afb5,_0x563397);(!_0x11f1e2||(_0x3c0203(0x1d6)in _0x11f1e2?!_0x21afb5['__esModule']:_0x11f1e2[_0x3c0203(0x1b6)]||_0x11f1e2[_0x3c0203(0x1db)]))&&(_0x11f1e2={'enumerable':!![],'get':function(){return _0x21afb5[_0x563397];}}),Object[_0x3c0203(0x1bd)](_0x5b6a65,_0x4c1201,_0x11f1e2);}:function(_0x33e4d7,_0x52ebce,_0xab7340,_0x3c4b9d){if(_0x3c4b9d===undefined)_0x3c4b9d=_0xab7340;_0x33e4d7[_0x3c4b9d]=_0x52ebce[_0xab7340];}),__setModuleDefault=this&&this[a578_0x5e003f(0x1d1)]||(Object[a578_0x5e003f(0x1b5)]?function(_0x1d7d24,_0x261158){var _0x2d53cb=a578_0x5e003f;Object[_0x2d53cb(0x1bd)](_0x1d7d24,_0x2d53cb(0x1d5),{'enumerable':!![],'value':_0x261158});}:function(_0x41e738,_0x66f6e3){var _0x3ee173=a578_0x5e003f;_0x41e738[_0x3ee173(0x1d5)]=_0x66f6e3;}),__importStar=this&&this['__importStar']||(function(){var _0x525f47=(function(){var _0x5d1037=!![];return function(_0x508c60,_0x1c303){var _0x5862b1=_0x5d1037?function(){var _0x3b1e17=a578_0x4a9a;if(_0x1c303){var _0x11e1b7=_0x1c303[_0x3b1e17(0x1bf)](_0x508c60,arguments);return _0x1c303=null,_0x11e1b7;}}:function(){};return _0x5d1037=![],_0x5862b1;};}()),_0x36461a=_0x525f47(this,function(){var _0x5b8e57=a578_0x4a9a;return _0x36461a[_0x5b8e57(0x1dd)]()[_0x5b8e57(0x1d2)](_0x5b8e57(0x1cf))[_0x5b8e57(0x1dd)]()[_0x5b8e57(0x1c3)](_0x36461a)[_0x5b8e57(0x1d2)]('(((.+)+)+)+$');});_0x36461a();var _0x4d64da=function(_0x3682db){var _0x4051e8=a578_0x4a9a;return _0x4d64da=Object[_0x4051e8(0x1c9)]||function(_0x53a45d){var _0x417eb9=_0x4051e8,_0x51c65b=[];for(var _0x1c7106 in _0x53a45d)if(Object[_0x417eb9(0x1c6)][_0x417eb9(0x1da)][_0x417eb9(0x1b8)](_0x53a45d,_0x1c7106))_0x51c65b[_0x51c65b[_0x417eb9(0x1c4)]]=_0x1c7106;return _0x51c65b;},_0x4d64da(_0x3682db);};return function(_0x4df5da){var _0x29f193=a578_0x4a9a;if(_0x4df5da&&_0x4df5da[_0x29f193(0x1d4)])return _0x4df5da;var _0x2cbd17={};if(_0x4df5da!=null){for(var _0x460e69=_0x4d64da(_0x4df5da),_0x2b3003=0x0;_0x2b3003<_0x460e69['length'];_0x2b3003++)if(_0x460e69[_0x2b3003]!==_0x29f193(0x1d5))__createBinding(_0x2cbd17,_0x4df5da,_0x460e69[_0x2b3003]);}return __setModuleDefault(_0x2cbd17,_0x4df5da),_0x2cbd17;};}()),__importDefault=this&&this[a578_0x5e003f(0x1c1)]||function(_0x346f4e){return _0x346f4e&&_0x346f4e['__esModule']?_0x346f4e:{'default':_0x346f4e};};Object[a578_0x5e003f(0x1bd)](exports,a578_0x5e003f(0x1d4),{'value':!![]});function a578_0x47d2(){var _0x573120=['__importDefault','s.whatsapp.net','constructor','length','2307OAYiAI','prototype','captureException','1083120pgtJKn','getOwnPropertyNames','2532eJehGo','11473dRnVCY','key','1806xYfvVU','10VSVXdV','(((.+)+)+)+$','ReactionType\x20not\x20found','__setModuleDefault','search','27LhNKHv','__esModule','default','get','getOwnPropertyDescriptor','__createBinding','525985chNozR','hasOwnProperty','configurable','findOne','toString','5762273eSpPmW','log','create','writable','../../models/Message','call','dataJson','236282AdKuTd','../../helpers/GetTicketWbot','11569176CsyeQa','defineProperty','4lZAszW','apply','g.us'];a578_0x47d2=function(){return _0x573120;};return a578_0x47d2();}const Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a578_0x5e003f(0x1bb))),Message_1=__importDefault(require(a578_0x5e003f(0x1b7))),SendWhatsAppReaction=async({messageId:_0x2e3355,ticket:_0x1ecbc8,reactionType:_0x5828fd})=>{var _0x2918db=a578_0x5e003f;const _0x56b623=await(0x0,GetTicketWbot_1[_0x2918db(0x1d5)])(_0x1ecbc8),_0x43c666=_0x1ecbc8['contact']['number']+'@'+(_0x1ecbc8['isGroup']?_0x2918db(0x1c0):_0x2918db(0x1c2));try{const _0xb67ae0=await Message_1[_0x2918db(0x1d5)][_0x2918db(0x1dc)]({'where':{'id':_0x2e3355}});if(!_0xb67ae0)throw new AppError_1[(_0x2918db(0x1d5))]('Message\x20not\x20found');if(!_0x5828fd)throw new AppError_1['default'](_0x2918db(0x1d0));const _0x51c86f=JSON['parse'](_0xb67ae0[_0x2918db(0x1b9)]);console[_0x2918db(0x1b4)](_0x5828fd);const _0x49e640=await _0x56b623['sendMessage'](_0x43c666,{'react':{'text':_0x5828fd,'key':_0x51c86f[_0x2918db(0x1cc)]}});return _0x49e640;}catch(_0x3fde32){Sentry[_0x2918db(0x1c7)](_0x3fde32),console[_0x2918db(0x1b4)](_0x3fde32);throw new AppError_1['default']('ERR_SENDING_WAPP_REACTION');}};exports[a578_0x5e003f(0x1d5)]=SendWhatsAppReaction;