'use strict';function a579_0x522a(_0x9efb8c,_0x26d9a3){var _0x3e2503=a579_0x2d08();return a579_0x522a=function(_0x734de6,_0x2e8724){_0x734de6=_0x734de6-0x11c;var _0x2d080f=_0x3e2503[_0x734de6];return _0x2d080f;},a579_0x522a(_0x9efb8c,_0x26d9a3);}function a579_0x2d08(){var _0x51eb2a=['../../helpers/GetTicketWbot','captureException','apply','constructor','hasOwnProperty','writable','defineProperty','log','ReactionType\x20not\x20found','3215wZpxKO','__createBinding','__esModule','../../models/Message','@sentry/node','7WcBHEA','(((.+)+)+)+$','get','255719PnLdpM','toString','key','getOwnPropertyNames','number','6YxyEoT','345624vGIpgB','getOwnPropertyDescriptor','10IIfdqV','4855842WoSPgL','isGroup','369xMHUHM','length','findOne','__importDefault','2981624GjAOBJ','search','333465DQQOUY','s.whatsapp.net','default','create','Message\x20not\x20found','__setModuleDefault','17132IXFySn'];a579_0x2d08=function(){return _0x51eb2a;};return a579_0x2d08();}var a579_0x11454d=a579_0x522a;(function(_0x2604f1,_0x38fef1){var _0x20ac8b=a579_0x522a,_0x939d1d=_0x2604f1();while(!![]){try{var _0x141224=-parseInt(_0x20ac8b(0x124))/0x1+parseInt(_0x20ac8b(0x12a))/0x2+parseInt(_0x20ac8b(0x12f))/0x3*(-parseInt(_0x20ac8b(0x13b))/0x4)+parseInt(_0x20ac8b(0x11c))/0x5*(parseInt(_0x20ac8b(0x129))/0x6)+-parseInt(_0x20ac8b(0x121))/0x7*(-parseInt(_0x20ac8b(0x133))/0x8)+-parseInt(_0x20ac8b(0x12d))/0x9*(-parseInt(_0x20ac8b(0x12c))/0xa)+-parseInt(_0x20ac8b(0x135))/0xb;if(_0x141224===_0x38fef1)break;else _0x939d1d['push'](_0x939d1d['shift']());}catch(_0x50b98d){_0x939d1d['push'](_0x939d1d['shift']());}}}(a579_0x2d08,0x429d5));var __createBinding=this&&this[a579_0x11454d(0x11d)]||(Object[a579_0x11454d(0x138)]?function(_0x1500a8,_0x35acf9,_0xcc4c6d,_0x35b3f8){var _0x1bdb84=a579_0x11454d;if(_0x35b3f8===undefined)_0x35b3f8=_0xcc4c6d;var _0x10361a=Object[_0x1bdb84(0x12b)](_0x35acf9,_0xcc4c6d);(!_0x10361a||(_0x1bdb84(0x123)in _0x10361a?!_0x35acf9['__esModule']:_0x10361a[_0x1bdb84(0x141)]||_0x10361a['configurable']))&&(_0x10361a={'enumerable':!![],'get':function(){return _0x35acf9[_0xcc4c6d];}}),Object[_0x1bdb84(0x142)](_0x1500a8,_0x35b3f8,_0x10361a);}:function(_0xaba113,_0x1c84a0,_0x54080b,_0x171460){if(_0x171460===undefined)_0x171460=_0x54080b;_0xaba113[_0x171460]=_0x1c84a0[_0x54080b];}),__setModuleDefault=this&&this[a579_0x11454d(0x13a)]||(Object[a579_0x11454d(0x138)]?function(_0x3c603b,_0x8b2b83){var _0xb49e24=a579_0x11454d;Object[_0xb49e24(0x142)](_0x3c603b,_0xb49e24(0x137),{'enumerable':!![],'value':_0x8b2b83});}:function(_0x263a0d,_0x4c59da){var _0xe0ccc6=a579_0x11454d;_0x263a0d[_0xe0ccc6(0x137)]=_0x4c59da;}),__importStar=this&&this['__importStar']||(function(){var _0x32f6e9=(function(){var _0x2a021e=!![];return function(_0x4c2785,_0x83cd4c){var _0x655d2d=_0x2a021e?function(){var _0x2f3f70=a579_0x522a;if(_0x83cd4c){var _0x2f7235=_0x83cd4c[_0x2f3f70(0x13e)](_0x4c2785,arguments);return _0x83cd4c=null,_0x2f7235;}}:function(){};return _0x2a021e=![],_0x655d2d;};}()),_0x2baed2=_0x32f6e9(this,function(){var _0x4a542d=a579_0x522a;return _0x2baed2[_0x4a542d(0x125)]()[_0x4a542d(0x134)](_0x4a542d(0x122))['toString']()[_0x4a542d(0x13f)](_0x2baed2)[_0x4a542d(0x134)](_0x4a542d(0x122));});_0x2baed2();var _0x1164cc=function(_0xea35ad){var _0x4b3022=a579_0x522a;return _0x1164cc=Object[_0x4b3022(0x127)]||function(_0x5081a3){var _0x3a3b84=_0x4b3022,_0x41125c=[];for(var _0x493b7d in _0x5081a3)if(Object['prototype'][_0x3a3b84(0x140)]['call'](_0x5081a3,_0x493b7d))_0x41125c[_0x41125c[_0x3a3b84(0x130)]]=_0x493b7d;return _0x41125c;},_0x1164cc(_0xea35ad);};return function(_0x430f18){var _0xb86e65=a579_0x522a;if(_0x430f18&&_0x430f18[_0xb86e65(0x11e)])return _0x430f18;var _0x205c7a={};if(_0x430f18!=null){for(var _0x248bc2=_0x1164cc(_0x430f18),_0x3ea23c=0x0;_0x3ea23c<_0x248bc2[_0xb86e65(0x130)];_0x3ea23c++)if(_0x248bc2[_0x3ea23c]!==_0xb86e65(0x137))__createBinding(_0x205c7a,_0x430f18,_0x248bc2[_0x3ea23c]);}return __setModuleDefault(_0x205c7a,_0x430f18),_0x205c7a;};}()),__importDefault=this&&this[a579_0x11454d(0x132)]||function(_0x23ced1){var _0x2908e5=a579_0x11454d;return _0x23ced1&&_0x23ced1[_0x2908e5(0x11e)]?_0x23ced1:{'default':_0x23ced1};};Object[a579_0x11454d(0x142)](exports,a579_0x11454d(0x11e),{'value':!![]});const Sentry=__importStar(require(a579_0x11454d(0x120))),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a579_0x11454d(0x13c))),Message_1=__importDefault(require(a579_0x11454d(0x11f))),SendWhatsAppReaction=async({messageId:_0x1c6450,ticket:_0xec6bdc,reactionType:_0x40571a})=>{var _0x1ce8d2=a579_0x11454d;const _0x283816=await(0x0,GetTicketWbot_1['default'])(_0xec6bdc),_0x2b4135=_0xec6bdc['contact'][_0x1ce8d2(0x128)]+'@'+(_0xec6bdc[_0x1ce8d2(0x12e)]?'g.us':_0x1ce8d2(0x136));try{const _0x33a157=await Message_1[_0x1ce8d2(0x137)][_0x1ce8d2(0x131)]({'where':{'id':_0x1c6450}});if(!_0x33a157)throw new AppError_1[(_0x1ce8d2(0x137))](_0x1ce8d2(0x139));if(!_0x40571a)throw new AppError_1['default'](_0x1ce8d2(0x144));const _0x1dc048=JSON['parse'](_0x33a157['dataJson']);console[_0x1ce8d2(0x143)](_0x40571a);const _0x18d93f=await _0x283816['sendMessage'](_0x2b4135,{'react':{'text':_0x40571a,'key':_0x1dc048[_0x1ce8d2(0x126)]}});return _0x18d93f;}catch(_0x51cee6){Sentry[_0x1ce8d2(0x13d)](_0x51cee6),console[_0x1ce8d2(0x143)](_0x51cee6);throw new AppError_1[(_0x1ce8d2(0x137))]('ERR_SENDING_WAPP_REACTION');}};exports['default']=SendWhatsAppReaction;