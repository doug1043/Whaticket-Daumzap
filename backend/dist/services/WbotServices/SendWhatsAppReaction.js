'use strict';function a580_0x13ba(_0xf87d77,_0x5ef488){var _0x51360a=a580_0x55a0();return a580_0x13ba=function(_0x4da5ac,_0x56bb0e){_0x4da5ac=_0x4da5ac-0x1c2;var _0x55a03c=_0x51360a[_0x4da5ac];return _0x55a03c;},a580_0x13ba(_0xf87d77,_0x5ef488);}var a580_0x5748be=a580_0x13ba;function a580_0x55a0(){var _0x5b25d9=['toString','parse','__esModule','__setModuleDefault','sendMessage','key','380452MLKvoF','search','../../helpers/GetTicketWbot','constructor','8959074pdsIgx','getOwnPropertyNames','isGroup','writable','25rHAdme','dataJson','getOwnPropertyDescriptor','14479308ZiEtgt','findOne','1113024TIbCkk','apply','configurable','g.us','ERR_SENDING_WAPP_REACTION','2bjWEBg','__importDefault','create','(((.+)+)+)+$','length','prototype','hasOwnProperty','ReactionType\x20not\x20found','s.whatsapp.net','__createBinding','__importStar','default','number','468777ORVgkf','1217048pcjGFK','defineProperty','1655076JPbCzj','@sentry/node','log'];a580_0x55a0=function(){return _0x5b25d9;};return a580_0x55a0();}(function(_0x2a6323,_0xdaaf67){var _0x54d2a4=a580_0x13ba,_0x1146c0=_0x2a6323();while(!![]){try{var _0x193b48=-parseInt(_0x54d2a4(0x1df))/0x1+-parseInt(_0x54d2a4(0x1cf))/0x2*(parseInt(_0x54d2a4(0x1dc))/0x3)+-parseInt(_0x54d2a4(0x1e8))/0x4*(parseInt(_0x54d2a4(0x1c5))/0x5)+parseInt(_0x54d2a4(0x1ec))/0x6+parseInt(_0x54d2a4(0x1dd))/0x7+-parseInt(_0x54d2a4(0x1ca))/0x8+parseInt(_0x54d2a4(0x1c8))/0x9;if(_0x193b48===_0xdaaf67)break;else _0x1146c0['push'](_0x1146c0['shift']());}catch(_0x4027c6){_0x1146c0['push'](_0x1146c0['shift']());}}}(a580_0x55a0,0xcf7a3));var __createBinding=this&&this[a580_0x5748be(0x1d8)]||(Object[a580_0x5748be(0x1d1)]?function(_0x4d0163,_0x4b5a4a,_0xcd35a9,_0x23d2ae){var _0x5da2ed=a580_0x5748be;if(_0x23d2ae===undefined)_0x23d2ae=_0xcd35a9;var _0x36192b=Object[_0x5da2ed(0x1c7)](_0x4b5a4a,_0xcd35a9);(!_0x36192b||('get'in _0x36192b?!_0x4b5a4a['__esModule']:_0x36192b[_0x5da2ed(0x1c4)]||_0x36192b[_0x5da2ed(0x1cc)]))&&(_0x36192b={'enumerable':!![],'get':function(){return _0x4b5a4a[_0xcd35a9];}}),Object[_0x5da2ed(0x1de)](_0x4d0163,_0x23d2ae,_0x36192b);}:function(_0x10b791,_0x4206fd,_0x4614d6,_0x52bff7){if(_0x52bff7===undefined)_0x52bff7=_0x4614d6;_0x10b791[_0x52bff7]=_0x4206fd[_0x4614d6];}),__setModuleDefault=this&&this[a580_0x5748be(0x1e5)]||(Object['create']?function(_0x41293f,_0x1aa667){var _0x478461=a580_0x5748be;Object[_0x478461(0x1de)](_0x41293f,_0x478461(0x1da),{'enumerable':!![],'value':_0x1aa667});}:function(_0x3f27c1,_0xbfa262){var _0x5fe295=a580_0x5748be;_0x3f27c1[_0x5fe295(0x1da)]=_0xbfa262;}),__importStar=this&&this[a580_0x5748be(0x1d9)]||(function(){var _0x341ba6=(function(){var _0x4a64e9=!![];return function(_0x381630,_0x1c4781){var _0xf8b271=_0x4a64e9?function(){var _0x553ed2=a580_0x13ba;if(_0x1c4781){var _0x9de5b1=_0x1c4781[_0x553ed2(0x1cb)](_0x381630,arguments);return _0x1c4781=null,_0x9de5b1;}}:function(){};return _0x4a64e9=![],_0xf8b271;};}()),_0x42da3a=_0x341ba6(this,function(){var _0xc9699a=a580_0x13ba;return _0x42da3a[_0xc9699a(0x1e2)]()['search']('(((.+)+)+)+$')[_0xc9699a(0x1e2)]()[_0xc9699a(0x1eb)](_0x42da3a)[_0xc9699a(0x1e9)](_0xc9699a(0x1d2));});_0x42da3a();var _0xece2e=function(_0x4e092d){var _0x20d730=a580_0x13ba;return _0xece2e=Object[_0x20d730(0x1c2)]||function(_0x4b6011){var _0x51ea5a=_0x20d730,_0x467c7d=[];for(var _0x58a64e in _0x4b6011)if(Object[_0x51ea5a(0x1d4)][_0x51ea5a(0x1d5)]['call'](_0x4b6011,_0x58a64e))_0x467c7d[_0x467c7d[_0x51ea5a(0x1d3)]]=_0x58a64e;return _0x467c7d;},_0xece2e(_0x4e092d);};return function(_0x594df1){var _0x33a40a=a580_0x13ba;if(_0x594df1&&_0x594df1[_0x33a40a(0x1e4)])return _0x594df1;var _0x4b1cf9={};if(_0x594df1!=null){for(var _0x85f0a7=_0xece2e(_0x594df1),_0x2fccfb=0x0;_0x2fccfb<_0x85f0a7['length'];_0x2fccfb++)if(_0x85f0a7[_0x2fccfb]!==_0x33a40a(0x1da))__createBinding(_0x4b1cf9,_0x594df1,_0x85f0a7[_0x2fccfb]);}return __setModuleDefault(_0x4b1cf9,_0x594df1),_0x4b1cf9;};}()),__importDefault=this&&this[a580_0x5748be(0x1d0)]||function(_0x407212){var _0x30d6f6=a580_0x5748be;return _0x407212&&_0x407212[_0x30d6f6(0x1e4)]?_0x407212:{'default':_0x407212};};Object[a580_0x5748be(0x1de)](exports,a580_0x5748be(0x1e4),{'value':!![]});const Sentry=__importStar(require(a580_0x5748be(0x1e0))),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a580_0x5748be(0x1ea))),Message_1=__importDefault(require('../../models/Message')),SendWhatsAppReaction=async({messageId:_0x1ed57b,ticket:_0x560307,reactionType:_0x2f6445})=>{var _0x2b8c11=a580_0x5748be;const _0x2c9d35=await(0x0,GetTicketWbot_1['default'])(_0x560307),_0x529def=_0x560307['contact'][_0x2b8c11(0x1db)]+'@'+(_0x560307[_0x2b8c11(0x1c3)]?_0x2b8c11(0x1cd):_0x2b8c11(0x1d7));try{const _0x735753=await Message_1['default'][_0x2b8c11(0x1c9)]({'where':{'id':_0x1ed57b}});if(!_0x735753)throw new AppError_1['default']('Message\x20not\x20found');if(!_0x2f6445)throw new AppError_1[(_0x2b8c11(0x1da))](_0x2b8c11(0x1d6));const _0x2a25a7=JSON[_0x2b8c11(0x1e3)](_0x735753[_0x2b8c11(0x1c6)]);console[_0x2b8c11(0x1e1)](_0x2f6445);const _0x55281f=await _0x2c9d35[_0x2b8c11(0x1e6)](_0x529def,{'react':{'text':_0x2f6445,'key':_0x2a25a7[_0x2b8c11(0x1e7)]}});return _0x55281f;}catch(_0x5d4381){Sentry['captureException'](_0x5d4381),console['log'](_0x5d4381);throw new AppError_1[(_0x2b8c11(0x1da))](_0x2b8c11(0x1ce));}};exports[a580_0x5748be(0x1da)]=SendWhatsAppReaction;