'use strict';var a580_0x1004c1=a580_0x1c3d;function a580_0x43ba(){var _0x1bbbae=['1258795PoVHxK','1343148DIATXp','Message\x20not\x20found','apply','__importStar','number','1402302QXUfNm','60VfkVqx','(((.+)+)+)+$','../../models/Message','getOwnPropertyDescriptor','__esModule','__importDefault','1799235pOFfBK','log','__createBinding','writable','../../helpers/GetTicketWbot','99069EWRrFT','key','hasOwnProperty','72FBxAMW','prototype','length','sendMessage','ERR_SENDING_WAPP_REACTION','search','call','s.whatsapp.net','create','72198YPAKBY','findOne','toString','44OGpMEN','g.us','configurable','../../errors/AppError','530551wJFwRw','isGroup','default','ReactionType\x20not\x20found','defineProperty'];a580_0x43ba=function(){return _0x1bbbae;};return a580_0x43ba();}function a580_0x1c3d(_0x5d6938,_0x1e8908){var _0x4ca467=a580_0x43ba();return a580_0x1c3d=function(_0x5dffbd,_0x5d4cbf){_0x5dffbd=_0x5dffbd-0xa2;var _0x43ba7c=_0x4ca467[_0x5dffbd];return _0x43ba7c;},a580_0x1c3d(_0x5d6938,_0x1e8908);}(function(_0x4b1669,_0x3da70e){var _0x49799f=a580_0x1c3d,_0x32b9e0=_0x4b1669();while(!![]){try{var _0x561b34=parseInt(_0x49799f(0xb3))/0x1+-parseInt(_0x49799f(0xc5))/0x2+-parseInt(_0x49799f(0xa7))/0x3*(parseInt(_0x49799f(0xb6))/0x4)+-parseInt(_0x49799f(0xbf))/0x5+-parseInt(_0x49799f(0xc0))/0x6+-parseInt(_0x49799f(0xba))/0x7*(-parseInt(_0x49799f(0xaa))/0x8)+parseInt(_0x49799f(0xa2))/0x9*(parseInt(_0x49799f(0xc6))/0xa);if(_0x561b34===_0x3da70e)break;else _0x32b9e0['push'](_0x32b9e0['shift']());}catch(_0xcc8bf1){_0x32b9e0['push'](_0x32b9e0['shift']());}}}(a580_0x43ba,0x6506c));var __createBinding=this&&this[a580_0x1004c1(0xa4)]||(Object['create']?function(_0x42494e,_0x4cdc88,_0x544e51,_0x137a2a){var _0x4ca98e=a580_0x1004c1;if(_0x137a2a===undefined)_0x137a2a=_0x544e51;var _0x24336f=Object[_0x4ca98e(0xc9)](_0x4cdc88,_0x544e51);(!_0x24336f||('get'in _0x24336f?!_0x4cdc88[_0x4ca98e(0xca)]:_0x24336f[_0x4ca98e(0xa5)]||_0x24336f[_0x4ca98e(0xb8)]))&&(_0x24336f={'enumerable':!![],'get':function(){return _0x4cdc88[_0x544e51];}}),Object[_0x4ca98e(0xbe)](_0x42494e,_0x137a2a,_0x24336f);}:function(_0x2f5bb3,_0x4ab6e0,_0x3815d3,_0xd06659){if(_0xd06659===undefined)_0xd06659=_0x3815d3;_0x2f5bb3[_0xd06659]=_0x4ab6e0[_0x3815d3];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a580_0x1004c1(0xb2)]?function(_0x786256,_0x55922d){var _0x45dc78=a580_0x1004c1;Object[_0x45dc78(0xbe)](_0x786256,_0x45dc78(0xbc),{'enumerable':!![],'value':_0x55922d});}:function(_0xdd7b7,_0x5bc714){_0xdd7b7['default']=_0x5bc714;}),__importStar=this&&this[a580_0x1004c1(0xc3)]||(function(){var _0x59be35=(function(){var _0xc5fe4e=!![];return function(_0x511331,_0x5d9df5){var _0x374ccb=_0xc5fe4e?function(){var _0x15f446=a580_0x1c3d;if(_0x5d9df5){var _0x1ff22d=_0x5d9df5[_0x15f446(0xc2)](_0x511331,arguments);return _0x5d9df5=null,_0x1ff22d;}}:function(){};return _0xc5fe4e=![],_0x374ccb;};}()),_0x25d96d=_0x59be35(this,function(){var _0x5aa13b=a580_0x1c3d;return _0x25d96d['toString']()[_0x5aa13b(0xaf)](_0x5aa13b(0xc7))[_0x5aa13b(0xb5)]()['constructor'](_0x25d96d)[_0x5aa13b(0xaf)]('(((.+)+)+)+$');});_0x25d96d();var _0x1bc561=function(_0x28f757){return _0x1bc561=Object['getOwnPropertyNames']||function(_0x409804){var _0x522ca0=a580_0x1c3d,_0x266815=[];for(var _0x3b2f9f in _0x409804)if(Object[_0x522ca0(0xab)][_0x522ca0(0xa9)][_0x522ca0(0xb0)](_0x409804,_0x3b2f9f))_0x266815[_0x266815[_0x522ca0(0xac)]]=_0x3b2f9f;return _0x266815;},_0x1bc561(_0x28f757);};return function(_0x47ae8c){var _0x2b380d=a580_0x1c3d;if(_0x47ae8c&&_0x47ae8c[_0x2b380d(0xca)])return _0x47ae8c;var _0x56d3f6={};if(_0x47ae8c!=null){for(var _0x8bd5e2=_0x1bc561(_0x47ae8c),_0x119d72=0x0;_0x119d72<_0x8bd5e2[_0x2b380d(0xac)];_0x119d72++)if(_0x8bd5e2[_0x119d72]!=='default')__createBinding(_0x56d3f6,_0x47ae8c,_0x8bd5e2[_0x119d72]);}return __setModuleDefault(_0x56d3f6,_0x47ae8c),_0x56d3f6;};}()),__importDefault=this&&this[a580_0x1004c1(0xcb)]||function(_0x48daba){var _0x542e1f=a580_0x1004c1;return _0x48daba&&_0x48daba[_0x542e1f(0xca)]?_0x48daba:{'default':_0x48daba};};Object[a580_0x1004c1(0xbe)](exports,a580_0x1004c1(0xca),{'value':!![]});const Sentry=__importStar(require('@sentry/node')),AppError_1=__importDefault(require(a580_0x1004c1(0xb9))),GetTicketWbot_1=__importDefault(require(a580_0x1004c1(0xa6))),Message_1=__importDefault(require(a580_0x1004c1(0xc8))),SendWhatsAppReaction=async({messageId:_0x468e72,ticket:_0x3ec252,reactionType:_0x3b1069})=>{var _0x34dea8=a580_0x1004c1;const _0x40749a=await(0x0,GetTicketWbot_1[_0x34dea8(0xbc)])(_0x3ec252),_0x2e4399=_0x3ec252['contact'][_0x34dea8(0xc4)]+'@'+(_0x3ec252[_0x34dea8(0xbb)]?_0x34dea8(0xb7):_0x34dea8(0xb1));try{const _0x18c632=await Message_1[_0x34dea8(0xbc)][_0x34dea8(0xb4)]({'where':{'id':_0x468e72}});if(!_0x18c632)throw new AppError_1[(_0x34dea8(0xbc))](_0x34dea8(0xc1));if(!_0x3b1069)throw new AppError_1['default'](_0x34dea8(0xbd));const _0x3f4aa1=JSON['parse'](_0x18c632['dataJson']);console[_0x34dea8(0xa3)](_0x3b1069);const _0x19d37b=await _0x40749a[_0x34dea8(0xad)](_0x2e4399,{'react':{'text':_0x3b1069,'key':_0x3f4aa1[_0x34dea8(0xa8)]}});return _0x19d37b;}catch(_0x3dc9f3){Sentry['captureException'](_0x3dc9f3),console['log'](_0x3dc9f3);throw new AppError_1['default'](_0x34dea8(0xae));}};exports[a580_0x1004c1(0xbc)]=SendWhatsAppReaction;