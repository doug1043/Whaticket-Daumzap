'use strict';function a509_0x4c50(_0xca28b6,_0x16fc80){const _0x5867dc=a509_0x1e7b();return a509_0x4c50=function(_0x567b80,_0x1302e3){_0x567b80=_0x567b80-0x19d;let _0x1e7b08=_0x5867dc[_0x567b80];return _0x1e7b08;},a509_0x4c50(_0xca28b6,_0x16fc80);}function a509_0x1e7b(){const _0x3038f1=['object','default','shape','__importDefault','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','../../models/Queue','7401825muDBhZ','length','ERR_QUEUE_NAME_ALREADY_EXISTS','__esModule','writable','3cxjRXC','hasOwnProperty','Check-color','ERR_QUEUE_COLOR_ALREADY_EXISTS','defineProperty','(((.+)+)+)+$','608dvYExv','3207598RbVYKd','204993lmRHAW','./ShowQueueService','1ZCpZeo','min','create','1863636xYaLiz','sequelize','search','string','apply','78218210PSZbvq','findOne','validate','call','ERR_QUEUE_INVALID_COLOR','__createBinding','required','__setModuleDefault','4570108GPriOG','constructor','update','Check-unique-name','toString','ERR_QUEUE_INVALID_NAME','test','../../errors/AppError','getOwnPropertyNames','get','prototype','4239830oOrgZA'];a509_0x1e7b=function(){return _0x3038f1;};return a509_0x1e7b();}const a509_0x518d2d=a509_0x4c50;(function(_0x4f4737,_0x1b2b29){const _0x1887de=a509_0x4c50,_0x287966=_0x4f4737();while(!![]){try{const _0x3d18a9=-parseInt(_0x1887de(0x1c2))/0x1*(parseInt(_0x1887de(0x1bf))/0x2)+-parseInt(_0x1887de(0x1b8))/0x3*(parseInt(_0x1887de(0x1a1))/0x4)+-parseInt(_0x1887de(0x1b3))/0x5+-parseInt(_0x1887de(0x1c5))/0x6+-parseInt(_0x1887de(0x1ac))/0x7+-parseInt(_0x1887de(0x1be))/0x8*(parseInt(_0x1887de(0x1c0))/0x9)+parseInt(_0x1887de(0x1ca))/0xa;if(_0x3d18a9===_0x1b2b29)break;else _0x287966['push'](_0x287966['shift']());}catch(_0x437abe){_0x287966['push'](_0x287966['shift']());}}}(a509_0x1e7b,0xe7646));var __createBinding=this&&this[a509_0x518d2d(0x19e)]||(Object[a509_0x518d2d(0x1c4)]?function(_0x2931c3,_0x49b963,_0x270f2e,_0x2268d7){const _0x2c4b5c=a509_0x518d2d;if(_0x2268d7===undefined)_0x2268d7=_0x270f2e;var _0x4477c7=Object['getOwnPropertyDescriptor'](_0x49b963,_0x270f2e);(!_0x4477c7||(_0x2c4b5c(0x1aa)in _0x4477c7?!_0x49b963['__esModule']:_0x4477c7[_0x2c4b5c(0x1b7)]||_0x4477c7['configurable']))&&(_0x4477c7={'enumerable':!![],'get':function(){return _0x49b963[_0x270f2e];}}),Object['defineProperty'](_0x2931c3,_0x2268d7,_0x4477c7);}:function(_0x2c52f1,_0x4797f5,_0x330b42,_0x5b03ed){if(_0x5b03ed===undefined)_0x5b03ed=_0x330b42;_0x2c52f1[_0x5b03ed]=_0x4797f5[_0x330b42];}),__setModuleDefault=this&&this[a509_0x518d2d(0x1a0)]||(Object[a509_0x518d2d(0x1c4)]?function(_0x1de2cd,_0x5e2ca5){const _0x546f87=a509_0x518d2d;Object['defineProperty'](_0x1de2cd,_0x546f87(0x1ae),{'enumerable':!![],'value':_0x5e2ca5});}:function(_0x3dce14,_0x3c6127){const _0x3f79b4=a509_0x518d2d;_0x3dce14[_0x3f79b4(0x1ae)]=_0x3c6127;}),__importStar=this&&this['__importStar']||(function(){const _0x5becd5=(function(){let _0x2d7362=!![];return function(_0x120ed2,_0x23dfd9){const _0x4cf04e=_0x2d7362?function(){const _0x2bb368=a509_0x4c50;if(_0x23dfd9){const _0x58c4a8=_0x23dfd9[_0x2bb368(0x1c9)](_0x120ed2,arguments);return _0x23dfd9=null,_0x58c4a8;}}:function(){};return _0x2d7362=![],_0x4cf04e;};}()),_0x23a72f=_0x5becd5(this,function(){const _0x38d881=a509_0x4c50;return _0x23a72f[_0x38d881(0x1a5)]()[_0x38d881(0x1c7)](_0x38d881(0x1bd))[_0x38d881(0x1a5)]()[_0x38d881(0x1a2)](_0x23a72f)[_0x38d881(0x1c7)](_0x38d881(0x1bd));});_0x23a72f();var _0x4d874e=function(_0x1ee39b){const _0x438979=a509_0x4c50;return _0x4d874e=Object[_0x438979(0x1a9)]||function(_0x472c9c){const _0x37e1ef=_0x438979;var _0x19635d=[];for(var _0x4446ca in _0x472c9c)if(Object[_0x37e1ef(0x1ab)][_0x37e1ef(0x1b9)][_0x37e1ef(0x1cd)](_0x472c9c,_0x4446ca))_0x19635d[_0x19635d[_0x37e1ef(0x1b4)]]=_0x4446ca;return _0x19635d;},_0x4d874e(_0x1ee39b);};return function(_0x548fb8){const _0x5ca58e=a509_0x4c50;if(_0x548fb8&&_0x548fb8['__esModule'])return _0x548fb8;var _0x521f12={};if(_0x548fb8!=null){for(var _0x21907e=_0x4d874e(_0x548fb8),_0x1dedb2=0x0;_0x1dedb2<_0x21907e[_0x5ca58e(0x1b4)];_0x1dedb2++)if(_0x21907e[_0x1dedb2]!==_0x5ca58e(0x1ae))__createBinding(_0x521f12,_0x548fb8,_0x21907e[_0x1dedb2]);}return __setModuleDefault(_0x521f12,_0x548fb8),_0x521f12;};}()),__importDefault=this&&this[a509_0x518d2d(0x1b0)]||function(_0x29cb7d){return _0x29cb7d&&_0x29cb7d['__esModule']?_0x29cb7d:{'default':_0x29cb7d};};Object[a509_0x518d2d(0x1bc)](exports,a509_0x518d2d(0x1b6),{'value':!![]});const sequelize_1=require(a509_0x518d2d(0x1c6)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a509_0x518d2d(0x1a8))),Queue_1=__importDefault(require(a509_0x518d2d(0x1b2))),ShowQueueService_1=__importDefault(require(a509_0x518d2d(0x1c1))),UpdateQueueService=async(_0x4ec5d6,_0x1dddad,_0x42878a)=>{const _0x5510d5=a509_0x518d2d,{color:_0x1dc1d5,name:_0x32e128}=_0x1dddad,_0x2b99e1=Yup[_0x5510d5(0x1ad)]()[_0x5510d5(0x1af)]({'name':Yup['string']()[_0x5510d5(0x1c3)](0x2,_0x5510d5(0x1a6))[_0x5510d5(0x1a7)](_0x5510d5(0x1a4),_0x5510d5(0x1b5),async _0x726c0a=>{const _0x34551b=_0x5510d5;if(_0x726c0a){const _0x2dd479=await Queue_1[_0x34551b(0x1ae)][_0x34551b(0x1cb)]({'where':{'name':_0x726c0a,'id':{[sequelize_1['Op']['ne']]:_0x4ec5d6},'companyId':_0x42878a}});return!_0x2dd479;}return!![];}),'color':Yup[_0x5510d5(0x1c8)]()[_0x5510d5(0x19f)]('ERR_QUEUE_INVALID_COLOR')[_0x5510d5(0x1a7)](_0x5510d5(0x1ba),_0x5510d5(0x19d),async _0x329209=>{const _0x3fcaa1=_0x5510d5;if(_0x329209){const _0x20e3f3=/^#[0-9a-f]{3,6}$/i;return _0x20e3f3[_0x3fcaa1(0x1a7)](_0x329209);}return!![];})[_0x5510d5(0x1a7)]('Check-color-exists',_0x5510d5(0x1bb),async _0x36e96e=>{const _0x458509=_0x5510d5;if(_0x36e96e){const _0x2d9453=await Queue_1[_0x458509(0x1ae)][_0x458509(0x1cb)]({'where':{'color':_0x36e96e,'id':{[sequelize_1['Op']['ne']]:_0x4ec5d6},'companyId':_0x42878a}});return!_0x2d9453;}return!![];})});try{await _0x2b99e1[_0x5510d5(0x1cc)]({'color':_0x1dc1d5,'name':_0x32e128});}catch(_0x19662e){throw new AppError_1['default'](_0x19662e['message']);}const _0xe67243=await(0x0,ShowQueueService_1[_0x5510d5(0x1ae)])(_0x4ec5d6,_0x42878a);if(_0xe67243['companyId']!==_0x42878a)throw new AppError_1[(_0x5510d5(0x1ae))](_0x5510d5(0x1b1));return await _0xe67243[_0x5510d5(0x1a3)](_0x1dddad),_0xe67243;};exports[a509_0x518d2d(0x1ae)]=UpdateQueueService;