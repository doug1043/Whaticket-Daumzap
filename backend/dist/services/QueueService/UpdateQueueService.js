const a482_0x4608f2=a482_0x27cb;(function(_0x2ec1ce,_0x3ed21c){const _0x3d0956=a482_0x27cb,_0x2b3542=_0x2ec1ce();while(!![]){try{const _0x57923d=parseInt(_0x3d0956(0x145))/0x1*(parseInt(_0x3d0956(0x148))/0x2)+parseInt(_0x3d0956(0x12f))/0x3+parseInt(_0x3d0956(0x139))/0x4*(parseInt(_0x3d0956(0x14e))/0x5)+parseInt(_0x3d0956(0x144))/0x6+-parseInt(_0x3d0956(0x12a))/0x7+parseInt(_0x3d0956(0x133))/0x8+-parseInt(_0x3d0956(0x131))/0x9;if(_0x57923d===_0x3ed21c)break;else _0x2b3542['push'](_0x2b3542['shift']());}catch(_0x48a414){_0x2b3542['push'](_0x2b3542['shift']());}}}(a482_0x1e4a,0x4ec8a));const a482_0x28e812=(function(){let _0xad45d1=!![];return function(_0x3dab46,_0x5748a1){const _0x32d702=_0xad45d1?function(){const _0x536209=a482_0x27cb;if(_0x5748a1){const _0x111262=_0x5748a1[_0x536209(0x129)](_0x3dab46,arguments);return _0x5748a1=null,_0x111262;}}:function(){};return _0xad45d1=![],_0x32d702;};}()),a482_0x5965e9=a482_0x28e812(this,function(){const _0x1caf30=a482_0x27cb;return a482_0x5965e9['toString']()['search'](_0x1caf30(0x13f))[_0x1caf30(0x132)]()['constructor'](a482_0x5965e9)['search'](_0x1caf30(0x13f));});a482_0x5965e9();'use strict';var __createBinding=this&&this[a482_0x4608f2(0x146)]||(Object[a482_0x4608f2(0x14f)]?function(_0xd76cda,_0x14867a,_0x188b78,_0x520d24){const _0x138097=a482_0x4608f2;if(_0x520d24===undefined)_0x520d24=_0x188b78;var _0x259f4d=Object['getOwnPropertyDescriptor'](_0x14867a,_0x188b78);(!_0x259f4d||(_0x138097(0x14a)in _0x259f4d?!_0x14867a[_0x138097(0x13c)]:_0x259f4d[_0x138097(0x130)]||_0x259f4d['configurable']))&&(_0x259f4d={'enumerable':!![],'get':function(){return _0x14867a[_0x188b78];}}),Object['defineProperty'](_0xd76cda,_0x520d24,_0x259f4d);}:function(_0x1a7940,_0x231e15,_0x201e7f,_0x1db02a){if(_0x1db02a===undefined)_0x1db02a=_0x201e7f;_0x1a7940[_0x1db02a]=_0x231e15[_0x201e7f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x421d05,_0x3c74b3){const _0x3c72a9=a482_0x4608f2;Object[_0x3c72a9(0x137)](_0x421d05,_0x3c72a9(0x13a),{'enumerable':!![],'value':_0x3c74b3});}:function(_0x557ac7,_0x5c787b){const _0x42fb0a=a482_0x4608f2;_0x557ac7[_0x42fb0a(0x13a)]=_0x5c787b;}),__importStar=this&&this[a482_0x4608f2(0x140)]||function(_0x33d79c){const _0x9ad973=a482_0x4608f2;if(_0x33d79c&&_0x33d79c[_0x9ad973(0x13c)])return _0x33d79c;var _0x2e34ff={};if(_0x33d79c!=null){for(var _0x155629 in _0x33d79c)if(_0x155629!==_0x9ad973(0x13a)&&Object['prototype'][_0x9ad973(0x127)][_0x9ad973(0x12c)](_0x33d79c,_0x155629))__createBinding(_0x2e34ff,_0x33d79c,_0x155629);}return __setModuleDefault(_0x2e34ff,_0x33d79c),_0x2e34ff;},__importDefault=this&&this[a482_0x4608f2(0x14b)]||function(_0x4e2588){const _0x4f5959=a482_0x4608f2;return _0x4e2588&&_0x4e2588[_0x4f5959(0x13c)]?_0x4e2588:{'default':_0x4e2588};};function a482_0x27cb(_0x117859,_0x473834){const _0x1aca47=a482_0x1e4a();return a482_0x27cb=function(_0x5965e9,_0x28e812){_0x5965e9=_0x5965e9-0x126;let _0x1e4aa4=_0x1aca47[_0x5965e9];return _0x1e4aa4;},a482_0x27cb(_0x117859,_0x473834);}Object[a482_0x4608f2(0x137)](exports,a482_0x4608f2(0x13c),{'value':!![]});const sequelize_1=require(a482_0x4608f2(0x12e)),Yup=__importStar(require(a482_0x4608f2(0x12d))),AppError_1=__importDefault(require(a482_0x4608f2(0x143))),Queue_1=__importDefault(require(a482_0x4608f2(0x126))),ShowQueueService_1=__importDefault(require(a482_0x4608f2(0x136))),UpdateQueueService=async(_0xf76062,_0x5cda5f,_0x2710a6)=>{const _0x1ce22b=a482_0x4608f2,{color:_0x5b1fa4,name:_0x1002b0}=_0x5cda5f,_0x23fcb7=Yup[_0x1ce22b(0x134)]()['shape']({'name':Yup['string']()[_0x1ce22b(0x13b)](0x2,_0x1ce22b(0x13d))[_0x1ce22b(0x135)](_0x1ce22b(0x150),_0x1ce22b(0x141),async _0x543cb6=>{const _0x5af976=_0x1ce22b;if(_0x543cb6){const _0x1178e8=await Queue_1['default'][_0x5af976(0x151)]({'where':{'name':_0x543cb6,'id':{[sequelize_1['Op']['ne']]:_0xf76062},'companyId':_0x2710a6}});return!_0x1178e8;}return!![];}),'color':Yup[_0x1ce22b(0x14c)]()[_0x1ce22b(0x142)](_0x1ce22b(0x12b))[_0x1ce22b(0x135)](_0x1ce22b(0x13e),_0x1ce22b(0x12b),async _0x505f0f=>{const _0x51c3b6=_0x1ce22b;if(_0x505f0f){const _0x388020=/^#[0-9a-f]{3,6}$/i;return _0x388020[_0x51c3b6(0x135)](_0x505f0f);}return!![];})['test'](_0x1ce22b(0x149),_0x1ce22b(0x147),async _0x28a782=>{const _0x5ccd62=_0x1ce22b;if(_0x28a782){const _0x31dcff=await Queue_1['default'][_0x5ccd62(0x151)]({'where':{'color':_0x28a782,'id':{[sequelize_1['Op']['ne']]:_0xf76062},'companyId':_0x2710a6}});return!_0x31dcff;}return!![];})});try{await _0x23fcb7[_0x1ce22b(0x128)]({'color':_0x5b1fa4,'name':_0x1002b0});}catch(_0x5a4a5a){throw new AppError_1[(_0x1ce22b(0x13a))](_0x5a4a5a[_0x1ce22b(0x138)]);}const _0x1b12f8=await(0x0,ShowQueueService_1[_0x1ce22b(0x13a)])(_0xf76062,_0x2710a6);if(_0x1b12f8['companyId']!==_0x2710a6)throw new AppError_1['default']('Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa');return await _0x1b12f8[_0x1ce22b(0x14d)](_0x5cda5f),_0x1b12f8;};function a482_0x1e4a(){const _0x350f3b=['617135rHAVZU','create','Check-unique-name','findOne','../../models/Queue','hasOwnProperty','validate','apply','3632174MxtZMG','ERR_QUEUE_INVALID_COLOR','call','yup','sequelize','1211436PcabEo','writable','10075743Qwhqid','toString','4268080mCNzGt','object','test','./ShowQueueService','defineProperty','message','12LUMduj','default','min','__esModule','ERR_QUEUE_INVALID_NAME','Check-color','(((.+)+)+)+$','__importStar','ERR_QUEUE_NAME_ALREADY_EXISTS','required','../../errors/AppError','3600930XfuuxT','3haFBbC','__createBinding','ERR_QUEUE_COLOR_ALREADY_EXISTS','35566pKKETL','Check-color-exists','get','__importDefault','string','update'];a482_0x1e4a=function(){return _0x350f3b;};return a482_0x1e4a();}exports[a482_0x4608f2(0x13a)]=UpdateQueueService;