'use strict';function a507_0x25f9(_0x728c74,_0x22b0f5){const _0x35b9ea=a507_0x1eef();return a507_0x25f9=function(_0x5f4425,_0x6b6f26){_0x5f4425=_0x5f4425-0x7f;let _0x1eefe2=_0x35b9ea[_0x5f4425];return _0x1eefe2;},a507_0x25f9(_0x728c74,_0x22b0f5);}const a507_0x4cd73f=a507_0x25f9;(function(_0x5d1af9,_0x3e3b76){const _0x3ae39b=a507_0x25f9,_0x12d4fb=_0x5d1af9();while(!![]){try{const _0xebb3a4=parseInt(_0x3ae39b(0xa6))/0x1+-parseInt(_0x3ae39b(0x88))/0x2*(parseInt(_0x3ae39b(0xa8))/0x3)+-parseInt(_0x3ae39b(0x86))/0x4+parseInt(_0x3ae39b(0x9d))/0x5+parseInt(_0x3ae39b(0x90))/0x6+-parseInt(_0x3ae39b(0x84))/0x7*(-parseInt(_0x3ae39b(0x81))/0x8)+parseInt(_0x3ae39b(0x8f))/0x9;if(_0xebb3a4===_0x3e3b76)break;else _0x12d4fb['push'](_0x12d4fb['shift']());}catch(_0x3cea79){_0x12d4fb['push'](_0x12d4fb['shift']());}}}(a507_0x1eef,0x443a2));var __createBinding=this&&this[a507_0x4cd73f(0x8c)]||(Object[a507_0x4cd73f(0xa4)]?function(_0x138c39,_0x53c552,_0x2b5c43,_0x3453a9){const _0x54b303=a507_0x4cd73f;if(_0x3453a9===undefined)_0x3453a9=_0x2b5c43;var _0x281f97=Object[_0x54b303(0x91)](_0x53c552,_0x2b5c43);(!_0x281f97||(_0x54b303(0x97)in _0x281f97?!_0x53c552[_0x54b303(0x8d)]:_0x281f97['writable']||_0x281f97[_0x54b303(0x99)]))&&(_0x281f97={'enumerable':!![],'get':function(){return _0x53c552[_0x2b5c43];}}),Object[_0x54b303(0x9a)](_0x138c39,_0x3453a9,_0x281f97);}:function(_0x429c3a,_0x10dfcf,_0x4138ae,_0x4a1ceb){if(_0x4a1ceb===undefined)_0x4a1ceb=_0x4138ae;_0x429c3a[_0x4a1ceb]=_0x10dfcf[_0x4138ae];}),__setModuleDefault=this&&this[a507_0x4cd73f(0x89)]||(Object[a507_0x4cd73f(0xa4)]?function(_0x287565,_0x37f0a3){Object['defineProperty'](_0x287565,'default',{'enumerable':!![],'value':_0x37f0a3});}:function(_0x929f0,_0x3ec1ca){const _0x241b05=a507_0x4cd73f;_0x929f0[_0x241b05(0x82)]=_0x3ec1ca;}),__importStar=this&&this['__importStar']||(function(){const _0x26cf20=(function(){let _0x563544=!![];return function(_0x197054,_0x323408){const _0x573e68=_0x563544?function(){const _0x55c39f=a507_0x25f9;if(_0x323408){const _0x1bf454=_0x323408[_0x55c39f(0x8b)](_0x197054,arguments);return _0x323408=null,_0x1bf454;}}:function(){};return _0x563544=![],_0x573e68;};}()),_0x24ed1d=_0x26cf20(this,function(){const _0x481560=a507_0x25f9;return _0x24ed1d[_0x481560(0x95)]()[_0x481560(0x9e)](_0x481560(0x83))['toString']()[_0x481560(0xa0)](_0x24ed1d)[_0x481560(0x9e)](_0x481560(0x83));});_0x24ed1d();var _0x171316=function(_0x3e9fe5){const _0x2ec003=a507_0x25f9;return _0x171316=Object[_0x2ec003(0x94)]||function(_0x3e884a){const _0x13e79f=_0x2ec003;var _0xc506f6=[];for(var _0x47d820 in _0x3e884a)if(Object[_0x13e79f(0xaa)][_0x13e79f(0x9c)][_0x13e79f(0x93)](_0x3e884a,_0x47d820))_0xc506f6[_0xc506f6[_0x13e79f(0x92)]]=_0x47d820;return _0xc506f6;},_0x171316(_0x3e9fe5);};return function(_0x18c7d0){const _0x3778f1=a507_0x25f9;if(_0x18c7d0&&_0x18c7d0[_0x3778f1(0x8d)])return _0x18c7d0;var _0x10524b={};if(_0x18c7d0!=null){for(var _0x476e90=_0x171316(_0x18c7d0),_0xe30abe=0x0;_0xe30abe<_0x476e90[_0x3778f1(0x92)];_0xe30abe++)if(_0x476e90[_0xe30abe]!==_0x3778f1(0x82))__createBinding(_0x10524b,_0x18c7d0,_0x476e90[_0xe30abe]);}return __setModuleDefault(_0x10524b,_0x18c7d0),_0x10524b;};}()),__importDefault=this&&this['__importDefault']||function(_0x4c7c2b){const _0x55de24=a507_0x4cd73f;return _0x4c7c2b&&_0x4c7c2b[_0x55de24(0x8d)]?_0x4c7c2b:{'default':_0x4c7c2b};};Object[a507_0x4cd73f(0x9a)](exports,a507_0x4cd73f(0x8d),{'value':!![]});const sequelize_1=require('sequelize'),Yup=__importStar(require(a507_0x4cd73f(0x80))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require('../../models/Queue')),ShowQueueService_1=__importDefault(require(a507_0x4cd73f(0x9f))),UpdateQueueService=async(_0x128495,_0x1b3503,_0x43cd97)=>{const _0x2a1cb9=a507_0x4cd73f,{color:_0x4d8982,name:_0x17d41a}=_0x1b3503,_0x420a11=Yup[_0x2a1cb9(0xa3)]()[_0x2a1cb9(0xa2)]({'name':Yup[_0x2a1cb9(0x98)]()[_0x2a1cb9(0xa7)](0x2,_0x2a1cb9(0xa5))[_0x2a1cb9(0x7f)]('Check-unique-name',_0x2a1cb9(0x9b),async _0xbdaa96=>{const _0x400d1a=_0x2a1cb9;if(_0xbdaa96){const _0x14cdc9=await Queue_1[_0x400d1a(0x82)]['findOne']({'where':{'name':_0xbdaa96,'id':{[sequelize_1['Op']['ne']]:_0x128495},'companyId':_0x43cd97}});return!_0x14cdc9;}return!![];}),'color':Yup[_0x2a1cb9(0x98)]()[_0x2a1cb9(0xa9)](_0x2a1cb9(0x96))[_0x2a1cb9(0x7f)]('Check-color',_0x2a1cb9(0x96),async _0x3a9370=>{const _0x4418af=_0x2a1cb9;if(_0x3a9370){const _0x1b59a6=/^#[0-9a-f]{3,6}$/i;return _0x1b59a6[_0x4418af(0x7f)](_0x3a9370);}return!![];})[_0x2a1cb9(0x7f)]('Check-color-exists',_0x2a1cb9(0x8a),async _0x1907aa=>{const _0x492de1=_0x2a1cb9;if(_0x1907aa){const _0xcade72=await Queue_1[_0x492de1(0x82)][_0x492de1(0x87)]({'where':{'color':_0x1907aa,'id':{[sequelize_1['Op']['ne']]:_0x128495},'companyId':_0x43cd97}});return!_0xcade72;}return!![];})});try{await _0x420a11['validate']({'color':_0x4d8982,'name':_0x17d41a});}catch(_0x40e27e){throw new AppError_1[(_0x2a1cb9(0x82))](_0x40e27e[_0x2a1cb9(0x8e)]);}const _0x4f84d4=await(0x0,ShowQueueService_1[_0x2a1cb9(0x82)])(_0x128495,_0x43cd97);if(_0x4f84d4['companyId']!==_0x43cd97)throw new AppError_1[(_0x2a1cb9(0x82))](_0x2a1cb9(0x85));return await _0x4f84d4[_0x2a1cb9(0xa1)](_0x1b3503),_0x4f84d4;};exports['default']=UpdateQueueService;function a507_0x1eef(){const _0x156818=['1754574yEvlWJ','getOwnPropertyDescriptor','length','call','getOwnPropertyNames','toString','ERR_QUEUE_INVALID_COLOR','get','string','configurable','defineProperty','ERR_QUEUE_NAME_ALREADY_EXISTS','hasOwnProperty','1405045GGQBib','search','./ShowQueueService','constructor','update','shape','object','create','ERR_QUEUE_INVALID_NAME','320556Qrgynb','min','18XZvIwe','required','prototype','test','yup','56584IDEmmE','default','(((.+)+)+)+$','231MGBLty','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','2091956ydiqAt','findOne','148134vkcZVb','__setModuleDefault','ERR_QUEUE_COLOR_ALREADY_EXISTS','apply','__createBinding','__esModule','message','1075014wLMIZC'];a507_0x1eef=function(){return _0x156818;};return a507_0x1eef();}