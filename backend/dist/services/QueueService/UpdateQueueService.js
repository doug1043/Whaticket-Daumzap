const a479_0x546d11=a479_0x2968;(function(_0xf26645,_0x5027c7){const _0x58768f=a479_0x2968,_0x26108b=_0xf26645();while(!![]){try{const _0x1e7833=parseInt(_0x58768f(0xff))/0x1+parseInt(_0x58768f(0x10c))/0x2*(-parseInt(_0x58768f(0x110))/0x3)+-parseInt(_0x58768f(0x113))/0x4+-parseInt(_0x58768f(0x120))/0x5*(parseInt(_0x58768f(0x121))/0x6)+parseInt(_0x58768f(0x117))/0x7+parseInt(_0x58768f(0x10b))/0x8*(parseInt(_0x58768f(0x109))/0x9)+parseInt(_0x58768f(0x118))/0xa*(parseInt(_0x58768f(0x11f))/0xb);if(_0x1e7833===_0x5027c7)break;else _0x26108b['push'](_0x26108b['shift']());}catch(_0x1cf8c4){_0x26108b['push'](_0x26108b['shift']());}}}(a479_0x4f69,0x4e008));const a479_0x3dbce8=(function(){let _0x4949fd=!![];return function(_0x1a7322,_0x44a763){const _0xd533c1=_0x4949fd?function(){const _0x205a43=a479_0x2968;if(_0x44a763){const _0x1358c9=_0x44a763[_0x205a43(0x10a)](_0x1a7322,arguments);return _0x44a763=null,_0x1358c9;}}:function(){};return _0x4949fd=![],_0xd533c1;};}()),a479_0x4f7d1f=a479_0x3dbce8(this,function(){const _0xdcb390=a479_0x2968;return a479_0x4f7d1f[_0xdcb390(0x11b)]()[_0xdcb390(0x108)](_0xdcb390(0x103))['toString']()[_0xdcb390(0x111)](a479_0x4f7d1f)[_0xdcb390(0x108)]('(((.+)+)+)+$');});function a479_0x4f69(){const _0x25e6e=['211077QOalhE','apply','40poxqmx','1202mhJEOD','ERR_QUEUE_INVALID_COLOR','shape','ERR_QUEUE_INVALID_NAME','1035JFrFNY','constructor','min','163488mUwEYI','__importStar','writable','configurable','976948WjjgIG','20YgaGRJ','yup','create','toString','call','__esModule','companyId','404195UoFAij','5dAoJzA','424794wgTQZt','string','ERR_QUEUE_COLOR_ALREADY_EXISTS','ERR_QUEUE_NAME_ALREADY_EXISTS','message','findOne','__createBinding','Check-color-exists','hasOwnProperty','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','default','../../models/Queue','308193qXIHnk','__setModuleDefault','Check-color','./ShowQueueService','(((.+)+)+)+$','sequelize','prototype','validate','defineProperty','search'];a479_0x4f69=function(){return _0x25e6e;};return a479_0x4f69();}a479_0x4f7d1f();'use strict';var __createBinding=this&&this[a479_0x546d11(0xf9)]||(Object[a479_0x546d11(0x11a)]?function(_0x497f46,_0x430e8c,_0x5659cc,_0x300703){const _0x1b915a=a479_0x546d11;if(_0x300703===undefined)_0x300703=_0x5659cc;var _0x522489=Object['getOwnPropertyDescriptor'](_0x430e8c,_0x5659cc);(!_0x522489||('get'in _0x522489?!_0x430e8c[_0x1b915a(0x11d)]:_0x522489[_0x1b915a(0x115)]||_0x522489[_0x1b915a(0x116)]))&&(_0x522489={'enumerable':!![],'get':function(){return _0x430e8c[_0x5659cc];}}),Object[_0x1b915a(0x107)](_0x497f46,_0x300703,_0x522489);}:function(_0x6c82fc,_0x312d2f,_0xdee4ab,_0x103f7d){if(_0x103f7d===undefined)_0x103f7d=_0xdee4ab;_0x6c82fc[_0x103f7d]=_0x312d2f[_0xdee4ab];}),__setModuleDefault=this&&this[a479_0x546d11(0x100)]||(Object[a479_0x546d11(0x11a)]?function(_0x1b7c50,_0x18e83d){const _0xf0def9=a479_0x546d11;Object[_0xf0def9(0x107)](_0x1b7c50,_0xf0def9(0xfd),{'enumerable':!![],'value':_0x18e83d});}:function(_0x4f8ce3,_0x2f9c69){_0x4f8ce3['default']=_0x2f9c69;}),__importStar=this&&this[a479_0x546d11(0x114)]||function(_0x500b95){const _0x30ab82=a479_0x546d11;if(_0x500b95&&_0x500b95['__esModule'])return _0x500b95;var _0x330ebb={};if(_0x500b95!=null){for(var _0x259028 in _0x500b95)if(_0x259028!=='default'&&Object[_0x30ab82(0x105)][_0x30ab82(0xfb)][_0x30ab82(0x11c)](_0x500b95,_0x259028))__createBinding(_0x330ebb,_0x500b95,_0x259028);}return __setModuleDefault(_0x330ebb,_0x500b95),_0x330ebb;},__importDefault=this&&this['__importDefault']||function(_0x402111){return _0x402111&&_0x402111['__esModule']?_0x402111:{'default':_0x402111};};function a479_0x2968(_0x2a3884,_0x1a4309){const _0x6e70be=a479_0x4f69();return a479_0x2968=function(_0x4f7d1f,_0x3dbce8){_0x4f7d1f=_0x4f7d1f-0xf4;let _0x4f691b=_0x6e70be[_0x4f7d1f];return _0x4f691b;},a479_0x2968(_0x2a3884,_0x1a4309);}Object['defineProperty'](exports,a479_0x546d11(0x11d),{'value':!![]});const sequelize_1=require(a479_0x546d11(0x104)),Yup=__importStar(require(a479_0x546d11(0x119))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require(a479_0x546d11(0xfe))),ShowQueueService_1=__importDefault(require(a479_0x546d11(0x102))),UpdateQueueService=async(_0x210e3b,_0xa77983,_0x4807f1)=>{const _0x3d17d5=a479_0x546d11,{color:_0x2570dc,name:_0x5f3285}=_0xa77983,_0x4810cd=Yup['object']()[_0x3d17d5(0x10e)]({'name':Yup[_0x3d17d5(0xf4)]()[_0x3d17d5(0x112)](0x2,_0x3d17d5(0x10f))['test']('Check-unique-name',_0x3d17d5(0xf6),async _0x250128=>{const _0x4c91f1=_0x3d17d5;if(_0x250128){const _0x317a27=await Queue_1[_0x4c91f1(0xfd)][_0x4c91f1(0xf8)]({'where':{'name':_0x250128,'id':{[sequelize_1['Op']['ne']]:_0x210e3b},'companyId':_0x4807f1}});return!_0x317a27;}return!![];}),'color':Yup[_0x3d17d5(0xf4)]()['required'](_0x3d17d5(0x10d))['test'](_0x3d17d5(0x101),'ERR_QUEUE_INVALID_COLOR',async _0x560c69=>{if(_0x560c69){const _0x4fe210=/^#[0-9a-f]{3,6}$/i;return _0x4fe210['test'](_0x560c69);}return!![];})['test'](_0x3d17d5(0xfa),_0x3d17d5(0xf5),async _0x178edb=>{const _0x3b122c=_0x3d17d5;if(_0x178edb){const _0x28bc73=await Queue_1[_0x3b122c(0xfd)][_0x3b122c(0xf8)]({'where':{'color':_0x178edb,'id':{[sequelize_1['Op']['ne']]:_0x210e3b},'companyId':_0x4807f1}});return!_0x28bc73;}return!![];})});try{await _0x4810cd[_0x3d17d5(0x106)]({'color':_0x2570dc,'name':_0x5f3285});}catch(_0x5262c4){throw new AppError_1[(_0x3d17d5(0xfd))](_0x5262c4[_0x3d17d5(0xf7)]);}const _0x2d2371=await(0x0,ShowQueueService_1[_0x3d17d5(0xfd)])(_0x210e3b,_0x4807f1);if(_0x2d2371[_0x3d17d5(0x11e)]!==_0x4807f1)throw new AppError_1[(_0x3d17d5(0xfd))](_0x3d17d5(0xfc));return await _0x2d2371['update'](_0xa77983),_0x2d2371;};exports[a479_0x546d11(0xfd)]=UpdateQueueService;