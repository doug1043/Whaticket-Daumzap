'use strict';function a513_0x324c(){const _0x5cd70a=['8656FUzxUY','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','11053380QiUOhI','304335OuDpkp','required','defineProperty','(((.+)+)+)+$','apply','322LqMCZu','140180QXVuXO','__setModuleDefault','./ShowQueueService','143BbzMDJ','ERR_QUEUE_COLOR_ALREADY_EXISTS','test','827088ODwBud','call','get','Check-color-exists','getOwnPropertyNames','findOne','9htxpGJ','ERR_QUEUE_INVALID_COLOR','Check-color','1587632updsVt','default','shape','object','../../models/Queue','__esModule','hasOwnProperty','validate','ERR_QUEUE_NAME_ALREADY_EXISTS','getOwnPropertyDescriptor','message','28eIDqOS','1077hqTgkF','min','create','search','Check-unique-name','../../errors/AppError','companyId','string','ERR_QUEUE_INVALID_NAME','sequelize','prototype','length','__importStar','configurable','toString','1395YPgrOp'];a513_0x324c=function(){return _0x5cd70a;};return a513_0x324c();}const a513_0x5ac215=a513_0x558c;(function(_0x45cb34,_0x46c859){const _0x382b5d=a513_0x558c,_0x13eddb=_0x45cb34();while(!![]){try{const _0x4fc2a4=-parseInt(_0x382b5d(0x14f))/0x1*(parseInt(_0x382b5d(0x133))/0x2)+-parseInt(_0x382b5d(0x12e))/0x3+parseInt(_0x382b5d(0x15f))/0x4*(parseInt(_0x382b5d(0x15e))/0x5)+parseInt(_0x382b5d(0x13a))/0x6*(parseInt(_0x382b5d(0x14e))/0x7)+-parseInt(_0x382b5d(0x143))/0x8*(-parseInt(_0x382b5d(0x140))/0x9)+-parseInt(_0x382b5d(0x134))/0xa*(-parseInt(_0x382b5d(0x137))/0xb)+-parseInt(_0x382b5d(0x12d))/0xc;if(_0x4fc2a4===_0x46c859)break;else _0x13eddb['push'](_0x13eddb['shift']());}catch(_0x4ded6b){_0x13eddb['push'](_0x13eddb['shift']());}}}(a513_0x324c,0x52fa7));var __createBinding=this&&this['__createBinding']||(Object[a513_0x5ac215(0x151)]?function(_0x3273eb,_0x5f502e,_0x58defa,_0x3db1d0){const _0x4e8a72=a513_0x5ac215;if(_0x3db1d0===undefined)_0x3db1d0=_0x58defa;var _0xd53d83=Object[_0x4e8a72(0x14c)](_0x5f502e,_0x58defa);(!_0xd53d83||(_0x4e8a72(0x13c)in _0xd53d83?!_0x5f502e[_0x4e8a72(0x148)]:_0xd53d83['writable']||_0xd53d83[_0x4e8a72(0x15c)]))&&(_0xd53d83={'enumerable':!![],'get':function(){return _0x5f502e[_0x58defa];}}),Object[_0x4e8a72(0x130)](_0x3273eb,_0x3db1d0,_0xd53d83);}:function(_0xc732cb,_0x312b5b,_0x30f1f3,_0x23fda9){if(_0x23fda9===undefined)_0x23fda9=_0x30f1f3;_0xc732cb[_0x23fda9]=_0x312b5b[_0x30f1f3];}),__setModuleDefault=this&&this[a513_0x5ac215(0x135)]||(Object[a513_0x5ac215(0x151)]?function(_0x364ada,_0x1921ec){Object['defineProperty'](_0x364ada,'default',{'enumerable':!![],'value':_0x1921ec});}:function(_0x2ef53b,_0x2d8a9d){const _0x2a8d74=a513_0x5ac215;_0x2ef53b[_0x2a8d74(0x144)]=_0x2d8a9d;}),__importStar=this&&this[a513_0x5ac215(0x15b)]||(function(){const _0x3318f0=(function(){let _0x55285b=!![];return function(_0x297f90,_0x476edf){const _0x5ae120=_0x55285b?function(){const _0x3c6c62=a513_0x558c;if(_0x476edf){const _0x5b597b=_0x476edf[_0x3c6c62(0x132)](_0x297f90,arguments);return _0x476edf=null,_0x5b597b;}}:function(){};return _0x55285b=![],_0x5ae120;};}()),_0x16503f=_0x3318f0(this,function(){const _0x4f2730=a513_0x558c;return _0x16503f['toString']()[_0x4f2730(0x152)](_0x4f2730(0x131))[_0x4f2730(0x15d)]()['constructor'](_0x16503f)[_0x4f2730(0x152)]('(((.+)+)+)+$');});_0x16503f();var _0x14148c=function(_0x4574c1){const _0x5555b6=a513_0x558c;return _0x14148c=Object[_0x5555b6(0x13e)]||function(_0x495407){const _0x12335e=_0x5555b6;var _0x31034b=[];for(var _0x5e5760 in _0x495407)if(Object[_0x12335e(0x159)][_0x12335e(0x149)][_0x12335e(0x13b)](_0x495407,_0x5e5760))_0x31034b[_0x31034b[_0x12335e(0x15a)]]=_0x5e5760;return _0x31034b;},_0x14148c(_0x4574c1);};return function(_0x2771a7){const _0x2b8189=a513_0x558c;if(_0x2771a7&&_0x2771a7['__esModule'])return _0x2771a7;var _0x22297c={};if(_0x2771a7!=null){for(var _0x4cfa9d=_0x14148c(_0x2771a7),_0x26a690=0x0;_0x26a690<_0x4cfa9d[_0x2b8189(0x15a)];_0x26a690++)if(_0x4cfa9d[_0x26a690]!==_0x2b8189(0x144))__createBinding(_0x22297c,_0x2771a7,_0x4cfa9d[_0x26a690]);}return __setModuleDefault(_0x22297c,_0x2771a7),_0x22297c;};}()),__importDefault=this&&this['__importDefault']||function(_0x47bf42){const _0x4ebe68=a513_0x5ac215;return _0x47bf42&&_0x47bf42[_0x4ebe68(0x148)]?_0x47bf42:{'default':_0x47bf42};};Object['defineProperty'](exports,a513_0x5ac215(0x148),{'value':!![]});function a513_0x558c(_0x340c4a,_0x5289d4){const _0x5896fb=a513_0x324c();return a513_0x558c=function(_0xd723bc,_0x52484d){_0xd723bc=_0xd723bc-0x12d;let _0x324c72=_0x5896fb[_0xd723bc];return _0x324c72;},a513_0x558c(_0x340c4a,_0x5289d4);}const sequelize_1=require(a513_0x5ac215(0x158)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a513_0x5ac215(0x154))),Queue_1=__importDefault(require(a513_0x5ac215(0x147))),ShowQueueService_1=__importDefault(require(a513_0x5ac215(0x136))),UpdateQueueService=async(_0x101b9b,_0x4aa9c2,_0x571780)=>{const _0x1f3273=a513_0x5ac215,{color:_0x1c68dd,name:_0x4fd3b3}=_0x4aa9c2,_0x407cc8=Yup[_0x1f3273(0x146)]()[_0x1f3273(0x145)]({'name':Yup['string']()[_0x1f3273(0x150)](0x2,_0x1f3273(0x157))[_0x1f3273(0x139)](_0x1f3273(0x153),_0x1f3273(0x14b),async _0x51de7e=>{const _0x4bd48d=_0x1f3273;if(_0x51de7e){const _0x5e8c5e=await Queue_1[_0x4bd48d(0x144)][_0x4bd48d(0x13f)]({'where':{'name':_0x51de7e,'id':{[sequelize_1['Op']['ne']]:_0x101b9b},'companyId':_0x571780}});return!_0x5e8c5e;}return!![];}),'color':Yup[_0x1f3273(0x156)]()[_0x1f3273(0x12f)](_0x1f3273(0x141))[_0x1f3273(0x139)](_0x1f3273(0x142),'ERR_QUEUE_INVALID_COLOR',async _0x4feed6=>{const _0x5e6807=_0x1f3273;if(_0x4feed6){const _0x814206=/^#[0-9a-f]{3,6}$/i;return _0x814206[_0x5e6807(0x139)](_0x4feed6);}return!![];})[_0x1f3273(0x139)](_0x1f3273(0x13d),_0x1f3273(0x138),async _0x199eb8=>{const _0x3e3b4a=_0x1f3273;if(_0x199eb8){const _0x5b79ed=await Queue_1[_0x3e3b4a(0x144)][_0x3e3b4a(0x13f)]({'where':{'color':_0x199eb8,'id':{[sequelize_1['Op']['ne']]:_0x101b9b},'companyId':_0x571780}});return!_0x5b79ed;}return!![];})});try{await _0x407cc8[_0x1f3273(0x14a)]({'color':_0x1c68dd,'name':_0x4fd3b3});}catch(_0x1ca8e2){throw new AppError_1[(_0x1f3273(0x144))](_0x1ca8e2[_0x1f3273(0x14d)]);}const _0x2ceaa8=await(0x0,ShowQueueService_1['default'])(_0x101b9b,_0x571780);if(_0x2ceaa8[_0x1f3273(0x155)]!==_0x571780)throw new AppError_1['default'](_0x1f3273(0x160));return await _0x2ceaa8['update'](_0x4aa9c2),_0x2ceaa8;};exports[a513_0x5ac215(0x144)]=UpdateQueueService;