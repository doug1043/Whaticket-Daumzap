'use strict';const a512_0x22a8d1=a512_0x3351;(function(_0x3c53af,_0x4d9b31){const _0x502d75=a512_0x3351,_0x43e6fe=_0x3c53af();while(!![]){try{const _0x4616f5=-parseInt(_0x502d75(0x139))/0x1*(parseInt(_0x502d75(0x128))/0x2)+-parseInt(_0x502d75(0x122))/0x3*(parseInt(_0x502d75(0x119))/0x4)+-parseInt(_0x502d75(0x133))/0x5+-parseInt(_0x502d75(0x11d))/0x6*(parseInt(_0x502d75(0x129))/0x7)+parseInt(_0x502d75(0x12d))/0x8*(-parseInt(_0x502d75(0x12b))/0x9)+parseInt(_0x502d75(0x130))/0xa*(parseInt(_0x502d75(0x138))/0xb)+parseInt(_0x502d75(0x12a))/0xc;if(_0x4616f5===_0x4d9b31)break;else _0x43e6fe['push'](_0x43e6fe['shift']());}catch(_0x237b56){_0x43e6fe['push'](_0x43e6fe['shift']());}}}(a512_0xfa26,0x45449));function a512_0xfa26(){const _0x1f8b0f=['shape','object','__esModule','2sgKqAJ','28dlAgvL','18772716OfFLfb','9XSQVFx','message','4185304JUWzel','search','update','1380ccAbCD','../../errors/AppError','./ShowQueueService','2380035JEWTqE','findOne','required','test','__importDefault','23617mbdweC','185643NgnQFP','default','string','../../models/Queue','companyId','ERR_QUEUE_INVALID_COLOR','create','length','toString','(((.+)+)+)+$','getOwnPropertyDescriptor','ERR_QUEUE_NAME_ALREADY_EXISTS','defineProperty','writable','ERR_QUEUE_COLOR_ALREADY_EXISTS','584084ycfOCt','Check-color','validate','__importStar','369186OqgLmy','constructor','yup','configurable','getOwnPropertyNames','3EsOsal','prototype','sequelize'];a512_0xfa26=function(){return _0x1f8b0f;};return a512_0xfa26();}var __createBinding=this&&this['__createBinding']||(Object[a512_0x22a8d1(0x13f)]?function(_0x2f28c3,_0x73c63e,_0x2099e7,_0x3d73a3){const _0x56150=a512_0x22a8d1;if(_0x3d73a3===undefined)_0x3d73a3=_0x2099e7;var _0x385ba8=Object[_0x56150(0x143)](_0x73c63e,_0x2099e7);(!_0x385ba8||('get'in _0x385ba8?!_0x73c63e[_0x56150(0x127)]:_0x385ba8[_0x56150(0x146)]||_0x385ba8[_0x56150(0x120)]))&&(_0x385ba8={'enumerable':!![],'get':function(){return _0x73c63e[_0x2099e7];}}),Object[_0x56150(0x145)](_0x2f28c3,_0x3d73a3,_0x385ba8);}:function(_0x5a9f47,_0x1b4dc2,_0x9319b,_0x32f343){if(_0x32f343===undefined)_0x32f343=_0x9319b;_0x5a9f47[_0x32f343]=_0x1b4dc2[_0x9319b];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a512_0x22a8d1(0x13f)]?function(_0x5bee5a,_0x2cbfa0){const _0x464101=a512_0x22a8d1;Object[_0x464101(0x145)](_0x5bee5a,_0x464101(0x13a),{'enumerable':!![],'value':_0x2cbfa0});}:function(_0x56818f,_0x1ecb30){const _0x1c7d73=a512_0x22a8d1;_0x56818f[_0x1c7d73(0x13a)]=_0x1ecb30;}),__importStar=this&&this[a512_0x22a8d1(0x11c)]||(function(){const _0x4e7c75=(function(){let _0x4b9443=!![];return function(_0x1ee4e7,_0x3fc864){const _0x1a7037=_0x4b9443?function(){if(_0x3fc864){const _0x4feef3=_0x3fc864['apply'](_0x1ee4e7,arguments);return _0x3fc864=null,_0x4feef3;}}:function(){};return _0x4b9443=![],_0x1a7037;};}()),_0x7e7089=_0x4e7c75(this,function(){const _0xd3d8bf=a512_0x3351;return _0x7e7089[_0xd3d8bf(0x141)]()['search'](_0xd3d8bf(0x142))[_0xd3d8bf(0x141)]()[_0xd3d8bf(0x11e)](_0x7e7089)[_0xd3d8bf(0x12e)](_0xd3d8bf(0x142));});_0x7e7089();var _0x406ea3=function(_0x13e8dc){const _0x6b115=a512_0x3351;return _0x406ea3=Object[_0x6b115(0x121)]||function(_0x16ecbe){const _0x322542=_0x6b115;var _0x2e2394=[];for(var _0x4611e5 in _0x16ecbe)if(Object[_0x322542(0x123)]['hasOwnProperty']['call'](_0x16ecbe,_0x4611e5))_0x2e2394[_0x2e2394[_0x322542(0x140)]]=_0x4611e5;return _0x2e2394;},_0x406ea3(_0x13e8dc);};return function(_0x5724f4){const _0x16b8a7=a512_0x3351;if(_0x5724f4&&_0x5724f4[_0x16b8a7(0x127)])return _0x5724f4;var _0x38a5bb={};if(_0x5724f4!=null){for(var _0x528f83=_0x406ea3(_0x5724f4),_0x43cc52=0x0;_0x43cc52<_0x528f83[_0x16b8a7(0x140)];_0x43cc52++)if(_0x528f83[_0x43cc52]!==_0x16b8a7(0x13a))__createBinding(_0x38a5bb,_0x5724f4,_0x528f83[_0x43cc52]);}return __setModuleDefault(_0x38a5bb,_0x5724f4),_0x38a5bb;};}()),__importDefault=this&&this[a512_0x22a8d1(0x137)]||function(_0x2c4eca){const _0x5c6446=a512_0x22a8d1;return _0x2c4eca&&_0x2c4eca[_0x5c6446(0x127)]?_0x2c4eca:{'default':_0x2c4eca};};Object[a512_0x22a8d1(0x145)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a512_0x22a8d1(0x124)),Yup=__importStar(require(a512_0x22a8d1(0x11f))),AppError_1=__importDefault(require(a512_0x22a8d1(0x131))),Queue_1=__importDefault(require(a512_0x22a8d1(0x13c))),ShowQueueService_1=__importDefault(require(a512_0x22a8d1(0x132))),UpdateQueueService=async(_0x434eb5,_0xc802ec,_0x5b1d1b)=>{const _0x419bc5=a512_0x22a8d1,{color:_0x174842,name:_0x1f061d}=_0xc802ec,_0x5a0e96=Yup[_0x419bc5(0x126)]()[_0x419bc5(0x125)]({'name':Yup[_0x419bc5(0x13b)]()['min'](0x2,'ERR_QUEUE_INVALID_NAME')['test']('Check-unique-name',_0x419bc5(0x144),async _0x4b4f4a=>{const _0x1c7b22=_0x419bc5;if(_0x4b4f4a){const _0x19a2dd=await Queue_1[_0x1c7b22(0x13a)][_0x1c7b22(0x134)]({'where':{'name':_0x4b4f4a,'id':{[sequelize_1['Op']['ne']]:_0x434eb5},'companyId':_0x5b1d1b}});return!_0x19a2dd;}return!![];}),'color':Yup[_0x419bc5(0x13b)]()[_0x419bc5(0x135)](_0x419bc5(0x13e))[_0x419bc5(0x136)](_0x419bc5(0x11a),_0x419bc5(0x13e),async _0x521ce5=>{const _0x8ee076=_0x419bc5;if(_0x521ce5){const _0x2c79f3=/^#[0-9a-f]{3,6}$/i;return _0x2c79f3[_0x8ee076(0x136)](_0x521ce5);}return!![];})[_0x419bc5(0x136)]('Check-color-exists',_0x419bc5(0x147),async _0x33af42=>{const _0x50f517=_0x419bc5;if(_0x33af42){const _0x1ac68a=await Queue_1[_0x50f517(0x13a)][_0x50f517(0x134)]({'where':{'color':_0x33af42,'id':{[sequelize_1['Op']['ne']]:_0x434eb5},'companyId':_0x5b1d1b}});return!_0x1ac68a;}return!![];})});try{await _0x5a0e96[_0x419bc5(0x11b)]({'color':_0x174842,'name':_0x1f061d});}catch(_0xc491b1){throw new AppError_1[(_0x419bc5(0x13a))](_0xc491b1[_0x419bc5(0x12c)]);}const _0x1fa6dc=await(0x0,ShowQueueService_1[_0x419bc5(0x13a)])(_0x434eb5,_0x5b1d1b);if(_0x1fa6dc[_0x419bc5(0x13d)]!==_0x5b1d1b)throw new AppError_1[(_0x419bc5(0x13a))]('Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa');return await _0x1fa6dc[_0x419bc5(0x12f)](_0xc802ec),_0x1fa6dc;};function a512_0x3351(_0x379fa5,_0x4d858d){const _0x28d901=a512_0xfa26();return a512_0x3351=function(_0x183e48,_0x2c44a1){_0x183e48=_0x183e48-0x119;let _0xfa2681=_0x28d901[_0x183e48];return _0xfa2681;},a512_0x3351(_0x379fa5,_0x4d858d);}exports[a512_0x22a8d1(0x13a)]=UpdateQueueService;