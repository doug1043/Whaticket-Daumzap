'use strict';function a509_0x2529(){const _0x1f4a28=['ERR_QUEUE_NAME_ALREADY_EXISTS','call','__importDefault','__setModuleDefault','../../errors/AppError','length','findOne','create','Check-color-exists','20NqkBni','Check-color','message','constructor','616276mefchG','1202574XmOkFo','apply','../../models/Queue','./ShowQueueService','__esModule','ERR_QUEUE_INVALID_COLOR','default','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','companyId','string','2316918Dowecw','get','required','hasOwnProperty','142910ExOkRi','3514812xXUKfy','(((.+)+)+)+$','8MJMvHu','ERR_QUEUE_COLOR_ALREADY_EXISTS','sequelize','70lsxVsO','yup','update','configurable','prototype','test','Check-unique-name','2420768nioozh','toString','getOwnPropertyDescriptor','defineProperty','search','shape','688599JPaMZP','validate'];a509_0x2529=function(){return _0x1f4a28;};return a509_0x2529();}function a509_0xcc5a(_0x97a5c4,_0x1baede){const _0x3dccb4=a509_0x2529();return a509_0xcc5a=function(_0x56427d,_0xbb49c4){_0x56427d=_0x56427d-0x1c6;let _0x25299e=_0x3dccb4[_0x56427d];return _0x25299e;},a509_0xcc5a(_0x97a5c4,_0x1baede);}const a509_0x148d4e=a509_0xcc5a;(function(_0x767c88,_0x5a2d02){const _0x4068f4=a509_0xcc5a,_0x10fc06=_0x767c88();while(!![]){try{const _0x41c468=parseInt(_0x4068f4(0x1d6))/0x1*(parseInt(_0x4068f4(0x1d3))/0x2)+-parseInt(_0x4068f4(0x1cf))/0x3+parseInt(_0x4068f4(0x1f5))/0x4+-parseInt(_0x4068f4(0x1f1))/0x5*(-parseInt(_0x4068f4(0x1f6))/0x6)+parseInt(_0x4068f4(0x1d4))/0x7+-parseInt(_0x4068f4(0x1e0))/0x8+parseInt(_0x4068f4(0x1e6))/0x9*(-parseInt(_0x4068f4(0x1d9))/0xa);if(_0x41c468===_0x5a2d02)break;else _0x10fc06['push'](_0x10fc06['shift']());}catch(_0x453271){_0x10fc06['push'](_0x10fc06['shift']());}}}(a509_0x2529,0x664f6));var __createBinding=this&&this['__createBinding']||(Object[a509_0x148d4e(0x1ef)]?function(_0x1bd7fa,_0x525d9a,_0xf5834d,_0x5c202a){const _0x41ac01=a509_0x148d4e;if(_0x5c202a===undefined)_0x5c202a=_0xf5834d;var _0x40f41f=Object[_0x41ac01(0x1e2)](_0x525d9a,_0xf5834d);(!_0x40f41f||(_0x41ac01(0x1d0)in _0x40f41f?!_0x525d9a[_0x41ac01(0x1c9)]:_0x40f41f['writable']||_0x40f41f[_0x41ac01(0x1dc)]))&&(_0x40f41f={'enumerable':!![],'get':function(){return _0x525d9a[_0xf5834d];}}),Object['defineProperty'](_0x1bd7fa,_0x5c202a,_0x40f41f);}:function(_0x3e4a08,_0x3d8126,_0x3f5529,_0x4aad58){if(_0x4aad58===undefined)_0x4aad58=_0x3f5529;_0x3e4a08[_0x4aad58]=_0x3d8126[_0x3f5529];}),__setModuleDefault=this&&this[a509_0x148d4e(0x1eb)]||(Object[a509_0x148d4e(0x1ef)]?function(_0x17a9bb,_0x37a124){const _0x3e2ec4=a509_0x148d4e;Object[_0x3e2ec4(0x1e3)](_0x17a9bb,_0x3e2ec4(0x1cb),{'enumerable':!![],'value':_0x37a124});}:function(_0x43e3fa,_0x5f4772){const _0x2c1a4c=a509_0x148d4e;_0x43e3fa[_0x2c1a4c(0x1cb)]=_0x5f4772;}),__importStar=this&&this['__importStar']||(function(){const _0x38130f=(function(){let _0x131a67=!![];return function(_0x4aacae,_0x32c865){const _0x11d19a=_0x131a67?function(){const _0x17de78=a509_0xcc5a;if(_0x32c865){const _0x4ae8c4=_0x32c865[_0x17de78(0x1c6)](_0x4aacae,arguments);return _0x32c865=null,_0x4ae8c4;}}:function(){};return _0x131a67=![],_0x11d19a;};}()),_0x1599b3=_0x38130f(this,function(){const _0x2b9d97=a509_0xcc5a;return _0x1599b3[_0x2b9d97(0x1e1)]()[_0x2b9d97(0x1e4)](_0x2b9d97(0x1d5))[_0x2b9d97(0x1e1)]()[_0x2b9d97(0x1f4)](_0x1599b3)[_0x2b9d97(0x1e4)](_0x2b9d97(0x1d5));});_0x1599b3();var _0x5cbe8b=function(_0x1e3816){return _0x5cbe8b=Object['getOwnPropertyNames']||function(_0x43e4d0){const _0xb0c88e=a509_0xcc5a;var _0x373fce=[];for(var _0x51ce85 in _0x43e4d0)if(Object[_0xb0c88e(0x1dd)][_0xb0c88e(0x1d2)][_0xb0c88e(0x1e9)](_0x43e4d0,_0x51ce85))_0x373fce[_0x373fce[_0xb0c88e(0x1ed)]]=_0x51ce85;return _0x373fce;},_0x5cbe8b(_0x1e3816);};return function(_0x1e34ee){const _0x4ce36d=a509_0xcc5a;if(_0x1e34ee&&_0x1e34ee[_0x4ce36d(0x1c9)])return _0x1e34ee;var _0x20eefc={};if(_0x1e34ee!=null){for(var _0x375912=_0x5cbe8b(_0x1e34ee),_0x2cd2cb=0x0;_0x2cd2cb<_0x375912['length'];_0x2cd2cb++)if(_0x375912[_0x2cd2cb]!==_0x4ce36d(0x1cb))__createBinding(_0x20eefc,_0x1e34ee,_0x375912[_0x2cd2cb]);}return __setModuleDefault(_0x20eefc,_0x1e34ee),_0x20eefc;};}()),__importDefault=this&&this[a509_0x148d4e(0x1ea)]||function(_0x44a47b){const _0x3687bb=a509_0x148d4e;return _0x44a47b&&_0x44a47b[_0x3687bb(0x1c9)]?_0x44a47b:{'default':_0x44a47b};};Object[a509_0x148d4e(0x1e3)](exports,a509_0x148d4e(0x1c9),{'value':!![]});const sequelize_1=require(a509_0x148d4e(0x1d8)),Yup=__importStar(require(a509_0x148d4e(0x1da))),AppError_1=__importDefault(require(a509_0x148d4e(0x1ec))),Queue_1=__importDefault(require(a509_0x148d4e(0x1c7))),ShowQueueService_1=__importDefault(require(a509_0x148d4e(0x1c8))),UpdateQueueService=async(_0x50b91b,_0x11e8a,_0x7bd34f)=>{const _0x301ea8=a509_0x148d4e,{color:_0x3bebcb,name:_0x429386}=_0x11e8a,_0xc1f54e=Yup['object']()[_0x301ea8(0x1e5)]({'name':Yup['string']()['min'](0x2,'ERR_QUEUE_INVALID_NAME')[_0x301ea8(0x1de)](_0x301ea8(0x1df),_0x301ea8(0x1e8),async _0x321cb0=>{const _0x3f4fe6=_0x301ea8;if(_0x321cb0){const _0x495da5=await Queue_1[_0x3f4fe6(0x1cb)][_0x3f4fe6(0x1ee)]({'where':{'name':_0x321cb0,'id':{[sequelize_1['Op']['ne']]:_0x50b91b},'companyId':_0x7bd34f}});return!_0x495da5;}return!![];}),'color':Yup[_0x301ea8(0x1ce)]()[_0x301ea8(0x1d1)](_0x301ea8(0x1ca))[_0x301ea8(0x1de)](_0x301ea8(0x1f2),_0x301ea8(0x1ca),async _0x1426ee=>{const _0x16df00=_0x301ea8;if(_0x1426ee){const _0x3144bb=/^#[0-9a-f]{3,6}$/i;return _0x3144bb[_0x16df00(0x1de)](_0x1426ee);}return!![];})[_0x301ea8(0x1de)](_0x301ea8(0x1f0),_0x301ea8(0x1d7),async _0x56b87b=>{const _0xde3719=_0x301ea8;if(_0x56b87b){const _0x2d69c0=await Queue_1[_0xde3719(0x1cb)]['findOne']({'where':{'color':_0x56b87b,'id':{[sequelize_1['Op']['ne']]:_0x50b91b},'companyId':_0x7bd34f}});return!_0x2d69c0;}return!![];})});try{await _0xc1f54e[_0x301ea8(0x1e7)]({'color':_0x3bebcb,'name':_0x429386});}catch(_0x4b37d1){throw new AppError_1[(_0x301ea8(0x1cb))](_0x4b37d1[_0x301ea8(0x1f3)]);}const _0x1e2968=await(0x0,ShowQueueService_1[_0x301ea8(0x1cb)])(_0x50b91b,_0x7bd34f);if(_0x1e2968[_0x301ea8(0x1cd)]!==_0x7bd34f)throw new AppError_1[(_0x301ea8(0x1cb))](_0x301ea8(0x1cc));return await _0x1e2968[_0x301ea8(0x1db)](_0x11e8a),_0x1e2968;};exports[a509_0x148d4e(0x1cb)]=UpdateQueueService;