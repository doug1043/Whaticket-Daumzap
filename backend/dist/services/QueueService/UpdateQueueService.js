'use strict';const a508_0x1adf7f=a508_0x5c4f;(function(_0x3f3841,_0x6717a6){const _0x4d1438=a508_0x5c4f,_0x30a96b=_0x3f3841();while(!![]){try{const _0x298f8f=parseInt(_0x4d1438(0x180))/0x1*(-parseInt(_0x4d1438(0x16e))/0x2)+-parseInt(_0x4d1438(0x17c))/0x3+-parseInt(_0x4d1438(0x179))/0x4+parseInt(_0x4d1438(0x17a))/0x5*(-parseInt(_0x4d1438(0x175))/0x6)+parseInt(_0x4d1438(0x166))/0x7+-parseInt(_0x4d1438(0x181))/0x8*(-parseInt(_0x4d1438(0x17f))/0x9)+parseInt(_0x4d1438(0x168))/0xa*(parseInt(_0x4d1438(0x16a))/0xb);if(_0x298f8f===_0x6717a6)break;else _0x30a96b['push'](_0x30a96b['shift']());}catch(_0x9bd801){_0x30a96b['push'](_0x30a96b['shift']());}}}(a508_0x1b7f,0xbb480));function a508_0x5c4f(_0x1351e5,_0x41feaa){const _0x4a3739=a508_0x1b7f();return a508_0x5c4f=function(_0x1bbad0,_0x33ccc){_0x1bbad0=_0x1bbad0-0x158;let _0x1b7fba=_0x4a3739[_0x1bbad0];return _0x1b7fba;},a508_0x5c4f(_0x1351e5,_0x41feaa);}var __createBinding=this&&this[a508_0x1adf7f(0x177)]||(Object[a508_0x1adf7f(0x15d)]?function(_0x194ea9,_0x72c743,_0x86cac0,_0x3ae207){const _0x5a153c=a508_0x1adf7f;if(_0x3ae207===undefined)_0x3ae207=_0x86cac0;var _0x15e8d5=Object[_0x5a153c(0x170)](_0x72c743,_0x86cac0);(!_0x15e8d5||(_0x5a153c(0x16c)in _0x15e8d5?!_0x72c743[_0x5a153c(0x174)]:_0x15e8d5['writable']||_0x15e8d5['configurable']))&&(_0x15e8d5={'enumerable':!![],'get':function(){return _0x72c743[_0x86cac0];}}),Object[_0x5a153c(0x186)](_0x194ea9,_0x3ae207,_0x15e8d5);}:function(_0x420dac,_0x1e643a,_0x238388,_0x17d9ec){if(_0x17d9ec===undefined)_0x17d9ec=_0x238388;_0x420dac[_0x17d9ec]=_0x1e643a[_0x238388];}),__setModuleDefault=this&&this[a508_0x1adf7f(0x160)]||(Object[a508_0x1adf7f(0x15d)]?function(_0x278ae6,_0x272d95){const _0x5c1906=a508_0x1adf7f;Object[_0x5c1906(0x186)](_0x278ae6,_0x5c1906(0x15e),{'enumerable':!![],'value':_0x272d95});}:function(_0x266170,_0x4cdcef){const _0x1fae7a=a508_0x1adf7f;_0x266170[_0x1fae7a(0x15e)]=_0x4cdcef;}),__importStar=this&&this[a508_0x1adf7f(0x183)]||(function(){const _0x22ff45=(function(){let _0x4823d0=!![];return function(_0xe87462,_0x5b0238){const _0x3afa7d=_0x4823d0?function(){if(_0x5b0238){const _0x104d71=_0x5b0238['apply'](_0xe87462,arguments);return _0x5b0238=null,_0x104d71;}}:function(){};return _0x4823d0=![],_0x3afa7d;};}()),_0x294f56=_0x22ff45(this,function(){const _0x5529e2=a508_0x5c4f;return _0x294f56['toString']()['search'](_0x5529e2(0x163))['toString']()[_0x5529e2(0x15a)](_0x294f56)[_0x5529e2(0x17d)](_0x5529e2(0x163));});_0x294f56();var _0x5f4769=function(_0x5aa606){const _0x23e591=a508_0x5c4f;return _0x5f4769=Object[_0x23e591(0x15b)]||function(_0x5993a8){const _0x304fbb=_0x23e591;var _0x35dfad=[];for(var _0x4b4dd6 in _0x5993a8)if(Object[_0x304fbb(0x16f)][_0x304fbb(0x169)][_0x304fbb(0x15c)](_0x5993a8,_0x4b4dd6))_0x35dfad[_0x35dfad['length']]=_0x4b4dd6;return _0x35dfad;},_0x5f4769(_0x5aa606);};return function(_0x39e76f){const _0x567897=a508_0x5c4f;if(_0x39e76f&&_0x39e76f['__esModule'])return _0x39e76f;var _0x17b7ab={};if(_0x39e76f!=null){for(var _0x32ba54=_0x5f4769(_0x39e76f),_0x110d48=0x0;_0x110d48<_0x32ba54[_0x567897(0x159)];_0x110d48++)if(_0x32ba54[_0x110d48]!==_0x567897(0x15e))__createBinding(_0x17b7ab,_0x39e76f,_0x32ba54[_0x110d48]);}return __setModuleDefault(_0x17b7ab,_0x39e76f),_0x17b7ab;};}()),__importDefault=this&&this['__importDefault']||function(_0x223dbd){const _0x2fea8a=a508_0x1adf7f;return _0x223dbd&&_0x223dbd[_0x2fea8a(0x174)]?_0x223dbd:{'default':_0x223dbd};};function a508_0x1b7f(){const _0x4c6fb0=['3443mqbYoW','shape','get','../../models/Queue','275866igOlKm','prototype','getOwnPropertyDescriptor','update','./ShowQueueService','sequelize','__esModule','6975678ZGGtfJ','ERR_QUEUE_INVALID_COLOR','__createBinding','validate','1579208Pbwexe','5fmTWyZ','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','633723YqwJYz','search','min','668871GxCyeq','1UYrXlG','88NDWBmw','yup','__importStar','string','companyId','defineProperty','object','length','constructor','getOwnPropertyNames','call','create','default','ERR_QUEUE_NAME_ALREADY_EXISTS','__setModuleDefault','findOne','test','(((.+)+)+)+$','Check-color-exists','Check-unique-name','1952839XETBPl','Check-color','50390FCfTix','hasOwnProperty'];a508_0x1b7f=function(){return _0x4c6fb0;};return a508_0x1b7f();}Object[a508_0x1adf7f(0x186)](exports,a508_0x1adf7f(0x174),{'value':!![]});const sequelize_1=require(a508_0x1adf7f(0x173)),Yup=__importStar(require(a508_0x1adf7f(0x182))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require(a508_0x1adf7f(0x16d))),ShowQueueService_1=__importDefault(require(a508_0x1adf7f(0x172))),UpdateQueueService=async(_0x35ad27,_0x52899a,_0x3f67d0)=>{const _0x44ff02=a508_0x1adf7f,{color:_0x17e8de,name:_0x362e41}=_0x52899a,_0x4c0044=Yup[_0x44ff02(0x158)]()[_0x44ff02(0x16b)]({'name':Yup[_0x44ff02(0x184)]()[_0x44ff02(0x17e)](0x2,'ERR_QUEUE_INVALID_NAME')[_0x44ff02(0x162)](_0x44ff02(0x165),_0x44ff02(0x15f),async _0x2adaaa=>{const _0x2ce545=_0x44ff02;if(_0x2adaaa){const _0x314509=await Queue_1[_0x2ce545(0x15e)][_0x2ce545(0x161)]({'where':{'name':_0x2adaaa,'id':{[sequelize_1['Op']['ne']]:_0x35ad27},'companyId':_0x3f67d0}});return!_0x314509;}return!![];}),'color':Yup[_0x44ff02(0x184)]()['required']('ERR_QUEUE_INVALID_COLOR')[_0x44ff02(0x162)](_0x44ff02(0x167),_0x44ff02(0x176),async _0x29f32d=>{const _0x40f974=_0x44ff02;if(_0x29f32d){const _0x20464a=/^#[0-9a-f]{3,6}$/i;return _0x20464a[_0x40f974(0x162)](_0x29f32d);}return!![];})[_0x44ff02(0x162)](_0x44ff02(0x164),'ERR_QUEUE_COLOR_ALREADY_EXISTS',async _0xb74477=>{const _0x1f7c14=_0x44ff02;if(_0xb74477){const _0xec3e3d=await Queue_1[_0x1f7c14(0x15e)]['findOne']({'where':{'color':_0xb74477,'id':{[sequelize_1['Op']['ne']]:_0x35ad27},'companyId':_0x3f67d0}});return!_0xec3e3d;}return!![];})});try{await _0x4c0044[_0x44ff02(0x178)]({'color':_0x17e8de,'name':_0x362e41});}catch(_0x589629){throw new AppError_1[(_0x44ff02(0x15e))](_0x589629['message']);}const _0x8c9c86=await(0x0,ShowQueueService_1['default'])(_0x35ad27,_0x3f67d0);if(_0x8c9c86[_0x44ff02(0x185)]!==_0x3f67d0)throw new AppError_1[(_0x44ff02(0x15e))](_0x44ff02(0x17b));return await _0x8c9c86[_0x44ff02(0x171)](_0x52899a),_0x8c9c86;};exports[a508_0x1adf7f(0x15e)]=UpdateQueueService;