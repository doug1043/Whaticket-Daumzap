const a480_0x1c4acf=a480_0x22db;(function(_0x5ee5fe,_0x1f1d29){const _0x2b0f42=a480_0x22db,_0x58c70c=_0x5ee5fe();while(!![]){try{const _0x20338a=parseInt(_0x2b0f42(0xe9))/0x1+parseInt(_0x2b0f42(0xcd))/0x2*(parseInt(_0x2b0f42(0xe1))/0x3)+-parseInt(_0x2b0f42(0xd7))/0x4+parseInt(_0x2b0f42(0xda))/0x5+parseInt(_0x2b0f42(0xe7))/0x6+-parseInt(_0x2b0f42(0xef))/0x7*(-parseInt(_0x2b0f42(0xdd))/0x8)+parseInt(_0x2b0f42(0xd0))/0x9*(-parseInt(_0x2b0f42(0xc8))/0xa);if(_0x20338a===_0x1f1d29)break;else _0x58c70c['push'](_0x58c70c['shift']());}catch(_0x5446a1){_0x58c70c['push'](_0x58c70c['shift']());}}}(a480_0x49f6,0x40d4d));function a480_0x22db(_0x224461,_0x384b44){const _0x210dcf=a480_0x49f6();return a480_0x22db=function(_0x23995b,_0x3278e0){_0x23995b=_0x23995b-0xc4;let _0x49f6f9=_0x210dcf[_0x23995b];return _0x49f6f9;},a480_0x22db(_0x224461,_0x384b44);}function a480_0x49f6(){const _0x23c8ba=['get','__esModule','ERR_QUEUE_COLOR_ALREADY_EXISTS','test','900CPWKeC','__createBinding','__setModuleDefault','getOwnPropertyDescriptor','defineProperty','18LWwHIh','findOne','ERR_QUEUE_INVALID_NAME','123264gEzeAB','companyId','validate','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','(((.+)+)+)+$','Check-unique-name','ERR_QUEUE_NAME_ALREADY_EXISTS','174440sBiAiK','sequelize','__importStar','2347920GntRnJ','object','constructor','10664qGotXS','apply','hasOwnProperty','__importDefault','36753NKdcQz','prototype','default','Check-color','ERR_QUEUE_INVALID_COLOR','../../models/Queue','3027198eDYOch','Check-color-exists','397438yUuGDm','required','./ShowQueueService','shape','search','configurable','315JuBZkp','toString'];a480_0x49f6=function(){return _0x23c8ba;};return a480_0x49f6();}const a480_0x3278e0=(function(){let _0x2006e0=!![];return function(_0x5ac4ba,_0x84040d){const _0x5dfb8a=_0x2006e0?function(){const _0x90a58c=a480_0x22db;if(_0x84040d){const _0x10dac4=_0x84040d[_0x90a58c(0xde)](_0x5ac4ba,arguments);return _0x84040d=null,_0x10dac4;}}:function(){};return _0x2006e0=![],_0x5dfb8a;};}()),a480_0x23995b=a480_0x3278e0(this,function(){const _0x50edc9=a480_0x22db;return a480_0x23995b[_0x50edc9(0xf0)]()[_0x50edc9(0xed)](_0x50edc9(0xd4))[_0x50edc9(0xf0)]()[_0x50edc9(0xdc)](a480_0x23995b)[_0x50edc9(0xed)](_0x50edc9(0xd4));});a480_0x23995b();'use strict';var __createBinding=this&&this[a480_0x1c4acf(0xc9)]||(Object['create']?function(_0x4ad03c,_0x3e87c0,_0x4bd925,_0x5a8d93){const _0x5b0a85=a480_0x1c4acf;if(_0x5a8d93===undefined)_0x5a8d93=_0x4bd925;var _0x3819bc=Object[_0x5b0a85(0xcb)](_0x3e87c0,_0x4bd925);(!_0x3819bc||(_0x5b0a85(0xc4)in _0x3819bc?!_0x3e87c0[_0x5b0a85(0xc5)]:_0x3819bc['writable']||_0x3819bc[_0x5b0a85(0xee)]))&&(_0x3819bc={'enumerable':!![],'get':function(){return _0x3e87c0[_0x4bd925];}}),Object['defineProperty'](_0x4ad03c,_0x5a8d93,_0x3819bc);}:function(_0x55630f,_0x4495f3,_0x2e5159,_0x13b433){if(_0x13b433===undefined)_0x13b433=_0x2e5159;_0x55630f[_0x13b433]=_0x4495f3[_0x2e5159];}),__setModuleDefault=this&&this[a480_0x1c4acf(0xca)]||(Object['create']?function(_0x2d04ad,_0x340a16){const _0xe0ead3=a480_0x1c4acf;Object[_0xe0ead3(0xcc)](_0x2d04ad,_0xe0ead3(0xe3),{'enumerable':!![],'value':_0x340a16});}:function(_0xf777da,_0x10c659){const _0x392d48=a480_0x1c4acf;_0xf777da[_0x392d48(0xe3)]=_0x10c659;}),__importStar=this&&this[a480_0x1c4acf(0xd9)]||function(_0x5db998){const _0x2a6787=a480_0x1c4acf;if(_0x5db998&&_0x5db998[_0x2a6787(0xc5)])return _0x5db998;var _0x4ecb65={};if(_0x5db998!=null){for(var _0x2bcb6f in _0x5db998)if(_0x2bcb6f!==_0x2a6787(0xe3)&&Object[_0x2a6787(0xe2)][_0x2a6787(0xdf)]['call'](_0x5db998,_0x2bcb6f))__createBinding(_0x4ecb65,_0x5db998,_0x2bcb6f);}return __setModuleDefault(_0x4ecb65,_0x5db998),_0x4ecb65;},__importDefault=this&&this[a480_0x1c4acf(0xe0)]||function(_0x228641){const _0x3e5e61=a480_0x1c4acf;return _0x228641&&_0x228641[_0x3e5e61(0xc5)]?_0x228641:{'default':_0x228641};};Object[a480_0x1c4acf(0xcc)](exports,a480_0x1c4acf(0xc5),{'value':!![]});const sequelize_1=require(a480_0x1c4acf(0xd8)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require(a480_0x1c4acf(0xe6))),ShowQueueService_1=__importDefault(require(a480_0x1c4acf(0xeb))),UpdateQueueService=async(_0x51c6c1,_0x1d7add,_0x471627)=>{const _0x590f7a=a480_0x1c4acf,{color:_0x1e07e0,name:_0x233ef6}=_0x1d7add,_0xa6acf6=Yup[_0x590f7a(0xdb)]()[_0x590f7a(0xec)]({'name':Yup['string']()['min'](0x2,_0x590f7a(0xcf))['test'](_0x590f7a(0xd5),_0x590f7a(0xd6),async _0x40c702=>{const _0x3bbb9c=_0x590f7a;if(_0x40c702){const _0x2f8ae6=await Queue_1[_0x3bbb9c(0xe3)][_0x3bbb9c(0xce)]({'where':{'name':_0x40c702,'id':{[sequelize_1['Op']['ne']]:_0x51c6c1},'companyId':_0x471627}});return!_0x2f8ae6;}return!![];}),'color':Yup['string']()[_0x590f7a(0xea)](_0x590f7a(0xe5))['test'](_0x590f7a(0xe4),_0x590f7a(0xe5),async _0x28e6c7=>{const _0x3338c6=_0x590f7a;if(_0x28e6c7){const _0x47df1e=/^#[0-9a-f]{3,6}$/i;return _0x47df1e[_0x3338c6(0xc7)](_0x28e6c7);}return!![];})['test'](_0x590f7a(0xe8),_0x590f7a(0xc6),async _0x246a65=>{const _0x38c546=_0x590f7a;if(_0x246a65){const _0x10cc04=await Queue_1[_0x38c546(0xe3)][_0x38c546(0xce)]({'where':{'color':_0x246a65,'id':{[sequelize_1['Op']['ne']]:_0x51c6c1},'companyId':_0x471627}});return!_0x10cc04;}return!![];})});try{await _0xa6acf6[_0x590f7a(0xd2)]({'color':_0x1e07e0,'name':_0x233ef6});}catch(_0x3f0b66){throw new AppError_1[(_0x590f7a(0xe3))](_0x3f0b66['message']);}const _0x278269=await(0x0,ShowQueueService_1[_0x590f7a(0xe3)])(_0x51c6c1,_0x471627);if(_0x278269[_0x590f7a(0xd1)]!==_0x471627)throw new AppError_1[(_0x590f7a(0xe3))](_0x590f7a(0xd3));return await _0x278269['update'](_0x1d7add),_0x278269;};exports['default']=UpdateQueueService;