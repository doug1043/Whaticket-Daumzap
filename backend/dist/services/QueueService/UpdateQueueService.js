'use strict';const a619_0x9f5ae3=a619_0x5a86;(function(_0x3ab0ed,_0x363ac4){const _0x12ee03=a619_0x5a86,_0xc3002e=_0x3ab0ed();while(!![]){try{const _0x175a5d=-parseInt(_0x12ee03(0x124))/0x1+-parseInt(_0x12ee03(0x120))/0x2+-parseInt(_0x12ee03(0x104))/0x3*(parseInt(_0x12ee03(0x103))/0x4)+parseInt(_0x12ee03(0x100))/0x5+parseInt(_0x12ee03(0x116))/0x6*(-parseInt(_0x12ee03(0x106))/0x7)+-parseInt(_0x12ee03(0xfe))/0x8+-parseInt(_0x12ee03(0xfc))/0x9*(-parseInt(_0x12ee03(0x10f))/0xa);if(_0x175a5d===_0x363ac4)break;else _0xc3002e['push'](_0xc3002e['shift']());}catch(_0x2c3c50){_0xc3002e['push'](_0xc3002e['shift']());}}}(a619_0x4da7,0x97841));function a619_0x4da7(){const _0x1ed9da=['configurable','ERR_QUEUE_INVALID_NAME','(((.+)+)+)+$','313510TlJeaZ','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','ERR_QUEUE_ORDER_ALREADY_EXISTS','message','ERR_QUEUE_ORDER_INVALID','__importStar','Check-color-exists','6EkUJZc','create','transform','ERR_QUEUE_NAME_ALREADY_EXISTS','test','min','ERR_QUEUE_ORDER_REQUIRED','Check-unique-name','get','toString','807914vmeCib','sequelize','Check-color','default','1094692moRruh','shape','constructor','defineProperty','__setModuleDefault','update','object','Check-unique-order','findOne','hasOwnProperty','__esModule','companyId','getOwnPropertyNames','ERR_QUEUE_INVALID_COLOR','search','1134MlFBAt','../../errors/AppError','9131968gValEj','ERR_QUEUE_COLOR_ALREADY_EXISTS','3274955Ntyyir','required','integer','1285484PpgSVy','3oyjwmh','length','7161644lPuGuu','../../models/Queue','string','validate','./ShowQueueService','__createBinding'];a619_0x4da7=function(){return _0x1ed9da;};return a619_0x4da7();}function a619_0x5a86(_0xab7270,_0x1f7ffb){const _0x1cef02=a619_0x4da7();return a619_0x5a86=function(_0x47b982,_0x3464e3){_0x47b982=_0x47b982-0xfa;let _0x4da7d0=_0x1cef02[_0x47b982];return _0x4da7d0;},a619_0x5a86(_0xab7270,_0x1f7ffb);}var __createBinding=this&&this[a619_0x9f5ae3(0x10b)]||(Object[a619_0x9f5ae3(0x117)]?function(_0x1995c4,_0x2aca27,_0x52865a,_0xba81be){const _0x22659e=a619_0x9f5ae3;if(_0xba81be===undefined)_0xba81be=_0x52865a;var _0x215292=Object['getOwnPropertyDescriptor'](_0x2aca27,_0x52865a);(!_0x215292||(_0x22659e(0x11e)in _0x215292?!_0x2aca27[_0x22659e(0x12e)]:_0x215292['writable']||_0x215292[_0x22659e(0x10c)]))&&(_0x215292={'enumerable':!![],'get':function(){return _0x2aca27[_0x52865a];}}),Object[_0x22659e(0x127)](_0x1995c4,_0xba81be,_0x215292);}:function(_0x5b3e74,_0x1d6e6f,_0x2f7866,_0x2e3130){if(_0x2e3130===undefined)_0x2e3130=_0x2f7866;_0x5b3e74[_0x2e3130]=_0x1d6e6f[_0x2f7866];}),__setModuleDefault=this&&this[a619_0x9f5ae3(0x128)]||(Object[a619_0x9f5ae3(0x117)]?function(_0x50bd5e,_0x522c9e){const _0x555cf7=a619_0x9f5ae3;Object[_0x555cf7(0x127)](_0x50bd5e,'default',{'enumerable':!![],'value':_0x522c9e});}:function(_0x3e1a37,_0x94800a){_0x3e1a37['default']=_0x94800a;}),__importStar=this&&this[a619_0x9f5ae3(0x114)]||(function(){const _0x3aa91d=(function(){let _0x3f127e=!![];return function(_0xa0a92b,_0x2e7e05){const _0x156044=_0x3f127e?function(){if(_0x2e7e05){const _0x39df58=_0x2e7e05['apply'](_0xa0a92b,arguments);return _0x2e7e05=null,_0x39df58;}}:function(){};return _0x3f127e=![],_0x156044;};}()),_0x19ac85=_0x3aa91d(this,function(){const _0x5466be=a619_0x5a86;return _0x19ac85[_0x5466be(0x11f)]()[_0x5466be(0xfb)](_0x5466be(0x10e))['toString']()[_0x5466be(0x126)](_0x19ac85)[_0x5466be(0xfb)](_0x5466be(0x10e));});_0x19ac85();var _0x55687e=function(_0x244933){const _0x37f684=a619_0x5a86;return _0x55687e=Object[_0x37f684(0x130)]||function(_0x4abe08){const _0x5d9026=_0x37f684;var _0x4c7b06=[];for(var _0x1fefdf in _0x4abe08)if(Object['prototype'][_0x5d9026(0x12d)]['call'](_0x4abe08,_0x1fefdf))_0x4c7b06[_0x4c7b06[_0x5d9026(0x105)]]=_0x1fefdf;return _0x4c7b06;},_0x55687e(_0x244933);};return function(_0x1faa99){const _0x5aad98=a619_0x5a86;if(_0x1faa99&&_0x1faa99[_0x5aad98(0x12e)])return _0x1faa99;var _0x2d0538={};if(_0x1faa99!=null){for(var _0x10e3bf=_0x55687e(_0x1faa99),_0x44ab3c=0x0;_0x44ab3c<_0x10e3bf[_0x5aad98(0x105)];_0x44ab3c++)if(_0x10e3bf[_0x44ab3c]!==_0x5aad98(0x123))__createBinding(_0x2d0538,_0x1faa99,_0x10e3bf[_0x44ab3c]);}return __setModuleDefault(_0x2d0538,_0x1faa99),_0x2d0538;};}()),__importDefault=this&&this['__importDefault']||function(_0x2e1294){return _0x2e1294&&_0x2e1294['__esModule']?_0x2e1294:{'default':_0x2e1294};};Object['defineProperty'](exports,a619_0x9f5ae3(0x12e),{'value':!![]});const sequelize_1=require(a619_0x9f5ae3(0x121)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a619_0x9f5ae3(0xfd))),Queue_1=__importDefault(require(a619_0x9f5ae3(0x107))),ShowQueueService_1=__importDefault(require(a619_0x9f5ae3(0x10a))),UpdateQueueService=async(_0x40faae,_0x52da5c,_0x5d9adb)=>{const _0x1dfac1=a619_0x9f5ae3,{color:_0x39e3d2,name:_0x1684f2,orderQueue:_0x478687}=_0x52da5c,_0x534978=Yup[_0x1dfac1(0x12a)]()[_0x1dfac1(0x125)]({'name':Yup[_0x1dfac1(0x108)]()[_0x1dfac1(0x11b)](0x2,_0x1dfac1(0x10d))[_0x1dfac1(0x11a)](_0x1dfac1(0x11d),_0x1dfac1(0x119),async _0x5cf4c2=>{const _0x5871a8=_0x1dfac1;if(_0x5cf4c2){const _0x4ea8ef=await Queue_1[_0x5871a8(0x123)][_0x5871a8(0x12c)]({'where':{'name':_0x5cf4c2,'id':{[sequelize_1['Op']['ne']]:_0x40faae},'companyId':_0x5d9adb}});return!_0x4ea8ef;}return!![];}),'color':Yup[_0x1dfac1(0x108)]()['required'](_0x1dfac1(0xfa))[_0x1dfac1(0x11a)](_0x1dfac1(0x122),_0x1dfac1(0xfa),async _0x509d92=>{const _0x5ada0e=_0x1dfac1;if(_0x509d92){const _0x5bdd20=/^#[0-9a-f]{3,6}$/i;return _0x5bdd20[_0x5ada0e(0x11a)](_0x509d92);}return!![];})['test'](_0x1dfac1(0x115),_0x1dfac1(0xff),async _0x261c4e=>{const _0x2eb02b=_0x1dfac1;if(_0x261c4e){const _0x66444c=await Queue_1['default'][_0x2eb02b(0x12c)]({'where':{'color':_0x261c4e,'id':{[sequelize_1['Op']['ne']]:_0x40faae},'companyId':_0x5d9adb}});return!_0x66444c;}return!![];}),'orderQueue':Yup['number']()[_0x1dfac1(0x118)]((_0xb36220,_0x380f33)=>{return _0x380f33===''?undefined:_0xb36220;})['typeError'](_0x1dfac1(0x11c))[_0x1dfac1(0x101)](_0x1dfac1(0x11c))[_0x1dfac1(0x11b)](0x1,_0x1dfac1(0x113))[_0x1dfac1(0x102)](_0x1dfac1(0x113))[_0x1dfac1(0x11a)](_0x1dfac1(0x12b),_0x1dfac1(0x111),async _0x16174f=>{const _0x1a967b=_0x1dfac1;if(_0x16174f&&_0x16174f>=0x1){const _0x1ba668=await Queue_1[_0x1a967b(0x123)][_0x1a967b(0x12c)]({'where':{'orderQueue':_0x16174f,'id':{[sequelize_1['Op']['ne']]:_0x40faae},'companyId':_0x5d9adb}});return!_0x1ba668;}return!![];})});try{await _0x534978[_0x1dfac1(0x109)]({'color':_0x39e3d2,'name':_0x1684f2,'orderQueue':_0x478687});}catch(_0x492ce2){throw new AppError_1[(_0x1dfac1(0x123))](_0x492ce2[_0x1dfac1(0x112)]);}const _0x363b51=await(0x0,ShowQueueService_1['default'])(_0x40faae,_0x5d9adb);if(_0x363b51[_0x1dfac1(0x12f)]!==_0x5d9adb)throw new AppError_1['default'](_0x1dfac1(0x110));return await _0x363b51[_0x1dfac1(0x129)](_0x52da5c),_0x363b51;};exports[a619_0x9f5ae3(0x123)]=UpdateQueueService;