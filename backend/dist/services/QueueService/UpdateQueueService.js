const a479_0x451385=a479_0x2a6f;(function(_0x3769a4,_0x26b595){const _0x4e600b=a479_0x2a6f,_0x5e4054=_0x3769a4();while(!![]){try{const _0x38c677=parseInt(_0x4e600b(0x1fe))/0x1*(-parseInt(_0x4e600b(0x216))/0x2)+parseInt(_0x4e600b(0x1f8))/0x3*(-parseInt(_0x4e600b(0x21b))/0x4)+-parseInt(_0x4e600b(0x212))/0x5+-parseInt(_0x4e600b(0x1f4))/0x6+parseInt(_0x4e600b(0x207))/0x7+parseInt(_0x4e600b(0x20c))/0x8*(-parseInt(_0x4e600b(0x205))/0x9)+parseInt(_0x4e600b(0x206))/0xa*(parseInt(_0x4e600b(0x20d))/0xb);if(_0x38c677===_0x26b595)break;else _0x5e4054['push'](_0x5e4054['shift']());}catch(_0x1b8fc8){_0x5e4054['push'](_0x5e4054['shift']());}}}(a479_0x18b6,0x4bdd5));const a479_0x29f87e=(function(){let _0x9bad00=!![];return function(_0x8ce7c0,_0x2fca2d){const _0x247c84=_0x9bad00?function(){const _0x238047=a479_0x2a6f;if(_0x2fca2d){const _0x48ca1b=_0x2fca2d[_0x238047(0x201)](_0x8ce7c0,arguments);return _0x2fca2d=null,_0x48ca1b;}}:function(){};return _0x9bad00=![],_0x247c84;};}()),a479_0x12fc8e=a479_0x29f87e(this,function(){const _0x10ab8f=a479_0x2a6f;return a479_0x12fc8e[_0x10ab8f(0x214)]()[_0x10ab8f(0x202)](_0x10ab8f(0x1f5))['toString']()[_0x10ab8f(0x20b)](a479_0x12fc8e)[_0x10ab8f(0x202)](_0x10ab8f(0x1f5));});function a479_0x18b6(){const _0x4720c5=['Check-color','shape','10053GKcbNA','5450390yIJGSg','3838814aPHOjS','companyId','__importStar','default','constructor','72dXnmKS','11hfwIhC','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','__setModuleDefault','writable','ERR_QUEUE_INVALID_COLOR','2140KRGtNO','prototype','toString','message','549256LRTSCL','ERR_QUEUE_NAME_ALREADY_EXISTS','yup','create','../../models/Queue','24Upccbh','min','ERR_QUEUE_COLOR_ALREADY_EXISTS','__esModule','Check-color-exists','getOwnPropertyDescriptor','findOne','update','validate','266610bxgpNv','(((.+)+)+)+$','string','configurable','226578VMStww','object','get','test','required','call','1FEaKjB','Check-unique-name','defineProperty','apply','search'];a479_0x18b6=function(){return _0x4720c5;};return a479_0x18b6();}a479_0x12fc8e();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x28b2c5,_0x278024,_0x2bef0a,_0x1821a3){const _0x5d11f2=a479_0x2a6f;if(_0x1821a3===undefined)_0x1821a3=_0x2bef0a;var _0x2794cf=Object[_0x5d11f2(0x1f0)](_0x278024,_0x2bef0a);(!_0x2794cf||(_0x5d11f2(0x1fa)in _0x2794cf?!_0x278024[_0x5d11f2(0x1ee)]:_0x2794cf[_0x5d11f2(0x210)]||_0x2794cf[_0x5d11f2(0x1f7)]))&&(_0x2794cf={'enumerable':!![],'get':function(){return _0x278024[_0x2bef0a];}}),Object[_0x5d11f2(0x200)](_0x28b2c5,_0x1821a3,_0x2794cf);}:function(_0xb49e,_0x764638,_0x513e61,_0x520132){if(_0x520132===undefined)_0x520132=_0x513e61;_0xb49e[_0x520132]=_0x764638[_0x513e61];}),__setModuleDefault=this&&this[a479_0x451385(0x20f)]||(Object[a479_0x451385(0x219)]?function(_0x1bd60b,_0xf20d3f){Object['defineProperty'](_0x1bd60b,'default',{'enumerable':!![],'value':_0xf20d3f});}:function(_0x5217d6,_0x512f73){const _0x52f613=a479_0x451385;_0x5217d6[_0x52f613(0x20a)]=_0x512f73;}),__importStar=this&&this[a479_0x451385(0x209)]||function(_0x100bf3){const _0x30d44a=a479_0x451385;if(_0x100bf3&&_0x100bf3[_0x30d44a(0x1ee)])return _0x100bf3;var _0x386b78={};if(_0x100bf3!=null){for(var _0x2fbd5f in _0x100bf3)if(_0x2fbd5f!==_0x30d44a(0x20a)&&Object[_0x30d44a(0x213)]['hasOwnProperty'][_0x30d44a(0x1fd)](_0x100bf3,_0x2fbd5f))__createBinding(_0x386b78,_0x100bf3,_0x2fbd5f);}return __setModuleDefault(_0x386b78,_0x100bf3),_0x386b78;},__importDefault=this&&this['__importDefault']||function(_0x2a3e33){const _0x3deab8=a479_0x451385;return _0x2a3e33&&_0x2a3e33[_0x3deab8(0x1ee)]?_0x2a3e33:{'default':_0x2a3e33};};Object[a479_0x451385(0x200)](exports,a479_0x451385(0x1ee),{'value':!![]});const sequelize_1=require('sequelize'),Yup=__importStar(require(a479_0x451385(0x218))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require(a479_0x451385(0x21a))),ShowQueueService_1=__importDefault(require('./ShowQueueService')),UpdateQueueService=async(_0x286266,_0x534716,_0x1a78cc)=>{const _0xf797a1=a479_0x451385,{color:_0xa2eb14,name:_0x2b74db}=_0x534716,_0x1d02fc=Yup[_0xf797a1(0x1f9)]()[_0xf797a1(0x204)]({'name':Yup[_0xf797a1(0x1f6)]()[_0xf797a1(0x21c)](0x2,'ERR_QUEUE_INVALID_NAME')[_0xf797a1(0x1fb)](_0xf797a1(0x1ff),_0xf797a1(0x217),async _0x3e4656=>{const _0x11c6fe=_0xf797a1;if(_0x3e4656){const _0x4f1045=await Queue_1['default'][_0x11c6fe(0x1f1)]({'where':{'name':_0x3e4656,'id':{[sequelize_1['Op']['ne']]:_0x286266},'companyId':_0x1a78cc}});return!_0x4f1045;}return!![];}),'color':Yup[_0xf797a1(0x1f6)]()[_0xf797a1(0x1fc)](_0xf797a1(0x211))[_0xf797a1(0x1fb)](_0xf797a1(0x203),_0xf797a1(0x211),async _0x59dbf6=>{const _0x52f17b=_0xf797a1;if(_0x59dbf6){const _0x1e141f=/^#[0-9a-f]{3,6}$/i;return _0x1e141f[_0x52f17b(0x1fb)](_0x59dbf6);}return!![];})['test'](_0xf797a1(0x1ef),_0xf797a1(0x1ed),async _0x4fd62a=>{const _0x509196=_0xf797a1;if(_0x4fd62a){const _0x4c8347=await Queue_1[_0x509196(0x20a)][_0x509196(0x1f1)]({'where':{'color':_0x4fd62a,'id':{[sequelize_1['Op']['ne']]:_0x286266},'companyId':_0x1a78cc}});return!_0x4c8347;}return!![];})});try{await _0x1d02fc[_0xf797a1(0x1f3)]({'color':_0xa2eb14,'name':_0x2b74db});}catch(_0x1214a1){throw new AppError_1['default'](_0x1214a1[_0xf797a1(0x215)]);}const _0x30be06=await(0x0,ShowQueueService_1[_0xf797a1(0x20a)])(_0x286266,_0x1a78cc);if(_0x30be06[_0xf797a1(0x208)]!==_0x1a78cc)throw new AppError_1[(_0xf797a1(0x20a))](_0xf797a1(0x20e));return await _0x30be06[_0xf797a1(0x1f2)](_0x534716),_0x30be06;};function a479_0x2a6f(_0x417b32,_0x815f59){const _0x118661=a479_0x18b6();return a479_0x2a6f=function(_0x12fc8e,_0x29f87e){_0x12fc8e=_0x12fc8e-0x1ed;let _0x18b61d=_0x118661[_0x12fc8e];return _0x18b61d;},a479_0x2a6f(_0x417b32,_0x815f59);}exports[a479_0x451385(0x20a)]=UpdateQueueService;