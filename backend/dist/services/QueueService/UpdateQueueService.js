'use strict';function a503_0x465b(_0x28e56b,_0x25d6ad){const _0x4a0f7a=a503_0xb222();return a503_0x465b=function(_0x53b9b6,_0x3a636f){_0x53b9b6=_0x53b9b6-0xce;let _0xb222b3=_0x4a0f7a[_0x53b9b6];return _0xb222b3;},a503_0x465b(_0x28e56b,_0x25d6ad);}const a503_0x14e0de=a503_0x465b;(function(_0x34722c,_0xc9bf62){const _0x2f36f1=a503_0x465b,_0x20e716=_0x34722c();while(!![]){try{const _0x3b01d6=parseInt(_0x2f36f1(0xf2))/0x1+parseInt(_0x2f36f1(0xe6))/0x2*(parseInt(_0x2f36f1(0xe0))/0x3)+-parseInt(_0x2f36f1(0xfc))/0x4*(-parseInt(_0x2f36f1(0xd2))/0x5)+-parseInt(_0x2f36f1(0xdb))/0x6*(-parseInt(_0x2f36f1(0xd9))/0x7)+parseInt(_0x2f36f1(0xfb))/0x8+-parseInt(_0x2f36f1(0xdf))/0x9*(parseInt(_0x2f36f1(0xf6))/0xa)+-parseInt(_0x2f36f1(0xf5))/0xb;if(_0x3b01d6===_0xc9bf62)break;else _0x20e716['push'](_0x20e716['shift']());}catch(_0x4220bb){_0x20e716['push'](_0x20e716['shift']());}}}(a503_0xb222,0x60a5c));function a503_0xb222(){const _0x28fd43=['530510RHSCzL','hasOwnProperty','findOne','prototype','shape','call','getOwnPropertyDescriptor','7zJugto','./ShowQueueService','633246avWEhA','get','sequelize','../../errors/AppError','3146832iUHjXZ','3gChbni','__importDefault','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','apply','writable','toString','241766ZJEkfu','update','length','search','Check-color','__createBinding','__setModuleDefault','create','ERR_QUEUE_COLOR_ALREADY_EXISTS','(((.+)+)+)+$','configurable','getOwnPropertyNames','604406NhnvMh','__importStar','test','5287106yfMFSv','10RybPaA','min','object','default','string','616208wyuxYg','12bcWXjG','required','companyId','defineProperty','../../models/Queue','ERR_QUEUE_NAME_ALREADY_EXISTS'];a503_0xb222=function(){return _0x28fd43;};return a503_0xb222();}var __createBinding=this&&this[a503_0x14e0de(0xeb)]||(Object['create']?function(_0x392592,_0x1074ba,_0x138fd4,_0x5136e7){const _0x4296fa=a503_0x14e0de;if(_0x5136e7===undefined)_0x5136e7=_0x138fd4;var _0x20b686=Object[_0x4296fa(0xd8)](_0x1074ba,_0x138fd4);(!_0x20b686||(_0x4296fa(0xdc)in _0x20b686?!_0x1074ba['__esModule']:_0x20b686[_0x4296fa(0xe4)]||_0x20b686[_0x4296fa(0xf0)]))&&(_0x20b686={'enumerable':!![],'get':function(){return _0x1074ba[_0x138fd4];}}),Object[_0x4296fa(0xcf)](_0x392592,_0x5136e7,_0x20b686);}:function(_0x2638be,_0x3839af,_0x1ce2c7,_0x562451){if(_0x562451===undefined)_0x562451=_0x1ce2c7;_0x2638be[_0x562451]=_0x3839af[_0x1ce2c7];}),__setModuleDefault=this&&this[a503_0x14e0de(0xec)]||(Object[a503_0x14e0de(0xed)]?function(_0x52207c,_0x44a111){const _0x4cb571=a503_0x14e0de;Object['defineProperty'](_0x52207c,_0x4cb571(0xf9),{'enumerable':!![],'value':_0x44a111});}:function(_0x4fe5eb,_0x42e335){const _0x37a295=a503_0x14e0de;_0x4fe5eb[_0x37a295(0xf9)]=_0x42e335;}),__importStar=this&&this[a503_0x14e0de(0xf3)]||(function(){const _0x5eb927=(function(){let _0x13f4e6=!![];return function(_0x4c8f31,_0x4841a4){const _0x16e77a=_0x13f4e6?function(){const _0x3d940d=a503_0x465b;if(_0x4841a4){const _0x30277e=_0x4841a4[_0x3d940d(0xe3)](_0x4c8f31,arguments);return _0x4841a4=null,_0x30277e;}}:function(){};return _0x13f4e6=![],_0x16e77a;};}()),_0x39d07f=_0x5eb927(this,function(){const _0x2fff8f=a503_0x465b;return _0x39d07f[_0x2fff8f(0xe5)]()[_0x2fff8f(0xe9)](_0x2fff8f(0xef))[_0x2fff8f(0xe5)]()['constructor'](_0x39d07f)[_0x2fff8f(0xe9)](_0x2fff8f(0xef));});_0x39d07f();var _0x2b707b=function(_0xcbdfbc){const _0x406289=a503_0x465b;return _0x2b707b=Object[_0x406289(0xf1)]||function(_0x4689c8){const _0x224c01=_0x406289;var _0x38d1b9=[];for(var _0x229168 in _0x4689c8)if(Object[_0x224c01(0xd5)][_0x224c01(0xd3)][_0x224c01(0xd7)](_0x4689c8,_0x229168))_0x38d1b9[_0x38d1b9[_0x224c01(0xe8)]]=_0x229168;return _0x38d1b9;},_0x2b707b(_0xcbdfbc);};return function(_0x343ee2){const _0x2d1a66=a503_0x465b;if(_0x343ee2&&_0x343ee2['__esModule'])return _0x343ee2;var _0x9a44f4={};if(_0x343ee2!=null){for(var _0x1d4f30=_0x2b707b(_0x343ee2),_0x55a2af=0x0;_0x55a2af<_0x1d4f30[_0x2d1a66(0xe8)];_0x55a2af++)if(_0x1d4f30[_0x55a2af]!=='default')__createBinding(_0x9a44f4,_0x343ee2,_0x1d4f30[_0x55a2af]);}return __setModuleDefault(_0x9a44f4,_0x343ee2),_0x9a44f4;};}()),__importDefault=this&&this[a503_0x14e0de(0xe1)]||function(_0x4a5a78){return _0x4a5a78&&_0x4a5a78['__esModule']?_0x4a5a78:{'default':_0x4a5a78};};Object[a503_0x14e0de(0xcf)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a503_0x14e0de(0xdd)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a503_0x14e0de(0xde))),Queue_1=__importDefault(require(a503_0x14e0de(0xd0))),ShowQueueService_1=__importDefault(require(a503_0x14e0de(0xda))),UpdateQueueService=async(_0x576be0,_0xa1af2d,_0x12d23d)=>{const _0x1ed7f0=a503_0x14e0de,{color:_0xc5d0e9,name:_0x100996}=_0xa1af2d,_0x4d9b28=Yup[_0x1ed7f0(0xf8)]()[_0x1ed7f0(0xd6)]({'name':Yup[_0x1ed7f0(0xfa)]()[_0x1ed7f0(0xf7)](0x2,'ERR_QUEUE_INVALID_NAME')['test']('Check-unique-name',_0x1ed7f0(0xd1),async _0x575635=>{const _0x1d9778=_0x1ed7f0;if(_0x575635){const _0x5d8831=await Queue_1[_0x1d9778(0xf9)]['findOne']({'where':{'name':_0x575635,'id':{[sequelize_1['Op']['ne']]:_0x576be0},'companyId':_0x12d23d}});return!_0x5d8831;}return!![];}),'color':Yup[_0x1ed7f0(0xfa)]()[_0x1ed7f0(0xfd)]('ERR_QUEUE_INVALID_COLOR')[_0x1ed7f0(0xf4)](_0x1ed7f0(0xea),'ERR_QUEUE_INVALID_COLOR',async _0x3ffaff=>{if(_0x3ffaff){const _0x5dac85=/^#[0-9a-f]{3,6}$/i;return _0x5dac85['test'](_0x3ffaff);}return!![];})['test']('Check-color-exists',_0x1ed7f0(0xee),async _0x2c05c4=>{const _0x405a03=_0x1ed7f0;if(_0x2c05c4){const _0x4950ea=await Queue_1[_0x405a03(0xf9)][_0x405a03(0xd4)]({'where':{'color':_0x2c05c4,'id':{[sequelize_1['Op']['ne']]:_0x576be0},'companyId':_0x12d23d}});return!_0x4950ea;}return!![];})});try{await _0x4d9b28['validate']({'color':_0xc5d0e9,'name':_0x100996});}catch(_0x2daa23){throw new AppError_1[(_0x1ed7f0(0xf9))](_0x2daa23['message']);}const _0x4ff365=await(0x0,ShowQueueService_1[_0x1ed7f0(0xf9)])(_0x576be0,_0x12d23d);if(_0x4ff365[_0x1ed7f0(0xce)]!==_0x12d23d)throw new AppError_1[(_0x1ed7f0(0xf9))](_0x1ed7f0(0xe2));return await _0x4ff365[_0x1ed7f0(0xe7)](_0xa1af2d),_0x4ff365;};exports[a503_0x14e0de(0xf9)]=UpdateQueueService;