const a481_0x351795=a481_0x3594;(function(_0x55f503,_0xbf16b7){const _0x3b8d33=a481_0x3594,_0x179025=_0x55f503();while(!![]){try{const _0xfc944b=parseInt(_0x3b8d33(0x129))/0x1+-parseInt(_0x3b8d33(0x143))/0x2*(parseInt(_0x3b8d33(0x13e))/0x3)+parseInt(_0x3b8d33(0x12e))/0x4*(-parseInt(_0x3b8d33(0x13f))/0x5)+parseInt(_0x3b8d33(0x14a))/0x6+-parseInt(_0x3b8d33(0x13a))/0x7*(parseInt(_0x3b8d33(0x14d))/0x8)+parseInt(_0x3b8d33(0x135))/0x9+parseInt(_0x3b8d33(0x146))/0xa;if(_0xfc944b===_0xbf16b7)break;else _0x179025['push'](_0x179025['shift']());}catch(_0x57cd62){_0x179025['push'](_0x179025['shift']());}}}(a481_0x5beb,0x36366));function a481_0x5beb(){const _0x523fca=['4685230teitqP','update','validate','../../errors/AppError','27012WFshDi','companyId','ERR_QUEUE_INVALID_COLOR','8ZkekbA','call','defineProperty','configurable','__importStar','apply','findOne','search','message','object','69528cTBbWy','min','../../models/Queue','sequelize','ERR_QUEUE_INVALID_NAME','100xugNVz','create','ERR_QUEUE_NAME_ALREADY_EXISTS','(((.+)+)+)+$','prototype','get','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','2855502HbFDvl','Check-color','required','constructor','toString','1676731dAwJEA','string','__setModuleDefault','__esModule','1030182RiMIpo','10970sroECr','Check-color-exists','ERR_QUEUE_COLOR_ALREADY_EXISTS','default','2vFUorq','test','__createBinding'];a481_0x5beb=function(){return _0x523fca;};return a481_0x5beb();}const a481_0x575169=(function(){let _0x2f3378=!![];return function(_0x625ca3,_0xa0cf28){const _0x3e1571=_0x2f3378?function(){const _0xcf9210=a481_0x3594;if(_0xa0cf28){const _0x4db17c=_0xa0cf28[_0xcf9210(0x124)](_0x625ca3,arguments);return _0xa0cf28=null,_0x4db17c;}}:function(){};return _0x2f3378=![],_0x3e1571;};}()),a481_0x50ac29=a481_0x575169(this,function(){const _0x32a278=a481_0x3594;return a481_0x50ac29['toString']()[_0x32a278(0x126)](_0x32a278(0x131))[_0x32a278(0x139)]()[_0x32a278(0x138)](a481_0x50ac29)[_0x32a278(0x126)](_0x32a278(0x131));});a481_0x50ac29();function a481_0x3594(_0x1411b2,_0x3a760e){const _0x77a0ac=a481_0x5beb();return a481_0x3594=function(_0x50ac29,_0x575169){_0x50ac29=_0x50ac29-0x123;let _0x5bebbc=_0x77a0ac[_0x50ac29];return _0x5bebbc;},a481_0x3594(_0x1411b2,_0x3a760e);}'use strict';var __createBinding=this&&this[a481_0x351795(0x145)]||(Object[a481_0x351795(0x12f)]?function(_0x55b2a9,_0x2cc6d2,_0x1db4f7,_0x4c7d08){const _0x3f1423=a481_0x351795;if(_0x4c7d08===undefined)_0x4c7d08=_0x1db4f7;var _0x2ab3bb=Object['getOwnPropertyDescriptor'](_0x2cc6d2,_0x1db4f7);(!_0x2ab3bb||(_0x3f1423(0x133)in _0x2ab3bb?!_0x2cc6d2[_0x3f1423(0x13d)]:_0x2ab3bb['writable']||_0x2ab3bb[_0x3f1423(0x150)]))&&(_0x2ab3bb={'enumerable':!![],'get':function(){return _0x2cc6d2[_0x1db4f7];}}),Object['defineProperty'](_0x55b2a9,_0x4c7d08,_0x2ab3bb);}:function(_0x516e8f,_0x321503,_0x3ac543,_0x4fe121){if(_0x4fe121===undefined)_0x4fe121=_0x3ac543;_0x516e8f[_0x4fe121]=_0x321503[_0x3ac543];}),__setModuleDefault=this&&this[a481_0x351795(0x13c)]||(Object[a481_0x351795(0x12f)]?function(_0x2f161f,_0x3d2d55){const _0x4f922c=a481_0x351795;Object[_0x4f922c(0x14f)](_0x2f161f,_0x4f922c(0x142),{'enumerable':!![],'value':_0x3d2d55});}:function(_0x4adbc5,_0x1b9b4d){const _0x475ae0=a481_0x351795;_0x4adbc5[_0x475ae0(0x142)]=_0x1b9b4d;}),__importStar=this&&this[a481_0x351795(0x123)]||function(_0x385839){const _0x4c369b=a481_0x351795;if(_0x385839&&_0x385839[_0x4c369b(0x13d)])return _0x385839;var _0x59c5b0={};if(_0x385839!=null){for(var _0x1ca9a0 in _0x385839)if(_0x1ca9a0!==_0x4c369b(0x142)&&Object[_0x4c369b(0x132)]['hasOwnProperty'][_0x4c369b(0x14e)](_0x385839,_0x1ca9a0))__createBinding(_0x59c5b0,_0x385839,_0x1ca9a0);}return __setModuleDefault(_0x59c5b0,_0x385839),_0x59c5b0;},__importDefault=this&&this['__importDefault']||function(_0x368988){const _0x1df3bd=a481_0x351795;return _0x368988&&_0x368988[_0x1df3bd(0x13d)]?_0x368988:{'default':_0x368988};};Object[a481_0x351795(0x14f)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a481_0x351795(0x12c)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a481_0x351795(0x149))),Queue_1=__importDefault(require(a481_0x351795(0x12b))),ShowQueueService_1=__importDefault(require('./ShowQueueService')),UpdateQueueService=async(_0x342a5e,_0x26a9b1,_0x1d9147)=>{const _0x463b35=a481_0x351795,{color:_0xee0589,name:_0x43a351}=_0x26a9b1,_0x4f76f4=Yup[_0x463b35(0x128)]()['shape']({'name':Yup[_0x463b35(0x13b)]()[_0x463b35(0x12a)](0x2,_0x463b35(0x12d))['test']('Check-unique-name',_0x463b35(0x130),async _0x1b7e5b=>{const _0x13035f=_0x463b35;if(_0x1b7e5b){const _0x1439f5=await Queue_1[_0x13035f(0x142)]['findOne']({'where':{'name':_0x1b7e5b,'id':{[sequelize_1['Op']['ne']]:_0x342a5e},'companyId':_0x1d9147}});return!_0x1439f5;}return!![];}),'color':Yup[_0x463b35(0x13b)]()[_0x463b35(0x137)](_0x463b35(0x14c))[_0x463b35(0x144)](_0x463b35(0x136),_0x463b35(0x14c),async _0x50696c=>{const _0x1ee204=_0x463b35;if(_0x50696c){const _0x2df91f=/^#[0-9a-f]{3,6}$/i;return _0x2df91f[_0x1ee204(0x144)](_0x50696c);}return!![];})['test'](_0x463b35(0x140),_0x463b35(0x141),async _0xaac903=>{const _0x112841=_0x463b35;if(_0xaac903){const _0xc2dad0=await Queue_1[_0x112841(0x142)][_0x112841(0x125)]({'where':{'color':_0xaac903,'id':{[sequelize_1['Op']['ne']]:_0x342a5e},'companyId':_0x1d9147}});return!_0xc2dad0;}return!![];})});try{await _0x4f76f4[_0x463b35(0x148)]({'color':_0xee0589,'name':_0x43a351});}catch(_0x276a8c){throw new AppError_1['default'](_0x276a8c[_0x463b35(0x127)]);}const _0x206092=await(0x0,ShowQueueService_1['default'])(_0x342a5e,_0x1d9147);if(_0x206092[_0x463b35(0x14b)]!==_0x1d9147)throw new AppError_1[(_0x463b35(0x142))](_0x463b35(0x134));return await _0x206092[_0x463b35(0x147)](_0x26a9b1),_0x206092;};exports['default']=UpdateQueueService;