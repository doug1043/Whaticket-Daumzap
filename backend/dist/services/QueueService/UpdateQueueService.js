const a472_0x4d1bd0=a472_0x3a23;(function(_0x228ad2,_0x2e7ba2){const _0x2b8993=a472_0x3a23,_0x10010c=_0x228ad2();while(!![]){try{const _0x5bee6b=-parseInt(_0x2b8993(0xea))/0x1+-parseInt(_0x2b8993(0xe7))/0x2*(parseInt(_0x2b8993(0xf0))/0x3)+parseInt(_0x2b8993(0xe8))/0x4*(-parseInt(_0x2b8993(0x101))/0x5)+parseInt(_0x2b8993(0xee))/0x6+-parseInt(_0x2b8993(0xdf))/0x7+parseInt(_0x2b8993(0xd3))/0x8*(parseInt(_0x2b8993(0xf2))/0x9)+parseInt(_0x2b8993(0xfb))/0xa;if(_0x5bee6b===_0x2e7ba2)break;else _0x10010c['push'](_0x10010c['shift']());}catch(_0x221e97){_0x10010c['push'](_0x10010c['shift']());}}}(a472_0x21eb,0x790b8));const a472_0x2b89cf=(function(){let _0x55c2a9=!![];return function(_0x162502,_0x2b026f){const _0x4e7a01=_0x55c2a9?function(){const _0x196b1b=a472_0x3a23;if(_0x2b026f){const _0x11fd89=_0x2b026f[_0x196b1b(0xfc)](_0x162502,arguments);return _0x2b026f=null,_0x11fd89;}}:function(){};return _0x55c2a9=![],_0x4e7a01;};}()),a472_0x37c935=a472_0x2b89cf(this,function(){const _0x1b5c05=a472_0x3a23;return a472_0x37c935[_0x1b5c05(0xd5)]()[_0x1b5c05(0xf3)](_0x1b5c05(0xdd))[_0x1b5c05(0xd5)]()[_0x1b5c05(0xf8)](a472_0x37c935)[_0x1b5c05(0xf3)]('(((.+)+)+)+$');});function a472_0x3a23(_0x5788ec,_0x3e820f){const _0x4adb7c=a472_0x21eb();return a472_0x3a23=function(_0x37c935,_0x2b89cf){_0x37c935=_0x37c935-0xd3;let _0x21eb8b=_0x4adb7c[_0x37c935];return _0x21eb8b;},a472_0x3a23(_0x5788ec,_0x3e820f);}a472_0x37c935();'use strict';var __createBinding=this&&this[a472_0x4d1bd0(0xe0)]||(Object['create']?function(_0x4f344e,_0x38a803,_0x1cb103,_0x751b5f){const _0x248b3d=a472_0x4d1bd0;if(_0x751b5f===undefined)_0x751b5f=_0x1cb103;var _0x368d61=Object[_0x248b3d(0xf9)](_0x38a803,_0x1cb103);(!_0x368d61||(_0x248b3d(0xd9)in _0x368d61?!_0x38a803[_0x248b3d(0xdb)]:_0x368d61[_0x248b3d(0xec)]||_0x368d61[_0x248b3d(0xd6)]))&&(_0x368d61={'enumerable':!![],'get':function(){return _0x38a803[_0x1cb103];}}),Object['defineProperty'](_0x4f344e,_0x751b5f,_0x368d61);}:function(_0x4c0d83,_0x1435fe,_0x2c3f19,_0x5a49c3){if(_0x5a49c3===undefined)_0x5a49c3=_0x2c3f19;_0x4c0d83[_0x5a49c3]=_0x1435fe[_0x2c3f19];}),__setModuleDefault=this&&this[a472_0x4d1bd0(0xe9)]||(Object[a472_0x4d1bd0(0xef)]?function(_0x17548a,_0x2d22e1){Object['defineProperty'](_0x17548a,'default',{'enumerable':!![],'value':_0x2d22e1});}:function(_0x14dde5,_0x400540){const _0x1754e1=a472_0x4d1bd0;_0x14dde5[_0x1754e1(0xe1)]=_0x400540;}),__importStar=this&&this['__importStar']||function(_0x3a54e1){const _0x331643=a472_0x4d1bd0;if(_0x3a54e1&&_0x3a54e1[_0x331643(0xdb)])return _0x3a54e1;var _0x1fe5bd={};if(_0x3a54e1!=null){for(var _0x29d49f in _0x3a54e1)if(_0x29d49f!==_0x331643(0xe1)&&Object[_0x331643(0x104)][_0x331643(0xde)][_0x331643(0x100)](_0x3a54e1,_0x29d49f))__createBinding(_0x1fe5bd,_0x3a54e1,_0x29d49f);}return __setModuleDefault(_0x1fe5bd,_0x3a54e1),_0x1fe5bd;},__importDefault=this&&this[a472_0x4d1bd0(0xf6)]||function(_0x5a0eb1){const _0x23c14=a472_0x4d1bd0;return _0x5a0eb1&&_0x5a0eb1[_0x23c14(0xdb)]?_0x5a0eb1:{'default':_0x5a0eb1};};Object[a472_0x4d1bd0(0xf5)](exports,a472_0x4d1bd0(0xdb),{'value':!![]});function a472_0x21eb(){const _0x12d785=['companyId','defineProperty','__importDefault','../../errors/AppError','constructor','getOwnPropertyDescriptor','update','16120580RkisUP','apply','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','Check-color-exists','../../models/Queue','call','372605ciduvj','ERR_QUEUE_COLOR_ALREADY_EXISTS','test','prototype','36536Enhfsm','yup','toString','configurable','message','findOne','get','validate','__esModule','shape','(((.+)+)+)+$','hasOwnProperty','2569238ardJNF','__createBinding','default','./ShowQueueService','ERR_QUEUE_NAME_ALREADY_EXISTS','min','required','ERR_QUEUE_INVALID_NAME','1166662FDhkfS','52KBrJyv','__setModuleDefault','794093kFVtwu','string','writable','Check-unique-name','5334528wafuWw','create','3VCTaib','ERR_QUEUE_INVALID_COLOR','1395wYIWRw','search'];a472_0x21eb=function(){return _0x12d785;};return a472_0x21eb();}const sequelize_1=require('sequelize'),Yup=__importStar(require(a472_0x4d1bd0(0xd4))),AppError_1=__importDefault(require(a472_0x4d1bd0(0xf7))),Queue_1=__importDefault(require(a472_0x4d1bd0(0xff))),ShowQueueService_1=__importDefault(require(a472_0x4d1bd0(0xe2))),UpdateQueueService=async(_0x12256d,_0x480c96,_0x5ad595)=>{const _0x1f5ccb=a472_0x4d1bd0,{color:_0x27c4e0,name:_0x24539d}=_0x480c96,_0x5160ae=Yup['object']()[_0x1f5ccb(0xdc)]({'name':Yup[_0x1f5ccb(0xeb)]()[_0x1f5ccb(0xe4)](0x2,_0x1f5ccb(0xe6))['test'](_0x1f5ccb(0xed),_0x1f5ccb(0xe3),async _0x49b382=>{const _0x1653bf=_0x1f5ccb;if(_0x49b382){const _0x4cc0be=await Queue_1[_0x1653bf(0xe1)][_0x1653bf(0xd8)]({'where':{'name':_0x49b382,'id':{[sequelize_1['Op']['ne']]:_0x12256d},'companyId':_0x5ad595}});return!_0x4cc0be;}return!![];}),'color':Yup[_0x1f5ccb(0xeb)]()[_0x1f5ccb(0xe5)](_0x1f5ccb(0xf1))[_0x1f5ccb(0x103)]('Check-color',_0x1f5ccb(0xf1),async _0x37f139=>{const _0x278df4=_0x1f5ccb;if(_0x37f139){const _0x40c133=/^#[0-9a-f]{3,6}$/i;return _0x40c133[_0x278df4(0x103)](_0x37f139);}return!![];})[_0x1f5ccb(0x103)](_0x1f5ccb(0xfe),_0x1f5ccb(0x102),async _0xd03e4=>{const _0x2e8254=_0x1f5ccb;if(_0xd03e4){const _0x37b862=await Queue_1['default'][_0x2e8254(0xd8)]({'where':{'color':_0xd03e4,'id':{[sequelize_1['Op']['ne']]:_0x12256d},'companyId':_0x5ad595}});return!_0x37b862;}return!![];})});try{await _0x5160ae[_0x1f5ccb(0xda)]({'color':_0x27c4e0,'name':_0x24539d});}catch(_0x164dff){throw new AppError_1[(_0x1f5ccb(0xe1))](_0x164dff[_0x1f5ccb(0xd7)]);}const _0x3c985b=await(0x0,ShowQueueService_1['default'])(_0x12256d,_0x5ad595);if(_0x3c985b[_0x1f5ccb(0xf4)]!==_0x5ad595)throw new AppError_1[(_0x1f5ccb(0xe1))](_0x1f5ccb(0xfd));return await _0x3c985b[_0x1f5ccb(0xfa)](_0x480c96),_0x3c985b;};exports[a472_0x4d1bd0(0xe1)]=UpdateQueueService;