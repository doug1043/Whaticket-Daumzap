function a474_0x6d01(_0xa47c98,_0x12e842){const _0x1becff=a474_0x22e6();return a474_0x6d01=function(_0x41c5c9,_0x79a28e){_0x41c5c9=_0x41c5c9-0x15a;let _0x22e6a1=_0x1becff[_0x41c5c9];return _0x22e6a1;},a474_0x6d01(_0xa47c98,_0x12e842);}function a474_0x22e6(){const _0x2768f9=['Número\x20máximo\x20de\x20filas\x20já\x20alcançado:\x20','object','__setModuleDefault','configurable','../../models/Plan','8EvYWGN','114925ZPXrgH','__importStar','../../models/Queue','20hMlAba','plan','../../models/Company','call','864yUieAp','ERR_QUEUE_INVALID_COLOR','../../errors/AppError','writable','Check-color-exists','default','__createBinding','43761432XcZXjK','1466088uaXFGg','prototype','__esModule','__importDefault','ERR_QUEUE_INVALID_NAME','apply','search','get','test','(((.+)+)+)+$','create','4202957pGkeJc','getOwnPropertyDescriptor','Check-unique-name','queues','200814Mkrvmo','min','required','45514fljlYe','5355720IgQXDf','ERR_QUEUE_COLOR_ALREADY_EXISTS','string','findOne','yup','16HjAvBH','defineProperty','toString','336YLdUEI','ERR_QUEUE_NAME_ALREADY_EXISTS'];a474_0x22e6=function(){return _0x2768f9;};return a474_0x22e6();}const a474_0x13bb74=a474_0x6d01;(function(_0x275a5d,_0x33b2ca){const _0x333bd1=a474_0x6d01,_0xb222cd=_0x275a5d();while(!![]){try{const _0x53b540=-parseInt(_0x333bd1(0x162))/0x1*(-parseInt(_0x333bd1(0x18b))/0x2)+-parseInt(_0x333bd1(0x17c))/0x3*(parseInt(_0x333bd1(0x16c))/0x4)+-parseInt(_0x333bd1(0x16d))/0x5*(parseInt(_0x333bd1(0x165))/0x6)+-parseInt(_0x333bd1(0x15c))/0x7*(parseInt(_0x333bd1(0x174))/0x8)+-parseInt(_0x333bd1(0x15d))/0x9+-parseInt(_0x333bd1(0x170))/0xa*(parseInt(_0x333bd1(0x187))/0xb)+parseInt(_0x333bd1(0x17b))/0xc;if(_0x53b540===_0x33b2ca)break;else _0xb222cd['push'](_0xb222cd['shift']());}catch(_0x217cd2){_0xb222cd['push'](_0xb222cd['shift']());}}}(a474_0x22e6,0xe262c));const a474_0x79a28e=(function(){let _0x13abc2=!![];return function(_0x332842,_0x4175dc){const _0x1ff1f0=_0x13abc2?function(){const _0x1ba9f0=a474_0x6d01;if(_0x4175dc){const _0x25cca6=_0x4175dc[_0x1ba9f0(0x181)](_0x332842,arguments);return _0x4175dc=null,_0x25cca6;}}:function(){};return _0x13abc2=![],_0x1ff1f0;};}()),a474_0x41c5c9=a474_0x79a28e(this,function(){const _0x685516=a474_0x6d01;return a474_0x41c5c9[_0x685516(0x164)]()[_0x685516(0x182)](_0x685516(0x185))[_0x685516(0x164)]()['constructor'](a474_0x41c5c9)['search'](_0x685516(0x185));});a474_0x41c5c9();'use strict';var __createBinding=this&&this[a474_0x13bb74(0x17a)]||(Object[a474_0x13bb74(0x186)]?function(_0x25551d,_0x33841b,_0x4adf2c,_0x260575){const _0x54bd85=a474_0x13bb74;if(_0x260575===undefined)_0x260575=_0x4adf2c;var _0x402ee2=Object[_0x54bd85(0x188)](_0x33841b,_0x4adf2c);(!_0x402ee2||(_0x54bd85(0x183)in _0x402ee2?!_0x33841b[_0x54bd85(0x17e)]:_0x402ee2[_0x54bd85(0x177)]||_0x402ee2[_0x54bd85(0x16a)]))&&(_0x402ee2={'enumerable':!![],'get':function(){return _0x33841b[_0x4adf2c];}}),Object[_0x54bd85(0x163)](_0x25551d,_0x260575,_0x402ee2);}:function(_0xd854ad,_0x1643ef,_0x36d3ab,_0x2eb7a5){if(_0x2eb7a5===undefined)_0x2eb7a5=_0x36d3ab;_0xd854ad[_0x2eb7a5]=_0x1643ef[_0x36d3ab];}),__setModuleDefault=this&&this[a474_0x13bb74(0x169)]||(Object[a474_0x13bb74(0x186)]?function(_0x8f1091,_0x4a7f2f){const _0x4189e7=a474_0x13bb74;Object[_0x4189e7(0x163)](_0x8f1091,'default',{'enumerable':!![],'value':_0x4a7f2f});}:function(_0x340822,_0xc42445){const _0x4738c4=a474_0x13bb74;_0x340822[_0x4738c4(0x179)]=_0xc42445;}),__importStar=this&&this[a474_0x13bb74(0x16e)]||function(_0x2cdb2e){const _0x17f83f=a474_0x13bb74;if(_0x2cdb2e&&_0x2cdb2e[_0x17f83f(0x17e)])return _0x2cdb2e;var _0x5c7e14={};if(_0x2cdb2e!=null){for(var _0x1f1169 in _0x2cdb2e)if(_0x1f1169!==_0x17f83f(0x179)&&Object[_0x17f83f(0x17d)]['hasOwnProperty'][_0x17f83f(0x173)](_0x2cdb2e,_0x1f1169))__createBinding(_0x5c7e14,_0x2cdb2e,_0x1f1169);}return __setModuleDefault(_0x5c7e14,_0x2cdb2e),_0x5c7e14;},__importDefault=this&&this[a474_0x13bb74(0x17f)]||function(_0x2ec57c){const _0x30f539=a474_0x13bb74;return _0x2ec57c&&_0x2ec57c[_0x30f539(0x17e)]?_0x2ec57c:{'default':_0x2ec57c};};Object[a474_0x13bb74(0x163)](exports,a474_0x13bb74(0x17e),{'value':!![]});const Yup=__importStar(require(a474_0x13bb74(0x161))),AppError_1=__importDefault(require(a474_0x13bb74(0x176))),Queue_1=__importDefault(require(a474_0x13bb74(0x16f))),Company_1=__importDefault(require(a474_0x13bb74(0x172))),Plan_1=__importDefault(require(a474_0x13bb74(0x16b))),CreateQueueService=async _0xe2f33b=>{const _0x5919a7=a474_0x13bb74,{color:_0x1cddd6,name:_0x12f688,companyId:_0x40e00c}=_0xe2f33b,_0x10f7b9=await Company_1['default'][_0x5919a7(0x160)]({'where':{'id':_0x40e00c},'include':[{'model':Plan_1[_0x5919a7(0x179)],'as':_0x5919a7(0x171)}]});if(_0x10f7b9!==null){const _0x55fda7=await Queue_1['default']['count']({'where':{'companyId':_0x40e00c}});if(_0x55fda7>=_0x10f7b9[_0x5919a7(0x171)][_0x5919a7(0x18a)])throw new AppError_1[(_0x5919a7(0x179))](_0x5919a7(0x167)+_0x55fda7);}const _0x83e155=Yup[_0x5919a7(0x168)]()['shape']({'name':Yup[_0x5919a7(0x15f)]()[_0x5919a7(0x15a)](0x2,'ERR_QUEUE_INVALID_NAME')[_0x5919a7(0x15b)](_0x5919a7(0x180))[_0x5919a7(0x184)](_0x5919a7(0x189),_0x5919a7(0x166),async _0x5e73fb=>{const _0x3e9310=_0x5919a7;if(_0x5e73fb){const _0x2163a0=await Queue_1[_0x3e9310(0x179)][_0x3e9310(0x160)]({'where':{'name':_0x5e73fb,'companyId':_0x40e00c}});return!_0x2163a0;}return![];}),'color':Yup['string']()[_0x5919a7(0x15b)](_0x5919a7(0x175))[_0x5919a7(0x184)]('Check-color',_0x5919a7(0x175),async _0x27b916=>{const _0x59ed96=_0x5919a7;if(_0x27b916){const _0x3b0718=/^#[0-9a-f]{3,6}$/i;return _0x3b0718[_0x59ed96(0x184)](_0x27b916);}return![];})[_0x5919a7(0x184)](_0x5919a7(0x178),_0x5919a7(0x15e),async _0x453be0=>{const _0x2f110d=_0x5919a7;if(_0x453be0){const _0x3ac27=await Queue_1[_0x2f110d(0x179)][_0x2f110d(0x160)]({'where':{'color':_0x453be0,'companyId':_0x40e00c}});return!_0x3ac27;}return![];})});try{await _0x83e155['validate']({'color':_0x1cddd6,'name':_0x12f688});}catch(_0x331231){throw new AppError_1[(_0x5919a7(0x179))](_0x331231['message']);}const _0x44399b=await Queue_1[_0x5919a7(0x179)][_0x5919a7(0x186)](_0xe2f33b);return _0x44399b;};exports['default']=CreateQueueService;