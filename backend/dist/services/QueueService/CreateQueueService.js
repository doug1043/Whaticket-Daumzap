function a475_0x56c2(_0x1bbd1f,_0x36bc9c){const _0x2c6806=a475_0x404f();return a475_0x56c2=function(_0x3a7825,_0x37edbb){_0x3a7825=_0x3a7825-0xfa;let _0x404fac=_0x2c6806[_0x3a7825];return _0x404fac;},a475_0x56c2(_0x1bbd1f,_0x36bc9c);}const a475_0x4e54a0=a475_0x56c2;(function(_0x1bc7be,_0x1dca0c){const _0x45ffa3=a475_0x56c2,_0x232516=_0x1bc7be();while(!![]){try{const _0x345341=parseInt(_0x45ffa3(0x114))/0x1*(parseInt(_0x45ffa3(0x113))/0x2)+parseInt(_0x45ffa3(0x10e))/0x3+-parseInt(_0x45ffa3(0x123))/0x4*(parseInt(_0x45ffa3(0x127))/0x5)+-parseInt(_0x45ffa3(0x105))/0x6*(-parseInt(_0x45ffa3(0x119))/0x7)+parseInt(_0x45ffa3(0x12a))/0x8+parseInt(_0x45ffa3(0x106))/0x9*(-parseInt(_0x45ffa3(0x109))/0xa)+-parseInt(_0x45ffa3(0x128))/0xb;if(_0x345341===_0x1dca0c)break;else _0x232516['push'](_0x232516['shift']());}catch(_0x19175b){_0x232516['push'](_0x232516['shift']());}}}(a475_0x404f,0x4ee6e));const a475_0x37edbb=(function(){let _0x449a36=!![];return function(_0x4f7607,_0x3428a6){const _0x2fdda0=_0x449a36?function(){const _0x49d67b=a475_0x56c2;if(_0x3428a6){const _0x473fa7=_0x3428a6[_0x49d67b(0x112)](_0x4f7607,arguments);return _0x3428a6=null,_0x473fa7;}}:function(){};return _0x449a36=![],_0x2fdda0;};}()),a475_0x3a7825=a475_0x37edbb(this,function(){const _0x3e8890=a475_0x56c2;return a475_0x3a7825[_0x3e8890(0x117)]()[_0x3e8890(0x126)](_0x3e8890(0x121))[_0x3e8890(0x117)]()[_0x3e8890(0x111)](a475_0x3a7825)[_0x3e8890(0x126)]('(((.+)+)+)+$');});a475_0x3a7825();'use strict';var __createBinding=this&&this[a475_0x4e54a0(0x118)]||(Object[a475_0x4e54a0(0xfe)]?function(_0x25efc6,_0x4ccbdd,_0x2be5db,_0x2bffc5){const _0x4b70cf=a475_0x4e54a0;if(_0x2bffc5===undefined)_0x2bffc5=_0x2be5db;var _0xb57614=Object['getOwnPropertyDescriptor'](_0x4ccbdd,_0x2be5db);(!_0xb57614||(_0x4b70cf(0xff)in _0xb57614?!_0x4ccbdd['__esModule']:_0xb57614[_0x4b70cf(0x102)]||_0xb57614[_0x4b70cf(0x110)]))&&(_0xb57614={'enumerable':!![],'get':function(){return _0x4ccbdd[_0x2be5db];}}),Object[_0x4b70cf(0x101)](_0x25efc6,_0x2bffc5,_0xb57614);}:function(_0x1aaa01,_0x111d87,_0xeb90ff,_0x1e316c){if(_0x1e316c===undefined)_0x1e316c=_0xeb90ff;_0x1aaa01[_0x1e316c]=_0x111d87[_0xeb90ff];}),__setModuleDefault=this&&this[a475_0x4e54a0(0x11d)]||(Object[a475_0x4e54a0(0xfe)]?function(_0x32048d,_0x395f06){const _0x152274=a475_0x4e54a0;Object[_0x152274(0x101)](_0x32048d,'default',{'enumerable':!![],'value':_0x395f06});}:function(_0x2d4a48,_0x13c137){const _0x381911=a475_0x4e54a0;_0x2d4a48[_0x381911(0x104)]=_0x13c137;}),__importStar=this&&this[a475_0x4e54a0(0x10a)]||function(_0x3e3cc7){const _0x305c78=a475_0x4e54a0;if(_0x3e3cc7&&_0x3e3cc7[_0x305c78(0x107)])return _0x3e3cc7;var _0x1cceee={};if(_0x3e3cc7!=null){for(var _0x3c1f3d in _0x3e3cc7)if(_0x3c1f3d!==_0x305c78(0x104)&&Object[_0x305c78(0xfa)]['hasOwnProperty'][_0x305c78(0x122)](_0x3e3cc7,_0x3c1f3d))__createBinding(_0x1cceee,_0x3e3cc7,_0x3c1f3d);}return __setModuleDefault(_0x1cceee,_0x3e3cc7),_0x1cceee;},__importDefault=this&&this[a475_0x4e54a0(0x11c)]||function(_0x5995cb){return _0x5995cb&&_0x5995cb['__esModule']?_0x5995cb:{'default':_0x5995cb};};Object[a475_0x4e54a0(0x101)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a475_0x4e54a0(0x11e))),AppError_1=__importDefault(require(a475_0x4e54a0(0x10d))),Queue_1=__importDefault(require(a475_0x4e54a0(0x120))),Company_1=__importDefault(require('../../models/Company')),Plan_1=__importDefault(require(a475_0x4e54a0(0x125))),CreateQueueService=async _0x951cf9=>{const _0x389096=a475_0x4e54a0,{color:_0x407428,name:_0x39bc65,companyId:_0x8e87e6}=_0x951cf9,_0x392108=await Company_1[_0x389096(0x104)][_0x389096(0x108)]({'where':{'id':_0x8e87e6},'include':[{'model':Plan_1[_0x389096(0x104)],'as':'plan'}]});if(_0x392108!==null){const _0x379a61=await Queue_1[_0x389096(0x104)][_0x389096(0x10c)]({'where':{'companyId':_0x8e87e6}});if(_0x379a61>=_0x392108[_0x389096(0x129)][_0x389096(0x100)])throw new AppError_1[(_0x389096(0x104))](_0x389096(0x11b)+_0x379a61);}const _0xe67695=Yup['object']()['shape']({'name':Yup['string']()[_0x389096(0x11a)](0x2,_0x389096(0xfc))['required'](_0x389096(0xfc))['test'](_0x389096(0x116),_0x389096(0x10b),async _0x485532=>{const _0xc8e0dc=_0x389096;if(_0x485532){const _0x1fe703=await Queue_1[_0xc8e0dc(0x104)][_0xc8e0dc(0x108)]({'where':{'name':_0x485532,'companyId':_0x8e87e6}});return!_0x1fe703;}return![];}),'color':Yup[_0x389096(0xfb)]()[_0x389096(0x124)](_0x389096(0x103))[_0x389096(0x115)](_0x389096(0x10f),_0x389096(0x103),async _0x2bc301=>{const _0x25d835=_0x389096;if(_0x2bc301){const _0x1897cf=/^#[0-9a-f]{3,6}$/i;return _0x1897cf[_0x25d835(0x115)](_0x2bc301);}return![];})[_0x389096(0x115)]('Check-color-exists',_0x389096(0xfd),async _0x49a29c=>{const _0x2f0c97=_0x389096;if(_0x49a29c){const _0x2d5e23=await Queue_1[_0x2f0c97(0x104)][_0x2f0c97(0x108)]({'where':{'color':_0x49a29c,'companyId':_0x8e87e6}});return!_0x2d5e23;}return![];})});try{await _0xe67695['validate']({'color':_0x407428,'name':_0x39bc65});}catch(_0x2eeb8e){throw new AppError_1[(_0x389096(0x104))](_0x2eeb8e[_0x389096(0x11f)]);}const _0x4a9353=await Queue_1['default']['create'](_0x951cf9);return _0x4a9353;};exports['default']=CreateQueueService;function a475_0x404f(){const _0x35fdda=['test','Check-unique-name','toString','__createBinding','21XWVxbN','min','Número\x20máximo\x20de\x20filas\x20já\x20alcançado:\x20','__importDefault','__setModuleDefault','yup','message','../../models/Queue','(((.+)+)+)+$','call','140RdReKY','required','../../models/Plan','search','18545UHRlBZ','7427024rJFiil','plan','4414376BgTMke','prototype','string','ERR_QUEUE_INVALID_NAME','ERR_QUEUE_COLOR_ALREADY_EXISTS','create','get','queues','defineProperty','writable','ERR_QUEUE_INVALID_COLOR','default','782826EAJIZF','180WrZkYu','__esModule','findOne','192050TrySAP','__importStar','ERR_QUEUE_NAME_ALREADY_EXISTS','count','../../errors/AppError','93900ltrxwC','Check-color','configurable','constructor','apply','78coEICX','13789VsivLk'];a475_0x404f=function(){return _0x35fdda;};return a475_0x404f();}