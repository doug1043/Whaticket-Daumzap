const a449_0x43782c=a449_0x29bc;(function(_0x244243,_0x56bdad){const _0x2d60a7=a449_0x29bc,_0x33f390=_0x244243();while(!![]){try{const _0x2e268d=parseInt(_0x2d60a7(0x1cc))/0x1*(parseInt(_0x2d60a7(0x1d8))/0x2)+-parseInt(_0x2d60a7(0x1d0))/0x3*(parseInt(_0x2d60a7(0x1c5))/0x4)+-parseInt(_0x2d60a7(0x1c0))/0x5+parseInt(_0x2d60a7(0x1da))/0x6+parseInt(_0x2d60a7(0x1cb))/0x7+-parseInt(_0x2d60a7(0x1c1))/0x8*(parseInt(_0x2d60a7(0x1d3))/0x9)+-parseInt(_0x2d60a7(0x1c9))/0xa*(parseInt(_0x2d60a7(0x1c7))/0xb);if(_0x2e268d===_0x56bdad)break;else _0x33f390['push'](_0x33f390['shift']());}catch(_0x395b19){_0x33f390['push'](_0x33f390['shift']());}}}(a449_0x223a,0x77c2d));const a449_0x49c980=(function(){let _0x12019c=!![];return function(_0x5a7879,_0x956813){const _0x23a5ac=_0x12019c?function(){const _0xe51bd8=a449_0x29bc;if(_0x956813){const _0x28bcf7=_0x956813[_0xe51bd8(0x1c3)](_0x5a7879,arguments);return _0x956813=null,_0x28bcf7;}}:function(){};return _0x12019c=![],_0x23a5ac;};}()),a449_0xdc3feb=a449_0x49c980(this,function(){const _0x4ddf90=a449_0x29bc;return a449_0xdc3feb['toString']()['search'](_0x4ddf90(0x1ce))[_0x4ddf90(0x1bf)]()[_0x4ddf90(0x1ba)](a449_0xdc3feb)[_0x4ddf90(0x1db)](_0x4ddf90(0x1ce));});function a449_0x29bc(_0x3add68,_0x1abf29){const _0x121b02=a449_0x223a();return a449_0x29bc=function(_0xdc3feb,_0x49c980){_0xdc3feb=_0xdc3feb-0x1ba;let _0x223ab0=_0x121b02[_0xdc3feb];return _0x223ab0;},a449_0x29bc(_0x3add68,_0x1abf29);}a449_0xdc3feb();'use strict';var __importDefault=this&&this[a449_0x43782c(0x1d2)]||function(_0x57f66d){const _0x300b7e=a449_0x43782c;return _0x57f66d&&_0x57f66d[_0x300b7e(0x1d7)]?_0x57f66d:{'default':_0x57f66d};};Object[a449_0x43782c(0x1be)](exports,a449_0x43782c(0x1d7),{'value':!![]});const sequelize_1=require(a449_0x43782c(0x1d9)),AppError_1=__importDefault(require(a449_0x43782c(0x1c8))),Message_1=__importDefault(require(a449_0x43782c(0x1d1))),ShowTicketService_1=__importDefault(require(a449_0x43782c(0x1cf))),Queue_1=__importDefault(require(a449_0x43782c(0x1c2))),OldMessage_1=__importDefault(require(a449_0x43782c(0x1d4))),ListMessagesService=async({pageNumber:pageNumber='1',ticketId:_0x37b891,companyId:_0x261f18,queues:queues=[]})=>{const _0x5a1d66=a449_0x43782c,_0x5674fd=await(0x0,ShowTicketService_1[_0x5a1d66(0x1dc)])(_0x37b891,_0x261f18);if(!_0x5674fd)throw new AppError_1[(_0x5a1d66(0x1dc))]('ERR_NO_TICKET_FOUND',0x194);const _0x4f2d11=0x14,_0x31c244=_0x4f2d11*(+pageNumber-0x1),_0x161f94={'where':{'ticketId':_0x37b891,'companyId':_0x261f18}};queues[_0x5a1d66(0x1d5)]>0x0&&(_0x161f94[_0x5a1d66(0x1c4)]['queueId']={[sequelize_1['Op']['or']]:{[sequelize_1['Op']['in']]:queues,[sequelize_1['Op']['eq']]:null}});const {count:_0x3e153d,rows:_0x34131b}=await Message_1['default'][_0x5a1d66(0x1bc)]({..._0x161f94,'limit':_0x4f2d11,'include':['contact',{'model':Message_1[_0x5a1d66(0x1dc)],'as':_0x5a1d66(0x1d6),'include':[_0x5a1d66(0x1c6)]},{'model':OldMessage_1[_0x5a1d66(0x1dc)],'as':'oldMessages'},{'model':Queue_1[_0x5a1d66(0x1dc)],'as':_0x5a1d66(0x1cd)}],'offset':_0x31c244,'order':[[_0x5a1d66(0x1bd),_0x5a1d66(0x1bb)]]}),_0x3e303f=_0x3e153d>_0x31c244+_0x34131b[_0x5a1d66(0x1d5)];return{'messages':_0x34131b[_0x5a1d66(0x1ca)](),'ticket':_0x5674fd,'count':_0x3e153d,'hasMore':_0x3e303f};};exports['default']=ListMessagesService;function a449_0x223a(){const _0x2092fb=['861312XjMmgk','../../models/Queue','apply','where','103956zUwZby','contact','5906681dQdoSs','../../errors/AppError','10GuCuWS','reverse','5084555TaeDYe','14VxAvWp','queue','(((.+)+)+)+$','../TicketServices/ShowTicketService','15QUFbxQ','../../models/Message','__importDefault','54QlhMJR','../../models/OldMessage','length','quotedMsg','__esModule','104106ZKtFie','sequelize','2653728DhxAXh','search','default','constructor','DESC','findAndCountAll','createdAt','defineProperty','toString','469770wBPyaY'];a449_0x223a=function(){return _0x2092fb;};return a449_0x223a();}