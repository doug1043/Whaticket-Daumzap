const a450_0x491abc=a450_0x35a8;(function(_0x4a1873,_0xd67682){const _0x35da37=a450_0x35a8,_0x10afcc=_0x4a1873();while(!![]){try{const _0x543425=-parseInt(_0x35da37(0xea))/0x1+parseInt(_0x35da37(0xda))/0x2*(parseInt(_0x35da37(0xd3))/0x3)+-parseInt(_0x35da37(0xe2))/0x4*(parseInt(_0x35da37(0xe3))/0x5)+-parseInt(_0x35da37(0xd2))/0x6+parseInt(_0x35da37(0xdc))/0x7+-parseInt(_0x35da37(0xdf))/0x8*(-parseInt(_0x35da37(0xdd))/0x9)+parseInt(_0x35da37(0xd7))/0xa*(-parseInt(_0x35da37(0xd4))/0xb);if(_0x543425===_0xd67682)break;else _0x10afcc['push'](_0x10afcc['shift']());}catch(_0x673d0b){_0x10afcc['push'](_0x10afcc['shift']());}}}(a450_0x4e2a,0xbab86));function a450_0x35a8(_0x1b4bd6,_0x8b06f0){const _0x107fbf=a450_0x4e2a();return a450_0x35a8=function(_0x2a017a,_0x5d8e5c){_0x2a017a=_0x2a017a-0xce;let _0x4e2a88=_0x107fbf[_0x2a017a];return _0x4e2a88;},a450_0x35a8(_0x1b4bd6,_0x8b06f0);}const a450_0x5d8e5c=(function(){let _0x53b14a=!![];return function(_0xa61dbc,_0x4cf13d){const _0x406e58=_0x53b14a?function(){const _0x5125fa=a450_0x35a8;if(_0x4cf13d){const _0x305626=_0x4cf13d[_0x5125fa(0xed)](_0xa61dbc,arguments);return _0x4cf13d=null,_0x305626;}}:function(){};return _0x53b14a=![],_0x406e58;};}()),a450_0x2a017a=a450_0x5d8e5c(this,function(){const _0x4540e9=a450_0x35a8;return a450_0x2a017a[_0x4540e9(0xd9)]()[_0x4540e9(0xe9)](_0x4540e9(0xe0))['toString']()['constructor'](a450_0x2a017a)['search'](_0x4540e9(0xe0));});a450_0x2a017a();function a450_0x4e2a(){const _0x2258d2=['__esModule','3824376sYRpBE','647877raixqw','11PmuTTi','reverse','default','13690370XvSxGD','../../errors/AppError','toString','10VOMKwn','queueId','10391556MsvtdW','41625wwbNdO','oldMessages','1416upUvOt','(((.+)+)+)+$','defineProperty','394012tEBXwH','20XEMPmf','../TicketServices/ShowTicketService','../../models/Message','where','queue','../../models/Queue','search','217677hwLWyr','contact','../../models/OldMessage','apply','__importDefault','ERR_NO_TICKET_FOUND','findAndCountAll'];a450_0x4e2a=function(){return _0x2258d2;};return a450_0x4e2a();}'use strict';var __importDefault=this&&this[a450_0x491abc(0xce)]||function(_0x3b8b85){const _0x2a7f92=a450_0x491abc;return _0x3b8b85&&_0x3b8b85[_0x2a7f92(0xd1)]?_0x3b8b85:{'default':_0x3b8b85};};Object[a450_0x491abc(0xe1)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),AppError_1=__importDefault(require(a450_0x491abc(0xd8))),Message_1=__importDefault(require(a450_0x491abc(0xe5))),ShowTicketService_1=__importDefault(require(a450_0x491abc(0xe4))),Queue_1=__importDefault(require(a450_0x491abc(0xe8))),OldMessage_1=__importDefault(require(a450_0x491abc(0xec))),ListMessagesService=async({pageNumber:pageNumber='1',ticketId:_0x4e6e53,companyId:_0x475191,queues:queues=[]})=>{const _0x3bcad5=a450_0x491abc,_0x366203=await(0x0,ShowTicketService_1[_0x3bcad5(0xd6)])(_0x4e6e53,_0x475191);if(!_0x366203)throw new AppError_1[(_0x3bcad5(0xd6))](_0x3bcad5(0xcf),0x194);const _0x4ca143=0x14,_0x4793a6=_0x4ca143*(+pageNumber-0x1),_0x30d840={'where':{'ticketId':_0x4e6e53,'companyId':_0x475191}};queues['length']>0x0&&(_0x30d840[_0x3bcad5(0xe6)][_0x3bcad5(0xdb)]={[sequelize_1['Op']['or']]:{[sequelize_1['Op']['in']]:queues,[sequelize_1['Op']['eq']]:null}});const {count:_0x264650,rows:_0x1195ea}=await Message_1[_0x3bcad5(0xd6)][_0x3bcad5(0xd0)]({..._0x30d840,'limit':_0x4ca143,'include':[_0x3bcad5(0xeb),{'model':Message_1['default'],'as':'quotedMsg','include':[_0x3bcad5(0xeb)]},{'model':OldMessage_1[_0x3bcad5(0xd6)],'as':_0x3bcad5(0xde)},{'model':Queue_1[_0x3bcad5(0xd6)],'as':_0x3bcad5(0xe7)}],'offset':_0x4793a6,'order':[['createdAt','DESC']]}),_0xd05107=_0x264650>_0x4793a6+_0x1195ea['length'];return{'messages':_0x1195ea[_0x3bcad5(0xd5)](),'ticket':_0x366203,'count':_0x264650,'hasMore':_0xd05107};};exports[a450_0x491abc(0xd6)]=ListMessagesService;