const a381_0x51e379=a381_0x359b;(function(_0x547e5f,_0x4b3f36){const _0x2ca226=a381_0x359b,_0x41a09d=_0x547e5f();while(!![]){try{const _0x3830de=parseInt(_0x2ca226(0x81))/0x1*(-parseInt(_0x2ca226(0x86))/0x2)+parseInt(_0x2ca226(0x72))/0x3+-parseInt(_0x2ca226(0x77))/0x4*(-parseInt(_0x2ca226(0x7d))/0x5)+parseInt(_0x2ca226(0x7f))/0x6*(parseInt(_0x2ca226(0x76))/0x7)+parseInt(_0x2ca226(0x7b))/0x8*(parseInt(_0x2ca226(0x74))/0x9)+parseInt(_0x2ca226(0x68))/0xa*(-parseInt(_0x2ca226(0x75))/0xb)+-parseInt(_0x2ca226(0x85))/0xc;if(_0x3830de===_0x4b3f36)break;else _0x41a09d['push'](_0x41a09d['shift']());}catch(_0x338d60){_0x41a09d['push'](_0x41a09d['shift']());}}}(a381_0x383b,0x4a6e2));const a381_0x1c8651=(function(){let _0x2a89a6=!![];return function(_0xde8b84,_0x167ee8){const _0x390b10=_0x2a89a6?function(){const _0x4124e4=a381_0x359b;if(_0x167ee8){const _0x52f78c=_0x167ee8[_0x4124e4(0x6f)](_0xde8b84,arguments);return _0x167ee8=null,_0x52f78c;}}:function(){};return _0x2a89a6=![],_0x390b10;};}()),a381_0x3a0490=a381_0x1c8651(this,function(){const _0x3ebd22=a381_0x359b;return a381_0x3a0490[_0x3ebd22(0x6a)]()[_0x3ebd22(0x80)](_0x3ebd22(0x73))[_0x3ebd22(0x6a)]()[_0x3ebd22(0x6b)](a381_0x3a0490)[_0x3ebd22(0x80)](_0x3ebd22(0x73));});a381_0x3a0490();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x7c40b1){const _0x42bc28=a381_0x359b;return _0x7c40b1&&_0x7c40b1[_0x42bc28(0x6d)]?_0x7c40b1:{'default':_0x7c40b1};};Object[a381_0x51e379(0x6e)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a381_0x51e379(0x70))),ChatMessage_1=__importDefault(require('../../models/ChatMessage')),ChatUser_1=__importDefault(require(a381_0x51e379(0x78))),User_1=__importDefault(require(a381_0x51e379(0x69))),lodash_1=require(a381_0x51e379(0x7c)),FindMessages=async({chatId:_0xcbb549,ownerId:_0x2a7c4b,pageNumber:pageNumber='1'})=>{const _0x1d0e5b=a381_0x51e379,_0x596fcc=await ChatUser_1[_0x1d0e5b(0x83)][_0x1d0e5b(0x79)]({'where':{'chatId':_0xcbb549,'userId':_0x2a7c4b}});if(_0x596fcc===0x0)throw new AppError_1[(_0x1d0e5b(0x83))](_0x1d0e5b(0x7a),0x190);const _0x114b1b=0x14,_0x1c72cf=_0x114b1b*(+pageNumber-0x1),{count:_0xef7080,rows:_0x156f6e}=await ChatMessage_1[_0x1d0e5b(0x83)][_0x1d0e5b(0x66)]({'where':{'chatId':_0xcbb549},'include':[{'model':User_1[_0x1d0e5b(0x83)],'as':'sender','attributes':['id',_0x1d0e5b(0x71)]}],'limit':_0x114b1b,'offset':_0x1c72cf,'order':[[_0x1d0e5b(0x7e),_0x1d0e5b(0x6c)]]}),_0x842284=_0xef7080>_0x1c72cf+_0x156f6e[_0x1d0e5b(0x67)],_0x313e29=(0x0,lodash_1[_0x1d0e5b(0x82)])(_0x156f6e,['id',_0x1d0e5b(0x84)]);return{'records':_0x313e29,'count':_0xef7080,'hasMore':_0x842284};};function a381_0x383b(){const _0x304d12=['search','1WHAKRY','sortBy','default','ASC','1251516qmnNyr','431826lJkifW','findAndCountAll','length','40fcxMZT','../../models/User','toString','constructor','DESC','__esModule','defineProperty','apply','../../errors/AppError','name','112098MTBnJE','(((.+)+)+)+$','3024Qlfyej','769439jlgrqR','2153179ChhwXr','37188WmznbS','../../models/ChatUser','count','UNAUTHORIZED','9568HWENfC','lodash','85LnYIiO','createdAt','6xEmZzs'];a381_0x383b=function(){return _0x304d12;};return a381_0x383b();}function a381_0x359b(_0x4b7e4c,_0x5dfb5d){const _0x67ede2=a381_0x383b();return a381_0x359b=function(_0x3a0490,_0x1c8651){_0x3a0490=_0x3a0490-0x66;let _0x383bdb=_0x67ede2[_0x3a0490];return _0x383bdb;},a381_0x359b(_0x4b7e4c,_0x5dfb5d);}exports['default']=FindMessages;