function a416_0x3e7b(){const _0x655ac8=['apply','../../models/ChatUser','77asyqGK','47222RyNoqc','search','findAndCountAll','28idYBsr','622130ybjufX','23440848lRHNBJ','1044968BfGcyO','__importDefault','createdAt','UNAUTHORIZED','582AwPISs','defineProperty','DESC','(((.+)+)+)+$','constructor','1581068mNFYVB','count','default','name','length','ASC','sender','22980LoxIRI','toString','lodash','2923524HDQfKi','6efTJTZ','14PtkwLJ','__esModule'];a416_0x3e7b=function(){return _0x655ac8;};return a416_0x3e7b();}const a416_0x53df2d=a416_0x1b6d;(function(_0xa6f92b,_0x1c2b3d){const _0x59dd32=a416_0x1b6d,_0x4971cf=_0xa6f92b();while(!![]){try{const _0x5a1440=-parseInt(_0x59dd32(0xe9))/0x1*(parseInt(_0x59dd32(0xe6))/0x2)+-parseInt(_0x59dd32(0xe0))/0x3*(parseInt(_0x59dd32(0xf5))/0x4)+-parseInt(_0x59dd32(0xdc))/0x5*(parseInt(_0x59dd32(0xf0))/0x6)+-parseInt(_0x59dd32(0xe1))/0x7*(-parseInt(_0x59dd32(0xec))/0x8)+-parseInt(_0x59dd32(0xdf))/0x9+parseInt(_0x59dd32(0xea))/0xa*(parseInt(_0x59dd32(0xe5))/0xb)+parseInt(_0x59dd32(0xeb))/0xc;if(_0x5a1440===_0x1c2b3d)break;else _0x4971cf['push'](_0x4971cf['shift']());}catch(_0x13d5bc){_0x4971cf['push'](_0x4971cf['shift']());}}}(a416_0x3e7b,0x68747));const a416_0x46a586=(function(){let _0x1ca243=!![];return function(_0x2c22d9,_0x4ea348){const _0x3afc62=_0x1ca243?function(){const _0x32dfd1=a416_0x1b6d;if(_0x4ea348){const _0x3a9b85=_0x4ea348[_0x32dfd1(0xe3)](_0x2c22d9,arguments);return _0x4ea348=null,_0x3a9b85;}}:function(){};return _0x1ca243=![],_0x3afc62;};}()),a416_0x54461a=a416_0x46a586(this,function(){const _0x585107=a416_0x1b6d;return a416_0x54461a['toString']()[_0x585107(0xe7)](_0x585107(0xf3))[_0x585107(0xdd)]()[_0x585107(0xf4)](a416_0x54461a)['search'](_0x585107(0xf3));});a416_0x54461a();function a416_0x1b6d(_0xff8e74,_0x35be26){const _0x1c2092=a416_0x3e7b();return a416_0x1b6d=function(_0x54461a,_0x46a586){_0x54461a=_0x54461a-0xdb;let _0x3e7b15=_0x1c2092[_0x54461a];return _0x3e7b15;},a416_0x1b6d(_0xff8e74,_0x35be26);}'use strict';var __importDefault=this&&this[a416_0x53df2d(0xed)]||function(_0x45b91c){const _0x55ce65=a416_0x53df2d;return _0x45b91c&&_0x45b91c[_0x55ce65(0xe2)]?_0x45b91c:{'default':_0x45b91c};};Object[a416_0x53df2d(0xf1)](exports,a416_0x53df2d(0xe2),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),ChatMessage_1=__importDefault(require('../../models/ChatMessage')),ChatUser_1=__importDefault(require(a416_0x53df2d(0xe4))),User_1=__importDefault(require('../../models/User')),lodash_1=require(a416_0x53df2d(0xde)),FindMessages=async({chatId:_0x3e6de0,ownerId:_0x3fe728,pageNumber:pageNumber='1'})=>{const _0x52b432=a416_0x53df2d,_0x501d8d=await ChatUser_1[_0x52b432(0xf7)][_0x52b432(0xf6)]({'where':{'chatId':_0x3e6de0,'userId':_0x3fe728}});if(_0x501d8d===0x0)throw new AppError_1[(_0x52b432(0xf7))](_0x52b432(0xef),0x190);const _0x1ae56a=0x14,_0x279b76=_0x1ae56a*(+pageNumber-0x1),{count:_0x2eb5a9,rows:_0x11f4ce}=await ChatMessage_1['default'][_0x52b432(0xe8)]({'where':{'chatId':_0x3e6de0},'include':[{'model':User_1[_0x52b432(0xf7)],'as':_0x52b432(0xdb),'attributes':['id',_0x52b432(0xf8)]}],'limit':_0x1ae56a,'offset':_0x279b76,'order':[[_0x52b432(0xee),_0x52b432(0xf2)]]}),_0x267666=_0x2eb5a9>_0x279b76+_0x11f4ce[_0x52b432(0xf9)],_0x2c5459=(0x0,lodash_1['sortBy'])(_0x11f4ce,['id',_0x52b432(0xfa)]);return{'records':_0x2c5459,'count':_0x2eb5a9,'hasMore':_0x267666};};exports[a416_0x53df2d(0xf7)]=FindMessages;