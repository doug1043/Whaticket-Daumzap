function a416_0x53e3(_0x586bff,_0x37431b){const _0x364554=a416_0x1bd3();return a416_0x53e3=function(_0x346f99,_0x5c6cd2){_0x346f99=_0x346f99-0x153;let _0x1bd337=_0x364554[_0x346f99];return _0x1bd337;},a416_0x53e3(_0x586bff,_0x37431b);}const a416_0x2d01d2=a416_0x53e3;(function(_0x1f3d0d,_0x1e57b0){const _0x12d663=a416_0x53e3,_0x414ecb=_0x1f3d0d();while(!![]){try{const _0x474229=parseInt(_0x12d663(0x155))/0x1+-parseInt(_0x12d663(0x167))/0x2+-parseInt(_0x12d663(0x16c))/0x3*(-parseInt(_0x12d663(0x15d))/0x4)+-parseInt(_0x12d663(0x15c))/0x5*(parseInt(_0x12d663(0x154))/0x6)+parseInt(_0x12d663(0x15a))/0x7+-parseInt(_0x12d663(0x164))/0x8+parseInt(_0x12d663(0x15f))/0x9*(parseInt(_0x12d663(0x156))/0xa);if(_0x474229===_0x1e57b0)break;else _0x414ecb['push'](_0x414ecb['shift']());}catch(_0x26b755){_0x414ecb['push'](_0x414ecb['shift']());}}}(a416_0x1bd3,0xdd3dc));const a416_0x5c6cd2=(function(){let _0x3d0b65=!![];return function(_0x33d763,_0x331f58){const _0x11284f=_0x3d0b65?function(){if(_0x331f58){const _0x27e4d8=_0x331f58['apply'](_0x33d763,arguments);return _0x331f58=null,_0x27e4d8;}}:function(){};return _0x3d0b65=![],_0x11284f;};}()),a416_0x346f99=a416_0x5c6cd2(this,function(){const _0x36081b=a416_0x53e3;return a416_0x346f99[_0x36081b(0x163)]()[_0x36081b(0x166)](_0x36081b(0x168))['toString']()[_0x36081b(0x169)](a416_0x346f99)[_0x36081b(0x166)](_0x36081b(0x168));});a416_0x346f99();'use strict';function a416_0x1bd3(){const _0x238c99=['__esModule','count','3210627CmvfPA','../../models/ChatUser','18385BKJsOU','188rnoNaD','defineProperty','6567408OPaRyI','default','sortBy','../../models/ChatMessage','toString','6075744pmLQJE','UNAUTHORIZED','search','514156rkrFjU','(((.+)+)+)+$','constructor','ASC','sender','18219JswEkI','createdAt','DESC','length','../../models/User','1602cwASNY','1430705zzkekF','10gmGxJf','../../errors/AppError'];a416_0x1bd3=function(){return _0x238c99;};return a416_0x1bd3();}var __importDefault=this&&this['__importDefault']||function(_0x59af1b){const _0x25341d=a416_0x53e3;return _0x59af1b&&_0x59af1b[_0x25341d(0x158)]?_0x59af1b:{'default':_0x59af1b};};Object[a416_0x2d01d2(0x15e)](exports,a416_0x2d01d2(0x158),{'value':!![]});const AppError_1=__importDefault(require(a416_0x2d01d2(0x157))),ChatMessage_1=__importDefault(require(a416_0x2d01d2(0x162))),ChatUser_1=__importDefault(require(a416_0x2d01d2(0x15b))),User_1=__importDefault(require(a416_0x2d01d2(0x153))),lodash_1=require('lodash'),FindMessages=async({chatId:_0x5b4e52,ownerId:_0x9385ce,pageNumber:pageNumber='1'})=>{const _0xf67c02=a416_0x2d01d2,_0x2a7f7c=await ChatUser_1[_0xf67c02(0x160)][_0xf67c02(0x159)]({'where':{'chatId':_0x5b4e52,'userId':_0x9385ce}});if(_0x2a7f7c===0x0)throw new AppError_1[(_0xf67c02(0x160))](_0xf67c02(0x165),0x190);const _0x588fee=0x14,_0x160d3b=_0x588fee*(+pageNumber-0x1),{count:_0x4f3198,rows:_0x36b661}=await ChatMessage_1[_0xf67c02(0x160)]['findAndCountAll']({'where':{'chatId':_0x5b4e52},'include':[{'model':User_1[_0xf67c02(0x160)],'as':_0xf67c02(0x16b),'attributes':['id','name']}],'limit':_0x588fee,'offset':_0x160d3b,'order':[[_0xf67c02(0x16d),_0xf67c02(0x16e)]]}),_0x5ad006=_0x4f3198>_0x160d3b+_0x36b661[_0xf67c02(0x16f)],_0x303692=(0x0,lodash_1[_0xf67c02(0x161)])(_0x36b661,['id',_0xf67c02(0x16a)]);return{'records':_0x303692,'count':_0x4f3198,'hasMore':_0x5ad006};};exports[a416_0x2d01d2(0x160)]=FindMessages;