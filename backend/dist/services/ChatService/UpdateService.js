const a417_0x1805b5=a417_0x2c63;function a417_0x4447(){const _0x1a70bb=['isArray','toString','title','1735270JaBKye','__importDefault','315sAKDXl','reload','__esModule','338247epUXEp','../../models/Chat','owner','1831296kBymwE','943876kbJnQd','apply','../../models/ChatUser','22326VNczCW','(((.+)+)+)+$','7160994GWUkbv','20iDFBWo','destroy','../../models/User','search','user','constructor','default','defineProperty','34467JLosFK','create','10tZyqDy'];a417_0x4447=function(){return _0x1a70bb;};return a417_0x4447();}(function(_0x45f7af,_0x556e90){const _0x488950=a417_0x2c63,_0x283bf2=_0x45f7af();while(!![]){try{const _0x51dfe5=parseInt(_0x488950(0x18d))/0x1*(-parseInt(_0x488950(0x185))/0x2)+-parseInt(_0x488950(0x198))/0x3+parseInt(_0x488950(0x17f))/0x4+-parseInt(_0x488950(0x193))/0x5+-parseInt(_0x488950(0x182))/0x6*(parseInt(_0x488950(0x195))/0x7)+parseInt(_0x488950(0x19b))/0x8+parseInt(_0x488950(0x184))/0x9*(parseInt(_0x488950(0x18f))/0xa);if(_0x51dfe5===_0x556e90)break;else _0x283bf2['push'](_0x283bf2['shift']());}catch(_0x3255b4){_0x283bf2['push'](_0x283bf2['shift']());}}}(a417_0x4447,0x46775));const a417_0x86b8f9=(function(){let _0x1a5e74=!![];return function(_0x2cc58c,_0x3d6571){const _0x232410=_0x1a5e74?function(){const _0x54704f=a417_0x2c63;if(_0x3d6571){const _0x18ca7e=_0x3d6571[_0x54704f(0x180)](_0x2cc58c,arguments);return _0x3d6571=null,_0x18ca7e;}}:function(){};return _0x1a5e74=![],_0x232410;};}()),a417_0x2293e9=a417_0x86b8f9(this,function(){const _0x44b826=a417_0x2c63;return a417_0x2293e9[_0x44b826(0x191)]()[_0x44b826(0x188)](_0x44b826(0x183))[_0x44b826(0x191)]()[_0x44b826(0x18a)](a417_0x2293e9)[_0x44b826(0x188)]('(((.+)+)+)+$');});a417_0x2293e9();function a417_0x2c63(_0x163997,_0x59c088){const _0x5b12b6=a417_0x4447();return a417_0x2c63=function(_0x2293e9,_0x86b8f9){_0x2293e9=_0x2293e9-0x17f;let _0x44475c=_0x5b12b6[_0x2293e9];return _0x44475c;},a417_0x2c63(_0x163997,_0x59c088);}'use strict';var __importDefault=this&&this[a417_0x1805b5(0x194)]||function(_0x5e8905){const _0x2ff0d0=a417_0x1805b5;return _0x5e8905&&_0x5e8905[_0x2ff0d0(0x197)]?_0x5e8905:{'default':_0x5e8905};};Object[a417_0x1805b5(0x18c)](exports,'__esModule',{'value':!![]}),exports[a417_0x1805b5(0x18b)]=UpdateService;const Chat_1=__importDefault(require(a417_0x1805b5(0x199))),ChatUser_1=__importDefault(require(a417_0x1805b5(0x181))),User_1=__importDefault(require(a417_0x1805b5(0x187)));async function UpdateService(_0x75f252){const _0x157bcd=a417_0x1805b5,{users:_0x41aba1}=_0x75f252,_0x2d57ea=await Chat_1[_0x157bcd(0x18b)]['findByPk'](_0x75f252['id'],{'include':[{'model':ChatUser_1['default'],'as':'users'}]}),{ownerId:_0x14619f}=_0x2d57ea;await _0x2d57ea['update']({'title':_0x75f252[_0x157bcd(0x192)]});if(Array[_0x157bcd(0x190)](_0x41aba1)){await ChatUser_1['default'][_0x157bcd(0x186)]({'where':{'chatId':_0x2d57ea['id']}}),await ChatUser_1[_0x157bcd(0x18b)]['create']({'chatId':_0x2d57ea['id'],'userId':_0x14619f});for(let _0x2b3294 of _0x41aba1){_0x2b3294['id']!==_0x14619f&&await ChatUser_1[_0x157bcd(0x18b)][_0x157bcd(0x18e)]({'chatId':_0x2d57ea['id'],'userId':_0x2b3294['id']});}}return await _0x2d57ea[_0x157bcd(0x196)]({'include':[{'model':ChatUser_1['default'],'as':'users','include':[{'model':User_1[_0x157bcd(0x18b)],'as':_0x157bcd(0x189)}]},{'model':User_1[_0x157bcd(0x18b)],'as':_0x157bcd(0x19a)}]}),_0x2d57ea;}