const a383_0x43e38a=a383_0x4fe9;(function(_0x30bb37,_0x434b68){const _0x2d6a32=a383_0x4fe9,_0x53e358=_0x30bb37();while(!![]){try{const _0x421433=-parseInt(_0x2d6a32(0x1ad))/0x1*(-parseInt(_0x2d6a32(0x1a8))/0x2)+-parseInt(_0x2d6a32(0x1b1))/0x3+parseInt(_0x2d6a32(0x1aa))/0x4*(-parseInt(_0x2d6a32(0x1b2))/0x5)+-parseInt(_0x2d6a32(0x1b0))/0x6+-parseInt(_0x2d6a32(0x1a9))/0x7+parseInt(_0x2d6a32(0x1b5))/0x8+parseInt(_0x2d6a32(0x1b4))/0x9;if(_0x421433===_0x434b68)break;else _0x53e358['push'](_0x53e358['shift']());}catch(_0x4aca73){_0x53e358['push'](_0x53e358['shift']());}}}(a383_0x4a49,0x213ea));function a383_0x4a49(){const _0x5daec4=['apply','findByPk','11060fiMlIQ','144963BVrEtd','252pklpEP','default','../../models/User','6KAMIuw','defineProperty','users','1370256LGAgXM','85578cjNrfR','11675VGMChC','constructor','2641104EiybJI','1874000nZUwjF','search','isArray','(((.+)+)+)+$','__esModule','__importDefault','create','toString','../../models/Chat','user'];a383_0x4a49=function(){return _0x5daec4;};return a383_0x4a49();}function a383_0x4fe9(_0x532faf,_0x2cd319){const _0x2c5608=a383_0x4a49();return a383_0x4fe9=function(_0x321c37,_0x2ef2ab){_0x321c37=_0x321c37-0x19e;let _0x4a49a0=_0x2c5608[_0x321c37];return _0x4a49a0;},a383_0x4fe9(_0x532faf,_0x2cd319);}const a383_0x2ef2ab=(function(){let _0xc74a78=!![];return function(_0x26ae36,_0x344bcf){const _0x3ddb47=_0xc74a78?function(){const _0x19ff71=a383_0x4fe9;if(_0x344bcf){const _0x489d68=_0x344bcf[_0x19ff71(0x1a6)](_0x26ae36,arguments);return _0x344bcf=null,_0x489d68;}}:function(){};return _0xc74a78=![],_0x3ddb47;};}()),a383_0x321c37=a383_0x2ef2ab(this,function(){const _0x5a656f=a383_0x4fe9;return a383_0x321c37[_0x5a656f(0x1a3)]()['search']('(((.+)+)+)+$')[_0x5a656f(0x1a3)]()[_0x5a656f(0x1b3)](a383_0x321c37)[_0x5a656f(0x1b6)](_0x5a656f(0x19f));});a383_0x321c37();'use strict';var __importDefault=this&&this[a383_0x43e38a(0x1a1)]||function(_0xff901a){const _0x561dcd=a383_0x43e38a;return _0xff901a&&_0xff901a[_0x561dcd(0x1a0)]?_0xff901a:{'default':_0xff901a};};Object[a383_0x43e38a(0x1ae)](exports,a383_0x43e38a(0x1a0),{'value':!![]});const Chat_1=__importDefault(require(a383_0x43e38a(0x1a4))),ChatUser_1=__importDefault(require('../../models/ChatUser')),User_1=__importDefault(require(a383_0x43e38a(0x1ac)));async function UpdateService(_0x5153c4){const _0x476acf=a383_0x43e38a,{users:_0x4d0c8c}=_0x5153c4,_0x5aec36=await Chat_1[_0x476acf(0x1ab)][_0x476acf(0x1a7)](_0x5153c4['id'],{'include':[{'model':ChatUser_1[_0x476acf(0x1ab)],'as':_0x476acf(0x1af)}]}),{ownerId:_0x266e5a}=_0x5aec36;await _0x5aec36['update']({'title':_0x5153c4['title']});if(Array[_0x476acf(0x19e)](_0x4d0c8c)){await ChatUser_1['default']['destroy']({'where':{'chatId':_0x5aec36['id']}}),await ChatUser_1[_0x476acf(0x1ab)][_0x476acf(0x1a2)]({'chatId':_0x5aec36['id'],'userId':_0x266e5a});for(let _0x30e18c of _0x4d0c8c){_0x30e18c['id']!==_0x266e5a&&await ChatUser_1[_0x476acf(0x1ab)][_0x476acf(0x1a2)]({'chatId':_0x5aec36['id'],'userId':_0x30e18c['id']});}}return await _0x5aec36['reload']({'include':[{'model':ChatUser_1['default'],'as':'users','include':[{'model':User_1[_0x476acf(0x1ab)],'as':_0x476acf(0x1a5)}]},{'model':User_1[_0x476acf(0x1ab)],'as':'owner'}]}),_0x5aec36;}exports[a383_0x43e38a(0x1ab)]=UpdateService;