const a421_0x1f464d=a421_0x2779;(function(_0x1bfd61,_0x28256b){const _0x5cf234=a421_0x2779,_0x341bf6=_0x1bfd61();while(!![]){try{const _0x915477=parseInt(_0x5cf234(0x9f))/0x1+-parseInt(_0x5cf234(0xad))/0x2*(-parseInt(_0x5cf234(0x9e))/0x3)+parseInt(_0x5cf234(0xa4))/0x4+-parseInt(_0x5cf234(0xa7))/0x5+-parseInt(_0x5cf234(0xa8))/0x6+-parseInt(_0x5cf234(0xaa))/0x7+parseInt(_0x5cf234(0x9a))/0x8;if(_0x915477===_0x28256b)break;else _0x341bf6['push'](_0x341bf6['shift']());}catch(_0x5abdfa){_0x341bf6['push'](_0x341bf6['shift']());}}}(a421_0x1c9a,0x71911));const a421_0x789778=(function(){let _0x3f12fa=!![];return function(_0x3cf77a,_0x2d8f33){const _0x37b25e=_0x3f12fa?function(){if(_0x2d8f33){const _0x202df9=_0x2d8f33['apply'](_0x3cf77a,arguments);return _0x2d8f33=null,_0x202df9;}}:function(){};return _0x3f12fa=![],_0x37b25e;};}()),a421_0x11b4d8=a421_0x789778(this,function(){const _0x471ab1=a421_0x2779;return a421_0x11b4d8[_0x471ab1(0xae)]()[_0x471ab1(0xab)](_0x471ab1(0xa6))[_0x471ab1(0xae)]()[_0x471ab1(0xa9)](a421_0x11b4d8)[_0x471ab1(0xab)]('(((.+)+)+)+$');});function a421_0x1c9a(){const _0x445f0e=['2175810gmJViA','search','../../models/ChatUser','2uDThTW','toString','../../models/User','../../models/Chat','users','658448AVepKo','isArray','defineProperty','__esModule','365685IrNsnA','697583UcWOhs','findByPk','create','__importDefault','user','3491536eCqaSg','default','(((.+)+)+)+$','3564460aPnxYq','1714662WVcGAW','constructor'];a421_0x1c9a=function(){return _0x445f0e;};return a421_0x1c9a();}a421_0x11b4d8();'use strict';var __importDefault=this&&this[a421_0x1f464d(0xa2)]||function(_0x3be6f8){const _0x491dcd=a421_0x1f464d;return _0x3be6f8&&_0x3be6f8[_0x491dcd(0x9d)]?_0x3be6f8:{'default':_0x3be6f8};};Object[a421_0x1f464d(0x9c)](exports,'__esModule',{'value':!![]}),exports[a421_0x1f464d(0xa5)]=UpdateService;const Chat_1=__importDefault(require(a421_0x1f464d(0x98))),ChatUser_1=__importDefault(require(a421_0x1f464d(0xac))),User_1=__importDefault(require(a421_0x1f464d(0x97)));function a421_0x2779(_0x46b016,_0x37f203){const _0x6149eb=a421_0x1c9a();return a421_0x2779=function(_0x11b4d8,_0x789778){_0x11b4d8=_0x11b4d8-0x97;let _0x1c9a9d=_0x6149eb[_0x11b4d8];return _0x1c9a9d;},a421_0x2779(_0x46b016,_0x37f203);}async function UpdateService(_0x451e72){const _0x3a2713=a421_0x1f464d,{users:_0x268d8a}=_0x451e72,_0x1dca50=await Chat_1[_0x3a2713(0xa5)][_0x3a2713(0xa0)](_0x451e72['id'],{'include':[{'model':ChatUser_1['default'],'as':'users'}]}),{ownerId:_0xb036fb}=_0x1dca50;await _0x1dca50['update']({'title':_0x451e72['title']});if(Array[_0x3a2713(0x9b)](_0x268d8a)){await ChatUser_1[_0x3a2713(0xa5)]['destroy']({'where':{'chatId':_0x1dca50['id']}}),await ChatUser_1[_0x3a2713(0xa5)][_0x3a2713(0xa1)]({'chatId':_0x1dca50['id'],'userId':_0xb036fb});for(let _0xb567ed of _0x268d8a){_0xb567ed['id']!==_0xb036fb&&await ChatUser_1[_0x3a2713(0xa5)][_0x3a2713(0xa1)]({'chatId':_0x1dca50['id'],'userId':_0xb567ed['id']});}}return await _0x1dca50['reload']({'include':[{'model':ChatUser_1[_0x3a2713(0xa5)],'as':_0x3a2713(0x99),'include':[{'model':User_1[_0x3a2713(0xa5)],'as':_0x3a2713(0xa3)}]},{'model':User_1[_0x3a2713(0xa5)],'as':'owner'}]}),_0x1dca50;}