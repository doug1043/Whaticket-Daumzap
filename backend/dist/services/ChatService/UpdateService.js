const a421_0x3f459b=a421_0x3031;(function(_0x7a6e21,_0x30470d){const _0x26ec37=a421_0x3031,_0x30cfa3=_0x7a6e21();while(!![]){try{const _0x3c767b=parseInt(_0x26ec37(0x150))/0x1+parseInt(_0x26ec37(0x149))/0x2+-parseInt(_0x26ec37(0x143))/0x3*(parseInt(_0x26ec37(0x153))/0x4)+-parseInt(_0x26ec37(0x151))/0x5+-parseInt(_0x26ec37(0x158))/0x6+-parseInt(_0x26ec37(0x148))/0x7+parseInt(_0x26ec37(0x14b))/0x8;if(_0x3c767b===_0x30470d)break;else _0x30cfa3['push'](_0x30cfa3['shift']());}catch(_0x5e7e39){_0x30cfa3['push'](_0x30cfa3['shift']());}}}(a421_0x38a5,0xc5732));function a421_0x3031(_0x38657d,_0x54248c){const _0x2a8385=a421_0x38a5();return a421_0x3031=function(_0x13dcbc,_0x7a82d5){_0x13dcbc=_0x13dcbc-0x141;let _0x38a5e8=_0x2a8385[_0x13dcbc];return _0x38a5e8;},a421_0x3031(_0x38657d,_0x54248c);}const a421_0x7a82d5=(function(){let _0x41baa7=!![];return function(_0xe3bb35,_0x10703d){const _0xeee97=_0x41baa7?function(){if(_0x10703d){const _0x4fd135=_0x10703d['apply'](_0xe3bb35,arguments);return _0x10703d=null,_0x4fd135;}}:function(){};return _0x41baa7=![],_0xeee97;};}()),a421_0x13dcbc=a421_0x7a82d5(this,function(){const _0x187436=a421_0x3031;return a421_0x13dcbc[_0x187436(0x14a)]()[_0x187436(0x157)]('(((.+)+)+)+$')[_0x187436(0x14a)]()[_0x187436(0x14d)](a421_0x13dcbc)[_0x187436(0x157)]('(((.+)+)+)+$');});a421_0x13dcbc();function a421_0x38a5(){const _0x38a335=['search','4194624wewvRs','isArray','../../models/ChatUser','__esModule','destroy','984435AjDyfU','owner','title','default','users','11217360twoJej','245702wkOWlU','toString','31138664QxZkVQ','reload','constructor','create','../../models/Chat','1103851arHtMf','3480585qjLwmd','user','16wqvdDf','defineProperty','__importDefault','update'];a421_0x38a5=function(){return _0x38a335;};return a421_0x38a5();}'use strict';var __importDefault=this&&this[a421_0x3f459b(0x155)]||function(_0x56c703){const _0x446995=a421_0x3f459b;return _0x56c703&&_0x56c703[_0x446995(0x141)]?_0x56c703:{'default':_0x56c703};};Object[a421_0x3f459b(0x154)](exports,a421_0x3f459b(0x141),{'value':!![]}),exports[a421_0x3f459b(0x146)]=UpdateService;const Chat_1=__importDefault(require(a421_0x3f459b(0x14f))),ChatUser_1=__importDefault(require(a421_0x3f459b(0x15a))),User_1=__importDefault(require('../../models/User'));async function UpdateService(_0x3da109){const _0x2c25b0=a421_0x3f459b,{users:_0x528a43}=_0x3da109,_0x2bf1e4=await Chat_1['default']['findByPk'](_0x3da109['id'],{'include':[{'model':ChatUser_1[_0x2c25b0(0x146)],'as':_0x2c25b0(0x147)}]}),{ownerId:_0x4175c6}=_0x2bf1e4;await _0x2bf1e4[_0x2c25b0(0x156)]({'title':_0x3da109[_0x2c25b0(0x145)]});if(Array[_0x2c25b0(0x159)](_0x528a43)){await ChatUser_1[_0x2c25b0(0x146)][_0x2c25b0(0x142)]({'where':{'chatId':_0x2bf1e4['id']}}),await ChatUser_1[_0x2c25b0(0x146)][_0x2c25b0(0x14e)]({'chatId':_0x2bf1e4['id'],'userId':_0x4175c6});for(let _0x284250 of _0x528a43){_0x284250['id']!==_0x4175c6&&await ChatUser_1[_0x2c25b0(0x146)]['create']({'chatId':_0x2bf1e4['id'],'userId':_0x284250['id']});}}return await _0x2bf1e4[_0x2c25b0(0x14c)]({'include':[{'model':ChatUser_1[_0x2c25b0(0x146)],'as':_0x2c25b0(0x147),'include':[{'model':User_1['default'],'as':_0x2c25b0(0x152)}]},{'model':User_1[_0x2c25b0(0x146)],'as':_0x2c25b0(0x144)}]}),_0x2bf1e4;}