const a386_0x153abe=a386_0x497a;function a386_0x393e(){const _0x4eeb43=['create','reload','189CrGsDu','20izYhbW','3ITgpgs','../../models/Chat','__esModule','defineProperty','../../models/User','users','search','toString','default','2705712aJbqUA','11453850vEbZCn','293212HVAAOv','title','__importDefault','2889719VFUbsN','user','../../models/ChatUser','destroy','constructor','119609uESqay','13072GoKXXd','476104bYjtWU'];a386_0x393e=function(){return _0x4eeb43;};return a386_0x393e();}(function(_0x3c599d,_0x260dba){const _0x2dd2da=a386_0x497a,_0x325a11=_0x3c599d();while(!![]){try{const _0x4b279b=-parseInt(_0x2dd2da(0x189))/0x1+-parseInt(_0x2dd2da(0x18b))/0x2*(parseInt(_0x2dd2da(0x190))/0x3)+parseInt(_0x2dd2da(0x181))/0x4*(parseInt(_0x2dd2da(0x18f))/0x5)+-parseInt(_0x2dd2da(0x17f))/0x6+-parseInt(_0x2dd2da(0x184))/0x7+parseInt(_0x2dd2da(0x18a))/0x8*(parseInt(_0x2dd2da(0x18e))/0x9)+parseInt(_0x2dd2da(0x180))/0xa;if(_0x4b279b===_0x260dba)break;else _0x325a11['push'](_0x325a11['shift']());}catch(_0x118b26){_0x325a11['push'](_0x325a11['shift']());}}}(a386_0x393e,0x3d659));const a386_0x34df04=(function(){let _0x401c49=!![];return function(_0xfb6bac,_0x555fde){const _0x199b26=_0x401c49?function(){if(_0x555fde){const _0x1ae7de=_0x555fde['apply'](_0xfb6bac,arguments);return _0x555fde=null,_0x1ae7de;}}:function(){};return _0x401c49=![],_0x199b26;};}()),a386_0x163ff9=a386_0x34df04(this,function(){const _0xed7e6f=a386_0x497a;return a386_0x163ff9[_0xed7e6f(0x17d)]()[_0xed7e6f(0x17c)]('(((.+)+)+)+$')[_0xed7e6f(0x17d)]()[_0xed7e6f(0x188)](a386_0x163ff9)[_0xed7e6f(0x17c)]('(((.+)+)+)+$');});a386_0x163ff9();'use strict';var __importDefault=this&&this[a386_0x153abe(0x183)]||function(_0x243e3e){const _0x1b4062=a386_0x153abe;return _0x243e3e&&_0x243e3e[_0x1b4062(0x192)]?_0x243e3e:{'default':_0x243e3e};};Object[a386_0x153abe(0x193)](exports,a386_0x153abe(0x192),{'value':!![]});function a386_0x497a(_0x2c64ba,_0x3782ce){const _0x5307d0=a386_0x393e();return a386_0x497a=function(_0x163ff9,_0x34df04){_0x163ff9=_0x163ff9-0x17b;let _0x393e7a=_0x5307d0[_0x163ff9];return _0x393e7a;},a386_0x497a(_0x2c64ba,_0x3782ce);}const Chat_1=__importDefault(require(a386_0x153abe(0x191))),ChatUser_1=__importDefault(require(a386_0x153abe(0x186))),User_1=__importDefault(require(a386_0x153abe(0x194)));async function UpdateService(_0x55bf7d){const _0xb0f8e1=a386_0x153abe,{users:_0x128a67}=_0x55bf7d,_0x167d71=await Chat_1['default']['findByPk'](_0x55bf7d['id'],{'include':[{'model':ChatUser_1['default'],'as':'users'}]}),{ownerId:_0x23f010}=_0x167d71;await _0x167d71['update']({'title':_0x55bf7d[_0xb0f8e1(0x182)]});if(Array['isArray'](_0x128a67)){await ChatUser_1[_0xb0f8e1(0x17e)][_0xb0f8e1(0x187)]({'where':{'chatId':_0x167d71['id']}}),await ChatUser_1[_0xb0f8e1(0x17e)]['create']({'chatId':_0x167d71['id'],'userId':_0x23f010});for(let _0x532fc7 of _0x128a67){_0x532fc7['id']!==_0x23f010&&await ChatUser_1[_0xb0f8e1(0x17e)][_0xb0f8e1(0x18c)]({'chatId':_0x167d71['id'],'userId':_0x532fc7['id']});}}return await _0x167d71[_0xb0f8e1(0x18d)]({'include':[{'model':ChatUser_1[_0xb0f8e1(0x17e)],'as':_0xb0f8e1(0x17b),'include':[{'model':User_1['default'],'as':_0xb0f8e1(0x185)}]},{'model':User_1[_0xb0f8e1(0x17e)],'as':'owner'}]}),_0x167d71;}exports[a386_0x153abe(0x17e)]=UpdateService;