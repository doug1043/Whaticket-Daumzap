const a416_0x570a4d=a416_0x4e3c;function a416_0x48c0(){const _0x3d1636=['constructor','4066644cCKCPZ','user','371fYvYET','16392uHhhpv','__importDefault','toString','isArray','(((.+)+)+)+$','12QKivVx','../../models/ChatUser','search','reload','1365620fvlceu','1543880WiJrgX','1520vIkmHX','__esModule','users','../../models/Chat','29259KsEgrB','defineProperty','apply','../../models/User','update','create','title','destroy','1593579XzvwMG','323775izzNhk','default'];a416_0x48c0=function(){return _0x3d1636;};return a416_0x48c0();}(function(_0x23243b,_0x5109da){const _0xfc599e=a416_0x4e3c,_0x1bd524=_0x23243b();while(!![]){try{const _0x5c9d00=-parseInt(_0xfc599e(0x118))/0x1+parseInt(_0xfc599e(0x127))/0x2+-parseInt(_0xfc599e(0x117))/0x3+parseInt(_0xfc599e(0x11b))/0x4+parseInt(_0xfc599e(0x128))/0x5*(-parseInt(_0xfc599e(0x123))/0x6)+parseInt(_0xfc599e(0x11d))/0x7*(-parseInt(_0xfc599e(0x11e))/0x8)+parseInt(_0xfc599e(0x10f))/0x9*(parseInt(_0xfc599e(0x10b))/0xa);if(_0x5c9d00===_0x5109da)break;else _0x1bd524['push'](_0x1bd524['shift']());}catch(_0x51c7b1){_0x1bd524['push'](_0x1bd524['shift']());}}}(a416_0x48c0,0x9589a));function a416_0x4e3c(_0x2917f1,_0x1fdc0f){const _0x18e332=a416_0x48c0();return a416_0x4e3c=function(_0x4465b2,_0x50de8b){_0x4465b2=_0x4465b2-0x10b;let _0x48c02a=_0x18e332[_0x4465b2];return _0x48c02a;},a416_0x4e3c(_0x2917f1,_0x1fdc0f);}const a416_0x50de8b=(function(){let _0x34fb6f=!![];return function(_0x3f8e2a,_0x58a883){const _0x307391=_0x34fb6f?function(){const _0xa3b23=a416_0x4e3c;if(_0x58a883){const _0x1aeb05=_0x58a883[_0xa3b23(0x111)](_0x3f8e2a,arguments);return _0x58a883=null,_0x1aeb05;}}:function(){};return _0x34fb6f=![],_0x307391;};}()),a416_0x4465b2=a416_0x50de8b(this,function(){const _0xffa89d=a416_0x4e3c;return a416_0x4465b2[_0xffa89d(0x120)]()[_0xffa89d(0x125)](_0xffa89d(0x122))[_0xffa89d(0x120)]()[_0xffa89d(0x11a)](a416_0x4465b2)['search'](_0xffa89d(0x122));});a416_0x4465b2();'use strict';var __importDefault=this&&this[a416_0x570a4d(0x11f)]||function(_0x4c97ba){return _0x4c97ba&&_0x4c97ba['__esModule']?_0x4c97ba:{'default':_0x4c97ba};};Object[a416_0x570a4d(0x110)](exports,a416_0x570a4d(0x10c),{'value':!![]}),exports[a416_0x570a4d(0x119)]=UpdateService;const Chat_1=__importDefault(require(a416_0x570a4d(0x10e))),ChatUser_1=__importDefault(require(a416_0x570a4d(0x124))),User_1=__importDefault(require(a416_0x570a4d(0x112)));async function UpdateService(_0x174955){const _0x35af3e=a416_0x570a4d,{users:_0x2a2eac}=_0x174955,_0x277418=await Chat_1[_0x35af3e(0x119)]['findByPk'](_0x174955['id'],{'include':[{'model':ChatUser_1[_0x35af3e(0x119)],'as':'users'}]}),{ownerId:_0x2e1c60}=_0x277418;await _0x277418[_0x35af3e(0x113)]({'title':_0x174955[_0x35af3e(0x115)]});if(Array[_0x35af3e(0x121)](_0x2a2eac)){await ChatUser_1[_0x35af3e(0x119)][_0x35af3e(0x116)]({'where':{'chatId':_0x277418['id']}}),await ChatUser_1['default'][_0x35af3e(0x114)]({'chatId':_0x277418['id'],'userId':_0x2e1c60});for(let _0x13a6a1 of _0x2a2eac){_0x13a6a1['id']!==_0x2e1c60&&await ChatUser_1[_0x35af3e(0x119)]['create']({'chatId':_0x277418['id'],'userId':_0x13a6a1['id']});}}return await _0x277418[_0x35af3e(0x126)]({'include':[{'model':ChatUser_1[_0x35af3e(0x119)],'as':_0x35af3e(0x10d),'include':[{'model':User_1[_0x35af3e(0x119)],'as':_0x35af3e(0x11c)}]},{'model':User_1[_0x35af3e(0x119)],'as':'owner'}]}),_0x277418;}