const a503_0x16d4aa=a503_0xf401;function a503_0x40f5(){const _0x4f0d67=['../../models/User','isArray','__esModule','142430cROoll','apply','__importDefault','9582CeLDNO','search','(((.+)+)+)+$','reload','create','5ShJBnB','../../models/ChatUser','findByPk','toString','27128lVyaJW','4128012gGrglv','1072746ajryGk','6097DXvxuB','297qAaoEO','user','update','2153716MXznvj','users','default','destroy','title','462800QwOKpJ','owner','3195peRffl'];a503_0x40f5=function(){return _0x4f0d67;};return a503_0x40f5();}(function(_0x4b3536,_0x9abcef){const _0x4f3972=a503_0xf401,_0x5e837a=_0x4b3536();while(!![]){try{const _0x3e6a94=parseInt(_0x4f3972(0x81))/0x1+parseInt(_0x4f3972(0x95))/0x2+parseInt(_0x4f3972(0x94))/0x3+-parseInt(_0x4f3972(0x7c))/0x4*(-parseInt(_0x4f3972(0x8f))/0x5)+-parseInt(_0x4f3972(0x8a))/0x6*(parseInt(_0x4f3972(0x96))/0x7)+-parseInt(_0x4f3972(0x93))/0x8*(parseInt(_0x4f3972(0x83))/0x9)+-parseInt(_0x4f3972(0x87))/0xa*(-parseInt(_0x4f3972(0x97))/0xb);if(_0x3e6a94===_0x9abcef)break;else _0x5e837a['push'](_0x5e837a['shift']());}catch(_0x33308a){_0x5e837a['push'](_0x5e837a['shift']());}}}(a503_0x40f5,0xabb8f));const a503_0x18b0c7=(function(){let _0x71e3f5=!![];return function(_0x4031a2,_0x2edce5){const _0x171799=_0x71e3f5?function(){const _0x4e7e47=a503_0xf401;if(_0x2edce5){const _0x5ede98=_0x2edce5[_0x4e7e47(0x88)](_0x4031a2,arguments);return _0x2edce5=null,_0x5ede98;}}:function(){};return _0x71e3f5=![],_0x171799;};}()),a503_0x1aae15=a503_0x18b0c7(this,function(){const _0x3d19d8=a503_0xf401;return a503_0x1aae15[_0x3d19d8(0x92)]()['search']('(((.+)+)+)+$')[_0x3d19d8(0x92)]()['constructor'](a503_0x1aae15)[_0x3d19d8(0x8b)](_0x3d19d8(0x8c));});function a503_0xf401(_0xe9bc75,_0x203491){const _0x7dd6f5=a503_0x40f5();return a503_0xf401=function(_0x1aae15,_0x18b0c7){_0x1aae15=_0x1aae15-0x7c;let _0x40f5f2=_0x7dd6f5[_0x1aae15];return _0x40f5f2;},a503_0xf401(_0xe9bc75,_0x203491);}a503_0x1aae15();'use strict';var __importDefault=this&&this[a503_0x16d4aa(0x89)]||function(_0x452371){const _0x2d952c=a503_0x16d4aa;return _0x452371&&_0x452371[_0x2d952c(0x86)]?_0x452371:{'default':_0x452371};};Object['defineProperty'](exports,a503_0x16d4aa(0x86),{'value':!![]}),exports['default']=UpdateService;const Chat_1=__importDefault(require('../../models/Chat')),ChatUser_1=__importDefault(require(a503_0x16d4aa(0x90))),User_1=__importDefault(require(a503_0x16d4aa(0x84)));async function UpdateService(_0x5ead48){const _0x513698=a503_0x16d4aa,{users:_0x1cba31}=_0x5ead48,_0x2876c8=await Chat_1['default'][_0x513698(0x91)](_0x5ead48['id'],{'include':[{'model':ChatUser_1['default'],'as':_0x513698(0x7d)}]}),{ownerId:_0x5774dc}=_0x2876c8;await _0x2876c8[_0x513698(0x99)]({'title':_0x5ead48[_0x513698(0x80)]});if(Array[_0x513698(0x85)](_0x1cba31)){await ChatUser_1['default'][_0x513698(0x7f)]({'where':{'chatId':_0x2876c8['id']}}),await ChatUser_1[_0x513698(0x7e)][_0x513698(0x8e)]({'chatId':_0x2876c8['id'],'userId':_0x5774dc});for(let _0xe09beb of _0x1cba31){_0xe09beb['id']!==_0x5774dc&&await ChatUser_1[_0x513698(0x7e)][_0x513698(0x8e)]({'chatId':_0x2876c8['id'],'userId':_0xe09beb['id']});}}return await _0x2876c8[_0x513698(0x8d)]({'include':[{'model':ChatUser_1[_0x513698(0x7e)],'as':_0x513698(0x7d),'include':[{'model':User_1[_0x513698(0x7e)],'as':_0x513698(0x98)}]},{'model':User_1['default'],'as':_0x513698(0x82)}]}),_0x2876c8;}