const a418_0x5d7846=a418_0x4f0a;(function(_0x4b6005,_0x4b3924){const _0x788407=a418_0x4f0a,_0xec9ef2=_0x4b6005();while(!![]){try{const _0x52067b=parseInt(_0x788407(0xd3))/0x1+parseInt(_0x788407(0xd4))/0x2*(parseInt(_0x788407(0xd7))/0x3)+-parseInt(_0x788407(0xbb))/0x4*(-parseInt(_0x788407(0xcc))/0x5)+parseInt(_0x788407(0xd1))/0x6*(-parseInt(_0x788407(0xd2))/0x7)+-parseInt(_0x788407(0xca))/0x8*(parseInt(_0x788407(0xc8))/0x9)+-parseInt(_0x788407(0xc4))/0xa+-parseInt(_0x788407(0xc6))/0xb*(parseInt(_0x788407(0xcf))/0xc);if(_0x52067b===_0x4b3924)break;else _0xec9ef2['push'](_0xec9ef2['shift']());}catch(_0x563210){_0xec9ef2['push'](_0xec9ef2['shift']());}}}(a418_0x12f9,0xe25c0));const a418_0x155e42=(function(){let _0x1716d8=!![];return function(_0x5431f9,_0x421b80){const _0x5706e8=_0x1716d8?function(){if(_0x421b80){const _0x3d4dd1=_0x421b80['apply'](_0x5431f9,arguments);return _0x421b80=null,_0x3d4dd1;}}:function(){};return _0x1716d8=![],_0x5706e8;};}()),a418_0x1c6c9a=a418_0x155e42(this,function(){const _0x4bc3c3=a418_0x4f0a;return a418_0x1c6c9a[_0x4bc3c3(0xbc)]()[_0x4bc3c3(0xcd)](_0x4bc3c3(0xbd))[_0x4bc3c3(0xbc)]()[_0x4bc3c3(0xce)](a418_0x1c6c9a)[_0x4bc3c3(0xcd)](_0x4bc3c3(0xbd));});function a418_0x12f9(){const _0x388dbf=['owner','../../models/Chat','../../models/User','../../models/ChatUser','isArray','default','391120yDSvuE','create','77KelkHY','users','1467vwVGYP','title','41656rfGLjN','__importDefault','3495fPtqFz','search','constructor','3270552rKtTrE','reload','6clXhpc','9822057tteSVo','1732628kMpovA','2490OmrADl','user','findByPk','4035xAZPfz','update','9836akQCrc','toString','(((.+)+)+)+$'];a418_0x12f9=function(){return _0x388dbf;};return a418_0x12f9();}function a418_0x4f0a(_0x3b8fbb,_0x3a58c9){const _0x7c324a=a418_0x12f9();return a418_0x4f0a=function(_0x1c6c9a,_0x155e42){_0x1c6c9a=_0x1c6c9a-0xba;let _0x12f993=_0x7c324a[_0x1c6c9a];return _0x12f993;},a418_0x4f0a(_0x3b8fbb,_0x3a58c9);}a418_0x1c6c9a();'use strict';var __importDefault=this&&this[a418_0x5d7846(0xcb)]||function(_0x1d3f5f){return _0x1d3f5f&&_0x1d3f5f['__esModule']?_0x1d3f5f:{'default':_0x1d3f5f};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['default']=UpdateService;const Chat_1=__importDefault(require(a418_0x5d7846(0xbf))),ChatUser_1=__importDefault(require(a418_0x5d7846(0xc1))),User_1=__importDefault(require(a418_0x5d7846(0xc0)));async function UpdateService(_0x2c1c1c){const _0x5f3924=a418_0x5d7846,{users:_0x2d74f2}=_0x2c1c1c,_0xab54c3=await Chat_1['default'][_0x5f3924(0xd6)](_0x2c1c1c['id'],{'include':[{'model':ChatUser_1[_0x5f3924(0xc3)],'as':_0x5f3924(0xc7)}]}),{ownerId:_0x459246}=_0xab54c3;await _0xab54c3[_0x5f3924(0xba)]({'title':_0x2c1c1c[_0x5f3924(0xc9)]});if(Array[_0x5f3924(0xc2)](_0x2d74f2)){await ChatUser_1[_0x5f3924(0xc3)]['destroy']({'where':{'chatId':_0xab54c3['id']}}),await ChatUser_1[_0x5f3924(0xc3)]['create']({'chatId':_0xab54c3['id'],'userId':_0x459246});for(let _0x568eb2 of _0x2d74f2){_0x568eb2['id']!==_0x459246&&await ChatUser_1[_0x5f3924(0xc3)][_0x5f3924(0xc5)]({'chatId':_0xab54c3['id'],'userId':_0x568eb2['id']});}}return await _0xab54c3[_0x5f3924(0xd0)]({'include':[{'model':ChatUser_1[_0x5f3924(0xc3)],'as':_0x5f3924(0xc7),'include':[{'model':User_1[_0x5f3924(0xc3)],'as':_0x5f3924(0xd5)}]},{'model':User_1['default'],'as':_0x5f3924(0xbe)}]}),_0xab54c3;}