const a410_0x161647=a410_0x17a7;function a410_0x17a7(_0x2649ac,_0x328611){const _0x3fc6c7=a410_0x1ce4();return a410_0x17a7=function(_0x3e5295,_0x54a43d){_0x3e5295=_0x3e5295-0xca;let _0x1ce4b4=_0x3fc6c7[_0x3e5295];return _0x1ce4b4;},a410_0x17a7(_0x2649ac,_0x328611);}(function(_0x278a51,_0xb91094){const _0x3da5a0=a410_0x17a7,_0x42fab7=_0x278a51();while(!![]){try{const _0x52e339=parseInt(_0x3da5a0(0xd7))/0x1*(-parseInt(_0x3da5a0(0xd1))/0x2)+-parseInt(_0x3da5a0(0xdb))/0x3*(-parseInt(_0x3da5a0(0xcc))/0x4)+-parseInt(_0x3da5a0(0xd9))/0x5*(-parseInt(_0x3da5a0(0xdf))/0x6)+-parseInt(_0x3da5a0(0xd2))/0x7*(parseInt(_0x3da5a0(0xdc))/0x8)+parseInt(_0x3da5a0(0xde))/0x9+parseInt(_0x3da5a0(0xd0))/0xa+-parseInt(_0x3da5a0(0xd3))/0xb;if(_0x52e339===_0xb91094)break;else _0x42fab7['push'](_0x42fab7['shift']());}catch(_0x1c244f){_0x42fab7['push'](_0x42fab7['shift']());}}}(a410_0x1ce4,0x9be7d));function a410_0x1ce4(){const _0x24ee97=['isArray','__importDefault','create','355487WCrIYA','search','20jHLqKY','__esModule','74766GDruNT','128prmxBp','default','10263060WchdMJ','1403646jgAFCd','defineProperty','apply','32nmrdUw','length','constructor','reload','3070350SrxhdZ','4AKYFbY','353024jjZgjV','4686440Ohsxtz'];a410_0x1ce4=function(){return _0x24ee97;};return a410_0x1ce4();}const a410_0x54a43d=(function(){let _0x26741d=!![];return function(_0x24b945,_0x360291){const _0x4204f6=_0x26741d?function(){const _0x5b6c4c=a410_0x17a7;if(_0x360291){const _0x141c8b=_0x360291[_0x5b6c4c(0xcb)](_0x24b945,arguments);return _0x360291=null,_0x141c8b;}}:function(){};return _0x26741d=![],_0x4204f6;};}()),a410_0x3e5295=a410_0x54a43d(this,function(){const _0x39633d=a410_0x17a7;return a410_0x3e5295['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x39633d(0xce)](a410_0x3e5295)[_0x39633d(0xd8)]('(((.+)+)+)+$');});a410_0x3e5295();'use strict';var __importDefault=this&&this[a410_0x161647(0xd5)]||function(_0x23421a){const _0x2412ed=a410_0x161647;return _0x23421a&&_0x23421a[_0x2412ed(0xda)]?_0x23421a:{'default':_0x23421a};};Object[a410_0x161647(0xca)](exports,a410_0x161647(0xda),{'value':!![]});const Chat_1=__importDefault(require('../../models/Chat')),ChatUser_1=__importDefault(require('../../models/ChatUser')),User_1=__importDefault(require('../../models/User')),CreateService=async _0x15474f=>{const _0x353b43=a410_0x161647,{ownerId:_0x2eaa32,companyId:_0x281e1a,users:_0x4fa0d9,title:_0x42f537}=_0x15474f,_0x3170ae=await Chat_1[_0x353b43(0xdd)]['create']({'ownerId':_0x2eaa32,'companyId':_0x281e1a,'title':_0x42f537});if(Array[_0x353b43(0xd4)](_0x4fa0d9)&&_0x4fa0d9[_0x353b43(0xcd)]>0x0){await ChatUser_1[_0x353b43(0xdd)][_0x353b43(0xd6)]({'chatId':_0x3170ae['id'],'userId':_0x2eaa32});for(let _0x1972b0 of _0x4fa0d9){await ChatUser_1[_0x353b43(0xdd)][_0x353b43(0xd6)]({'chatId':_0x3170ae['id'],'userId':_0x1972b0['id']});}}return await _0x3170ae[_0x353b43(0xcf)]({'include':[{'model':ChatUser_1[_0x353b43(0xdd)],'as':'users','include':[{'model':User_1['default'],'as':'user'}]},{'model':User_1[_0x353b43(0xdd)],'as':'owner'}]}),_0x3170ae;};exports['default']=CreateService;